function I1(a,u){for(var c=0;c<u.length;c++){const x=u[c];if(typeof x!="string"&&!Array.isArray(x)){for(const A in x)if(A!=="default"&&!(A in a)){const _=Object.getOwnPropertyDescriptor(x,A);_&&Object.defineProperty(a,A,_.get?_:{enumerable:!0,get:()=>x[A]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const _ of A)if(_.type==="childList")for(const p of _.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&x(p)}).observe(document,{childList:!0,subtree:!0});function c(A){const _={};return A.integrity&&(_.integrity=A.integrity),A.referrerPolicy&&(_.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?_.credentials="include":A.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function x(A){if(A.ep)return;A.ep=!0;const _=c(A);fetch(A.href,_)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function L1(a){if(a.__esModule)return a;var u=a.default;if(typeof u=="function"){var c=function x(){return this instanceof x?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};c.prototype=u.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(x){var A=Object.getOwnPropertyDescriptor(a,x);Object.defineProperty(c,x,A.get?A:{enumerable:!0,get:function(){return a[x]}})}),c}var cf={exports:{}},Su={},df={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function F1(){if(Eh)return _t;Eh=1;var a=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),p=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),f=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,N={};function T(V,oe,te){this.props=V,this.context=oe,this.refs=N,this.updater=te||y}T.prototype.isReactComponent={},T.prototype.setState=function(V,oe){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,oe,"setState")},T.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=T.prototype;function E(V,oe,te){this.props=V,this.context=oe,this.refs=N,this.updater=te||y}var v=E.prototype=new D;v.constructor=E,m(v,T.prototype),v.isPureReactComponent=!0;var O=Array.isArray,z=Object.prototype.hasOwnProperty,q={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function U(V,oe,te){var Se,ye={},Ae=null,Pe=null;if(oe!=null)for(Se in oe.ref!==void 0&&(Pe=oe.ref),oe.key!==void 0&&(Ae=""+oe.key),oe)z.call(oe,Se)&&!K.hasOwnProperty(Se)&&(ye[Se]=oe[Se]);var Z=arguments.length-2;if(Z===1)ye.children=te;else if(1<Z){for(var de=Array(Z),we=0;we<Z;we++)de[we]=arguments[we+2];ye.children=de}if(V&&V.defaultProps)for(Se in Z=V.defaultProps,Z)ye[Se]===void 0&&(ye[Se]=Z[Se]);return{$$typeof:a,type:V,key:Ae,ref:Pe,props:ye,_owner:q.current}}function W(V,oe){return{$$typeof:a,type:V.type,key:oe,ref:V.ref,props:V.props,_owner:V._owner}}function $(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function Y(V){var oe={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(te){return oe[te]})}var ie=/\/+/g;function F(V,oe){return typeof V=="object"&&V!==null&&V.key!=null?Y(""+V.key):oe.toString(36)}function j(V,oe,te,Se,ye){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ae){case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case a:case u:Pe=!0}}if(Pe)return Pe=V,ye=ye(Pe),V=Se===""?"."+F(Pe,0):Se,O(ye)?(te="",V!=null&&(te=V.replace(ie,"$&/")+"/"),j(ye,oe,te,"",function(we){return we})):ye!=null&&($(ye)&&(ye=W(ye,te+(!ye.key||Pe&&Pe.key===ye.key?"":(""+ye.key).replace(ie,"$&/")+"/")+V)),oe.push(ye)),1;if(Pe=0,Se=Se===""?".":Se+":",O(V))for(var Z=0;Z<V.length;Z++){Ae=V[Z];var de=Se+F(Ae,Z);Pe+=j(Ae,oe,te,de,ye)}else if(de=C(V),typeof de=="function")for(V=de.call(V),Z=0;!(Ae=V.next()).done;)Ae=Ae.value,de=Se+F(Ae,Z++),Pe+=j(Ae,oe,te,de,ye);else if(Ae==="object")throw oe=String(V),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Pe}function B(V,oe,te){if(V==null)return V;var Se=[],ye=0;return j(V,Se,"","",function(Ae){return oe.call(te,Ae,ye++)}),Se}function Q(V){if(V._status===-1){var oe=V._result;oe=oe(),oe.then(function(te){(V._status===0||V._status===-1)&&(V._status=1,V._result=te)},function(te){(V._status===0||V._status===-1)&&(V._status=2,V._result=te)}),V._status===-1&&(V._status=0,V._result=oe)}if(V._status===1)return V._result.default;throw V._result}var X={current:null},ee={transition:null},ne={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:ee,ReactCurrentOwner:q};return _t.Children={map:B,forEach:function(V,oe,te){B(V,function(){oe.apply(this,arguments)},te)},count:function(V){var oe=0;return B(V,function(){oe++}),oe},toArray:function(V){return B(V,function(oe){return oe})||[]},only:function(V){if(!$(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},_t.Component=T,_t.Fragment=c,_t.Profiler=A,_t.PureComponent=E,_t.StrictMode=x,_t.Suspense=R,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,_t.cloneElement=function(V,oe,te){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Se=m({},V.props),ye=V.key,Ae=V.ref,Pe=V._owner;if(oe!=null){if(oe.ref!==void 0&&(Ae=oe.ref,Pe=q.current),oe.key!==void 0&&(ye=""+oe.key),V.type&&V.type.defaultProps)var Z=V.type.defaultProps;for(de in oe)z.call(oe,de)&&!K.hasOwnProperty(de)&&(Se[de]=oe[de]===void 0&&Z!==void 0?Z[de]:oe[de])}var de=arguments.length-2;if(de===1)Se.children=te;else if(1<de){Z=Array(de);for(var we=0;we<de;we++)Z[we]=arguments[we+2];Se.children=Z}return{$$typeof:a,type:V.type,key:ye,ref:Ae,props:Se,_owner:Pe}},_t.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:_,_context:V},V.Consumer=V},_t.createElement=U,_t.createFactory=function(V){var oe=U.bind(null,V);return oe.type=V,oe},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:S,render:V}},_t.isValidElement=$,_t.lazy=function(V){return{$$typeof:P,_payload:{_status:-1,_result:V},_init:Q}},_t.memo=function(V,oe){return{$$typeof:w,type:V,compare:oe===void 0?null:oe}},_t.startTransition=function(V){var oe=ee.transition;ee.transition={};try{V()}finally{ee.transition=oe}},_t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},_t.useCallback=function(V,oe){return X.current.useCallback(V,oe)},_t.useContext=function(V){return X.current.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V){return X.current.useDeferredValue(V)},_t.useEffect=function(V,oe){return X.current.useEffect(V,oe)},_t.useId=function(){return X.current.useId()},_t.useImperativeHandle=function(V,oe,te){return X.current.useImperativeHandle(V,oe,te)},_t.useInsertionEffect=function(V,oe){return X.current.useInsertionEffect(V,oe)},_t.useLayoutEffect=function(V,oe){return X.current.useLayoutEffect(V,oe)},_t.useMemo=function(V,oe){return X.current.useMemo(V,oe)},_t.useReducer=function(V,oe,te){return X.current.useReducer(V,oe,te)},_t.useRef=function(V){return X.current.useRef(V)},_t.useState=function(V){return X.current.useState(V)},_t.useSyncExternalStore=function(V,oe,te){return X.current.useSyncExternalStore(V,oe,te)},_t.useTransition=function(){return X.current.useTransition()},_t.version="18.2.0",_t}var kh;function Rd(){return kh||(kh=1,df.exports=F1()),df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function D1(){if(Ph)return Su;Ph=1;var a=Rd(),u=Symbol.for("react.element"),c=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,A=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function p(S,R,w){var P,f={},C=null,y=null;w!==void 0&&(C=""+w),R.key!==void 0&&(C=""+R.key),R.ref!==void 0&&(y=R.ref);for(P in R)x.call(R,P)&&!_.hasOwnProperty(P)&&(f[P]=R[P]);if(S&&S.defaultProps)for(P in R=S.defaultProps,R)f[P]===void 0&&(f[P]=R[P]);return{$$typeof:u,type:S,key:C,ref:y,props:f,_owner:A.current}}return Su.Fragment=c,Su.jsx=p,Su.jsxs=p,Su}var Rh;function z1(){return Rh||(Rh=1,cf.exports=D1()),cf.exports}var le=z1(),Ce=Rd();const er=Pd(Ce),U1=I1({__proto__:null,default:er},[Ce]);var wd={},ff={exports:{}},$r={},hf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function j1(){return Th||(Th=1,function(a){function u(ee,ne){var V=ee.length;ee.push(ne);e:for(;0<V;){var oe=V-1>>>1,te=ee[oe];if(0<A(te,ne))ee[oe]=ne,ee[V]=te,V=oe;else break e}}function c(ee){return ee.length===0?null:ee[0]}function x(ee){if(ee.length===0)return null;var ne=ee[0],V=ee.pop();if(V!==ne){ee[0]=V;e:for(var oe=0,te=ee.length,Se=te>>>1;oe<Se;){var ye=2*(oe+1)-1,Ae=ee[ye],Pe=ye+1,Z=ee[Pe];if(0>A(Ae,V))Pe<te&&0>A(Z,Ae)?(ee[oe]=Z,ee[Pe]=V,oe=Pe):(ee[oe]=Ae,ee[ye]=V,oe=ye);else if(Pe<te&&0>A(Z,V))ee[oe]=Z,ee[Pe]=V,oe=Pe;else break e}}return ne}function A(ee,ne){var V=ee.sortIndex-ne.sortIndex;return V!==0?V:ee.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;a.unstable_now=function(){return _.now()}}else{var p=Date,S=p.now();a.unstable_now=function(){return p.now()-S}}var R=[],w=[],P=1,f=null,C=3,y=!1,m=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var ne=c(w);ne!==null;){if(ne.callback===null)x(w);else if(ne.startTime<=ee)x(w),ne.sortIndex=ne.expirationTime,u(R,ne);else break;ne=c(w)}}function O(ee){if(N=!1,v(ee),!m)if(c(R)!==null)m=!0,Q(z);else{var ne=c(w);ne!==null&&X(O,ne.startTime-ee)}}function z(ee,ne){m=!1,N&&(N=!1,D(U),U=-1),y=!0;var V=C;try{for(v(ne),f=c(R);f!==null&&(!(f.expirationTime>ne)||ee&&!Y());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,C=f.priorityLevel;var te=oe(f.expirationTime<=ne);ne=a.unstable_now(),typeof te=="function"?f.callback=te:f===c(R)&&x(R),v(ne)}else x(R);f=c(R)}if(f!==null)var Se=!0;else{var ye=c(w);ye!==null&&X(O,ye.startTime-ne),Se=!1}return Se}finally{f=null,C=V,y=!1}}var q=!1,K=null,U=-1,W=5,$=-1;function Y(){return!(a.unstable_now()-$<W)}function ie(){if(K!==null){var ee=a.unstable_now();$=ee;var ne=!0;try{ne=K(!0,ee)}finally{ne?F():(q=!1,K=null)}}else q=!1}var F;if(typeof E=="function")F=function(){E(ie)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=ie,F=function(){B.postMessage(null)}}else F=function(){T(ie,0)};function Q(ee){K=ee,q||(q=!0,F())}function X(ee,ne){U=T(function(){ee(a.unstable_now())},ne)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ee){ee.callback=null},a.unstable_continueExecution=function(){m||y||(m=!0,Q(z))},a.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ee?Math.floor(1e3/ee):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_getFirstCallbackNode=function(){return c(R)},a.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var V=C;C=ne;try{return ee()}finally{C=V}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(ee,ne){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var V=C;C=ee;try{return ne()}finally{C=V}},a.unstable_scheduleCallback=function(ee,ne,V){var oe=a.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,ee){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,ee={id:P++,callback:ne,priorityLevel:ee,startTime:V,expirationTime:te,sortIndex:-1},V>oe?(ee.sortIndex=V,u(w,ee),c(R)===null&&ee===c(w)&&(N?(D(U),U=-1):N=!0,X(O,V-oe))):(ee.sortIndex=te,u(R,ee),m||y||(m=!0,Q(z))),ee},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(ee){var ne=C;return function(){var V=C;C=ne;try{return ee.apply(this,arguments)}finally{C=V}}}}(pf)),pf}var Nh;function zf(){return Nh||(Nh=1,hf.exports=j1()),hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function G1(){if(Ah)return $r;Ah=1;var a=Rd(),u=zf();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x=new Set,A={};function _(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(A[e]=t,e=0;e<t.length;e++)x.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},f={};function C(e){return R.call(f,e)?!0:R.call(P,e)?!1:w.test(e)?f[e]=!0:(P[e]=!0,!1)}function y(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m(e,t,i,s){if(t===null||typeof t>"u"||y(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,i,s,d,k,G){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=k,this.removeEmptyString=G}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,E);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,E);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,E);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function v(e,t,i,s){var d=T.hasOwnProperty(t)?T[t]:null;(d!==null?d.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m(t,i,d,s)&&(i=null),s||d===null?C(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,s=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var O=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,oe;function te(e){if(oe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);oe=t&&t[1]||""}return`
`+oe+e}var Se=!1;function ye(e,t){if(!e||Se)return"";Se=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ge){var s=ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(ge){s=ge}e.call(t.prototype)}else{try{throw Error()}catch(ge){s=ge}e()}}catch(ge){if(ge&&s&&typeof ge.stack=="string"){for(var d=ge.stack.split(`
`),k=s.stack.split(`
`),G=d.length-1,J=k.length-1;1<=G&&0<=J&&d[G]!==k[J];)J--;for(;1<=G&&0<=J;G--,J--)if(d[G]!==k[J]){if(G!==1||J!==1)do if(G--,J--,0>J||d[G]!==k[J]){var re=`
`+d[G].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=G&&0<=J);break}}}finally{Se=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?te(e):""}function Ae(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case q:return"Portal";case W:return"Profiler";case U:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case $:return(e._context.displayName||"Context")+".Provider";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Pe(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return Pe(e(t))}catch{}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(t);case 8:return t===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Be(e){var t=we(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,k=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(G){s=""+G,k.call(this,G)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(G){s=""+G},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=Be(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=we(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gt(e,t){var i=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ht(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=de(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dn(e,t){t=t.checked,t!=null&&v(e,"checked",t,!1)}function Dt(e,t){dn(e,t);var i=de(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bt(e,t.type,i):t.hasOwnProperty("defaultValue")&&bt(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jt(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function bt(e,t,i){(t!=="number"||He(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var wt=Array.isArray;function pt(e,t,i,s){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+de(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function bn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tn(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(c(92));if(wt(i)){if(1<i.length)throw Error(c(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:de(i)}}function fn(e,t){var i=de(t.value),s=de(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Yt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tr,Or=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bo=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){bo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function Wo(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function rr(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,d=Wo(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,d):e[i]=d}}var kl=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(e,t){if(t){if(kl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function so(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,zi=null,Ui=null;function Ko(e){if(e=ra(e)){if(typeof lo!="function")throw Error(c(280));var t=e.stateNode;t&&(t=kn(t),lo(e.stateNode,e.type,t))}}function js(e){zi?Ui?Ui.push(e):Ui=[e]:zi=e}function Yo(){if(zi){var e=zi,t=Ui;if(Ui=zi=null,Ko(e),t)for(e=0;e<t.length;e++)Ko(t[e])}}function Ra(e,t){return e(t)}function Qo(){}var Nn=!1;function Gs(e,t,i){if(Nn)return e(t,i);Nn=!0;try{return Ra(e,t,i)}finally{Nn=!1,(zi!==null||Ui!==null)&&(Qo(),Yo())}}function hr(e,t){var i=e.stateNode;if(i===null)return null;var s=kn(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var uo=!1;if(S)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){uo=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{uo=!1}function Ta(e,t,i,s,d,k,G,J,re){var ge=Array.prototype.slice.call(arguments,3);try{t.apply(i,ge)}catch(Ee){this.onError(Ee)}}var M=!1,h=null,L=!1,H=null,ue={onError:function(e){M=!0,h=e}};function _e(e,t,i,s,d,k,G,J,re){M=!1,h=null,Ta.apply(ue,arguments)}function be(e,t,i,s,d,k,G,J,re){if(_e.apply(this,arguments),M){if(M){var ge=h;M=!1,h=null}else throw Error(c(198));L||(L=!0,H=ge)}}function Fe(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ft(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ut(e){if(Fe(e)!==e)throw Error(c(188))}function We(e){var t=e.alternate;if(!t){if(t=Fe(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var d=i.return;if(d===null)break;var k=d.alternate;if(k===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===k.child){for(k=d.child;k;){if(k===i)return ut(d),e;if(k===s)return ut(d),t;k=k.sibling}throw Error(c(188))}if(i.return!==s.return)i=d,s=k;else{for(var G=!1,J=d.child;J;){if(J===i){G=!0,i=d,s=k;break}if(J===s){G=!0,s=d,i=k;break}J=J.sibling}if(!G){for(J=k.child;J;){if(J===i){G=!0,i=k,s=d;break}if(J===s){G=!0,s=k,i=d;break}J=J.sibling}if(!G)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function ct(e){return e=We(e),e!==null?$e(e):null}function $e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$e(e);if(t!==null)return t;e=e.sibling}return null}var st=u.unstable_scheduleCallback,Je=u.unstable_cancelCallback,nt=u.unstable_shouldYield,Ne=u.unstable_requestPaint,qe=u.unstable_now,Sn=u.unstable_getCurrentPriorityLevel,Rt=u.unstable_ImmediatePriority,ot=u.unstable_UserBlockingPriority,at=u.unstable_NormalPriority,ii=u.unstable_LowPriority,pr=u.unstable_IdlePriority,Zt=null,yt=null;function Ze(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Zt,e,void 0,(e.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:Wt,wn=Math.log,nn=Math.LN2;function Wt(e){return e>>>=0,e===0?32:31-(wn(e)/nn|0)|0}var Wn=64,yi=4194304;function xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function co(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,d=e.suspendedLanes,k=e.pingedLanes,G=i&268435455;if(G!==0){var J=G&~d;J!==0?s=xn(J):(k&=G,k!==0&&(s=xn(k)))}else G=i&~d,G!==0?s=xn(G):k!==0&&(s=xn(k));if(s===0)return 0;if(t!==0&&t!==s&&(t&d)===0&&(d=s&-s,k=t&-t,d>=k||d===16&&(k&4194240)!==0))return t;if((s&4)!==0&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-lt(t),d=1<<i,s|=e[i],t&=~d;return s}function Sc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,k=e.pendingLanes;0<k;){var G=31-lt(k),J=1<<G,re=d[G];re===-1?((J&i)===0||(J&s)!==0)&&(d[G]=Sc(J,t)):re<=t&&(e.expiredLanes|=J),k&=~J}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pl(){var e=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),e}function gr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lt(t),e[t]=i}function Ld(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-lt(i),k=1<<d;t[d]=0,s[d]=-1,e[d]=-1,i&=~k}}function Rl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-lt(i),d=1<<s;d&t|e[s]&t&&(e[s]|=t),i&=~d}}var Et=0;function Hs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Jo,Zo,xc,Cc,Na,Aa=!1,es=[],Mr=null,ji=null,oi=null,gt=new Map,ts=new Map,si=[],Ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":gt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function $s(e,t,i,s,d,k){return e===null||e.nativeEvent!==k?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:k,targetContainers:[d]},t!==null&&(t=ra(t),t!==null&&Zo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Cn(e,t,i,s,d){switch(t){case"focusin":return Mr=$s(Mr,e,t,i,s,d),!0;case"dragenter":return ji=$s(ji,e,t,i,s,d),!0;case"mouseover":return oi=$s(oi,e,t,i,s,d),!0;case"pointerover":var k=d.pointerId;return gt.set(k,$s(gt.get(k)||null,e,t,i,s,d)),!0;case"gotpointercapture":return k=d.pointerId,ts.set(k,$s(ts.get(k)||null,e,t,i,s,d)),!0}return!1}function Oa(e){var t=Yi(e.target);if(t!==null){var i=Fe(t);if(i!==null){if(t=i.tag,t===13){if(t=ft(i),t!==null){e.blockedOn=t,Na(e.priority,function(){xc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);qo=s,i.target.dispatchEvent(s),qo=null}else return t=ra(i),t!==null&&Zo(t),e.blockedOn=i,!1;t.shift()}return!0}function Ia(e,t,i){Ma(e)&&i.delete(t)}function Fd(){Aa=!1,Mr!==null&&Ma(Mr)&&(Mr=null),ji!==null&&Ma(ji)&&(ji=null),oi!==null&&Ma(oi)&&(oi=null),gt.forEach(Ia),ts.forEach(Ia)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Aa||(Aa=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Fd)))}function ir(e){function t(d){return Gi(d,e)}if(0<es.length){Gi(es[0],e);for(var i=1;i<es.length;i++){var s=es[i];s.blockedOn===e&&(s.blockedOn=null)}}for(Mr!==null&&Gi(Mr,e),ji!==null&&Gi(ji,e),oi!==null&&Gi(oi,e),gt.forEach(t),ts.forEach(t),i=0;i<si.length;i++)s=si[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<si.length&&(i=si[0],i.blockedOn===null);)Oa(i),i.blockedOn===null&&si.shift()}var ns=O.ReactCurrentBatchConfig,La=!0;function br(e,t,i,s){var d=Et,k=ns.transition;ns.transition=null;try{Et=1,rs(e,t,i,s)}finally{Et=d,ns.transition=k}}function _i(e,t,i,s){var d=Et,k=ns.transition;ns.transition=null;try{Et=4,rs(e,t,i,s)}finally{Et=d,ns.transition=k}}function rs(e,t,i,s){if(La){var d=Fa(e,t,i,s);if(d===null)Xa(e,t,s,is,i),kc(e,s);else if(Cn(d,e,t,i,s))s.stopPropagation();else if(kc(e,s),t&4&&-1<Ec.indexOf(e)){for(;d!==null;){var k=ra(d);if(k!==null&&Jo(k),k=Fa(e,t,i,s),k===null&&Xa(e,t,s,is,i),k===d)break;d=k}d!==null&&s.stopPropagation()}else Xa(e,t,s,null,i)}}var is=null;function Fa(e,t,i,s){if(is=null,e=ao(s),e=Yi(e),e!==null)if(t=Fe(e),t===null)e=null;else if(i=t.tag,i===13){if(e=ft(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return is=e,null}function Pc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sn()){case Rt:return 1;case ot:return 4;case at:case ii:return 16;case pr:return 536870912;default:return 16}default:return 16}}var An=null,Bi=null,Si=null;function Vs(){if(Si)return Si;var e,t=Bi,i=t.length,s,d="value"in An?An.value:An.textContent,k=d.length;for(e=0;e<i&&t[e]===d[e];e++);var G=i-e;for(s=1;s<=G&&t[i-s]===d[k-s];s++);return Si=d.slice(e,1<s?1-s:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function vr(){return!1}function hn(e){function t(i,s,d,k,G){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=k,this.target=G,this.currentTarget=null;for(var J in e)e.hasOwnProperty(J)&&(i=e[J],this[J]=i?i(k):k[J]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qn:vr,this.isPropagationStopped=vr,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=hn(or),qr=V({},or,{view:0,detail:0}),Rc=hn(qr),bs,Ws,On,Kn=V({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(bs=e.screenX-On.screenX,Ws=e.screenY-On.screenY):Ws=bs=0,On=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),zt=hn(Kn),qs=V({},Kn,{dataTransfer:0}),Kr=hn(qs),Tc=V({},qr,{relatedTarget:0}),Da=hn(Tc),Tl=V({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Nl=hn(Tl),Nc=V({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),za=hn(Nc),Ac=V({},or,{data:0}),ho=hn(Ac),Al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ua[e])?!!t[e]:!1}function po(){return zd}var ja=V({},qr,{key:function(e){if(e.key){var t=Al[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oc=hn(ja),Mc=V({},Kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=hn(Mc),Ic=V({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Ga=hn(Ic),Ba=V({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),os=hn(Ba),Ol=V({},Kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ml=hn(Ol),Lc=[9,13,27,32],Ks=S&&"CompositionEvent"in window,vo=null;S&&"documentMode"in document&&(vo=document.documentMode);var ss=S&&"TextEvent"in window&&!vo,mr=S&&(!Ks||vo&&8<vo&&11>=vo),Hi=" ",Ha=!1;function Il(e,t){switch(e){case"keyup":return Lc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Ll(e,t){switch(e){case"compositionend":return Yr(t);case"keypress":return t.which!==32?null:(Ha=!0,Hi);case"textInput":return e=t.data,e===Hi&&Ha?null:e;default:return null}}function Fc(e,t){if(yr)return e==="compositionend"||!Ks&&Il(e,t)?(e=Vs(),Si=Bi=An=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mr&&t.locale!=="ko"?null:t.data;default:return null}}var wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wi[e.type]:t==="textarea"}function Ys(e,t,i,s){js(s),t=Ja(t,"onChange"),0<t.length&&(i=new Wr("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var as=null,$i=null;function Dc(e){bl(e,0)}function Vi(e){var t=gn(e);if(Ye(t))return e}function Ir(e,t){if(e==="change")return t}var ls=!1;if(S){var bi;if(S){var Lr="oninput"in document;if(!Lr){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Lr=typeof $a.oninput=="function"}bi=Lr}else bi=!1;ls=bi&&(!document.documentMode||9<document.documentMode)}function mo(){as&&(as.detachEvent("onpropertychange",Fl),$i=as=null)}function Fl(e){if(e.propertyName==="value"&&Vi($i)){var t=[];Ys(t,$i,e,ao(e)),Gs(Dc,t)}}function Dl(e,t,i){e==="focusin"?(mo(),as=t,$i=i,as.attachEvent("onpropertychange",Fl)):e==="focusout"&&mo()}function qt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi($i)}function Va(e,t){if(e==="click")return Vi(t)}function zl(e,t){if(e==="input"||e==="change")return Vi(t)}function Ul(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:Ul;function yo(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!R.call(t,d)||!sr(e[d],t[d]))return!1}return!0}function Wi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bt(e,t){var i=Wi(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wi(i)}}function rn(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rn(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pn(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=He(e.document)}return t}function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qs(e){var t=pn(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&rn(i.ownerDocument.documentElement,i)){if(s!==null&&us(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,k=Math.min(s.start,d);s=s.end===void 0?k:Math.min(s.end,d),!e.extend&&k>s&&(d=s,s=k,k=d),d=Bt(i,k);var G=Bt(i,s);d&&G&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==G.node||e.focusOffset!==G.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),k>s?(e.addRange(t),e.extend(G.node,G.offset)):(t.setEnd(G.node,G.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xs=S&&"documentMode"in document&&11>=document.documentMode,cs=null,En=null,_o=null,Js=!1;function ba(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Js||cs==null||cs!==He(s)||(s=cs,"selectionStart"in s&&us(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_o&&yo(_o,s)||(_o=s,s=Ja(En,"onSelect"),0<s.length&&(t=new Wr("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=cs)))}function _r(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Mn={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},So={},Wa={};S&&(Wa=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function ds(e){if(So[e])return So[e];if(!Mn[e])return e;var t=Mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Wa)return So[e]=t[i];return e}var jl=ds("animationend"),Gl=ds("animationiteration"),Bl=ds("animationstart"),Hl=ds("transitionend"),$l=new Map,Vl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){$l.set(e,t),_(t,[e])}for(var qa=0;qa<Vl.length;qa++){var wo=Vl[qa],zc=wo.toLowerCase(),Ka=wo[0].toUpperCase()+wo.slice(1);Ci(zc,"on"+Ka)}Ci(jl,"onAnimationEnd"),Ci(Gl,"onAnimationIteration"),Ci(Bl,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Hl,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_("onBeforeInput",["compositionend","keypress","textInput","paste"]),_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uc=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Ya(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,be(s,t,void 0,e),e.currentTarget=null}function bl(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var k=void 0;if(t)for(var G=s.length-1;0<=G;G--){var J=s[G],re=J.instance,ge=J.currentTarget;if(J=J.listener,re!==k&&d.isPropagationStopped())break e;Ya(d,J,ge),k=re}else for(G=0;G<s.length;G++){if(J=s[G],re=J.instance,ge=J.currentTarget,J=J.listener,re!==k&&d.isPropagationStopped())break e;Ya(d,J,ge),k=re}}}if(L)throw e=H,L=!1,H=null,e}function It(e,t){var i=t[el];i===void 0&&(i=t[el]=new Set);var s=e+"__bubble";i.has(s)||(Wl(t,e,2,!1),i.add(s))}function Qa(e,t,i){var s=0;t&&(s|=4),Wl(i,e,s,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[Zs]){e[Zs]=!0,x.forEach(function(i){i!=="selectionchange"&&(Uc.has(i)||Qa(i,!1,e),Qa(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Qa("selectionchange",!1,t))}}function Wl(e,t,i,s){switch(Pc(t)){case 1:var d=br;break;case 4:d=_i;break;default:d=rs}i=d.bind(null,t,i,e),d=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function Xa(e,t,i,s,d){var k=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var G=s.tag;if(G===3||G===4){var J=s.stateNode.containerInfo;if(J===d||J.nodeType===8&&J.parentNode===d)break;if(G===4)for(G=s.return;G!==null;){var re=G.tag;if((re===3||re===4)&&(re=G.stateNode.containerInfo,re===d||re.nodeType===8&&re.parentNode===d))return;G=G.return}for(;J!==null;){if(G=Yi(J),G===null)return;if(re=G.tag,re===5||re===6){s=k=G;continue e}J=J.parentNode}}s=s.return}Gs(function(){var ge=k,Ee=ao(i),ke=[];e:{var xe=$l.get(e);if(xe!==void 0){var De=Wr,je=e;switch(e){case"keypress":if(fo(i)===0)break e;case"keydown":case"keyup":De=Oc;break;case"focusin":je="focus",De=Da;break;case"focusout":je="blur",De=Da;break;case"beforeblur":case"afterblur":De=Da;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Ga;break;case jl:case Gl:case Bl:De=Nl;break;case Hl:De=os;break;case"scroll":De=Rc;break;case"wheel":De=Ml;break;case"copy":case"cut":case"paste":De=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=go}var Ge=(t&4)!==0,mn=!Ge&&e==="scroll",fe=Ge?xe!==null?xe+"Capture":null:xe;Ge=[];for(var ae=ge,he;ae!==null;){he=ae;var Te=he.stateNode;if(he.tag===5&&Te!==null&&(he=Te,fe!==null&&(Te=hr(ae,fe),Te!=null&&Ge.push(fs(ae,Te,he)))),mn)break;ae=ae.return}0<Ge.length&&(xe=new De(xe,je,null,i,Ee),ke.push({event:xe,listeners:Ge}))}}if((t&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",De=e==="mouseout"||e==="pointerout",xe&&i!==qo&&(je=i.relatedTarget||i.fromElement)&&(Yi(je)||je[li]))break e;if((De||xe)&&(xe=Ee.window===Ee?Ee:(xe=Ee.ownerDocument)?xe.defaultView||xe.parentWindow:window,De?(je=i.relatedTarget||i.toElement,De=ge,je=je?Yi(je):null,je!==null&&(mn=Fe(je),je!==mn||je.tag!==5&&je.tag!==6)&&(je=null)):(De=null,je=ge),De!==je)){if(Ge=zt,Te="onMouseLeave",fe="onMouseEnter",ae="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=go,Te="onPointerLeave",fe="onPointerEnter",ae="pointer"),mn=De==null?xe:gn(De),he=je==null?xe:gn(je),xe=new Ge(Te,ae+"leave",De,i,Ee),xe.target=mn,xe.relatedTarget=he,Te=null,Yi(Ee)===ge&&(Ge=new Ge(fe,ae+"enter",je,i,Ee),Ge.target=he,Ge.relatedTarget=mn,Te=Ge),mn=Te,De&&je)t:{for(Ge=De,fe=je,ae=0,he=Ge;he;he=Co(he))ae++;for(he=0,Te=fe;Te;Te=Co(Te))he++;for(;0<ae-he;)Ge=Co(Ge),ae--;for(;0<he-ae;)fe=Co(fe),he--;for(;ae--;){if(Ge===fe||fe!==null&&Ge===fe.alternate)break t;Ge=Co(Ge),fe=Co(fe)}Ge=null}else Ge=null;De!==null&&jc(ke,xe,De,Ge,!1),je!==null&&mn!==null&&jc(ke,mn,je,Ge,!0)}}e:{if(xe=ge?gn(ge):window,De=xe.nodeName&&xe.nodeName.toLowerCase(),De==="select"||De==="input"&&xe.type==="file")var Ve=Ir;else if(xi(xe))if(ls)Ve=zl;else{Ve=qt;var Qe=Dl}else(De=xe.nodeName)&&De.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Ve=Va);if(Ve&&(Ve=Ve(e,ge))){Ys(ke,Ve,i,Ee);break e}Qe&&Qe(e,xe,ge),e==="focusout"&&(Qe=xe._wrapperState)&&Qe.controlled&&xe.type==="number"&&bt(xe,"number",xe.value)}switch(Qe=ge?gn(ge):window,e){case"focusin":(xi(Qe)||Qe.contentEditable==="true")&&(cs=Qe,En=ge,_o=null);break;case"focusout":_o=En=cs=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,ba(ke,i,Ee);break;case"selectionchange":if(Xs)break;case"keydown":case"keyup":ba(ke,i,Ee)}var Xe;if(Ks)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else yr?Il(e,i)&&(et="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(et="onCompositionStart");et&&(mr&&i.locale!=="ko"&&(yr||et!=="onCompositionStart"?et==="onCompositionEnd"&&yr&&(Xe=Vs()):(An=Ee,Bi="value"in An?An.value:An.textContent,yr=!0)),Qe=Ja(ge,et),0<Qe.length&&(et=new ho(et,e,null,i,Ee),ke.push({event:et,listeners:Qe}),Xe?et.data=Xe:(Xe=Yr(i),Xe!==null&&(et.data=Xe)))),(Xe=ss?Ll(e,i):Fc(e,i))&&(ge=Ja(ge,"onBeforeInput"),0<ge.length&&(Ee=new ho("onBeforeInput","beforeinput",null,i,Ee),ke.push({event:Ee,listeners:ge}),Ee.data=Xe))}bl(ke,t)})}function fs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ja(e,t){for(var i=t+"Capture",s=[];e!==null;){var d=e,k=d.stateNode;d.tag===5&&k!==null&&(d=k,k=hr(e,i),k!=null&&s.unshift(fs(e,k,d)),k=hr(e,t),k!=null&&s.push(fs(e,k,d))),e=e.return}return s}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jc(e,t,i,s,d){for(var k=t._reactName,G=[];i!==null&&i!==s;){var J=i,re=J.alternate,ge=J.stateNode;if(re!==null&&re===s)break;J.tag===5&&ge!==null&&(J=ge,d?(re=hr(i,k),re!=null&&G.unshift(fs(i,re,J))):d||(re=hr(i,k),re!=null&&G.push(fs(i,re,J)))),i=i.return}G.length!==0&&e.push({event:t,listeners:G})}var Ud=/\r\n?/g,Gc=/\u0000|\uFFFD/g;function ql(e){return(typeof e=="string"?e:""+e).replace(Ud,`
`).replace(Gc,"")}function ea(e,t,i){if(t=ql(t),ql(e)!==t&&i)throw Error(c(425))}function Eo(){}var Kl=null,Yl=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sr=typeof setTimeout=="function"?setTimeout:void 0,Xl=typeof clearTimeout=="function"?clearTimeout:void 0,ta=typeof Promise=="function"?Promise:void 0,Bc=typeof queueMicrotask=="function"?queueMicrotask:typeof ta<"u"?function(e){return ta.resolve(null).then(e).catch(Hc)}:Sr;function Hc(e){setTimeout(function(){throw e})}function Za(e,t){var i=t,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(s===0){e.removeChild(d),ir(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=d}while(i);ir(t)}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ko(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ki,na="__reactProps$"+Ki,li="__reactContainer$"+Ki,el="__reactEvents$"+Ki,$c="__reactListeners$"+Ki,Vc="__reactHandles$"+Ki;function Yi(e){var t=e[Fr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[li]||i[Fr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ko(e);e!==null;){if(i=e[Fr])return i;e=ko(e)}return t}e=i,i=e.parentNode}return null}function ra(e){return e=e[Fr]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function kn(e){return e[na]||null}var tl=[],Po=-1;function Ei(e){return{current:e}}function Lt(e){0>Po||(e.current=tl[Po],tl[Po]=null,Po--)}function At(e,t){Po++,tl[Po]=e.current,e.current=t}var ui={},In=Ei(ui),Un=Ei(!1),Qi=ui;function Ro(e,t){var i=e.type.contextTypes;if(!i)return ui;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var d={},k;for(k in i)d[k]=t[k];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function jn(e){return e=e.childContextTypes,e!=null}function hs(){Lt(Un),Lt(In)}function Jl(e,t,i){if(In.current!==ui)throw Error(c(168));At(In,t),At(Un,i)}function nl(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var d in s)if(!(d in t))throw Error(c(108,Z(e)||"Unknown",d));return V({},i,s)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Qi=In.current,At(In,e),At(Un,Un.current),!0}function bc(e,t,i){var s=e.stateNode;if(!s)throw Error(c(169));i?(e=nl(e,t,Qi),s.__reactInternalMemoizedMergedChildContext=e,Lt(Un),Lt(In),At(In,e)):Lt(Un),At(Un,i)}var ci=null,ps=!1,rl=!1;function ia(e){ci===null?ci=[e]:ci.push(e)}function ki(e){ps=!0,ia(e)}function Xi(){if(!rl&&ci!==null){rl=!0;var e=0,t=Et;try{var i=ci;for(Et=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}ci=null,ps=!1}catch(d){throw ci!==null&&(ci=ci.slice(e+1)),st(Rt,Xi),d}finally{Et=t,rl=!1}}return null}var Yn=[],No=0,Ji=null,Zi=0,Qn=[],Xn=0,eo=null,wr=1,Ht="";function Ao(e,t){Yn[No++]=Zi,Yn[No++]=Ji,Ji=e,Zi=t}function Wc(e,t,i){Qn[Xn++]=wr,Qn[Xn++]=Ht,Qn[Xn++]=eo,eo=e;var s=wr;e=Ht;var d=32-lt(s)-1;s&=~(1<<d),i+=1;var k=32-lt(t)+d;if(30<k){var G=d-d%5;k=(s&(1<<G)-1).toString(32),s>>=G,d-=G,wr=1<<32-lt(t)+d|i<<d|s,Ht=k+e}else wr=1<<k|i<<d|s,Ht=e}function gs(e){e.return!==null&&(Ao(e,1),Wc(e,1,0))}function Pn(e){for(;e===Ji;)Ji=Yn[--No],Yn[No]=null,Zi=Yn[--No],Yn[No]=null;for(;e===eo;)eo=Qn[--Xn],Qn[Xn]=null,Ht=Qn[--Xn],Qn[Xn]=null,wr=Qn[--Xn],Qn[Xn]=null}var xr=null,Oe=null,Tt=!1,Cr=null;function Zl(e,t){var i=vi(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function qc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,Oe=ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=eo!==null?{id:wr,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=vi(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,xr=e,Oe=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vs(e){if(Tt){var t=Oe;if(t){var i=t;if(!qc(e,t)){if(Oo(e))throw Error(c(418));t=ai(i.nextSibling);var s=xr;t&&qc(e,t)?Zl(s,i):(e.flags=e.flags&-4097|2,Tt=!1,xr=e)}}else{if(Oo(e))throw Error(c(418));e.flags=e.flags&-4097|2,Tt=!1,xr=e}}}function il(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function oa(e){if(e!==xr)return!1;if(!Tt)return il(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=Oe)){if(Oo(e))throw eu(),Error(c(418));for(;t;)Zl(e,t),t=ai(t.nextSibling)}if(il(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Oe=ai(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=xr?ai(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Oe;e;)e=ai(e.nextSibling)}function Mo(){Oe=xr=null,Tt=!1}function sa(e){Cr===null?Cr=[e]:Cr.push(e)}var tu=O.ReactCurrentBatchConfig;function Ot(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var ar=Ei(null),Er=null,to=null,ol=null;function kr(){ol=to=Er=null}function sl(e){var t=ar.current;Lt(ar),e._currentValue=t}function Dr(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function ms(e,t){Er=e,ol=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(b=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(Er===null)throw Error(c(308));to=e,Er.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var no=null;function al(e){no===null?no=[e]:no.push(e)}function nu(e,t,i,s){var d=t.interleaved;return d===null?(i.next=i,al(t)):(i.next=d.next,d.next=i),t.interleaved=i,zr(e,s)}function zr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Qr=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(kt&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,zr(e,i)}return d=s.interleaved,d===null?(t.next=t,al(s)):(t.next=d.next,d.next=t),s.interleaved=t,zr(e,i)}function _s(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Rl(e,i)}}function ll(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,k=null;if(i=i.firstBaseUpdate,i!==null){do{var G={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};k===null?d=k=G:k=k.next=G,i=i.next}while(i!==null);k===null?d=k=t:k=k.next=t}else d=k=t;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:k,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ss(e,t,i,s){var d=e.updateQueue;Qr=!1;var k=d.firstBaseUpdate,G=d.lastBaseUpdate,J=d.shared.pending;if(J!==null){d.shared.pending=null;var re=J,ge=re.next;re.next=null,G===null?k=ge:G.next=ge,G=re;var Ee=e.alternate;Ee!==null&&(Ee=Ee.updateQueue,J=Ee.lastBaseUpdate,J!==G&&(J===null?Ee.firstBaseUpdate=ge:J.next=ge,Ee.lastBaseUpdate=re))}if(k!==null){var ke=d.baseState;G=0,Ee=ge=re=null,J=k;do{var xe=J.lane,De=J.eventTime;if((s&xe)===xe){Ee!==null&&(Ee=Ee.next={eventTime:De,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var je=e,Ge=J;switch(xe=t,De=i,Ge.tag){case 1:if(je=Ge.payload,typeof je=="function"){ke=je.call(De,ke,xe);break e}ke=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ge.payload,xe=typeof je=="function"?je.call(De,ke,xe):je,xe==null)break e;ke=V({},ke,xe);break e;case 2:Qr=!0}}J.callback!==null&&J.lane!==0&&(e.flags|=64,xe=d.effects,xe===null?d.effects=[J]:xe.push(J))}else De={eventTime:De,lane:xe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ee===null?(ge=Ee=De,re=ke):Ee=Ee.next=De,G|=xe;if(J=J.next,J===null){if(J=d.shared.pending,J===null)break;xe=J,J=xe.next,xe.next=null,d.lastBaseUpdate=xe,d.shared.pending=null}}while(!0);if(Ee===null&&(re=ke),d.baseState=re,d.firstBaseUpdate=ge,d.lastBaseUpdate=Ee,t=d.shared.interleaved,t!==null){d=t;do G|=d.lane,d=d.next;while(d!==t)}else k===null&&(d.shared.lanes=0);ga|=G,e.lanes=G,e.memoizedState=ke}}function ru(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],d=s.callback;if(d!==null){if(s.callback=null,s=i,typeof d!="function")throw Error(c(191,d));d.call(s)}}}var ul=new a.Component().refs;function iu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:V({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Io={isMounted:function(e){return(e=e._reactInternals)?Fe(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ar(),d=As(e),k=Ur(s,d);k.payload=t,i!=null&&(k.callback=i),t=jr(e,k,d),t!==null&&(Mi(t,e,d,s),_s(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ar(),d=As(e),k=Ur(s,d);k.tag=1,k.payload=t,i!=null&&(k.callback=i),t=jr(e,k,d),t!==null&&(Mi(t,e,d,s),_s(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ar(),s=As(e),d=Ur(i,s);d.tag=2,t!=null&&(d.callback=t),t=jr(e,d,s),t!==null&&(Mi(t,e,s,i),_s(t,e,s))}};function cl(e,t,i,s,d,k,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,k,G):t.prototype&&t.prototype.isPureReactComponent?!yo(i,s)||!yo(d,k):!0}function Qt(e,t,i){var s=!1,d=ui,k=t.contextType;return typeof k=="object"&&k!==null?k=Pr(k):(d=jn(t)?Qi:In.current,s=t.contextTypes,k=(s=s!=null)?Ro(e,d):ui),t=new t(i,k),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=k),t}function dt(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function on(e,t,i,s){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs=ul,ys(e);var k=t.contextType;typeof k=="object"&&k!==null?d.context=Pr(k):(k=jn(t)?Qi:In.current,d.context=Ro(e,k)),d.state=e.memoizedState,k=t.getDerivedStateFromProps,typeof k=="function"&&(iu(e,t,k,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Io.enqueueReplaceState(d,d.state,null),Ss(e,i,d,s),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function $t(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(c(309));var s=i.stateNode}if(!s)throw Error(c(147,e));var d=s,k=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===k?t.ref:(t=function(G){var J=d.refs;J===ul&&(J=d.refs={}),G===null?delete J[k]:J[k]=G},t._stringRef=k,t)}if(typeof e!="string")throw Error(c(284));if(!i._owner)throw Error(c(290,e))}return e}function sn(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lr(e){var t=e._init;return t(e._payload)}function Lo(e){function t(fe,ae){if(e){var he=fe.deletions;he===null?(fe.deletions=[ae],fe.flags|=16):he.push(ae)}}function i(fe,ae){if(!e)return null;for(;ae!==null;)t(fe,ae),ae=ae.sibling;return null}function s(fe,ae){for(fe=new Map;ae!==null;)ae.key!==null?fe.set(ae.key,ae):fe.set(ae.index,ae),ae=ae.sibling;return fe}function d(fe,ae){return fe=Ms(fe,ae),fe.index=0,fe.sibling=null,fe}function k(fe,ae,he){return fe.index=he,e?(he=fe.alternate,he!==null?(he=he.index,he<ae?(fe.flags|=2,ae):he):(fe.flags|=2,ae)):(fe.flags|=1048576,ae)}function G(fe){return e&&fe.alternate===null&&(fe.flags|=2),fe}function J(fe,ae,he,Te){return ae===null||ae.tag!==6?(ae=rf(he,fe.mode,Te),ae.return=fe,ae):(ae=d(ae,he),ae.return=fe,ae)}function re(fe,ae,he,Te){var Ve=he.type;return Ve===K?Ee(fe,ae,he.props.children,Te,he.key):ae!==null&&(ae.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&lr(Ve)===ae.type)?(Te=d(ae,he.props),Te.ref=$t(fe,ae,he),Te.return=fe,Te):(Te=hd(he.type,he.key,he.props,null,fe.mode,Te),Te.ref=$t(fe,ae,he),Te.return=fe,Te)}function ge(fe,ae,he,Te){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==he.containerInfo||ae.stateNode.implementation!==he.implementation?(ae=of(he,fe.mode,Te),ae.return=fe,ae):(ae=d(ae,he.children||[]),ae.return=fe,ae)}function Ee(fe,ae,he,Te,Ve){return ae===null||ae.tag!==7?(ae=_a(he,fe.mode,Te,Ve),ae.return=fe,ae):(ae=d(ae,he),ae.return=fe,ae)}function ke(fe,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=rf(""+ae,fe.mode,he),ae.return=fe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case z:return he=hd(ae.type,ae.key,ae.props,null,fe.mode,he),he.ref=$t(fe,null,ae),he.return=fe,he;case q:return ae=of(ae,fe.mode,he),ae.return=fe,ae;case Q:var Te=ae._init;return ke(fe,Te(ae._payload),he)}if(wt(ae)||ne(ae))return ae=_a(ae,fe.mode,he,null),ae.return=fe,ae;sn(fe,ae)}return null}function xe(fe,ae,he,Te){var Ve=ae!==null?ae.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Ve!==null?null:J(fe,ae,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case z:return he.key===Ve?re(fe,ae,he,Te):null;case q:return he.key===Ve?ge(fe,ae,he,Te):null;case Q:return Ve=he._init,xe(fe,ae,Ve(he._payload),Te)}if(wt(he)||ne(he))return Ve!==null?null:Ee(fe,ae,he,Te,null);sn(fe,he)}return null}function De(fe,ae,he,Te,Ve){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return fe=fe.get(he)||null,J(ae,fe,""+Te,Ve);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case z:return fe=fe.get(Te.key===null?he:Te.key)||null,re(ae,fe,Te,Ve);case q:return fe=fe.get(Te.key===null?he:Te.key)||null,ge(ae,fe,Te,Ve);case Q:var Qe=Te._init;return De(fe,ae,he,Qe(Te._payload),Ve)}if(wt(Te)||ne(Te))return fe=fe.get(he)||null,Ee(ae,fe,Te,Ve,null);sn(ae,Te)}return null}function je(fe,ae,he,Te){for(var Ve=null,Qe=null,Xe=ae,et=ae=0,$n=null;Xe!==null&&et<he.length;et++){Xe.index>et?($n=Xe,Xe=null):$n=Xe.sibling;var Pt=xe(fe,Xe,he[et],Te);if(Pt===null){Xe===null&&(Xe=$n);break}e&&Xe&&Pt.alternate===null&&t(fe,Xe),ae=k(Pt,ae,et),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt,Xe=$n}if(et===he.length)return i(fe,Xe),Tt&&Ao(fe,et),Ve;if(Xe===null){for(;et<he.length;et++)Xe=ke(fe,he[et],Te),Xe!==null&&(ae=k(Xe,ae,et),Qe===null?Ve=Xe:Qe.sibling=Xe,Qe=Xe);return Tt&&Ao(fe,et),Ve}for(Xe=s(fe,Xe);et<he.length;et++)$n=De(Xe,fe,et,he[et],Te),$n!==null&&(e&&$n.alternate!==null&&Xe.delete($n.key===null?et:$n.key),ae=k($n,ae,et),Qe===null?Ve=$n:Qe.sibling=$n,Qe=$n);return e&&Xe.forEach(function(Is){return t(fe,Is)}),Tt&&Ao(fe,et),Ve}function Ge(fe,ae,he,Te){var Ve=ne(he);if(typeof Ve!="function")throw Error(c(150));if(he=Ve.call(he),he==null)throw Error(c(151));for(var Qe=Ve=null,Xe=ae,et=ae=0,$n=null,Pt=he.next();Xe!==null&&!Pt.done;et++,Pt=he.next()){Xe.index>et?($n=Xe,Xe=null):$n=Xe.sibling;var Is=xe(fe,Xe,Pt.value,Te);if(Is===null){Xe===null&&(Xe=$n);break}e&&Xe&&Is.alternate===null&&t(fe,Xe),ae=k(Is,ae,et),Qe===null?Ve=Is:Qe.sibling=Is,Qe=Is,Xe=$n}if(Pt.done)return i(fe,Xe),Tt&&Ao(fe,et),Ve;if(Xe===null){for(;!Pt.done;et++,Pt=he.next())Pt=ke(fe,Pt.value,Te),Pt!==null&&(ae=k(Pt,ae,et),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt);return Tt&&Ao(fe,et),Ve}for(Xe=s(fe,Xe);!Pt.done;et++,Pt=he.next())Pt=De(Xe,fe,et,Pt.value,Te),Pt!==null&&(e&&Pt.alternate!==null&&Xe.delete(Pt.key===null?et:Pt.key),ae=k(Pt,ae,et),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt);return e&&Xe.forEach(function(M1){return t(fe,M1)}),Tt&&Ao(fe,et),Ve}function mn(fe,ae,he,Te){if(typeof he=="object"&&he!==null&&he.type===K&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case z:e:{for(var Ve=he.key,Qe=ae;Qe!==null;){if(Qe.key===Ve){if(Ve=he.type,Ve===K){if(Qe.tag===7){i(fe,Qe.sibling),ae=d(Qe,he.props.children),ae.return=fe,fe=ae;break e}}else if(Qe.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&lr(Ve)===Qe.type){i(fe,Qe.sibling),ae=d(Qe,he.props),ae.ref=$t(fe,Qe,he),ae.return=fe,fe=ae;break e}i(fe,Qe);break}else t(fe,Qe);Qe=Qe.sibling}he.type===K?(ae=_a(he.props.children,fe.mode,Te,he.key),ae.return=fe,fe=ae):(Te=hd(he.type,he.key,he.props,null,fe.mode,Te),Te.ref=$t(fe,ae,he),Te.return=fe,fe=Te)}return G(fe);case q:e:{for(Qe=he.key;ae!==null;){if(ae.key===Qe)if(ae.tag===4&&ae.stateNode.containerInfo===he.containerInfo&&ae.stateNode.implementation===he.implementation){i(fe,ae.sibling),ae=d(ae,he.children||[]),ae.return=fe,fe=ae;break e}else{i(fe,ae);break}else t(fe,ae);ae=ae.sibling}ae=of(he,fe.mode,Te),ae.return=fe,fe=ae}return G(fe);case Q:return Qe=he._init,mn(fe,ae,Qe(he._payload),Te)}if(wt(he))return je(fe,ae,he,Te);if(ne(he))return Ge(fe,ae,he,Te);sn(fe,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ae!==null&&ae.tag===6?(i(fe,ae.sibling),ae=d(ae,he),ae.return=fe,fe=ae):(i(fe,ae),ae=rf(he,fe.mode,Te),ae.return=fe,fe=ae),G(fe)):i(fe,ae)}return mn}var Vt=Lo(!0),ws=Lo(!1),Xr={},Rr=Ei(Xr),Fo=Ei(Xr),Pi=Ei(Xr);function an(e){if(e===Xr)throw Error(c(174));return e}function la(e,t){switch(At(Pi,t),At(Fo,e),At(Rr,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fr(t,e)}Lt(Rr),At(Rr,t)}function ro(){Lt(Rr),Lt(Fo),Lt(Pi)}function di(e){an(Pi.current);var t=an(Rr.current),i=fr(t,e.type);t!==i&&(At(Fo,e),At(Rr,i))}function io(e){Fo.current===e&&(Lt(Rr),Lt(Fo))}var Ft=Ei(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fi=[];function Cs(){for(var e=0;e<fi.length;e++)fi[e]._workInProgressVersionPrimary=null;fi.length=0}var Jr=O.ReactCurrentDispatcher,Es=O.ReactCurrentBatchConfig,Zr=0,Ut=null,Xt=null,en=null,vn=!1,Gr=!1,Gn=0,ur=0;function Ln(){throw Error(c(321))}function ua(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sr(e[i],t[i]))return!1;return!0}function ca(e,t,i,s,d,k){if(Zr=k,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?ed:td,e=i(s,d),Gr){k=0;do{if(Gr=!1,Gn=0,25<=k)throw Error(c(301));k+=1,en=Xt=null,t.updateQueue=null,Jr.current=nd,e=i(s,d)}while(Gr)}if(Jr.current=ml,t=Xt!==null&&Xt.next!==null,Zr=0,en=Xt=Ut=null,vn=!1,t)throw Error(c(300));return e}function ou(){var e=Gn!==0;return Gn=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ut.memoizedState=en=e:en=en.next=e,en}function Tr(){if(Xt===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=en===null?Ut.memoizedState:en.next;if(t!==null)en=t,Xt=e;else{if(e===null)throw Error(c(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},en===null?Ut.memoizedState=en=e:en=en.next=e}return en}function ks(e,t){return typeof t=="function"?t(e):t}function da(e){var t=Tr(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=Xt,d=s.baseQueue,k=i.pending;if(k!==null){if(d!==null){var G=d.next;d.next=k.next,k.next=G}s.baseQueue=d=k,i.pending=null}if(d!==null){k=d.next,s=s.baseState;var J=G=null,re=null,ge=k;do{var Ee=ge.lane;if((Zr&Ee)===Ee)re!==null&&(re=re.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),s=ge.hasEagerState?ge.eagerState:e(s,ge.action);else{var ke={lane:Ee,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};re===null?(J=re=ke,G=s):re=re.next=ke,Ut.lanes|=Ee,ga|=Ee}ge=ge.next}while(ge!==null&&ge!==k);re===null?G=s:re.next=J,sr(s,t.memoizedState)||(b=!0),t.memoizedState=s,t.baseState=G,t.baseQueue=re,i.lastRenderedState=s}if(e=i.interleaved,e!==null){d=e;do k=d.lane,Ut.lanes|=k,ga|=k,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ri(e){var t=Tr(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,k=t.memoizedState;if(d!==null){i.pending=null;var G=d=d.next;do k=e(k,G.action),G=G.next;while(G!==d);sr(k,t.memoizedState)||(b=!0),t.memoizedState=k,t.baseQueue===null&&(t.baseState=k),i.lastRenderedState=k}return[k,s]}function su(){}function au(e,t){var i=Ut,s=Tr(),d=t(),k=!sr(s.memoizedState,d);if(k&&(s.memoizedState=d,b=!0),s=s.queue,cu(Kc.bind(null,i,s,e),[e]),s.getSnapshot!==t||k||en!==null&&en.memoizedState.tag&1){if(i.flags|=2048,ei(9,fa.bind(null,i,s,d,t),void 0,null),Hn===null)throw Error(c(349));(Zr&30)!==0||dl(i,t,d)}return d}function dl(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function fa(e,t,i,s){t.value=i,t.getSnapshot=s,Yc(t)&&lu(e)}function Kc(e,t,i){return i(function(){Yc(t)&&lu(e)})}function Yc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sr(e,i)}catch{return!0}}function lu(e){var t=zr(e,1);t!==null&&Mi(t,e,1,-1)}function uu(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Do.bind(null,Ut,e),[t.memoizedState,e]}function ei(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function Qc(){return Tr().memoizedState}function hi(e,t,i,s){var d=Fn();Ut.flags|=e,d.memoizedState=ei(1|t,i,void 0,s===void 0?null:s)}function ha(e,t,i,s){var d=Tr();s=s===void 0?null:s;var k=void 0;if(Xt!==null){var G=Xt.memoizedState;if(k=G.destroy,s!==null&&ua(s,G.deps)){d.memoizedState=ei(t,i,k,s);return}}Ut.flags|=e,d.memoizedState=ei(1|t,i,k,s)}function jt(e,t){return hi(8390656,8,e,t)}function cu(e,t){return ha(2048,8,e,t)}function du(e,t){return ha(4,2,e,t)}function Xc(e,t){return ha(4,4,e,t)}function Jc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fu(e,t,i){return i=i!=null?i.concat([e]):null,ha(4,4,Jc.bind(null,t,e),i)}function fl(){}function Zc(e,t){var i=Tr();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&ua(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Nr(e,t){var i=Tr();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&ua(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function hl(e,t,i){return(Zr&21)===0?(e.baseState&&(e.baseState=!1,b=!0),e.memoizedState=i):(sr(i,t)||(i=Pl(),Ut.lanes|=i,ga|=i,e.baseState=!0),t)}function jd(e,t){var i=Et;Et=i!==0&&4>i?i:4,e(!0);var s=Es.transition;Es.transition={};try{e(!1),t()}finally{Et=i,Es.transition=s}}function Ti(){return Tr().memoizedState}function pl(e,t,i){var s=As(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},pa(e))gl(t,i);else if(i=nu(e,t,i,s),i!==null){var d=Ar();Mi(i,e,s,d),vl(i,t,s)}}function Do(e,t,i){var s=As(e),d={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(pa(e))gl(t,d);else{var k=e.alternate;if(e.lanes===0&&(k===null||k.lanes===0)&&(k=t.lastRenderedReducer,k!==null))try{var G=t.lastRenderedState,J=k(G,i);if(d.hasEagerState=!0,d.eagerState=J,sr(J,G)){var re=t.interleaved;re===null?(d.next=d,al(t)):(d.next=re.next,re.next=d),t.interleaved=d;return}}catch{}finally{}i=nu(e,t,d,s),i!==null&&(d=Ar(),Mi(i,e,s,d),vl(i,t,s))}}function pa(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function gl(e,t){Gr=vn=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function vl(e,t,i){if((i&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Rl(e,i)}}var ml={readContext:Pr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},ed={readContext:Pr,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:jt,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,hi(4194308,4,Jc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var i=Fn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=Fn();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=pl.bind(null,Ut,e),[s.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:fl,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=jd.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=Ut,d=Fn();if(Tt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),Hn===null)throw Error(c(349));(Zr&30)!==0||dl(s,t,i)}d.memoizedState=i;var k={value:i,getSnapshot:t};return d.queue=k,jt(Kc.bind(null,s,k,e),[e]),s.flags|=2048,ei(9,fa.bind(null,s,k,i,t),void 0,null),i},useId:function(){var e=Fn(),t=Hn.identifierPrefix;if(Tt){var i=Ht,s=wr;i=(s&~(1<<32-lt(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=Gn++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=ur++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},td={readContext:Pr,useCallback:Zc,useContext:Pr,useEffect:cu,useImperativeHandle:fu,useInsertionEffect:du,useLayoutEffect:Xc,useMemo:Nr,useReducer:da,useRef:Qc,useState:function(){return da(ks)},useDebugValue:fl,useDeferredValue:function(e){var t=Tr();return hl(t,Xt.memoizedState,e)},useTransition:function(){var e=da(ks)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:su,useSyncExternalStore:au,useId:Ti,unstable_isNewReconciler:!1},nd={readContext:Pr,useCallback:Zc,useContext:Pr,useEffect:cu,useImperativeHandle:fu,useInsertionEffect:du,useLayoutEffect:Xc,useMemo:Nr,useReducer:Ri,useRef:Qc,useState:function(){return Ri(ks)},useDebugValue:fl,useDeferredValue:function(e){var t=Tr();return Xt===null?t.memoizedState=e:hl(t,Xt.memoizedState,e)},useTransition:function(){var e=Ri(ks)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:su,useSyncExternalStore:au,useId:Ti,unstable_isNewReconciler:!1};function zo(e,t){try{var i="",s=t;do i+=Ae(s),s=s.return;while(s);var d=i}catch(k){d=`
Error generating stack: `+k.message+`
`+k.stack}return{value:e,source:t,stack:d,digest:null}}function Ps(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Gd=typeof WeakMap=="function"?WeakMap:Map;function n(e,t,i){i=Ur(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){ad||(ad=!0,Yd=s),hu(e,t)},i}function r(e,t,i){i=Ur(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var d=t.value;i.payload=function(){return s(d)},i.callback=function(){hu(e,t)}}var k=e.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){hu(e,t),typeof s!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var G=t.stack;this.componentDidCatch(t.value,{componentStack:G!==null?G:""})}),i}function o(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Gd;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(i)||(d.add(i),e=w1.bind(null,e,t,i),t.then(e,e))}function l(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function g(e,t,i,s,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Ur(-1,1),t.tag=2,jr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var I=O.ReactCurrentOwner,b=!1;function se(e,t,i,s){t.child=e===null?ws(t,null,i,s):Vt(t,e.child,i,s)}function ve(e,t,i,s,d){i=i.render;var k=t.ref;return ms(t,d),s=ca(e,t,i,s,k,d),i=ou(),e!==null&&!b?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Ni(e,t,d)):(Tt&&i&&gs(t),t.flags|=1,se(e,t,s,d),t.child)}function Re(e,t,i,s,d){if(e===null){var k=i.type;return typeof k=="function"&&!nf(k)&&k.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=k,ze(e,t,k,s,d)):(e=hd(i.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(k=e.child,(e.lanes&d)===0){var G=k.memoizedProps;if(i=i.compare,i=i!==null?i:yo,i(G,s)&&e.ref===t.ref)return Ni(e,t,d)}return t.flags|=1,e=Ms(k,s),e.ref=t.ref,e.return=t,t.child=e}function ze(e,t,i,s,d){if(e!==null){var k=e.memoizedProps;if(yo(k,s)&&e.ref===t.ref)if(b=!1,t.pendingProps=s=k,(e.lanes&d)!==0)(e.flags&131072)!==0&&(b=!0);else return t.lanes=e.lanes,Ni(e,t,d)}return Mt(e,t,i,s,d)}function tt(e,t,i){var s=t.pendingProps,d=s.children,k=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(_l,ni),ni|=i;else{if((i&1073741824)===0)return e=k!==null?k.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(_l,ni),ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=k!==null?k.baseLanes:i,At(_l,ni),ni|=s}else k!==null?(s=k.baseLanes|i,t.memoizedState=null):s=i,At(_l,ni),ni|=s;return se(e,t,d,i),t.child}function Me(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Mt(e,t,i,s,d){var k=jn(i)?Qi:In.current;return k=Ro(t,k),ms(t,d),i=ca(e,t,i,s,k,d),s=ou(),e!==null&&!b?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Ni(e,t,d)):(Tt&&s&&gs(t),t.flags|=1,se(e,t,i,d),t.child)}function Nt(e,t,i,s,d){if(jn(i)){var k=!0;To(t)}else k=!1;if(ms(t,d),t.stateNode===null)ti(e,t),Qt(t,i,s),on(t,i,s,d),s=!0;else if(e===null){var G=t.stateNode,J=t.memoizedProps;G.props=J;var re=G.context,ge=i.contextType;typeof ge=="object"&&ge!==null?ge=Pr(ge):(ge=jn(i)?Qi:In.current,ge=Ro(t,ge));var Ee=i.getDerivedStateFromProps,ke=typeof Ee=="function"||typeof G.getSnapshotBeforeUpdate=="function";ke||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(J!==s||re!==ge)&&dt(t,G,s,ge),Qr=!1;var xe=t.memoizedState;G.state=xe,Ss(t,s,G,d),re=t.memoizedState,J!==s||xe!==re||Un.current||Qr?(typeof Ee=="function"&&(iu(t,i,Ee,s),re=t.memoizedState),(J=Qr||cl(t,i,J,s,xe,re,ge))?(ke||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(t.flags|=4194308)):(typeof G.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=re),G.props=s,G.state=re,G.context=ge,s=J):(typeof G.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{G=t.stateNode,aa(e,t),J=t.memoizedProps,ge=t.type===t.elementType?J:Ot(t.type,J),G.props=ge,ke=t.pendingProps,xe=G.context,re=i.contextType,typeof re=="object"&&re!==null?re=Pr(re):(re=jn(i)?Qi:In.current,re=Ro(t,re));var De=i.getDerivedStateFromProps;(Ee=typeof De=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(J!==ke||xe!==re)&&dt(t,G,s,re),Qr=!1,xe=t.memoizedState,G.state=xe,Ss(t,s,G,d);var je=t.memoizedState;J!==ke||xe!==je||Un.current||Qr?(typeof De=="function"&&(iu(t,i,De,s),je=t.memoizedState),(ge=Qr||cl(t,i,ge,s,xe,je,re)||!1)?(Ee||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(s,je,re),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(s,je,re)),typeof G.componentDidUpdate=="function"&&(t.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof G.componentDidUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=je),G.props=s,G.state=je,G.context=re,s=ge):(typeof G.componentDidUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),s=!1)}return Bn(e,t,i,s,k,d)}function Bn(e,t,i,s,d,k){Me(e,t);var G=(t.flags&128)!==0;if(!s&&!G)return d&&bc(t,i,!1),Ni(e,t,k);s=t.stateNode,I.current=t;var J=G&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&G?(t.child=Vt(t,e.child,null,k),t.child=Vt(t,null,J,k)):se(e,t,J,k),t.memoizedState=s.state,d&&bc(t,i,!0),t.child}function pi(e){var t=e.stateNode;t.pendingContext?Jl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jl(e,t.context,!1),la(e,t.containerInfo)}function pe(e,t,i,s,d){return Mo(),sa(d),t.flags|=256,se(e,t,i,s),t.child}var ce={dehydrated:null,treeContext:null,retryLane:0};function me(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ie(e,t,i){var s=t.pendingProps,d=Ft.current,k=!1,G=(t.flags&128)!==0,J;if((J=G)||(J=e!==null&&e.memoizedState===null?!1:(d&2)!==0),J?(k=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),At(Ft,d&1),e===null)return vs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(G=s.children,e=s.fallback,k?(s=t.mode,k=t.child,G={mode:"hidden",children:G},(s&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=G):k=pd(G,s,0,null),e=_a(e,s,i,null),k.return=t,e.return=t,k.sibling=e,t.child=k,t.child.memoizedState=me(i),t.memoizedState=ce,e):Ke(t,G));if(d=e.memoizedState,d!==null&&(J=d.dehydrated,J!==null))return it(e,t,G,s,J,d,i);if(k){k=s.fallback,G=t.mode,d=e.child,J=d.sibling;var re={mode:"hidden",children:s.children};return(G&1)===0&&t.child!==d?(s=t.child,s.childLanes=0,s.pendingProps=re,t.deletions=null):(s=Ms(d,re),s.subtreeFlags=d.subtreeFlags&14680064),J!==null?k=Ms(J,k):(k=_a(k,G,i,null),k.flags|=2),k.return=t,s.return=t,s.sibling=k,t.child=s,s=k,k=t.child,G=e.child.memoizedState,G=G===null?me(i):{baseLanes:G.baseLanes|i,cachePool:null,transitions:G.transitions},k.memoizedState=G,k.childLanes=e.childLanes&~i,t.memoizedState=ce,s}return k=e.child,e=k.sibling,s=Ms(k,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function Ke(e,t){return t=pd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rt(e,t,i,s){return s!==null&&sa(s),Vt(t,e.child,null,i),e=Ke(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function it(e,t,i,s,d,k,G){if(i)return t.flags&256?(t.flags&=-257,s=Ps(Error(c(422))),rt(e,t,G,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(k=s.fallback,d=t.mode,s=pd({mode:"visible",children:s.children},d,0,null),k=_a(k,d,G,null),k.flags|=2,s.return=t,k.return=t,s.sibling=k,t.child=s,(t.mode&1)!==0&&Vt(t,e.child,null,G),t.child.memoizedState=me(G),t.memoizedState=ce,k);if((t.mode&1)===0)return rt(e,t,G,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var J=s.dgst;return s=J,k=Error(c(419)),s=Ps(k,s,void 0),rt(e,t,G,s)}if(J=(G&e.childLanes)!==0,b||J){if(s=Hn,s!==null){switch(G&-G){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(s.suspendedLanes|G))!==0?0:d,d!==0&&d!==k.retryLane&&(k.retryLane=d,zr(e,d),Mi(s,e,d,-1))}return tf(),s=Ps(Error(c(421))),rt(e,t,G,s)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=x1.bind(null,e),d._reactRetry=t,null):(e=k.treeContext,Oe=ai(d.nextSibling),xr=t,Tt=!0,Cr=null,e!==null&&(Qn[Xn++]=wr,Qn[Xn++]=Ht,Qn[Xn++]=eo,wr=e.id,Ht=e.overflow,eo=t),t=Ke(t,s.children),t.flags|=4096,t)}function xt(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Dr(e.return,t,i)}function ln(e,t,i,s,d){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d}:(k.isBackwards=t,k.rendering=null,k.renderingStartTime=0,k.last=s,k.tail=i,k.tailMode=d)}function Ct(e,t,i){var s=t.pendingProps,d=s.revealOrder,k=s.tail;if(se(e,t,s.children,i),s=Ft.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xt(e,i,t);else if(e.tag===19)xt(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(At(Ft,s),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&xs(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),ln(t,!1,d,i,k);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&xs(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}ln(t,!0,i,null,k);break;case"together":ln(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=Ms(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ms(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function c1(e,t,i){switch(t.tag){case 3:pi(t),Mo();break;case 5:di(t);break;case 1:jn(t.type)&&To(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,d=t.memoizedProps.value;At(ar,s._currentValue),s._currentValue=d;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(At(Ft,Ft.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Ie(e,t,i):(At(Ft,Ft.current&1),e=Ni(e,t,i),e!==null?e.sibling:null);At(Ft,Ft.current&1);break;case 19:if(s=(i&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Ct(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),At(Ft,Ft.current),s)break;return null;case 22:case 23:return t.lanes=0,tt(e,t,i)}return Ni(e,t,i)}var Kf,Bd,Yf,Qf;Kf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Bd=function(){},Yf=function(e,t,i,s){var d=e.memoizedProps;if(d!==s){e=t.stateNode,an(Rr.current);var k=null;switch(i){case"input":d=Gt(e,d),s=Gt(e,s),k=[];break;case"select":d=V({},d,{value:void 0}),s=V({},s,{value:void 0}),k=[];break;case"textarea":d=bn(e,d),s=bn(e,s),k=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Eo)}Us(i,s);var G;i=null;for(ge in d)if(!s.hasOwnProperty(ge)&&d.hasOwnProperty(ge)&&d[ge]!=null)if(ge==="style"){var J=d[ge];for(G in J)J.hasOwnProperty(G)&&(i||(i={}),i[G]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(A.hasOwnProperty(ge)?k||(k=[]):(k=k||[]).push(ge,null));for(ge in s){var re=s[ge];if(J=d!=null?d[ge]:void 0,s.hasOwnProperty(ge)&&re!==J&&(re!=null||J!=null))if(ge==="style")if(J){for(G in J)!J.hasOwnProperty(G)||re&&re.hasOwnProperty(G)||(i||(i={}),i[G]="");for(G in re)re.hasOwnProperty(G)&&J[G]!==re[G]&&(i||(i={}),i[G]=re[G])}else i||(k||(k=[]),k.push(ge,i)),i=re;else ge==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&(k=k||[]).push(ge,re)):ge==="children"?typeof re!="string"&&typeof re!="number"||(k=k||[]).push(ge,""+re):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(A.hasOwnProperty(ge)?(re!=null&&ge==="onScroll"&&It("scroll",e),k||J===re||(k=[])):(k=k||[]).push(ge,re))}i&&(k=k||[]).push("style",i);var ge=k;(t.updateQueue=ge)&&(t.flags|=4)}},Qf=function(e,t,i,s){i!==s&&(t.flags|=4)};function pu(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function d1(e,t,i){var s=t.pendingProps;switch(Pn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(t),null;case 1:return jn(t.type)&&hs(),cr(t),null;case 3:return s=t.stateNode,ro(),Lt(Un),Lt(In),Cs(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cr!==null&&(Jd(Cr),Cr=null))),Bd(e,t),cr(t),null;case 5:io(t);var d=an(Pi.current);if(i=t.type,e!==null&&t.stateNode!=null)Yf(e,t,i,s,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(c(166));return cr(t),null}if(e=an(Rr.current),oa(t)){s=t.stateNode,i=t.type;var k=t.memoizedProps;switch(s[Fr]=t,s[na]=k,e=(t.mode&1)!==0,i){case"dialog":It("cancel",s),It("close",s);break;case"iframe":case"object":case"embed":It("load",s);break;case"video":case"audio":for(d=0;d<qi.length;d++)It(qi[d],s);break;case"source":It("error",s);break;case"img":case"image":case"link":It("error",s),It("load",s);break;case"details":It("toggle",s);break;case"input":ht(s,k),It("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!k.multiple},It("invalid",s);break;case"textarea":Tn(s,k),It("invalid",s)}Us(i,k),d=null;for(var G in k)if(k.hasOwnProperty(G)){var J=k[G];G==="children"?typeof J=="string"?s.textContent!==J&&(k.suppressHydrationWarning!==!0&&ea(s.textContent,J,e),d=["children",J]):typeof J=="number"&&s.textContent!==""+J&&(k.suppressHydrationWarning!==!0&&ea(s.textContent,J,e),d=["children",""+J]):A.hasOwnProperty(G)&&J!=null&&G==="onScroll"&&It("scroll",s)}switch(i){case"input":Le(s),Jt(s,k,!0);break;case"textarea":Le(s),Yt(s);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(s.onclick=Eo)}s=d,t.updateQueue=s,s!==null&&(t.flags|=4)}else{G=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=G.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=G.createElement(i,{is:s.is}):(e=G.createElement(i),i==="select"&&(G=e,s.multiple?G.multiple=!0:s.size&&(G.size=s.size))):e=G.createElementNS(e,i),e[Fr]=t,e[na]=s,Kf(e,t,!1,!1),t.stateNode=e;e:{switch(G=so(i,s),i){case"dialog":It("cancel",e),It("close",e),d=s;break;case"iframe":case"object":case"embed":It("load",e),d=s;break;case"video":case"audio":for(d=0;d<qi.length;d++)It(qi[d],e);d=s;break;case"source":It("error",e),d=s;break;case"img":case"image":case"link":It("error",e),It("load",e),d=s;break;case"details":It("toggle",e),d=s;break;case"input":ht(e,s),d=Gt(e,s),It("invalid",e);break;case"option":d=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},d=V({},s,{value:void 0}),It("invalid",e);break;case"textarea":Tn(e,s),d=bn(e,s),It("invalid",e);break;default:d=s}Us(i,d),J=d;for(k in J)if(J.hasOwnProperty(k)){var re=J[k];k==="style"?rr(e,re):k==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Or(e,re)):k==="children"?typeof re=="string"?(i!=="textarea"||re!=="")&&_n(e,re):typeof re=="number"&&_n(e,""+re):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(A.hasOwnProperty(k)?re!=null&&k==="onScroll"&&It("scroll",e):re!=null&&v(e,k,re,G))}switch(i){case"input":Le(e),Jt(e,s,!1);break;case"textarea":Le(e),Yt(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,k=s.value,k!=null?pt(e,!!s.multiple,k,!1):s.defaultValue!=null&&pt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Eo)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cr(t),null;case 6:if(e&&t.stateNode!=null)Qf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(i=an(Pi.current),an(Rr.current),oa(t)){if(s=t.stateNode,i=t.memoizedProps,s[Fr]=t,(k=s.nodeValue!==i)&&(e=xr,e!==null))switch(e.tag){case 3:ea(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(s.nodeValue,i,(e.mode&1)!==0)}k&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[Fr]=t,t.stateNode=s}return cr(t),null;case 13:if(Lt(Ft),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Oe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),Mo(),t.flags|=98560,k=!1;else if(k=oa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!k)throw Error(c(318));if(k=t.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(c(317));k[Fr]=t}else Mo(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;cr(t),k=!1}else Cr!==null&&(Jd(Cr),Cr=null),k=!0;if(!k)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ft.current&1)!==0?Dn===0&&(Dn=3):tf())),t.updateQueue!==null&&(t.flags|=4),cr(t),null);case 4:return ro(),Bd(e,t),e===null&&xo(t.stateNode.containerInfo),cr(t),null;case 10:return sl(t.type._context),cr(t),null;case 17:return jn(t.type)&&hs(),cr(t),null;case 19:if(Lt(Ft),k=t.memoizedState,k===null)return cr(t),null;if(s=(t.flags&128)!==0,G=k.rendering,G===null)if(s)pu(k,!1);else{if(Dn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(G=xs(e),G!==null){for(t.flags|=128,pu(k,!1),s=G.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)k=i,e=s,k.flags&=14680066,G=k.alternate,G===null?(k.childLanes=0,k.lanes=e,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=G.childLanes,k.lanes=G.lanes,k.child=G.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=G.memoizedProps,k.memoizedState=G.memoizedState,k.updateQueue=G.updateQueue,k.type=G.type,e=G.dependencies,k.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return At(Ft,Ft.current&1|2),t.child}e=e.sibling}k.tail!==null&&qe()>Sl&&(t.flags|=128,s=!0,pu(k,!1),t.lanes=4194304)}else{if(!s)if(e=xs(G),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),pu(k,!0),k.tail===null&&k.tailMode==="hidden"&&!G.alternate&&!Tt)return cr(t),null}else 2*qe()-k.renderingStartTime>Sl&&i!==1073741824&&(t.flags|=128,s=!0,pu(k,!1),t.lanes=4194304);k.isBackwards?(G.sibling=t.child,t.child=G):(i=k.last,i!==null?i.sibling=G:t.child=G,k.last=G)}return k.tail!==null?(t=k.tail,k.rendering=t,k.tail=t.sibling,k.renderingStartTime=qe(),t.sibling=null,i=Ft.current,At(Ft,s?i&1|2:i&1),t):(cr(t),null);case 22:case 23:return ef(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ni&1073741824)!==0&&(cr(t),t.subtreeFlags&6&&(t.flags|=8192)):cr(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function f1(e,t){switch(Pn(t),t.tag){case 1:return jn(t.type)&&hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),Lt(Un),Lt(In),Cs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return io(t),null;case 13:if(Lt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Ft),null;case 4:return ro(),null;case 10:return sl(t.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var rd=!1,dr=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function yl(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){un(e,t,s)}else i.current=null}function Hd(e,t,i){try{i()}catch(s){un(e,t,s)}}var Xf=!1;function p1(e,t){if(Kl=La,e=pn(),us(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,k=s.focusNode;s=s.focusOffset;try{i.nodeType,k.nodeType}catch{i=null;break e}var G=0,J=-1,re=-1,ge=0,Ee=0,ke=e,xe=null;t:for(;;){for(var De;ke!==i||d!==0&&ke.nodeType!==3||(J=G+d),ke!==k||s!==0&&ke.nodeType!==3||(re=G+s),ke.nodeType===3&&(G+=ke.nodeValue.length),(De=ke.firstChild)!==null;)xe=ke,ke=De;for(;;){if(ke===e)break t;if(xe===i&&++ge===d&&(J=G),xe===k&&++Ee===s&&(re=G),(De=ke.nextSibling)!==null)break;ke=xe,xe=ke.parentNode}ke=De}i=J===-1||re===-1?null:{start:J,end:re}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yl={focusedElem:e,selectionRange:i},La=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var je=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ge=je.memoizedProps,mn=je.memoizedState,fe=t.stateNode,ae=fe.getSnapshotBeforeUpdate(t.elementType===t.type?Ge:Ot(t.type,Ge),mn);fe.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var he=t.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(Te){un(t,t.return,Te)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return je=Xf,Xf=!1,je}function gu(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&e)===e){var k=d.destroy;d.destroy=void 0,k!==void 0&&Hd(t,i,k)}d=d.next}while(d!==s)}}function id(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function $d(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[na],delete t[el],delete t[$c],delete t[Vc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Eo));else if(s!==4&&(e=e.child,e!==null))for(Vd(e,t,i),e=e.sibling;e!==null;)Vd(e,t,i),e=e.sibling}function bd(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bd(e,t,i),e=e.sibling;e!==null;)bd(e,t,i),e=e.sibling}var Jn=null,Ai=!1;function Rs(e,t,i){for(i=i.child;i!==null;)th(e,t,i),i=i.sibling}function th(e,t,i){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Zt,i)}catch{}switch(i.tag){case 5:dr||yl(i,t);case 6:var s=Jn,d=Ai;Jn=null,Rs(e,t,i),Jn=s,Ai=d,Jn!==null&&(Ai?(e=Jn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Jn.removeChild(i.stateNode));break;case 18:Jn!==null&&(Ai?(e=Jn,i=i.stateNode,e.nodeType===8?Za(e.parentNode,i):e.nodeType===1&&Za(e,i),ir(e)):Za(Jn,i.stateNode));break;case 4:s=Jn,d=Ai,Jn=i.stateNode.containerInfo,Ai=!0,Rs(e,t,i),Jn=s,Ai=d;break;case 0:case 11:case 14:case 15:if(!dr&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var k=d,G=k.destroy;k=k.tag,G!==void 0&&((k&2)!==0||(k&4)!==0)&&Hd(i,t,G),d=d.next}while(d!==s)}Rs(e,t,i);break;case 1:if(!dr&&(yl(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(J){un(i,t,J)}Rs(e,t,i);break;case 21:Rs(e,t,i);break;case 22:i.mode&1?(dr=(s=dr)||i.memoizedState!==null,Rs(e,t,i),dr=s):Rs(e,t,i);break;default:Rs(e,t,i)}}function nh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new h1),t.forEach(function(s){var d=C1.bind(null,e,s);i.has(s)||(i.add(s),s.then(d,d))})}}function Oi(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s];try{var k=e,G=t,J=G;e:for(;J!==null;){switch(J.tag){case 5:Jn=J.stateNode,Ai=!1;break e;case 3:Jn=J.stateNode.containerInfo,Ai=!0;break e;case 4:Jn=J.stateNode.containerInfo,Ai=!0;break e}J=J.return}if(Jn===null)throw Error(c(160));th(k,G,d),Jn=null,Ai=!1;var re=d.alternate;re!==null&&(re.return=null),d.return=null}catch(ge){un(d,t,ge)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(t,e),oo(e),s&4){try{gu(3,e,e.return),id(3,e)}catch(Ge){un(e,e.return,Ge)}try{gu(5,e,e.return)}catch(Ge){un(e,e.return,Ge)}}break;case 1:Oi(t,e),oo(e),s&512&&i!==null&&yl(i,i.return);break;case 5:if(Oi(t,e),oo(e),s&512&&i!==null&&yl(i,i.return),e.flags&32){var d=e.stateNode;try{_n(d,"")}catch(Ge){un(e,e.return,Ge)}}if(s&4&&(d=e.stateNode,d!=null)){var k=e.memoizedProps,G=i!==null?i.memoizedProps:k,J=e.type,re=e.updateQueue;if(e.updateQueue=null,re!==null)try{J==="input"&&k.type==="radio"&&k.name!=null&&dn(d,k),so(J,G);var ge=so(J,k);for(G=0;G<re.length;G+=2){var Ee=re[G],ke=re[G+1];Ee==="style"?rr(d,ke):Ee==="dangerouslySetInnerHTML"?Or(d,ke):Ee==="children"?_n(d,ke):v(d,Ee,ke,ge)}switch(J){case"input":Dt(d,k);break;case"textarea":fn(d,k);break;case"select":var xe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!k.multiple;var De=k.value;De!=null?pt(d,!!k.multiple,De,!1):xe!==!!k.multiple&&(k.defaultValue!=null?pt(d,!!k.multiple,k.defaultValue,!0):pt(d,!!k.multiple,k.multiple?[]:"",!1))}d[na]=k}catch(Ge){un(e,e.return,Ge)}}break;case 6:if(Oi(t,e),oo(e),s&4){if(e.stateNode===null)throw Error(c(162));d=e.stateNode,k=e.memoizedProps;try{d.nodeValue=k}catch(Ge){un(e,e.return,Ge)}}break;case 3:if(Oi(t,e),oo(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ir(t.containerInfo)}catch(Ge){un(e,e.return,Ge)}break;case 4:Oi(t,e),oo(e);break;case 13:Oi(t,e),oo(e),d=e.child,d.flags&8192&&(k=d.memoizedState!==null,d.stateNode.isHidden=k,!k||d.alternate!==null&&d.alternate.memoizedState!==null||(Kd=qe())),s&4&&nh(e);break;case 22:if(Ee=i!==null&&i.memoizedState!==null,e.mode&1?(dr=(ge=dr)||Ee,Oi(t,e),dr=ge):Oi(t,e),oo(e),s&8192){if(ge=e.memoizedState!==null,(e.stateNode.isHidden=ge)&&!Ee&&(e.mode&1)!==0)for(Ue=e,Ee=e.child;Ee!==null;){for(ke=Ue=Ee;Ue!==null;){switch(xe=Ue,De=xe.child,xe.tag){case 0:case 11:case 14:case 15:gu(4,xe,xe.return);break;case 1:yl(xe,xe.return);var je=xe.stateNode;if(typeof je.componentWillUnmount=="function"){s=xe,i=xe.return;try{t=s,je.props=t.memoizedProps,je.state=t.memoizedState,je.componentWillUnmount()}catch(Ge){un(s,i,Ge)}}break;case 5:yl(xe,xe.return);break;case 22:if(xe.memoizedState!==null){sh(ke);continue}}De!==null?(De.return=xe,Ue=De):sh(ke)}Ee=Ee.sibling}e:for(Ee=null,ke=e;;){if(ke.tag===5){if(Ee===null){Ee=ke;try{d=ke.stateNode,ge?(k=d.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(J=ke.stateNode,re=ke.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=Wo("display",G))}catch(Ge){un(e,e.return,Ge)}}}else if(ke.tag===6){if(Ee===null)try{ke.stateNode.nodeValue=ge?"":ke.memoizedProps}catch(Ge){un(e,e.return,Ge)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===e)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===e)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===e)break e;Ee===ke&&(Ee=null),ke=ke.return}Ee===ke&&(Ee=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Oi(t,e),oo(e),s&4&&nh(e);break;case 21:break;default:Oi(t,e),oo(e)}}function oo(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Zf(i)){var s=i;break e}i=i.return}throw Error(c(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(_n(d,""),s.flags&=-33);var k=eh(e);bd(e,k,d);break;case 3:case 4:var G=s.stateNode.containerInfo,J=eh(e);Vd(e,J,G);break;default:throw Error(c(161))}}catch(re){un(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g1(e,t,i){Ue=e,ih(e)}function ih(e,t,i){for(var s=(e.mode&1)!==0;Ue!==null;){var d=Ue,k=d.child;if(d.tag===22&&s){var G=d.memoizedState!==null||rd;if(!G){var J=d.alternate,re=J!==null&&J.memoizedState!==null||dr;J=rd;var ge=dr;if(rd=G,(dr=re)&&!ge)for(Ue=d;Ue!==null;)G=Ue,re=G.child,G.tag===22&&G.memoizedState!==null?ah(d):re!==null?(re.return=G,Ue=re):ah(d);for(;k!==null;)Ue=k,ih(k),k=k.sibling;Ue=d,rd=J,dr=ge}oh(e)}else(d.subtreeFlags&8772)!==0&&k!==null?(k.return=d,Ue=k):oh(e)}}function oh(e){for(;Ue!==null;){var t=Ue;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dr||id(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!dr)if(i===null)s.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Ot(t.type,i.memoizedProps);s.componentDidUpdate(d,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var k=t.updateQueue;k!==null&&ru(t,k,s);break;case 3:var G=t.updateQueue;if(G!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ru(t,G,i)}break;case 5:var J=t.stateNode;if(i===null&&t.flags&4){i=J;var re=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&i.focus();break;case"img":re.src&&(i.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ge=t.alternate;if(ge!==null){var Ee=ge.memoizedState;if(Ee!==null){var ke=Ee.dehydrated;ke!==null&&ir(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}dr||t.flags&512&&$d(t)}catch(xe){un(t,t.return,xe)}}if(t===e){Ue=null;break}if(i=t.sibling,i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function sh(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function ah(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{id(4,t)}catch(re){un(t,i,re)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var d=t.return;try{s.componentDidMount()}catch(re){un(t,d,re)}}var k=t.return;try{$d(t)}catch(re){un(t,k,re)}break;case 5:var G=t.return;try{$d(t)}catch(re){un(t,G,re)}}}catch(re){un(t,t.return,re)}if(t===e){Ue=null;break}var J=t.sibling;if(J!==null){J.return=t.return,Ue=J;break}Ue=t.return}}var v1=Math.ceil,od=O.ReactCurrentDispatcher,Wd=O.ReactCurrentOwner,gi=O.ReactCurrentBatchConfig,kt=0,Hn=null,Rn=null,Zn=0,ni=0,_l=Ei(0),Dn=0,vu=null,ga=0,sd=0,qd=0,mu=null,Br=null,Kd=0,Sl=1/0,Uo=null,ad=!1,Yd=null,Ts=null,ld=!1,Ns=null,ud=0,yu=0,Qd=null,cd=-1,dd=0;function Ar(){return(kt&6)!==0?qe():cd!==-1?cd:cd=qe()}function As(e){return(e.mode&1)===0?1:(kt&2)!==0&&Zn!==0?Zn&-Zn:tu.transition!==null?(dd===0&&(dd=Pl()),dd):(e=Et,e!==0||(e=window.event,e=e===void 0?16:Pc(e.type)),e)}function Mi(e,t,i,s){if(50<yu)throw yu=0,Qd=null,Error(c(185));Bs(e,i,s),((kt&2)===0||e!==Hn)&&(e===Hn&&((kt&2)===0&&(sd|=i),Dn===4&&Os(e,Zn)),Hr(e,s),i===1&&kt===0&&(t.mode&1)===0&&(Sl=qe()+500,ps&&Xi()))}function Hr(e,t){var i=e.callbackNode;wc(e,t);var s=co(e,e===Hn?Zn:0);if(s===0)i!==null&&Je(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&Je(i),t===1)e.tag===0?ki(uh.bind(null,e)):ia(uh.bind(null,e)),Bc(function(){(kt&6)===0&&Xi()}),i=null;else{switch(Hs(s)){case 1:i=Rt;break;case 4:i=ot;break;case 16:i=at;break;case 536870912:i=pr;break;default:i=at}i=mh(i,lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function lh(e,t){if(cd=-1,dd=0,(kt&6)!==0)throw Error(c(327));var i=e.callbackNode;if(wl()&&e.callbackNode!==i)return null;var s=co(e,e===Hn?Zn:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=fd(e,s);else{t=s;var d=kt;kt|=2;var k=dh();(Hn!==e||Zn!==t)&&(Uo=null,Sl=qe()+500,ma(e,t));do try{_1();break}catch(J){ch(e,J)}while(!0);kr(),od.current=k,kt=d,Rn!==null?t=0:(Hn=null,Zn=0,t=Dn)}if(t!==0){if(t===2&&(d=Xo(e),d!==0&&(s=d,t=Xd(e,d))),t===1)throw i=vu,ma(e,0),Os(e,s),Hr(e,qe()),i;if(t===6)Os(e,s);else{if(d=e.current.alternate,(s&30)===0&&!m1(d)&&(t=fd(e,s),t===2&&(k=Xo(e),k!==0&&(s=k,t=Xd(e,k))),t===1))throw i=vu,ma(e,0),Os(e,s),Hr(e,qe()),i;switch(e.finishedWork=d,e.finishedLanes=s,t){case 0:case 1:throw Error(c(345));case 2:ya(e,Br,Uo);break;case 3:if(Os(e,s),(s&130023424)===s&&(t=Kd+500-qe(),10<t)){if(co(e,0)!==0)break;if(d=e.suspendedLanes,(d&s)!==s){Ar(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Sr(ya.bind(null,e,Br,Uo),t);break}ya(e,Br,Uo);break;case 4:if(Os(e,s),(s&4194240)===s)break;for(t=e.eventTimes,d=-1;0<s;){var G=31-lt(s);k=1<<G,G=t[G],G>d&&(d=G),s&=~k}if(s=d,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*v1(s/1960))-s,10<s){e.timeoutHandle=Sr(ya.bind(null,e,Br,Uo),s);break}ya(e,Br,Uo);break;case 5:ya(e,Br,Uo);break;default:throw Error(c(329))}}}return Hr(e,qe()),e.callbackNode===i?lh.bind(null,e):null}function Xd(e,t){var i=mu;return e.current.memoizedState.isDehydrated&&(ma(e,t).flags|=256),e=fd(e,t),e!==2&&(t=Br,Br=i,t!==null&&Jd(t)),e}function Jd(e){Br===null?Br=e:Br.push.apply(Br,e)}function m1(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var d=i[s],k=d.getSnapshot;d=d.value;try{if(!sr(k(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Os(e,t){for(t&=~qd,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-lt(t),s=1<<i;e[i]=-1,t&=~s}}function uh(e){if((kt&6)!==0)throw Error(c(327));wl();var t=co(e,0);if((t&1)===0)return Hr(e,qe()),null;var i=fd(e,t);if(e.tag!==0&&i===2){var s=Xo(e);s!==0&&(t=s,i=Xd(e,s))}if(i===1)throw i=vu,ma(e,0),Os(e,t),Hr(e,qe()),i;if(i===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,Br,Uo),Hr(e,qe()),null}function Zd(e,t){var i=kt;kt|=1;try{return e(t)}finally{kt=i,kt===0&&(Sl=qe()+500,ps&&Xi())}}function va(e){Ns!==null&&Ns.tag===0&&(kt&6)===0&&wl();var t=kt;kt|=1;var i=gi.transition,s=Et;try{if(gi.transition=null,Et=1,e)return e()}finally{Et=s,gi.transition=i,kt=t,(kt&6)===0&&Xi()}}function ef(){ni=_l.current,Lt(_l)}function ma(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Xl(i)),Rn!==null)for(i=Rn.return;i!==null;){var s=i;switch(Pn(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hs();break;case 3:ro(),Lt(Un),Lt(In),Cs();break;case 5:io(s);break;case 4:ro();break;case 13:Lt(Ft);break;case 19:Lt(Ft);break;case 10:sl(s.type._context);break;case 22:case 23:ef()}i=i.return}if(Hn=e,Rn=e=Ms(e.current,null),Zn=ni=t,Dn=0,vu=null,qd=sd=ga=0,Br=mu=null,no!==null){for(t=0;t<no.length;t++)if(i=no[t],s=i.interleaved,s!==null){i.interleaved=null;var d=s.next,k=i.pending;if(k!==null){var G=k.next;k.next=d,s.next=G}i.pending=s}no=null}return e}function ch(e,t){do{var i=Rn;try{if(kr(),Jr.current=ml,vn){for(var s=Ut.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}vn=!1}if(Zr=0,en=Xt=Ut=null,Gr=!1,Gn=0,Wd.current=null,i===null||i.return===null){Dn=1,vu=t,Rn=null;break}e:{var k=e,G=i.return,J=i,re=t;if(t=Zn,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ge=re,Ee=J,ke=Ee.tag;if((Ee.mode&1)===0&&(ke===0||ke===11||ke===15)){var xe=Ee.alternate;xe?(Ee.updateQueue=xe.updateQueue,Ee.memoizedState=xe.memoizedState,Ee.lanes=xe.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var De=l(G);if(De!==null){De.flags&=-257,g(De,G,J,k,t),De.mode&1&&o(k,ge,t),t=De,re=ge;var je=t.updateQueue;if(je===null){var Ge=new Set;Ge.add(re),t.updateQueue=Ge}else je.add(re);break e}else{if((t&1)===0){o(k,ge,t),tf();break e}re=Error(c(426))}}else if(Tt&&J.mode&1){var mn=l(G);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),g(mn,G,J,k,t),sa(zo(re,J));break e}}k=re=zo(re,J),Dn!==4&&(Dn=2),mu===null?mu=[k]:mu.push(k),k=G;do{switch(k.tag){case 3:k.flags|=65536,t&=-t,k.lanes|=t;var fe=n(k,re,t);ll(k,fe);break e;case 1:J=re;var ae=k.type,he=k.stateNode;if((k.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ts===null||!Ts.has(he)))){k.flags|=65536,t&=-t,k.lanes|=t;var Te=r(k,J,t);ll(k,Te);break e}}k=k.return}while(k!==null)}hh(i)}catch(Ve){t=Ve,Rn===i&&i!==null&&(Rn=i=i.return);continue}break}while(!0)}function dh(){var e=od.current;return od.current=ml,e===null?ml:e}function tf(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Hn===null||(ga&268435455)===0&&(sd&268435455)===0||Os(Hn,Zn)}function fd(e,t){var i=kt;kt|=2;var s=dh();(Hn!==e||Zn!==t)&&(Uo=null,ma(e,t));do try{y1();break}catch(d){ch(e,d)}while(!0);if(kr(),kt=i,od.current=s,Rn!==null)throw Error(c(261));return Hn=null,Zn=0,Dn}function y1(){for(;Rn!==null;)fh(Rn)}function _1(){for(;Rn!==null&&!nt();)fh(Rn)}function fh(e){var t=vh(e.alternate,e,ni);e.memoizedProps=e.pendingProps,t===null?hh(e):Rn=t,Wd.current=null}function hh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=d1(i,t,ni),i!==null){Rn=i;return}}else{if(i=f1(i,t),i!==null){i.flags&=32767,Rn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Rn=null;return}}if(t=t.sibling,t!==null){Rn=t;return}Rn=t=e}while(t!==null);Dn===0&&(Dn=5)}function ya(e,t,i){var s=Et,d=gi.transition;try{gi.transition=null,Et=1,S1(e,t,i,s)}finally{gi.transition=d,Et=s}return null}function S1(e,t,i,s){do wl();while(Ns!==null);if((kt&6)!==0)throw Error(c(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var k=i.lanes|i.childLanes;if(Ld(e,k),e===Hn&&(Rn=Hn=null,Zn=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ld||(ld=!0,mh(at,function(){return wl(),null})),k=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||k){k=gi.transition,gi.transition=null;var G=Et;Et=1;var J=kt;kt|=4,Wd.current=null,p1(e,i),rh(i,e),Qs(Yl),La=!!Kl,Yl=Kl=null,e.current=i,g1(i),Ne(),kt=J,Et=G,gi.transition=k}else e.current=i;if(ld&&(ld=!1,Ns=e,ud=d),k=e.pendingLanes,k===0&&(Ts=null),Ze(i.stateNode),Hr(e,qe()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],s(d.value,{componentStack:d.stack,digest:d.digest});if(ad)throw ad=!1,e=Yd,Yd=null,e;return(ud&1)!==0&&e.tag!==0&&wl(),k=e.pendingLanes,(k&1)!==0?e===Qd?yu++:(yu=0,Qd=e):yu=0,Xi(),null}function wl(){if(Ns!==null){var e=Hs(ud),t=gi.transition,i=Et;try{if(gi.transition=null,Et=16>e?16:e,Ns===null)var s=!1;else{if(e=Ns,Ns=null,ud=0,(kt&6)!==0)throw Error(c(331));var d=kt;for(kt|=4,Ue=e.current;Ue!==null;){var k=Ue,G=k.child;if((Ue.flags&16)!==0){var J=k.deletions;if(J!==null){for(var re=0;re<J.length;re++){var ge=J[re];for(Ue=ge;Ue!==null;){var Ee=Ue;switch(Ee.tag){case 0:case 11:case 15:gu(8,Ee,k)}var ke=Ee.child;if(ke!==null)ke.return=Ee,Ue=ke;else for(;Ue!==null;){Ee=Ue;var xe=Ee.sibling,De=Ee.return;if(Jf(Ee),Ee===ge){Ue=null;break}if(xe!==null){xe.return=De,Ue=xe;break}Ue=De}}}var je=k.alternate;if(je!==null){var Ge=je.child;if(Ge!==null){je.child=null;do{var mn=Ge.sibling;Ge.sibling=null,Ge=mn}while(Ge!==null)}}Ue=k}}if((k.subtreeFlags&2064)!==0&&G!==null)G.return=k,Ue=G;else e:for(;Ue!==null;){if(k=Ue,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:gu(9,k,k.return)}var fe=k.sibling;if(fe!==null){fe.return=k.return,Ue=fe;break e}Ue=k.return}}var ae=e.current;for(Ue=ae;Ue!==null;){G=Ue;var he=G.child;if((G.subtreeFlags&2064)!==0&&he!==null)he.return=G,Ue=he;else e:for(G=ae;Ue!==null;){if(J=Ue,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:id(9,J)}}catch(Ve){un(J,J.return,Ve)}if(J===G){Ue=null;break e}var Te=J.sibling;if(Te!==null){Te.return=J.return,Ue=Te;break e}Ue=J.return}}if(kt=d,Xi(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Zt,e)}catch{}s=!0}return s}finally{Et=i,gi.transition=t}}return!1}function ph(e,t,i){t=zo(i,t),t=n(e,t,1),e=jr(e,t,1),t=Ar(),e!==null&&(Bs(e,1,t),Hr(e,t))}function un(e,t,i){if(e.tag===3)ph(e,e,i);else for(;t!==null;){if(t.tag===3){ph(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ts===null||!Ts.has(s))){e=zo(i,e),e=r(t,e,1),t=jr(t,e,1),e=Ar(),t!==null&&(Bs(t,1,e),Hr(t,e));break}}t=t.return}}function w1(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&i,Hn===e&&(Zn&i)===i&&(Dn===4||Dn===3&&(Zn&130023424)===Zn&&500>qe()-Kd?ma(e,0):qd|=i),Hr(e,t)}function gh(e,t){t===0&&((e.mode&1)===0?t=1:(t=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var i=Ar();e=zr(e,t),e!==null&&(Bs(e,t,i),Hr(e,i))}function x1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gh(e,i)}function C1(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(c(314))}s!==null&&s.delete(t),gh(e,i)}var vh;vh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)b=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return b=!1,c1(e,t,i);b=(e.flags&131072)!==0}else b=!1,Tt&&(t.flags&1048576)!==0&&Wc(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ti(e,t),e=t.pendingProps;var d=Ro(t,In.current);ms(t,i),d=ca(null,t,s,e,d,i);var k=ou();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(s)?(k=!0,To(t)):k=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ys(t),d.updater=Io,t.stateNode=d,d._reactInternals=t,on(t,s,e,i),t=Bn(null,t,s,!0,k,i)):(t.tag=0,Tt&&k&&gs(t),se(null,t,d,i),t=t.child),t;case 16:s=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,d=s._init,s=d(s._payload),t.type=s,d=t.tag=k1(s),e=Ot(s,e),d){case 0:t=Mt(null,t,s,e,i);break e;case 1:t=Nt(null,t,s,e,i);break e;case 11:t=ve(null,t,s,e,i);break e;case 14:t=Re(null,t,s,Ot(s.type,e),i);break e}throw Error(c(306,s,""))}return t;case 0:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Ot(s,d),Mt(e,t,s,d,i);case 1:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Ot(s,d),Nt(e,t,s,d,i);case 3:e:{if(pi(t),e===null)throw Error(c(387));s=t.pendingProps,k=t.memoizedState,d=k.element,aa(e,t),Ss(t,s,null,i);var G=t.memoizedState;if(s=G.element,k.isDehydrated)if(k={element:s,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},t.updateQueue.baseState=k,t.memoizedState=k,t.flags&256){d=zo(Error(c(423)),t),t=pe(e,t,s,i,d);break e}else if(s!==d){d=zo(Error(c(424)),t),t=pe(e,t,s,i,d);break e}else for(Oe=ai(t.stateNode.containerInfo.firstChild),xr=t,Tt=!0,Cr=null,i=ws(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Mo(),s===d){t=Ni(e,t,i);break e}se(e,t,s,i)}t=t.child}return t;case 5:return di(t),e===null&&vs(t),s=t.type,d=t.pendingProps,k=e!==null?e.memoizedProps:null,G=d.children,Ql(s,d)?G=null:k!==null&&Ql(s,k)&&(t.flags|=32),Me(e,t),se(e,t,G,i),t.child;case 6:return e===null&&vs(t),null;case 13:return Ie(e,t,i);case 4:return la(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vt(t,null,s,i):se(e,t,s,i),t.child;case 11:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Ot(s,d),ve(e,t,s,d,i);case 7:return se(e,t,t.pendingProps,i),t.child;case 8:return se(e,t,t.pendingProps.children,i),t.child;case 12:return se(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,d=t.pendingProps,k=t.memoizedProps,G=d.value,At(ar,s._currentValue),s._currentValue=G,k!==null)if(sr(k.value,G)){if(k.children===d.children&&!Un.current){t=Ni(e,t,i);break e}}else for(k=t.child,k!==null&&(k.return=t);k!==null;){var J=k.dependencies;if(J!==null){G=k.child;for(var re=J.firstContext;re!==null;){if(re.context===s){if(k.tag===1){re=Ur(-1,i&-i),re.tag=2;var ge=k.updateQueue;if(ge!==null){ge=ge.shared;var Ee=ge.pending;Ee===null?re.next=re:(re.next=Ee.next,Ee.next=re),ge.pending=re}}k.lanes|=i,re=k.alternate,re!==null&&(re.lanes|=i),Dr(k.return,i,t),J.lanes|=i;break}re=re.next}}else if(k.tag===10)G=k.type===t.type?null:k.child;else if(k.tag===18){if(G=k.return,G===null)throw Error(c(341));G.lanes|=i,J=G.alternate,J!==null&&(J.lanes|=i),Dr(G,i,t),G=k.sibling}else G=k.child;if(G!==null)G.return=k;else for(G=k;G!==null;){if(G===t){G=null;break}if(k=G.sibling,k!==null){k.return=G.return,G=k;break}G=G.return}k=G}se(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,s=t.pendingProps.children,ms(t,i),d=Pr(d),s=s(d),t.flags|=1,se(e,t,s,i),t.child;case 14:return s=t.type,d=Ot(s,t.pendingProps),d=Ot(s.type,d),Re(e,t,s,d,i);case 15:return ze(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Ot(s,d),ti(e,t),t.tag=1,jn(s)?(e=!0,To(t)):e=!1,ms(t,i),Qt(t,s,d),on(t,s,d,i),Bn(null,t,s,!0,e,i);case 19:return Ct(e,t,i);case 22:return tt(e,t,i)}throw Error(c(156,t.tag))};function mh(e,t){return st(e,t)}function E1(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,i,s){return new E1(e,t,i,s)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k1(e){if(typeof e=="function")return nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===B)return 14}return 2}function Ms(e,t){var i=e.alternate;return i===null?(i=vi(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function hd(e,t,i,s,d,k){var G=2;if(s=e,typeof e=="function")nf(e)&&(G=1);else if(typeof e=="string")G=5;else e:switch(e){case K:return _a(i.children,d,k,t);case U:G=8,d|=8;break;case W:return e=vi(12,i,t,d|2),e.elementType=W,e.lanes=k,e;case F:return e=vi(13,i,t,d),e.elementType=F,e.lanes=k,e;case j:return e=vi(19,i,t,d),e.elementType=j,e.lanes=k,e;case X:return pd(i,d,k,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:G=10;break e;case Y:G=9;break e;case ie:G=11;break e;case B:G=14;break e;case Q:G=16,s=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=vi(G,i,t,d),t.elementType=e,t.type=s,t.lanes=k,t}function _a(e,t,i,s){return e=vi(7,e,s,t),e.lanes=i,e}function pd(e,t,i,s){return e=vi(22,e,s,t),e.elementType=X,e.lanes=i,e.stateNode={isHidden:!1},e}function rf(e,t,i){return e=vi(6,e,null,t),e.lanes=i,e}function of(e,t,i){return t=vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P1(e,t,i,s,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gr(0),this.expirationTimes=gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function sf(e,t,i,s,d,k,G,J,re){return e=new P1(e,t,i,J,re),t===1?(t=1,k===!0&&(t|=8)):t=0,k=vi(3,null,null,t),e.current=k,k.stateNode=e,k.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ys(k),e}function R1(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function yh(e){if(!e)return ui;e=e._reactInternals;e:{if(Fe(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var i=e.type;if(jn(i))return nl(e,i,t)}return t}function _h(e,t,i,s,d,k,G,J,re){return e=sf(i,s,!0,e,d,k,G,J,re),e.context=yh(null),i=e.current,s=Ar(),d=As(i),k=Ur(s,d),k.callback=t??null,jr(i,k,d),e.current.lanes=d,Bs(e,d,s),Hr(e,s),e}function gd(e,t,i,s){var d=t.current,k=Ar(),G=As(d);return i=yh(i),t.context===null?t.context=i:t.pendingContext=i,t=Ur(k,G),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=jr(d,t,G),e!==null&&(Mi(e,d,G,k),_s(e,d,G)),G}function vd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function af(e,t){Sh(e,t),(e=e.alternate)&&Sh(e,t)}function T1(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function lf(e){this._internalRoot=e}md.prototype.render=lf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));gd(e,t,null,null)},md.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){gd(null,e,null,null)}),t[li]=null}};function md(e){this._internalRoot=e}md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<si.length&&t!==0&&t<si[i].priority;i++);si.splice(i,0,e),i===0&&Oa(e)}};function uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xh(){}function N1(e,t,i,s,d){if(d){if(typeof s=="function"){var k=s;s=function(){var ge=vd(G);k.call(ge)}}var G=_h(t,s,e,0,null,!1,!1,"",xh);return e._reactRootContainer=G,e[li]=G.current,xo(e.nodeType===8?e.parentNode:e),va(),G}for(;d=e.lastChild;)e.removeChild(d);if(typeof s=="function"){var J=s;s=function(){var ge=vd(re);J.call(ge)}}var re=sf(e,0,!1,null,null,!1,!1,"",xh);return e._reactRootContainer=re,e[li]=re.current,xo(e.nodeType===8?e.parentNode:e),va(function(){gd(t,re,i,s)}),re}function _d(e,t,i,s,d){var k=i._reactRootContainer;if(k){var G=k;if(typeof d=="function"){var J=d;d=function(){var re=vd(G);J.call(re)}}gd(t,G,e,d)}else G=N1(i,t,e,d,s);return vd(G)}Jo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=xn(t.pendingLanes);i!==0&&(Rl(t,i|1),Hr(t,qe()),(kt&6)===0&&(Sl=qe()+500,Xi()))}break;case 13:va(function(){var s=zr(e,1);if(s!==null){var d=Ar();Mi(s,e,1,d)}}),af(e,1)}},Zo=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var i=Ar();Mi(t,e,134217728,i)}af(e,134217728)}},xc=function(e){if(e.tag===13){var t=As(e),i=zr(e,t);if(i!==null){var s=Ar();Mi(i,e,t,s)}af(e,t)}},Cc=function(){return Et},Na=function(e,t){var i=Et;try{return Et=e,t()}finally{Et=i}},lo=function(e,t,i){switch(t){case"input":if(Dt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var d=kn(s);if(!d)throw Error(c(90));Ye(s),Dt(s,d)}}}break;case"textarea":fn(e,i);break;case"select":t=i.value,t!=null&&pt(e,!!i.multiple,t,!1)}},Ra=Zd,Qo=va;var A1={usingClientEntryPoint:!1,Events:[ra,gn,kn,js,Yo,Zd]},_u={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},O1={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ct(e),e===null?null:e.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||T1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Zt=Sd.inject(O1),yt=Sd}catch{}}return $r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1,$r.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(t))throw Error(c(200));return R1(e,t,null,i)},$r.createRoot=function(e,t){if(!uf(e))throw Error(c(299));var i=!1,s="",d=wh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=sf(e,1,!1,null,null,i,!1,s,d),e[li]=t.current,xo(e.nodeType===8?e.parentNode:e),new lf(t)},$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=ct(t),e=e===null?null:e.stateNode,e},$r.flushSync=function(e){return va(e)},$r.hydrate=function(e,t,i){if(!yd(t))throw Error(c(200));return _d(null,e,t,!0,i)},$r.hydrateRoot=function(e,t,i){if(!uf(e))throw Error(c(405));var s=i!=null&&i.hydratedSources||null,d=!1,k="",G=wh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(k=i.identifierPrefix),i.onRecoverableError!==void 0&&(G=i.onRecoverableError)),t=_h(t,null,e,1,i??null,d,!1,k,G),e[li]=t.current,xo(e),s)for(e=0;e<s.length;e++)i=s[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new md(t)},$r.render=function(e,t,i){if(!yd(t))throw Error(c(200));return _d(null,e,t,!1,i)},$r.unmountComponentAtNode=function(e){if(!yd(e))throw Error(c(40));return e._reactRootContainer?(va(function(){_d(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1},$r.unstable_batchedUpdates=Zd,$r.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!yd(i))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return _d(e,t,i,!1,s)},$r.version="18.2.0-next-9e3b772b8-20220608",$r}var Oh;function Tp(){if(Oh)return ff.exports;Oh=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(u){console.error(u)}}return a(),ff.exports=G1(),ff.exports}var Mh;function B1(){if(Mh)return wd;Mh=1;var a=Tp();return wd.createRoot=a.createRoot,wd.hydrateRoot=a.hydrateRoot,wd}var H1=B1();const $1=Pd(H1);Tp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(a){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var x in c)Object.prototype.hasOwnProperty.call(c,x)&&(a[x]=c[x])}return a},vc.apply(this,arguments)}var Ds;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Ds||(Ds={}));const Ih="popstate";function V1(a){a===void 0&&(a={});function u(x,A){let{pathname:_,search:p,hash:S}=x.location;return If("",{pathname:_,search:p,hash:S},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function c(x,A){return typeof A=="string"?A:Ap(A)}return W1(u,c,null,a)}function zn(a,u){if(a===!1||a===null||typeof a>"u")throw new Error(u)}function Np(a,u){if(!a){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function b1(){return Math.random().toString(36).substr(2,8)}function Lh(a,u){return{usr:a.state,key:a.key,idx:u}}function If(a,u,c,x){return c===void 0&&(c=null),vc({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof u=="string"?Cl(u):u,{state:c,key:u&&u.key||x||b1()})}function Ap(a){let{pathname:u="/",search:c="",hash:x=""}=a;return c&&c!=="?"&&(u+=c.charAt(0)==="?"?c:"?"+c),x&&x!=="#"&&(u+=x.charAt(0)==="#"?x:"#"+x),u}function Cl(a){let u={};if(a){let c=a.indexOf("#");c>=0&&(u.hash=a.substr(c),a=a.substr(0,c));let x=a.indexOf("?");x>=0&&(u.search=a.substr(x),a=a.substr(0,x)),a&&(u.pathname=a)}return u}function W1(a,u,c,x){x===void 0&&(x={});let{window:A=document.defaultView,v5Compat:_=!1}=x,p=A.history,S=Ds.Pop,R=null,w=P();w==null&&(w=0,p.replaceState(vc({},p.state,{idx:w}),""));function P(){return(p.state||{idx:null}).idx}function f(){S=Ds.Pop;let T=P(),D=T==null?null:T-w;w=T,R&&R({action:S,location:N.location,delta:D})}function C(T,D){S=Ds.Push;let E=If(N.location,T,D);w=P()+1;let v=Lh(E,w),O=N.createHref(E);try{p.pushState(v,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;A.location.assign(O)}_&&R&&R({action:S,location:N.location,delta:1})}function y(T,D){S=Ds.Replace;let E=If(N.location,T,D);w=P();let v=Lh(E,w),O=N.createHref(E);p.replaceState(v,"",O),_&&R&&R({action:S,location:N.location,delta:0})}function m(T){let D=A.location.origin!=="null"?A.location.origin:A.location.href,E=typeof T=="string"?T:Ap(T);return E=E.replace(/ $/,"%20"),zn(D,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,D)}let N={get action(){return S},get location(){return a(A,p)},listen(T){if(R)throw new Error("A history only accepts one active listener");return A.addEventListener(Ih,f),R=T,()=>{A.removeEventListener(Ih,f),R=null}},createHref(T){return u(A,T)},createURL:m,encodeLocation(T){let D=m(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:y,go(T){return p.go(T)}};return N}var Fh;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Fh||(Fh={}));function q1(a,u,c){return c===void 0&&(c="/"),K1(a,u,c)}function K1(a,u,c,x){let A=typeof u=="string"?Cl(u):u,_=Ip(A.pathname||"/",c);if(_==null)return null;let p=Op(a);Y1(p);let S=null;for(let R=0;S==null&&R<p.length;++R){let w=ag(_);S=ig(p[R],w)}return S}function Op(a,u,c,x){u===void 0&&(u=[]),c===void 0&&(c=[]),x===void 0&&(x="");let A=(_,p,S)=>{let R={relativePath:S===void 0?_.path||"":S,caseSensitive:_.caseSensitive===!0,childrenIndex:p,route:_};R.relativePath.startsWith("/")&&(zn(R.relativePath.startsWith(x),'Absolute route path "'+R.relativePath+'" nested under path '+('"'+x+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),R.relativePath=R.relativePath.slice(x.length));let w=Pa([x,R.relativePath]),P=c.concat(R);_.children&&_.children.length>0&&(zn(_.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Op(_.children,u,P,w)),!(_.path==null&&!_.index)&&u.push({path:w,score:ng(w,_.index),routesMeta:P})};return a.forEach((_,p)=>{var S;if(_.path===""||!((S=_.path)!=null&&S.includes("?")))A(_,p);else for(let R of Mp(_.path))A(_,p,R)}),u}function Mp(a){let u=a.split("/");if(u.length===0)return[];let[c,...x]=u,A=c.endsWith("?"),_=c.replace(/\?$/,"");if(x.length===0)return A?[_,""]:[_];let p=Mp(x.join("/")),S=[];return S.push(...p.map(R=>R===""?_:[_,R].join("/"))),A&&S.push(...p),S.map(R=>a.startsWith("/")&&R===""?"/":R)}function Y1(a){a.sort((u,c)=>u.score!==c.score?c.score-u.score:rg(u.routesMeta.map(x=>x.childrenIndex),c.routesMeta.map(x=>x.childrenIndex)))}const Q1=/^:[\w-]+$/,X1=3,J1=2,Z1=1,eg=10,tg=-2,Dh=a=>a==="*";function ng(a,u){let c=a.split("/"),x=c.length;return c.some(Dh)&&(x+=tg),u&&(x+=J1),c.filter(A=>!Dh(A)).reduce((A,_)=>A+(Q1.test(_)?X1:_===""?Z1:eg),x)}function rg(a,u){return a.length===u.length&&a.slice(0,-1).every((x,A)=>x===u[A])?a[a.length-1]-u[u.length-1]:0}function ig(a,u,c){let{routesMeta:x}=a,A={},_="/",p=[];for(let S=0;S<x.length;++S){let R=x[S],w=S===x.length-1,P=_==="/"?u:u.slice(_.length)||"/",f=og({path:R.relativePath,caseSensitive:R.caseSensitive,end:w},P),C=R.route;if(!f)return null;Object.assign(A,f.params),p.push({params:A,pathname:Pa([_,f.pathname]),pathnameBase:hg(Pa([_,f.pathnameBase])),route:C}),f.pathnameBase!=="/"&&(_=Pa([_,f.pathnameBase]))}return p}function og(a,u){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[c,x]=sg(a.path,a.caseSensitive,a.end),A=u.match(c);if(!A)return null;let _=A[0],p=_.replace(/(.)\/+$/,"$1"),S=A.slice(1);return{params:x.reduce((w,P,f)=>{let{paramName:C,isOptional:y}=P;if(C==="*"){let N=S[f]||"";p=_.slice(0,_.length-N.length).replace(/(.)\/+$/,"$1")}const m=S[f];return y&&!m?w[C]=void 0:w[C]=(m||"").replace(/%2F/g,"/"),w},{}),pathname:_,pathnameBase:p,pattern:a}}function sg(a,u,c){u===void 0&&(u=!1),c===void 0&&(c=!0),Np(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let x=[],A="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,S,R)=>(x.push({paramName:S,isOptional:R!=null}),R?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(x.push({paramName:"*"}),A+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?A+="\\/*$":a!==""&&a!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,u?void 0:"i"),x]}function ag(a){try{return a.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return Np(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+u+").")),a}}function Ip(a,u){if(u==="/")return a;if(!a.toLowerCase().startsWith(u.toLowerCase()))return null;let c=u.endsWith("/")?u.length-1:u.length,x=a.charAt(c);return x&&x!=="/"?null:a.slice(c)||"/"}function lg(a,u){u===void 0&&(u="/");let{pathname:c,search:x="",hash:A=""}=typeof a=="string"?Cl(a):a;return{pathname:c?c.startsWith("/")?c:ug(c,u):u,search:pg(x),hash:gg(A)}}function ug(a,u){let c=u.replace(/\/+$/,"").split("/");return a.split("/").forEach(A=>{A===".."?c.length>1&&c.pop():A!=="."&&c.push(A)}),c.length>1?c.join("/"):"/"}function gf(a,u,c,x){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+u+"` field ["+JSON.stringify(x)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cg(a){return a.filter((u,c)=>c===0||u.route.path&&u.route.path.length>0)}function dg(a,u){let c=cg(a);return u?c.map((x,A)=>A===c.length-1?x.pathname:x.pathnameBase):c.map(x=>x.pathnameBase)}function fg(a,u,c,x){x===void 0&&(x=!1);let A;typeof a=="string"?A=Cl(a):(A=vc({},a),zn(!A.pathname||!A.pathname.includes("?"),gf("?","pathname","search",A)),zn(!A.pathname||!A.pathname.includes("#"),gf("#","pathname","hash",A)),zn(!A.search||!A.search.includes("#"),gf("#","search","hash",A)));let _=a===""||A.pathname==="",p=_?"/":A.pathname,S;if(p==null)S=c;else{let f=u.length-1;if(!x&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),f-=1;A.pathname=C.join("/")}S=f>=0?u[f]:"/"}let R=lg(A,S),w=p&&p!=="/"&&p.endsWith("/"),P=(_||p===".")&&c.endsWith("/");return!R.pathname.endsWith("/")&&(w||P)&&(R.pathname+="/"),R}const Pa=a=>a.join("/").replace(/\/\/+/g,"/"),hg=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),pg=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,gg=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function vg(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Lp=["post","put","patch","delete"];new Set(Lp);const mg=["get",...Lp];new Set(mg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(a){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var x in c)Object.prototype.hasOwnProperty.call(c,x)&&(a[x]=c[x])}return a},mc.apply(this,arguments)}const Uf=Ce.createContext(null),yg=Ce.createContext(null),Td=Ce.createContext(null),Nd=Ce.createContext(null),El=Ce.createContext({outlet:null,matches:[],isDataRoute:!1}),Fp=Ce.createContext(null);function Ad(){return Ce.useContext(Nd)!=null}function Dp(){return Ad()||zn(!1),Ce.useContext(Nd).location}function zp(a){Ce.useContext(Td).static||Ce.useLayoutEffect(a)}function Up(){let{isDataRoute:a}=Ce.useContext(El);return a?Og():_g()}function _g(){Ad()||zn(!1);let a=Ce.useContext(Uf),{basename:u,future:c,navigator:x}=Ce.useContext(Td),{matches:A}=Ce.useContext(El),{pathname:_}=Dp(),p=JSON.stringify(dg(A,c.v7_relativeSplatPath)),S=Ce.useRef(!1);return zp(()=>{S.current=!0}),Ce.useCallback(function(w,P){if(P===void 0&&(P={}),!S.current)return;if(typeof w=="number"){x.go(w);return}let f=fg(w,JSON.parse(p),_,P.relative==="path");a==null&&u!=="/"&&(f.pathname=f.pathname==="/"?u:Pa([u,f.pathname])),(P.replace?x.replace:x.push)(f,P.state,P)},[u,x,p,_,a])}function Sg(a,u){return wg(a,u)}function wg(a,u,c,x){Ad()||zn(!1);let{navigator:A,static:_}=Ce.useContext(Td),{matches:p}=Ce.useContext(El),S=p[p.length-1],R=S?S.params:{};S&&S.pathname;let w=S?S.pathnameBase:"/";S&&S.route;let P=Dp(),f;if(u){var C;let D=typeof u=="string"?Cl(u):u;w==="/"||(C=D.pathname)!=null&&C.startsWith(w)||zn(!1),f=D}else f=P;let y=f.pathname||"/",m=y;if(w!=="/"){let D=w.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=q1(a,{pathname:m}),T=Pg(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},R,D.params),pathname:Pa([w,A.encodeLocation?A.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?w:Pa([w,A.encodeLocation?A.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),p,c,x);return u&&T?Ce.createElement(Nd.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ds.Pop}},T):T}function xg(){let a=Ag(),u=vg(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),c=a instanceof Error?a.stack:null,A={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ce.createElement(Ce.Fragment,null,Ce.createElement("h2",null,"Unexpected Application Error!"),Ce.createElement("h3",{style:{fontStyle:"italic"}},u),c?Ce.createElement("pre",{style:A},c):null,null)}const Cg=Ce.createElement(xg,null);class Eg extends Ce.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,c){return c.location!==u.location||c.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:c.error,location:c.location,revalidation:u.revalidation||c.revalidation}}componentDidCatch(u,c){console.error("React Router caught the following error during render",u,c)}render(){return this.state.error!==void 0?Ce.createElement(El.Provider,{value:this.props.routeContext},Ce.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kg(a){let{routeContext:u,match:c,children:x}=a,A=Ce.useContext(Uf);return A&&A.static&&A.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=c.route.id),Ce.createElement(El.Provider,{value:u},x)}function Pg(a,u,c,x){var A;if(u===void 0&&(u=[]),c===void 0&&(c=null),x===void 0&&(x=null),a==null){var _;if(!c)return null;if(c.errors)a=c.matches;else if((_=x)!=null&&_.v7_partialHydration&&u.length===0&&!c.initialized&&c.matches.length>0)a=c.matches;else return null}let p=a,S=(A=c)==null?void 0:A.errors;if(S!=null){let P=p.findIndex(f=>f.route.id&&(S==null?void 0:S[f.route.id])!==void 0);P>=0||zn(!1),p=p.slice(0,Math.min(p.length,P+1))}let R=!1,w=-1;if(c&&x&&x.v7_partialHydration)for(let P=0;P<p.length;P++){let f=p[P];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(w=P),f.route.id){let{loaderData:C,errors:y}=c,m=f.route.loader&&C[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||m){R=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((P,f,C)=>{let y,m=!1,N=null,T=null;c&&(y=S&&f.route.id?S[f.route.id]:void 0,N=f.route.errorElement||Cg,R&&(w<0&&C===0?(Mg("route-fallback"),m=!0,T=null):w===C&&(m=!0,T=f.route.hydrateFallbackElement||null)));let D=u.concat(p.slice(0,C+1)),E=()=>{let v;return y?v=N:m?v=T:f.route.Component?v=Ce.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=P,Ce.createElement(kg,{match:f,routeContext:{outlet:P,matches:D,isDataRoute:c!=null},children:v})};return c&&(f.route.ErrorBoundary||f.route.errorElement||C===0)?Ce.createElement(Eg,{location:c.location,revalidation:c.revalidation,component:N,error:y,children:E(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):E()},null)}var jp=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(jp||{}),Gp=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(Gp||{});function Rg(a){let u=Ce.useContext(Uf);return u||zn(!1),u}function Tg(a){let u=Ce.useContext(yg);return u||zn(!1),u}function Ng(a){let u=Ce.useContext(El);return u||zn(!1),u}function Bp(a){let u=Ng(),c=u.matches[u.matches.length-1];return c.route.id||zn(!1),c.route.id}function Ag(){var a;let u=Ce.useContext(Fp),c=Tg(),x=Bp();return u!==void 0?u:(a=c.errors)==null?void 0:a[x]}function Og(){let{router:a}=Rg(jp.UseNavigateStable),u=Bp(Gp.UseNavigateStable),c=Ce.useRef(!1);return zp(()=>{c.current=!0}),Ce.useCallback(function(A,_){_===void 0&&(_={}),c.current&&(typeof A=="number"?a.navigate(A):a.navigate(A,mc({fromRouteId:u},_)))},[a,u])}const zh={};function Mg(a,u,c){zh[a]||(zh[a]=!0)}function Ig(a,u){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function Cd(a){zn(!1)}function Lg(a){let{basename:u="/",children:c=null,location:x,navigationType:A=Ds.Pop,navigator:_,static:p=!1,future:S}=a;Ad()&&zn(!1);let R=u.replace(/^\/*/,"/"),w=Ce.useMemo(()=>({basename:R,navigator:_,static:p,future:mc({v7_relativeSplatPath:!1},S)}),[R,S,_,p]);typeof x=="string"&&(x=Cl(x));let{pathname:P="/",search:f="",hash:C="",state:y=null,key:m="default"}=x,N=Ce.useMemo(()=>{let T=Ip(P,R);return T==null?null:{location:{pathname:T,search:f,hash:C,state:y,key:m},navigationType:A}},[R,P,f,C,y,m,A]);return N==null?null:Ce.createElement(Td.Provider,{value:w},Ce.createElement(Nd.Provider,{children:c,value:N}))}function Fg(a){let{children:u,location:c}=a;return Sg(Lf(u),c)}new Promise(()=>{});function Lf(a,u){u===void 0&&(u=[]);let c=[];return Ce.Children.forEach(a,(x,A)=>{if(!Ce.isValidElement(x))return;let _=[...u,A];if(x.type===Ce.Fragment){c.push.apply(c,Lf(x.props.children,_));return}x.type!==Cd&&zn(!1),!x.props.index||!x.props.children||zn(!1);let p={id:x.props.id||_.join("-"),caseSensitive:x.props.caseSensitive,element:x.props.element,Component:x.props.Component,index:x.props.index,path:x.props.path,loader:x.props.loader,action:x.props.action,errorElement:x.props.errorElement,ErrorBoundary:x.props.ErrorBoundary,hasErrorBoundary:x.props.ErrorBoundary!=null||x.props.errorElement!=null,shouldRevalidate:x.props.shouldRevalidate,handle:x.props.handle,lazy:x.props.lazy};x.props.children&&(p.children=Lf(x.props.children,_)),c.push(p)}),c}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Dg="6";try{window.__reactRouterVersion=Dg}catch{}const zg="startTransition",Uh=U1[zg];function Ug(a){let{basename:u,children:c,future:x,window:A}=a,_=Ce.useRef();_.current==null&&(_.current=V1({window:A,v5Compat:!0}));let p=_.current,[S,R]=Ce.useState({action:p.action,location:p.location}),{v7_startTransition:w}=x||{},P=Ce.useCallback(f=>{w&&Uh?Uh(()=>R(f)):R(f)},[R,w]);return Ce.useLayoutEffect(()=>p.listen(P),[p,P]),Ce.useEffect(()=>Ig(x),[x]),Ce.createElement(Lg,{basename:u,children:c,location:S.location,navigationType:S.action,navigator:p,future:x})}var jh;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(jh||(jh={}));var Gh;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));function jg(){const[a,u]=Ce.useState(""),c=Up(),x=A=>{A.preventDefault(),a.trim()&&(sessionStorage.setItem("username",a.trim()),c("/tanki.io/controller"))};return le.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:le.jsxs("div",{className:"max-w-md w-full backdrop-blur-sm bg-white/10 rounded-xl shadow-2xl p-8 border border-white/20",children:[le.jsxs("div",{className:"text-center mb-8",children:[le.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 mb-2",children:"TANK.IO"}),le.jsx("p",{className:"text-gray-300 text-lg",children:"Dominate the battlefield!"})]}),le.jsxs("form",{onSubmit:x,className:"space-y-6",children:[le.jsxs("div",{children:[le.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-1",children:"COMMANDER NAME"}),le.jsx("input",{type:"text",id:"username",value:a,onChange:A=>u(A.target.value),className:"w-full px-4 py-3 bg-gray-800/50 rounded-lg border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),le.jsx("button",{type:"submit",className:"w-full py-3 px-4 rounded-lg font-bold text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transform transition hover:scale-105 shadow-lg",children:"DEPLOY TANK"})]}),le.jsx("div",{className:"mt-8 text-center",children:le.jsx("button",{onClick:()=>c("/tanki.io/game"),className:"text-sm text-indigo-300 hover:text-indigo-200 underline hover:cursor-pointer",children:"Open Game Screen (Spectator Mode)"})}),le.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[le.jsx("h3",{className:"text-gray-300 font-semibold mb-2",children:"How to Play:"}),le.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[le.jsx("li",{children:" Enter your name and hit DEPLOY TANK"}),le.jsx("li",{children:" Control your tank using the arrow buttons"}),le.jsx("li",{children:" Press the SHOOT button to fire"}),le.jsx("li",{children:" Hit enemy tanks to reduce their HP"}),le.jsx("li",{children:" Last tank standing wins!"})]})]})]})})}var vf={},Bh={},Hh;function Gg(){return Hh||(Hh=1,ArrayBuffer.isView||(ArrayBuffer.isView=a=>a!==null&&typeof a=="object"&&a.buffer instanceof ArrayBuffer),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window)),Bh}var jo={},mf={},$h;function jf(){return $h||($h=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ServerError=a.CloseCode=void 0,function(c){c[c.CONSENTED=4e3]="CONSENTED",c[c.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(a.CloseCode||(a.CloseCode={}));class u extends Error{constructor(x,A){super(A),this.name="ServerError",this.code=x}}a.ServerError=u}(mf)),mf}var Ii={},Sa={},Vh;function Bg(){if(Vh)return Sa;Vh=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.decode=Sa.encode=void 0;function a(w,P){if(this._offset=P,w instanceof ArrayBuffer)this._buffer=w,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(w))this._buffer=w.buffer,this._view=new DataView(this._buffer,w.byteOffset,w.byteLength);else throw new Error("Invalid argument")}function u(w,P,f){for(var C="",y=0,m=P,N=P+f;m<N;m++){var T=w.getUint8(m);if((T&128)===0){C+=String.fromCharCode(T);continue}if((T&224)===192){C+=String.fromCharCode((T&31)<<6|w.getUint8(++m)&63);continue}if((T&240)===224){C+=String.fromCharCode((T&15)<<12|(w.getUint8(++m)&63)<<6|(w.getUint8(++m)&63)<<0);continue}if((T&248)===240){y=(T&7)<<18|(w.getUint8(++m)&63)<<12|(w.getUint8(++m)&63)<<6|(w.getUint8(++m)&63)<<0,y>=65536?(y-=65536,C+=String.fromCharCode((y>>>10)+55296,(y&1023)+56320)):C+=String.fromCharCode(y);continue}throw new Error("Invalid byte "+T.toString(16))}return C}a.prototype._array=function(w){for(var P=new Array(w),f=0;f<w;f++)P[f]=this._parse();return P},a.prototype._map=function(w){for(var P="",f={},C=0;C<w;C++)P=this._parse(),f[P]=this._parse();return f},a.prototype._str=function(w){var P=u(this._view,this._offset,w);return this._offset+=w,P},a.prototype._bin=function(w){var P=this._buffer.slice(this._offset,this._offset+w);return this._offset+=w,P},a.prototype._parse=function(){var w=this._view.getUint8(this._offset++),P,f=0,C=0,y=0,m=0;if(w<192)return w<128?w:w<144?this._map(w&15):w<160?this._array(w&15):this._str(w&31);if(w>223)return(255-w+1)*-1;switch(w){case 192:return null;case 194:return!1;case 195:return!0;case 196:return f=this._view.getUint8(this._offset),this._offset+=1,this._bin(f);case 197:return f=this._view.getUint16(this._offset),this._offset+=2,this._bin(f);case 198:return f=this._view.getUint32(this._offset),this._offset+=4,this._bin(f);case 199:if(f=this._view.getUint8(this._offset),C=this._view.getInt8(this._offset+1),this._offset+=2,C===-1){var N=this._view.getUint32(this._offset);return y=this._view.getInt32(this._offset+4),m=this._view.getUint32(this._offset+8),this._offset+=12,new Date((y*4294967296+m)*1e3+N/1e6)}return[C,this._bin(f)];case 200:return f=this._view.getUint16(this._offset),C=this._view.getInt8(this._offset+2),this._offset+=3,[C,this._bin(f)];case 201:return f=this._view.getUint32(this._offset),C=this._view.getInt8(this._offset+4),this._offset+=5,[C,this._bin(f)];case 202:return P=this._view.getFloat32(this._offset),this._offset+=4,P;case 203:return P=this._view.getFloat64(this._offset),this._offset+=8,P;case 204:return P=this._view.getUint8(this._offset),this._offset+=1,P;case 205:return P=this._view.getUint16(this._offset),this._offset+=2,P;case 206:return P=this._view.getUint32(this._offset),this._offset+=4,P;case 207:return y=this._view.getUint32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,y+m;case 208:return P=this._view.getInt8(this._offset),this._offset+=1,P;case 209:return P=this._view.getInt16(this._offset),this._offset+=2,P;case 210:return P=this._view.getInt32(this._offset),this._offset+=4,P;case 211:return y=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,y+m;case 212:if(C=this._view.getInt8(this._offset),this._offset+=1,C===0){this._offset+=1;return}return[C,this._bin(1)];case 213:return C=this._view.getInt8(this._offset),this._offset+=1,[C,this._bin(2)];case 214:return C=this._view.getInt8(this._offset),this._offset+=1,C===-1?(P=this._view.getUint32(this._offset),this._offset+=4,new Date(P*1e3)):[C,this._bin(4)];case 215:if(C=this._view.getInt8(this._offset),this._offset+=1,C===0)return y=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,new Date(y+m);if(C===-1){y=this._view.getUint32(this._offset),m=this._view.getUint32(this._offset+4),this._offset+=8;var T=(y&3)*4294967296+m;return new Date(T*1e3+(y>>>2)/1e6)}return[C,this._bin(8)];case 216:return C=this._view.getInt8(this._offset),this._offset+=1,[C,this._bin(16)];case 217:return f=this._view.getUint8(this._offset),this._offset+=1,this._str(f);case 218:return f=this._view.getUint16(this._offset),this._offset+=2,this._str(f);case 219:return f=this._view.getUint32(this._offset),this._offset+=4,this._str(f);case 220:return f=this._view.getUint16(this._offset),this._offset+=2,this._array(f);case 221:return f=this._view.getUint32(this._offset),this._offset+=4,this._array(f);case 222:return f=this._view.getUint16(this._offset),this._offset+=2,this._map(f);case 223:return f=this._view.getUint32(this._offset),this._offset+=4,this._map(f)}throw new Error("Could not parse")};function c(w,P=0){var f=new a(w,P),C=f._parse();if(f._offset!==w.byteLength)throw new Error(w.byteLength-f._offset+" trailing bytes");return C}Sa.decode=c;var x=4294967296-1,A=17179869184-1;function _(w,P,f){for(var C=0,y=0,m=f.length;y<m;y++)C=f.charCodeAt(y),C<128?w.setUint8(P++,C):C<2048?(w.setUint8(P++,192|C>>6),w.setUint8(P++,128|C&63)):C<55296||C>=57344?(w.setUint8(P++,224|C>>12),w.setUint8(P++,128|C>>6&63),w.setUint8(P++,128|C&63)):(y++,C=65536+((C&1023)<<10|f.charCodeAt(y)&1023),w.setUint8(P++,240|C>>18),w.setUint8(P++,128|C>>12&63),w.setUint8(P++,128|C>>6&63),w.setUint8(P++,128|C&63))}function p(w){for(var P=0,f=0,C=0,y=w.length;C<y;C++)P=w.charCodeAt(C),P<128?f+=1:P<2048?f+=2:P<55296||P>=57344?f+=3:(C++,f+=4);return f}function S(w,P,f){var C=typeof f,y=0,m=0,N=0,T=0,D=0,E=0;if(C==="string"){if(D=p(f),D<32)w.push(D|160),E=1;else if(D<256)w.push(217,D),E=2;else if(D<65536)w.push(218,D>>8,D),E=3;else if(D<4294967296)w.push(219,D>>24,D>>16,D>>8,D),E=5;else throw new Error("String too long");return P.push({_str:f,_length:D,_offset:w.length}),E+D}if(C==="number")return Math.floor(f)!==f||!isFinite(f)?(w.push(203),P.push({_float:f,_length:8,_offset:w.length}),9):f>=0?f<128?(w.push(f),1):f<256?(w.push(204,f),2):f<65536?(w.push(205,f>>8,f),3):f<4294967296?(w.push(206,f>>24,f>>16,f>>8,f),5):(N=f/Math.pow(2,32)>>0,T=f>>>0,w.push(207,N>>24,N>>16,N>>8,N,T>>24,T>>16,T>>8,T),9):f>=-32?(w.push(f),1):f>=-128?(w.push(208,f),2):f>=-32768?(w.push(209,f>>8,f),3):f>=-2147483648?(w.push(210,f>>24,f>>16,f>>8,f),5):(N=Math.floor(f/Math.pow(2,32)),T=f>>>0,w.push(211,N>>24,N>>16,N>>8,N,T>>24,T>>16,T>>8,T),9);if(C==="object"){if(f===null)return w.push(192),1;if(Array.isArray(f)){if(D=f.length,D<16)w.push(D|144),E=1;else if(D<65536)w.push(220,D>>8,D),E=3;else if(D<4294967296)w.push(221,D>>24,D>>16,D>>8,D),E=5;else throw new Error("Array too large");for(y=0;y<D;y++)E+=S(w,P,f[y]);return E}if(f instanceof Date){var v=f.getTime(),O=Math.floor(v/1e3),z=(v-O*1e3)*1e6;return O>=0&&z>=0&&O<=A?z===0&&O<=x?(w.push(214,255,O>>24,O>>16,O>>8,O),6):(N=O/4294967296,T=O&4294967295,w.push(215,255,z>>22,z>>14,z>>6,N,T>>24,T>>16,T>>8,T),10):(N=Math.floor(O/4294967296),T=O>>>0,w.push(199,12,255,z>>24,z>>16,z>>8,z,N>>24,N>>16,N>>8,N,T>>24,T>>16,T>>8,T),15)}if(f instanceof ArrayBuffer){if(D=f.byteLength,D<256)w.push(196,D),E=2;else if(D<65536)w.push(197,D>>8,D),E=3;else if(D<4294967296)w.push(198,D>>24,D>>16,D>>8,D),E=5;else throw new Error("Buffer too large");return P.push({_bin:f,_length:D,_offset:w.length}),E+D}if(typeof f.toJSON=="function")return S(w,P,f.toJSON());var q=[],K="",U=Object.keys(f);for(y=0,m=U.length;y<m;y++)K=U[y],f[K]!==void 0&&typeof f[K]!="function"&&q.push(K);if(D=q.length,D<16)w.push(D|128),E=1;else if(D<65536)w.push(222,D>>8,D),E=3;else if(D<4294967296)w.push(223,D>>24,D>>16,D>>8,D),E=5;else throw new Error("Object too large");for(y=0;y<D;y++)K=q[y],E+=S(w,P,K),E+=S(w,P,f[K]);return E}if(C==="boolean")return w.push(f?195:194),1;if(C==="undefined")return w.push(192),1;if(typeof f.toJSON=="function")return S(w,P,f.toJSON());throw new Error("Could not encode")}function R(w){var P=[],f=[],C=S(P,f,w),y=new ArrayBuffer(C),m=new DataView(y),N=0,T=0,D=-1;f.length>0&&(D=f[0]._offset);for(var E,v=0,O=0,z=0,q=P.length;z<q;z++)if(m.setUint8(T+z,P[z]),z+1===D){if(E=f[N],v=E._length,O=T+D,E._bin)for(var K=new Uint8Array(E._bin),U=0;U<v;U++)m.setUint8(O+U,K[U]);else E._str?_(m,O,E._str):E._float!==void 0&&m.setFloat64(O,E._float);N++,T+=v,f[N]&&(D=f[N]._offset)}return y}return Sa.encode=R,Sa}var wu={},wa={},yf,bh;function Hg(){return bh||(bh=1,yf=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),yf}var Wh;function $g(){if(Wh)return wa;Wh=1;var a=wa&&wa.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.WebSocketTransport=void 0;const u=a(Hg()),c=globalThis.WebSocket||u.default;let x=class{constructor(_){this.events=_}send(_){_ instanceof ArrayBuffer?this.ws.send(_):Array.isArray(_)&&this.ws.send(new Uint8Array(_).buffer)}connect(_){this.ws=new c(_,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(_,p){this.ws.close(_,p)}get isOpen(){return this.ws.readyState===c.OPEN}};return wa.WebSocketTransport=x,wa}var qh;function Vg(){if(qh)return wu;qh=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.Connection=void 0;const a=$g();let u=class{constructor(){this.events={},this.transport=new a.WebSocketTransport(this.events)}send(x){this.transport.send(x)}connect(x){this.transport.connect(x)}close(x,A){this.transport.close(x,A)}get isOpen(){return this.transport.isOpen}};return wu.Connection=u,wu}var _f={},Kh;function Hp(){return Kh||(Kh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.utf8Length=a.utf8Read=a.ErrorCode=a.Protocol=void 0,function(x){x[x.HANDSHAKE=9]="HANDSHAKE",x[x.JOIN_ROOM=10]="JOIN_ROOM",x[x.ERROR=11]="ERROR",x[x.LEAVE_ROOM=12]="LEAVE_ROOM",x[x.ROOM_DATA=13]="ROOM_DATA",x[x.ROOM_STATE=14]="ROOM_STATE",x[x.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",x[x.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",x[x.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(a.Protocol||(a.Protocol={})),function(x){x[x.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",x[x.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",x[x.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",x[x.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",x[x.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",x[x.AUTH_FAILED=4215]="AUTH_FAILED",x[x.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(a.ErrorCode||(a.ErrorCode={}));function u(x,A){const _=x[A++];for(var p="",S=0,R=A,w=A+_;R<w;R++){var P=x[R];if((P&128)===0){p+=String.fromCharCode(P);continue}if((P&224)===192){p+=String.fromCharCode((P&31)<<6|x[++R]&63);continue}if((P&240)===224){p+=String.fromCharCode((P&15)<<12|(x[++R]&63)<<6|(x[++R]&63)<<0);continue}if((P&248)===240){S=(P&7)<<18|(x[++R]&63)<<12|(x[++R]&63)<<6|(x[++R]&63)<<0,S>=65536?(S-=65536,p+=String.fromCharCode((S>>>10)+55296,(S&1023)+56320)):p+=String.fromCharCode(S);continue}throw new Error("Invalid byte "+P.toString(16))}return p}a.utf8Read=u;function c(x=""){let A=0,_=0;for(let p=0,S=x.length;p<S;p++)A=x.charCodeAt(p),A<128?_+=1:A<2048?_+=2:A<55296||A>=57344?_+=3:(p++,_+=4);return _+1}a.utf8Length=c}(_f)),_f}var xa={},Yh;function $p(){if(Yh)return xa;Yh=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.getSerializer=xa.registerSerializer=void 0;const a={};function u(x,A){a[x]=A}xa.registerSerializer=u;function c(x){const A=a[x];if(!A)throw new Error("missing serializer: "+x);return A}return xa.getSerializer=c,xa}var xu={},Qh;function Vp(){if(Qh)return xu;Qh=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.createNanoEvents=void 0;const a=()=>({emit(u,...c){let x=this.events[u]||[];for(let A=0,_=x.length;A<_;A++)x[A](...c)},events:{},on(u,c){var x;return!((x=this.events[u])===null||x===void 0)&&x.push(c)||(this.events[u]=[c]),()=>{var A;this.events[u]=(A=this.events[u])===null||A===void 0?void 0:A.filter(_=>c!==_)}}});return xu.createNanoEvents=a,xu}var Ca={},Xh;function bg(){if(Xh)return Ca;Xh=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.createSignal=Ca.EventEmitter=void 0;class a{constructor(){this.handlers=[]}register(x,A=!1){return this.handlers.push(x),this}invoke(...x){this.handlers.forEach(A=>A.apply(this,x))}invokeAsync(...x){return Promise.all(this.handlers.map(A=>A.apply(this,x)))}remove(x){const A=this.handlers.indexOf(x);this.handlers[A]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}Ca.EventEmitter=a;function u(){const c=new a;function x(A){return c.register(A,this===null)}return x.once=A=>{const _=function(...p){A.apply(this,p),c.remove(_)};c.register(_)},x.remove=A=>c.remove(A),x.invoke=(...A)=>c.invoke(...A),x.invokeAsync=(...A)=>c.invokeAsync(...A),x.clear=()=>c.clear(),x}return Ca.createSignal=u,Ca}var pc={exports:{}},Wg=pc.exports,Jh;function bp(){return Jh||(Jh=1,function(a,u){(function(c,x){x(u)})(Wg,function(c){var x=function(M,h){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,H){L.__proto__=H}||function(L,H){for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&(L[ue]=H[ue])},x(M,h)};function A(M,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");x(M,h);function L(){this.constructor=M}M.prototype=h===null?Object.create(h):(L.prototype=h.prototype,new L)}function _(M,h,L,H){var ue=arguments.length,_e=ue<3?h:H,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(M,h,L,H);else for(var Fe=M.length-1;Fe>=0;Fe--)(be=M[Fe])&&(_e=(ue<3?be(_e):ue>3?be(h,L,_e):be(h,L))||_e);return ue>3&&_e&&Object.defineProperty(h,L,_e),_e}function p(M,h,L){if(arguments.length===2)for(var H=0,ue=h.length,_e;H<ue;H++)(_e||!(H in h))&&(_e||(_e=Array.prototype.slice.call(h,0,H)),_e[H]=h[H]);return M.concat(_e||Array.prototype.slice.call(h))}typeof SuppressedError=="function"&&SuppressedError;var S=255,R=213;c.OPERATION=void 0,function(M){M[M.ADD=128]="ADD",M[M.REPLACE=0]="REPLACE",M[M.DELETE=64]="DELETE",M[M.DELETE_AND_ADD=192]="DELETE_AND_ADD",M[M.TOUCH=1]="TOUCH",M[M.CLEAR=10]="CLEAR"}(c.OPERATION||(c.OPERATION={}));var w=function(){function M(h,L,H){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=h,this.setParent(L,H)}return M.prototype.setParent=function(h,L,H){var ue=this;if(this.indexes||(this.indexes=this.ref instanceof Nn?this.ref._definition.indexes:{}),this.parent=h,this.parentIndex=H,!!L)if(this.root=L,this.ref instanceof Nn){var _e=this.ref._definition;for(var be in _e.schema){var Fe=this.ref[be];if(Fe&&Fe.$changes){var ft=_e.indexes[be];Fe.$changes.setParent(this.ref,L,ft)}}}else typeof this.ref=="object"&&this.ref.forEach(function(ut,We){if(ut instanceof Nn){var ct=ut.$changes,$e=ue.ref.$changes.indexes[We];ct.setParent(ue.ref,ue.root,$e)}})},M.prototype.operation=function(h){this.changes.set(--this.currentCustomOperation,h)},M.prototype.change=function(h,L){L===void 0&&(L=c.OPERATION.ADD);var H=typeof h=="number"?h:this.indexes[h];this.assertValidIndex(H,h);var ue=this.changes.get(H);(!ue||ue.op===c.OPERATION.DELETE||ue.op===c.OPERATION.TOUCH)&&this.changes.set(H,{op:ue&&ue.op===c.OPERATION.DELETE?c.OPERATION.DELETE_AND_ADD:L,index:H}),this.allChanges.add(H),this.changed=!0,this.touchParents()},M.prototype.touch=function(h){var L=typeof h=="number"?h:this.indexes[h];this.assertValidIndex(L,h),this.changes.has(L)||this.changes.set(L,{op:c.OPERATION.TOUCH,index:L}),this.allChanges.add(L),this.touchParents()},M.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},M.prototype.getType=function(h){if(this.ref._definition){var L=this.ref._definition;return L.schema[L.fieldsByIndex[h]]}else{var L=this.parent._definition,H=L.schema[L.fieldsByIndex[this.parentIndex]];return Object.values(H)[0]}},M.prototype.getChildrenFilter=function(){var h=this.parent._definition.childFilters;return h&&h[this.parentIndex]},M.prototype.getValue=function(h){return this.ref.getByIndex(h)},M.prototype.delete=function(h){var L=typeof h=="number"?h:this.indexes[h];if(L===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(h," (").concat(L,")"));return}var H=this.getValue(L);this.changes.set(L,{op:c.OPERATION.DELETE,index:L}),this.allChanges.delete(L),delete this.caches[L],H&&H.$changes&&(H.$changes.parent=void 0),this.changed=!0,this.touchParents()},M.prototype.discard=function(h,L){var H=this;h===void 0&&(h=!1),L===void 0&&(L=!1),this.ref instanceof Nn||this.changes.forEach(function(ue){if(ue.op===c.OPERATION.DELETE){var _e=H.ref.getIndex(ue.index);delete H.indexes[_e]}}),this.changes.clear(),this.changed=h,L&&this.allChanges.clear(),this.currentCustomOperation=0},M.prototype.discardAll=function(){var h=this;this.changes.forEach(function(L){var H=h.getValue(L.index);H&&H.$changes&&H.$changes.discardAll()}),this.discard()},M.prototype.cache=function(h,L){this.caches[h]=L},M.prototype.clone=function(){return new M(this.ref,this.parent,this.root)},M.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},M.prototype.assertValidIndex=function(h,L){if(h===void 0)throw new Error('ChangeTree: missing index for field "'.concat(L,'"'))},M}();function P(M,h,L,H){return M[h]||(M[h]=[]),M[h].push(L),H==null||H.forEach(function(ue,_e){return L(ue,_e)}),function(){return C(M[h],M[h].indexOf(L))}}function f(M){var h=this,L=typeof this.$changes.getType()!="string";this.$items.forEach(function(H,ue){M.push({refId:h.$changes.refId,op:c.OPERATION.DELETE,field:ue,value:void 0,previousValue:H}),L&&h.$changes.root.removeRef(H.$changes.refId)})}function C(M,h){if(h===-1||h>=M.length)return!1;for(var L=M.length-1,H=h;H<L;H++)M[H]=M[H+1];return M.length=L,!0}var y=function(M,h){var L=M.toString(),H=h.toString();return L<H?-1:L>H?1:0};function m(M){return M.$proxy=!0,M=new Proxy(M,{get:function(h,L){return typeof L!="symbol"&&!isNaN(L)?h.at(L):h[L]},set:function(h,L,H){if(typeof L!="symbol"&&!isNaN(L)){var ue=Array.from(h.$items.keys()),_e=parseInt(ue[L]||L);H==null?h.deleteAt(_e):h.setAt(_e,H)}else h[L]=H;return!0},deleteProperty:function(h,L){return typeof L=="number"?h.deleteAt(L):delete h[L],!0},has:function(h,L){return typeof L!="symbol"&&!isNaN(Number(L))?h.$items.has(Number(L)):Reflect.has(h,L)}}),M}var N=function(){function M(){for(var h=[],L=0;L<arguments.length;L++)h[L]=arguments[L];this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,h)}return M.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),P(this.$callbacks||(this.$callbacks={}),c.OPERATION.ADD,h,L?this.$items:void 0)},M.prototype.onRemove=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},M.prototype.onChange=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},M.is=function(h){return Array.isArray(h)||h.array!==void 0},Object.defineProperty(M.prototype,"length",{get:function(){return this.$items.size},set:function(h){h===0?this.clear():this.splice(h,this.length-h)},enumerable:!1,configurable:!0}),M.prototype.push=function(){for(var h=this,L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];var ue;return L.forEach(function(_e){ue=h.$refId++,h.setAt(ue,_e)}),ue},M.prototype.pop=function(){var h=Array.from(this.$indexes.values()).pop();if(h!==void 0){this.$changes.delete(h),this.$indexes.delete(h);var L=this.$items.get(h);return this.$items.delete(h),L}},M.prototype.at=function(h){if(h=Math.trunc(h)||0,h<0&&(h+=this.length),!(h<0||h>=this.length)){var L=Array.from(this.$items.keys())[h];return this.$items.get(L)}},M.prototype.setAt=function(h,L){var H,ue;if(L==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(h)!==L){L.$changes!==void 0&&L.$changes.setParent(this,this.$changes.root,h);var _e=(ue=(H=this.$changes.indexes[h])===null||H===void 0?void 0:H.op)!==null&&ue!==void 0?ue:c.OPERATION.ADD;this.$changes.indexes[h]=h,this.$indexes.set(h,h),this.$items.set(h,L),this.$changes.change(h,_e)}},M.prototype.deleteAt=function(h){var L=Array.from(this.$items.keys())[h];return L===void 0?!1:this.$deleteAt(L)},M.prototype.$deleteAt=function(h){return this.$changes.delete(h),this.$indexes.delete(h),this.$items.delete(h)},M.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&f.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},M.prototype.concat=function(){for(var h,L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];return new(M.bind.apply(M,p([void 0],(h=Array.from(this.$items.values())).concat.apply(h,L),!1)))},M.prototype.join=function(h){return Array.from(this.$items.values()).join(h)},M.prototype.reverse=function(){var h=this,L=Array.from(this.$items.keys()),H=Array.from(this.$items.values()).reverse();return H.forEach(function(ue,_e){h.setAt(L[_e],ue)}),this},M.prototype.shift=function(){var h=Array.from(this.$items.keys()),L=h.shift();if(L!==void 0){var H=this.$items.get(L);return this.$deleteAt(L),H}},M.prototype.slice=function(h,L){var H=new M;return H.push.apply(H,Array.from(this.$items.values()).slice(h,L)),H},M.prototype.sort=function(h){var L=this;h===void 0&&(h=y);var H=Array.from(this.$items.keys()),ue=Array.from(this.$items.values()).sort(h);return ue.forEach(function(_e,be){L.setAt(H[be],_e)}),this},M.prototype.splice=function(h,L){L===void 0&&(L=this.length-h);for(var H=[],ue=2;ue<arguments.length;ue++)H[ue-2]=arguments[ue];for(var _e=Array.from(this.$items.keys()),be=[],Fe=h;Fe<h+L;Fe++)be.push(this.$items.get(_e[Fe])),this.$deleteAt(_e[Fe]);for(var Fe=0;Fe<H.length;Fe++)this.setAt(h+Fe,H[Fe]);return be},M.prototype.unshift=function(){for(var h=this,L=[],H=0;H<arguments.length;H++)L[H]=arguments[H];var ue=this.length,_e=L.length,be=Array.from(this.$items.values());return L.forEach(function(Fe,ft){h.setAt(ft,Fe)}),be.forEach(function(Fe,ft){h.setAt(_e+ft,Fe)}),ue+_e},M.prototype.indexOf=function(h,L){return Array.from(this.$items.values()).indexOf(h,L)},M.prototype.lastIndexOf=function(h,L){return L===void 0&&(L=this.length-1),Array.from(this.$items.values()).lastIndexOf(h,L)},M.prototype.every=function(h,L){return Array.from(this.$items.values()).every(h,L)},M.prototype.some=function(h,L){return Array.from(this.$items.values()).some(h,L)},M.prototype.forEach=function(h,L){Array.from(this.$items.values()).forEach(h,L)},M.prototype.map=function(h,L){return Array.from(this.$items.values()).map(h,L)},M.prototype.filter=function(h,L){return Array.from(this.$items.values()).filter(h,L)},M.prototype.reduce=function(h,L){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},M.prototype.reduceRight=function(h,L){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},M.prototype.find=function(h,L){return Array.from(this.$items.values()).find(h,L)},M.prototype.findIndex=function(h,L){return Array.from(this.$items.values()).findIndex(h,L)},M.prototype.fill=function(h,L,H){throw new Error("ArraySchema#fill() not implemented")},M.prototype.copyWithin=function(h,L,H){throw new Error("ArraySchema#copyWithin() not implemented")},M.prototype.toString=function(){return this.$items.toString()},M.prototype.toLocaleString=function(){return this.$items.toLocaleString()},M.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(M,Symbol.species,{get:function(){return M},enumerable:!1,configurable:!0}),M.prototype.entries=function(){return this.$items.entries()},M.prototype.keys=function(){return this.$items.keys()},M.prototype.values=function(){return this.$items.values()},M.prototype.includes=function(h,L){return Array.from(this.$items.values()).includes(h,L)},M.prototype.flatMap=function(h,L){throw new Error("ArraySchema#flatMap() is not supported.")},M.prototype.flat=function(h){throw new Error("ArraySchema#flat() is not supported.")},M.prototype.findLast=function(){var h=Array.from(this.$items.values());return h.findLast.apply(h,arguments)},M.prototype.findLastIndex=function(){var h=Array.from(this.$items.values());return h.findLastIndex.apply(h,arguments)},M.prototype.with=function(h,L){var H=Array.from(this.$items.values());return H[h]=L,new(M.bind.apply(M,p([void 0],H,!1)))},M.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},M.prototype.toSorted=function(h){return Array.from(this.$items.values()).sort(h)},M.prototype.toSpliced=function(h,L){var H=Array.from(this.$items.values());return H.toSpliced.apply(H,arguments)},M.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},M.prototype.getIndex=function(h){return this.$indexes.get(h)},M.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},M.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},M.prototype.toArray=function(){return Array.from(this.$items.values())},M.prototype.toJSON=function(){return this.toArray().map(function(h){return typeof h.toJSON=="function"?h.toJSON():h})},M.prototype.clone=function(h){var L;return h?L=new(M.bind.apply(M,p([void 0],Array.from(this.$items.values()),!1))):L=new(M.bind.apply(M,p([void 0],this.map(function(H){return H.$changes?H.clone():H}),!1))),L},M}();function T(M){return M.$proxy=!0,M=new Proxy(M,{get:function(h,L){return typeof L!="symbol"&&typeof h[L]>"u"?h.get(L):h[L]},set:function(h,L,H){return typeof L!="symbol"&&L.indexOf("$")===-1&&L!=="onAdd"&&L!=="onRemove"&&L!=="onChange"?h.set(L,H):h[L]=H,!0},deleteProperty:function(h,L){return h.delete(L),!0}}),M}var D=function(){function M(h){var L=this;if(this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h)if(h instanceof Map||h instanceof M)h.forEach(function(ue,_e){return L.set(_e,ue)});else for(var H in h)this.set(H,h[H])}return M.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),P(this.$callbacks||(this.$callbacks={}),c.OPERATION.ADD,h,L?this.$items:void 0)},M.prototype.onRemove=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},M.prototype.onChange=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},M.is=function(h){return h.map!==void 0},M.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(M.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(M,Symbol.species,{get:function(){return M},enumerable:!1,configurable:!0}),M.prototype.set=function(h,L){if(L==null)throw new Error("MapSchema#set('".concat(h,"', ").concat(L,"): trying to set ").concat(L," value on '").concat(h,"'."));h=h.toString();var H=typeof this.$changes.indexes[h]<"u",ue=H?this.$changes.indexes[h]:this.$refId++,_e=H?c.OPERATION.REPLACE:c.OPERATION.ADD,be=L.$changes!==void 0;if(be&&L.$changes.setParent(this,this.$changes.root,ue),!H)this.$changes.indexes[h]=ue,this.$indexes.set(ue,h);else{if(!be&&this.$items.get(h)===L)return;be&&this.$items.get(h)!==L&&(_e=c.OPERATION.ADD)}return this.$items.set(h,L),this.$changes.change(h,_e),this},M.prototype.get=function(h){return this.$items.get(h)},M.prototype.delete=function(h){return this.$changes.delete(h.toString()),this.$items.delete(h)},M.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&f.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},M.prototype.has=function(h){return this.$items.has(h)},M.prototype.forEach=function(h){this.$items.forEach(h)},M.prototype.entries=function(){return this.$items.entries()},M.prototype.keys=function(){return this.$items.keys()},M.prototype.values=function(){return this.$items.values()},Object.defineProperty(M.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),M.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},M.prototype.getIndex=function(h){return this.$indexes.get(h)},M.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},M.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},M.prototype.toJSON=function(){var h={};return this.forEach(function(L,H){h[H]=typeof L.toJSON=="function"?L.toJSON():L}),h},M.prototype.clone=function(h){var L;return h?L=Object.assign(new M,this):(L=new M,this.forEach(function(H,ue){H.$changes?L.set(ue,H.clone()):L.set(ue,H)})),L},M}(),E={};function v(M,h){E[M]=h}function O(M){return E[M]}var z=function(){function M(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return M.create=function(h){var L=new M;return L.schema=Object.assign({},h&&h.schema||{}),L.indexes=Object.assign({},h&&h.indexes||{}),L.fieldsByIndex=Object.assign({},h&&h.fieldsByIndex||{}),L.descriptors=Object.assign({},h&&h.descriptors||{}),L.deprecated=Object.assign({},h&&h.deprecated||{}),L},M.prototype.addField=function(h,L){var H=this.getNextFieldIndex();this.fieldsByIndex[H]=h,this.indexes[h]=H,this.schema[h]=Array.isArray(L)?{array:L[0]}:L},M.prototype.hasField=function(h){return this.indexes[h]!==void 0},M.prototype.addFilter=function(h,L){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[h]]=L,this.indexesWithFilters.push(this.indexes[h]),!0},M.prototype.addChildrenFilter=function(h,L){var H=this.indexes[h],ue=this.schema[h];if(O(Object.keys(ue)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[H]=L,!0;console.warn("@filterChildren: field '".concat(h,"' can't have children. Ignoring filter."))},M.prototype.getChildrenFilter=function(h){return this.childFilters&&this.childFilters[this.indexes[h]]},M.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},M}();function q(M){return M._context&&M._context.useFilters}var K=function(){function M(){this.types={},this.schemas=new Map,this.useFilters=!1}return M.prototype.has=function(h){return this.schemas.has(h)},M.prototype.get=function(h){return this.types[h]},M.prototype.add=function(h,L){L===void 0&&(L=this.schemas.size),h._definition=z.create(h._definition),h._typeid=L,this.types[L]=h,this.schemas.set(h,L)},M.create=function(h){return h===void 0&&(h={}),function(L){return h.context||(h.context=new M),W(L,h)}},M}(),U=new K;function W(M,h){return h===void 0&&(h={}),function(L,H){var ue=h.context||U,_e=L.constructor;if(_e._context=ue,!M)throw new Error("".concat(_e.name,': @type() reference provided for "').concat(H,`" is undefined. Make sure you don't have any circular dependencies.`));ue.has(_e)||ue.add(_e);var be=_e._definition;if(be.addField(H,M),be.descriptors[H]){if(be.deprecated[H])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(H,"' definition on '").concat(_e.name,`'.
Check @type() annotation`))}catch($e){var Fe=$e.stack.split(`
`)[4].trim();throw new Error("".concat($e.message," ").concat(Fe))}}var ft=N.is(M),ut=!ft&&D.is(M);if(typeof M!="string"&&!Nn.is(M)){var We=Object.values(M)[0];typeof We!="string"&&!ue.has(We)&&ue.add(We)}if(h.manual){be.descriptors[H]={enumerable:!0,configurable:!0,writable:!0};return}var ct="_".concat(H);be.descriptors[ct]={enumerable:!1,configurable:!1,writable:!0},be.descriptors[H]={get:function(){return this[ct]},set:function($e){$e!==this[ct]&&($e!=null?(ft&&!($e instanceof N)&&($e=new(N.bind.apply(N,p([void 0],$e,!1)))),ut&&!($e instanceof D)&&($e=new D($e)),$e.$proxy===void 0&&(ut?$e=T($e):ft&&($e=m($e))),this.$changes.change(H),$e.$changes&&$e.$changes.setParent(this,this.$changes.root,this._definition.indexes[H])):this[ct]&&this.$changes.delete(H),this[ct]=$e)},enumerable:!0,configurable:!0}}}function $(M){return function(h,L){var H=h.constructor,ue=H._definition;ue.addFilter(L,M)&&(H._context.useFilters=!0)}}function Y(M){return function(h,L){var H=h.constructor,ue=H._definition;ue.addChildrenFilter(L,M)&&(H._context.useFilters=!0)}}function ie(M){return M===void 0&&(M=!0),function(h,L){var H=h.constructor,ue=H._definition;ue.deprecated[L]=!0,M&&(ue.descriptors[L]={get:function(){throw new Error("".concat(L," is deprecated."))},set:function(_e){},enumerable:!1,configurable:!0})}}function F(M,h,L){L===void 0&&(L={}),L.context||(L.context=M._context||L.context||U);for(var H in h)W(h[H],L)(M.prototype,H);return M}function j(M){for(var h=0,L=0,H=0,ue=M.length;H<ue;H++)h=M.charCodeAt(H),h<128?L+=1:h<2048?L+=2:h<55296||h>=57344?L+=3:(H++,L+=4);return L}function B(M,h,L){for(var H=0,ue=0,_e=L.length;ue<_e;ue++)H=L.charCodeAt(ue),H<128?M[h++]=H:H<2048?(M[h++]=192|H>>6,M[h++]=128|H&63):H<55296||H>=57344?(M[h++]=224|H>>12,M[h++]=128|H>>6&63,M[h++]=128|H&63):(ue++,H=65536+((H&1023)<<10|L.charCodeAt(ue)&1023),M[h++]=240|H>>18,M[h++]=128|H>>12&63,M[h++]=128|H>>6&63,M[h++]=128|H&63)}function Q(M,h){M.push(h&255)}function X(M,h){M.push(h&255)}function ee(M,h){M.push(h&255),M.push(h>>8&255)}function ne(M,h){M.push(h&255),M.push(h>>8&255)}function V(M,h){M.push(h&255),M.push(h>>8&255),M.push(h>>16&255),M.push(h>>24&255)}function oe(M,h){var L=h>>24,H=h>>16,ue=h>>8,_e=h;M.push(_e&255),M.push(ue&255),M.push(H&255),M.push(L&255)}function te(M,h){var L=Math.floor(h/Math.pow(2,32)),H=h>>>0;oe(M,H),oe(M,L)}function Se(M,h){var L=h/Math.pow(2,32)>>0,H=h>>>0;oe(M,H),oe(M,L)}function ye(M,h){we(M,h)}function Ae(M,h){Be(M,h)}var Pe=new Int32Array(2),Z=new Float32Array(Pe.buffer),de=new Float64Array(Pe.buffer);function we(M,h){Z[0]=h,V(M,Pe[0])}function Be(M,h){de[0]=h,V(M,Pe[0]),V(M,Pe[1])}function Le(M,h){return X(M,h?1:0)}function Ye(M,h){h||(h="");var L=j(h),H=0;if(L<32)M.push(L|160),H=1;else if(L<256)M.push(217),X(M,L),H=2;else if(L<65536)M.push(218),ne(M,L),H=3;else if(L<4294967296)M.push(219),oe(M,L),H=5;else throw new Error("String too long");return B(M,M.length,h),H+L}function He(M,h){if(isNaN(h))return He(M,0);if(isFinite(h)){if(h!==(h|0))return M.push(203),Be(M,h),9}else return He(M,h>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return h>=0?h<128?(X(M,h),1):h<256?(M.push(204),X(M,h),2):h<65536?(M.push(205),ne(M,h),3):h<4294967296?(M.push(206),oe(M,h),5):(M.push(207),Se(M,h),9):h>=-32?(M.push(224|h+32),1):h>=-128?(M.push(208),Q(M,h),2):h>=-32768?(M.push(209),ee(M,h),3):h>=-2147483648?(M.push(210),V(M,h),5):(M.push(211),te(M,h),9)}var Gt=Object.freeze({__proto__:null,boolean:Le,float32:ye,float64:Ae,int16:ee,int32:V,int64:te,int8:Q,number:He,string:Ye,uint16:ne,uint32:oe,uint64:Se,uint8:X,utf8Write:B,writeFloat32:we,writeFloat64:Be});function ht(M,h,L){for(var H="",ue=0,_e=h,be=h+L;_e<be;_e++){var Fe=M[_e];if((Fe&128)===0){H+=String.fromCharCode(Fe);continue}if((Fe&224)===192){H+=String.fromCharCode((Fe&31)<<6|M[++_e]&63);continue}if((Fe&240)===224){H+=String.fromCharCode((Fe&15)<<12|(M[++_e]&63)<<6|(M[++_e]&63)<<0);continue}if((Fe&248)===240){ue=(Fe&7)<<18|(M[++_e]&63)<<12|(M[++_e]&63)<<6|(M[++_e]&63)<<0,ue>=65536?(ue-=65536,H+=String.fromCharCode((ue>>>10)+55296,(ue&1023)+56320)):H+=String.fromCharCode(ue);continue}console.error("Invalid byte "+Fe.toString(16))}return H}function dn(M,h){return Dt(M,h)<<24>>24}function Dt(M,h){return M[h.offset++]}function Jt(M,h){return bt(M,h)<<16>>16}function bt(M,h){return M[h.offset++]|M[h.offset++]<<8}function wt(M,h){return M[h.offset++]|M[h.offset++]<<8|M[h.offset++]<<16|M[h.offset++]<<24}function pt(M,h){return wt(M,h)>>>0}function bn(M,h){return Or(M,h)}function Tn(M,h){return _n(M,h)}function fn(M,h){var L=pt(M,h),H=wt(M,h)*Math.pow(2,32);return H+L}function Yt(M,h){var L=pt(M,h),H=pt(M,h)*Math.pow(2,32);return H+L}var tn=new Int32Array(2),fr=new Float32Array(tn.buffer),tr=new Float64Array(tn.buffer);function Or(M,h){return tn[0]=wt(M,h),fr[0]}function _n(M,h){return tn[0]=wt(M,h),tn[1]=wt(M,h),tr[0]}function nr(M,h){return Dt(M,h)>0}function bo(M,h){var L=M[h.offset++],H;L<192?H=L&31:L===217?H=Dt(M,h):L===218?H=bt(M,h):L===219&&(H=pt(M,h));var ue=ht(M,h.offset,H);return h.offset+=H,ue}function Wo(M,h){var L=M[h.offset];return L<192&&L>160||L===217||L===218||L===219}function rr(M,h){var L=M[h.offset++];if(L<128)return L;if(L===202)return Or(M,h);if(L===203)return _n(M,h);if(L===204)return Dt(M,h);if(L===205)return bt(M,h);if(L===206)return pt(M,h);if(L===207)return Yt(M,h);if(L===208)return dn(M,h);if(L===209)return Jt(M,h);if(L===210)return wt(M,h);if(L===211)return fn(M,h);if(L>223)return(255-L+1)*-1}function kl(M,h){var L=M[h.offset];return L<128||L>=202&&L<=211}function Us(M,h){return M[h.offset]<160}function so(M,h){return M[h.offset-1]===S&&(M[h.offset]<128||M[h.offset]>=202&&M[h.offset]<=211)}var qo=Object.freeze({__proto__:null,arrayCheck:Us,boolean:nr,float32:bn,float64:Tn,int16:Jt,int32:wt,int64:fn,int8:dn,number:rr,numberCheck:kl,readFloat32:Or,readFloat64:_n,string:bo,stringCheck:Wo,switchStructureCheck:so,uint16:bt,uint32:pt,uint64:Yt,uint8:Dt}),ao=function(){function M(h){var L=this;this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h&&h.forEach(function(H){return L.add(H)})}return M.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.ADD,h,L?this.$items:void 0)},M.prototype.onRemove=function(h){return P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.DELETE,h)},M.prototype.onChange=function(h){return P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.REPLACE,h)},M.is=function(h){return h.collection!==void 0},M.prototype.add=function(h){var L=this.$refId++,H=h.$changes!==void 0;return H&&h.$changes.setParent(this,this.$changes.root,L),this.$changes.indexes[L]=L,this.$indexes.set(L,L),this.$items.set(L,h),this.$changes.change(L),L},M.prototype.at=function(h){var L=Array.from(this.$items.keys())[h];return this.$items.get(L)},M.prototype.entries=function(){return this.$items.entries()},M.prototype.delete=function(h){for(var L=this.$items.entries(),H,ue;(ue=L.next())&&!ue.done;)if(h===ue.value[1]){H=ue.value[0];break}return H===void 0?!1:(this.$changes.delete(H),this.$indexes.delete(H),this.$items.delete(H))},M.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&f.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},M.prototype.has=function(h){return Array.from(this.$items.values()).some(function(L){return L===h})},M.prototype.forEach=function(h){var L=this;this.$items.forEach(function(H,ue,_e){return h(H,ue,L)})},M.prototype.values=function(){return this.$items.values()},Object.defineProperty(M.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),M.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},M.prototype.getIndex=function(h){return this.$indexes.get(h)},M.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},M.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},M.prototype.toArray=function(){return Array.from(this.$items.values())},M.prototype.toJSON=function(){var h=[];return this.forEach(function(L,H){h.push(typeof L.toJSON=="function"?L.toJSON():L)}),h},M.prototype.clone=function(h){var L;return h?L=Object.assign(new M,this):(L=new M,this.forEach(function(H){H.$changes?L.add(H.clone()):L.add(H)})),L},M}(),lo=function(){function M(h){var L=this;this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h&&h.forEach(function(H){return L.add(H)})}return M.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.ADD,h,L?this.$items:void 0)},M.prototype.onRemove=function(h){return P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.DELETE,h)},M.prototype.onChange=function(h){return P(this.$callbacks||(this.$callbacks=[]),c.OPERATION.REPLACE,h)},M.is=function(h){return h.set!==void 0},M.prototype.add=function(h){var L,H;if(this.has(h))return!1;var ue=this.$refId++;h.$changes!==void 0&&h.$changes.setParent(this,this.$changes.root,ue);var _e=(H=(L=this.$changes.indexes[ue])===null||L===void 0?void 0:L.op)!==null&&H!==void 0?H:c.OPERATION.ADD;return this.$changes.indexes[ue]=ue,this.$indexes.set(ue,ue),this.$items.set(ue,h),this.$changes.change(ue,_e),ue},M.prototype.entries=function(){return this.$items.entries()},M.prototype.delete=function(h){for(var L=this.$items.entries(),H,ue;(ue=L.next())&&!ue.done;)if(h===ue.value[1]){H=ue.value[0];break}return H===void 0?!1:(this.$changes.delete(H),this.$indexes.delete(H),this.$items.delete(H))},M.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&f.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},M.prototype.has=function(h){for(var L=this.$items.values(),H=!1,ue;(ue=L.next())&&!ue.done;)if(h===ue.value){H=!0;break}return H},M.prototype.forEach=function(h){var L=this;this.$items.forEach(function(H,ue,_e){return h(H,ue,L)})},M.prototype.values=function(){return this.$items.values()},Object.defineProperty(M.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),M.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},M.prototype.getIndex=function(h){return this.$indexes.get(h)},M.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},M.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},M.prototype.toArray=function(){return Array.from(this.$items.values())},M.prototype.toJSON=function(){var h=[];return this.forEach(function(L,H){h.push(typeof L.toJSON=="function"?L.toJSON():L)}),h},M.prototype.clone=function(h){var L;return h?L=Object.assign(new M,this):(L=new M,this.forEach(function(H){H.$changes?L.add(H.clone()):L.add(H)})),L},M}(),zi=function(){function M(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return M.prototype.addRefId=function(h){this.refIds.has(h)||(this.refIds.add(h),this.containerIndexes.set(h,new Set))},M.get=function(h){return h.$filterState===void 0&&(h.$filterState=new M),h.$filterState},M}(),Ui=function(){function M(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return M.prototype.getNextUniqueId=function(){return this.nextUniqueId++},M.prototype.addRef=function(h,L,H){H===void 0&&(H=!0),this.refs.set(h,L),H&&(this.refCounts[h]=(this.refCounts[h]||0)+1)},M.prototype.removeRef=function(h){var L=this.refCounts[h];if(L===void 0){console.warn("trying to remove reference ".concat(h," that doesn't exist"));return}if(L===0){console.warn("trying to remove reference ".concat(h," with 0 refCount"));return}this.refCounts[h]=L-1,this.deletedRefs.add(h)},M.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},M.prototype.garbageCollectDeletedRefs=function(){var h=this;this.deletedRefs.forEach(function(L){if(!(h.refCounts[L]>0)){var H=h.refs.get(L);if(H instanceof Nn)for(var ue in H._definition.schema)typeof H._definition.schema[ue]!="string"&&H[ue]&&H[ue].$changes&&h.removeRef(H[ue].$changes.refId);else{var _e=H.$changes.parent._definition,be=_e.schema[_e.fieldsByIndex[H.$changes.parentIndex]];typeof Object.values(be)[0]=="function"&&Array.from(H.values()).forEach(function(Fe){return h.removeRef(Fe.$changes.refId)})}h.refs.delete(L),delete h.refCounts[L]}}),this.deletedRefs.clear()},M}(),Ko=function(M){A(h,M);function h(){return M!==null&&M.apply(this,arguments)||this}return h}(Error);function js(M,h,L,H){var ue,_e=!1;switch(h){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":ue="number",isNaN(M)&&console.log('trying to encode "NaN" in '.concat(L.constructor.name,"#").concat(H));break;case"string":ue="string",_e=!0;break;case"boolean":return}if(typeof M!==ue&&(!_e||_e&&M!==null)){var be="'".concat(JSON.stringify(M),"'").concat(M&&M.constructor&&" (".concat(M.constructor.name,")")||"");throw new Ko("a '".concat(ue,"' was expected, but ").concat(be," was provided in ").concat(L.constructor.name,"#").concat(H))}}function Yo(M,h,L,H){if(!(M instanceof h))throw new Ko("a '".concat(h.name,"' was expected, but '").concat(M.constructor.name,"' was provided in ").concat(L.constructor.name,"#").concat(H))}function Ra(M,h,L,H,ue){js(L,M,H,ue);var _e=Gt[M];if(_e)_e(h,L);else throw new Ko("a '".concat(M,"' was expected, but ").concat(L," was provided in ").concat(H.constructor.name,"#").concat(ue))}function Qo(M,h,L){return qo[M](h,L)}var Nn=function(){function M(){for(var h=[],L=0;L<arguments.length;L++)h[L]=arguments[L];Object.defineProperties(this,{$changes:{value:new w(this,void 0,new Ui),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var H=this._definition.descriptors;H&&Object.defineProperties(this,H),h[0]&&this.assign(h[0])}return M.onError=function(h){console.error(h)},M.is=function(h){return h._definition&&h._definition.schema!==void 0},M.prototype.onChange=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},M.prototype.onRemove=function(h){return P(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},M.prototype.assign=function(h){return Object.assign(this,h),this},Object.defineProperty(M.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),M.prototype.setDirty=function(h,L){this.$changes.change(h,L)},M.prototype.listen=function(h,L,H){var ue=this;return H===void 0&&(H=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[h]||(this.$callbacks[h]=[]),this.$callbacks[h].push(L),H&&this[h]!==void 0&&L(this[h],void 0),function(){return C(ue.$callbacks[h],ue.$callbacks[h].indexOf(L))}},M.prototype.decode=function(h,L,H){L===void 0&&(L={offset:0}),H===void 0&&(H=this);var ue=[],_e=this.$changes.root,be=h.length,Fe=0;for(_e.refs.set(Fe,this);L.offset<be;){var ft=h[L.offset++];if(ft==S){Fe=rr(h,L);var ut=_e.refs.get(Fe);if(!ut)throw new Error('"refId" not found: '.concat(Fe));H=ut;continue}var We=H.$changes,ct=H._definition!==void 0,$e=ct?ft>>6<<6:ft;if($e===c.OPERATION.CLEAR){H.clear(ue);continue}var st=ct?ft%($e||255):rr(h,L),Je=ct?H._definition.fieldsByIndex[st]:"",nt=We.getType(st),Ne=void 0,qe=void 0,Sn=void 0;if(ct?qe=H["_".concat(Je)]:(qe=H.getByIndex(st),($e&c.OPERATION.ADD)===c.OPERATION.ADD?(Sn=H instanceof D?bo(h,L):st,H.setIndex(st,Sn)):Sn=H.getIndex(st)),($e&c.OPERATION.DELETE)===c.OPERATION.DELETE&&($e!==c.OPERATION.DELETE_AND_ADD&&H.deleteByIndex(st),qe&&qe.$changes&&_e.removeRef(qe.$changes.refId),Ne=null),Je===void 0){console.warn("@colyseus/schema: definition mismatch");for(var Rt={offset:L.offset};L.offset<be&&!(so(h,L)&&(Rt.offset=L.offset+1,_e.refs.has(rr(h,Rt))));)L.offset++;continue}else if($e!==c.OPERATION.DELETE)if(M.is(nt)){var ot=rr(h,L);if(Ne=_e.refs.get(ot),$e!==c.OPERATION.REPLACE){var at=this.getSchemaType(h,L,nt);Ne||(Ne=this.createTypeInstance(at),Ne.$changes.refId=ot,qe&&(Ne.$callbacks=qe.$callbacks,qe.$changes.refId&&ot!==qe.$changes.refId&&_e.removeRef(qe.$changes.refId))),_e.addRef(ot,Ne,Ne!==qe)}}else if(typeof nt=="string")Ne=Qo(nt,h,L);else{var ii=O(Object.keys(nt)[0]),pr=rr(h,L),Zt=_e.refs.has(pr)?qe||_e.refs.get(pr):new ii.constructor;if(Ne=Zt.clone(!0),Ne.$changes.refId=pr,qe&&(Ne.$callbacks=qe.$callbacks,qe.$changes.refId&&pr!==qe.$changes.refId)){_e.removeRef(qe.$changes.refId);for(var yt=qe.entries(),Ze=void 0;(Ze=yt.next())&&!Ze.done;){var lt=Ze.value,wn=lt[0],nn=lt[1];ue.push({refId:pr,op:c.OPERATION.DELETE,field:wn,value:void 0,previousValue:nn})}}_e.addRef(pr,Ne,Zt!==qe)}if(Ne!=null){if(Ne.$changes&&Ne.$changes.setParent(We.ref,We.root,st),H instanceof M)H[Je]=Ne;else if(H instanceof D){var wn=Sn;H.$items.set(wn,Ne),H.$changes.allChanges.add(st)}else if(H instanceof N)H.setAt(st,Ne);else if(H instanceof ao){var Wt=H.add(Ne);H.setIndex(st,Wt)}else if(H instanceof lo){var Wt=H.add(Ne);Wt!==!1&&H.setIndex(st,Wt)}}qe!==Ne&&ue.push({refId:Fe,op:$e,field:Je,dynamicIndex:Sn,value:Ne,previousValue:qe})}return this._triggerChanges(ue),_e.garbageCollectDeletedRefs(),ue},M.prototype.encode=function(h,L,H){h===void 0&&(h=!1),L===void 0&&(L=[]),H===void 0&&(H=!1);for(var ue=this.$changes,_e=new WeakSet,be=[ue],Fe=1,ft=0;ft<Fe;ft++){var ut=be[ft],We=ut.ref,ct=We instanceof M;ut.ensureRefId(),_e.add(ut),ut!==ue&&(ut.changed||h)&&(X(L,S),He(L,ut.refId));for(var $e=h?Array.from(ut.allChanges):Array.from(ut.changes.values()),st=0,Je=$e.length;st<Je;st++){var nt=h?{op:c.OPERATION.ADD,index:$e[st]}:$e[st],Ne=nt.index,qe=ct?We._definition.fieldsByIndex&&We._definition.fieldsByIndex[Ne]:Ne,Sn=L.length;if(nt.op!==c.OPERATION.TOUCH)if(ct)X(L,Ne|nt.op);else{if(X(L,nt.op),nt.op===c.OPERATION.CLEAR)continue;He(L,Ne)}if(!ct&&(nt.op&c.OPERATION.ADD)==c.OPERATION.ADD&&We instanceof D){var Rt=ut.ref.$indexes.get(Ne);Ye(L,Rt)}if(nt.op!==c.OPERATION.DELETE){var ot=ut.getType(Ne),at=ut.getValue(Ne);if(at&&at.$changes&&!_e.has(at.$changes)&&(be.push(at.$changes),at.$changes.ensureRefId(),Fe++),nt.op!==c.OPERATION.TOUCH){if(M.is(ot))Yo(at,ot,We,qe),He(L,at.$changes.refId),(nt.op&c.OPERATION.ADD)===c.OPERATION.ADD&&this.tryEncodeTypeId(L,ot,at.constructor);else if(typeof ot=="string")Ra(ot,L,at,We,qe);else{var ii=O(Object.keys(ot)[0]);Yo(We["_".concat(qe)],ii.constructor,We,qe),He(L,at.$changes.refId)}H&&ut.cache(Ne,L.slice(Sn))}}}!h&&!H&&ut.discard()}return L},M.prototype.encodeAll=function(h){return this.encode(!0,[],h)},M.prototype.applyFilters=function(h,L){var H,ue;L===void 0&&(L=!1);for(var _e=this,be=new Set,Fe=zi.get(h),ft=[this.$changes],ut=1,We=[],ct=function(st){var Je=ft[st];if(be.has(Je.refId))return"continue";var nt=Je.ref,Ne=nt instanceof M;X(We,S),He(We,Je.refId);var qe=Fe.refIds.has(Je),Sn=L||!qe;Fe.addRefId(Je);var Rt=Fe.containerIndexes.get(Je),ot=Sn?Array.from(Je.allChanges):Array.from(Je.changes.values());if(!L&&Ne&&nt._definition.indexesWithFilters){var at=nt._definition.indexesWithFilters;at.forEach(function(Wn){!Rt.has(Wn)&&Je.allChanges.has(Wn)&&(Sn?ot.push(Wn):ot.push({op:c.OPERATION.ADD,index:Wn}))})}for(var ii=0,pr=ot.length;ii<pr;ii++){var Zt=Sn?{op:c.OPERATION.ADD,index:ot[ii]}:ot[ii];if(Zt.op===c.OPERATION.CLEAR){X(We,Zt.op);continue}var yt=Zt.index;if(Zt.op===c.OPERATION.DELETE){Ne?X(We,Zt.op|yt):(X(We,Zt.op),He(We,yt));continue}var Ze=Je.getValue(yt),lt=Je.getType(yt);if(Ne){var wn=nt._definition.filters&&nt._definition.filters[yt];if(wn&&!wn.call(nt,h,Ze,_e)){Ze&&Ze.$changes&&be.add(Ze.$changes.refId);continue}}else{var nn=Je.parent,wn=Je.getChildrenFilter();if(wn&&!wn.call(nn,h,nt.$indexes.get(yt),Ze,_e)){Ze&&Ze.$changes&&be.add(Ze.$changes.refId);continue}}if(Ze.$changes&&(ft.push(Ze.$changes),ut++),Zt.op!==c.OPERATION.TOUCH)if(Zt.op===c.OPERATION.ADD||Ne)We.push.apply(We,(H=Je.caches[yt])!==null&&H!==void 0?H:[]),Rt.add(yt);else if(Rt.has(yt))We.push.apply(We,(ue=Je.caches[yt])!==null&&ue!==void 0?ue:[]);else{if(Rt.add(yt),X(We,c.OPERATION.ADD),He(We,yt),nt instanceof D){var Wt=Je.ref.$indexes.get(yt);Ye(We,Wt)}Ze.$changes?He(We,Ze.$changes.refId):Gt[lt](We,Ze)}else if(Ze.$changes&&!Ne){if(X(We,c.OPERATION.ADD),He(We,yt),nt instanceof D){var Wt=Je.ref.$indexes.get(yt);Ye(We,Wt)}He(We,Ze.$changes.refId)}}},$e=0;$e<ut;$e++)ct($e);return We},M.prototype.clone=function(){var h,L=new this.constructor,H=this._definition.schema;for(var ue in H)typeof this[ue]=="object"&&typeof((h=this[ue])===null||h===void 0?void 0:h.clone)=="function"?L[ue]=this[ue].clone():L[ue]=this[ue];return L},M.prototype.toJSON=function(){var h=this._definition.schema,L=this._definition.deprecated,H={};for(var ue in h)!L[ue]&&this[ue]!==null&&typeof this[ue]<"u"&&(H[ue]=typeof this[ue].toJSON=="function"?this[ue].toJSON():this["_".concat(ue)]);return H},M.prototype.discardAllChanges=function(){this.$changes.discardAll()},M.prototype.getByIndex=function(h){return this[this._definition.fieldsByIndex[h]]},M.prototype.deleteByIndex=function(h){this[this._definition.fieldsByIndex[h]]=void 0},M.prototype.tryEncodeTypeId=function(h,L,H){L._typeid!==H._typeid&&(X(h,R),He(h,H._typeid))},M.prototype.getSchemaType=function(h,L,H){var ue;return h[L.offset]===R&&(L.offset++,ue=this.constructor._context.get(rr(h,L))),ue||H},M.prototype.createTypeInstance=function(h){var L=new h;return L.$changes.root=this.$changes.root,L},M.prototype._triggerChanges=function(h){for(var L,H,ue,_e,be,Fe,ft,ut,We,ct=new Set,$e=this.$changes.root.refs,st=function(nt){var Ne=h[nt],qe=Ne.refId,Sn=$e.get(qe),Rt=Sn.$callbacks;if((Ne.op&c.OPERATION.DELETE)===c.OPERATION.DELETE&&Ne.previousValue instanceof M&&((H=(L=Ne.previousValue.$callbacks)===null||L===void 0?void 0:L[c.OPERATION.DELETE])===null||H===void 0||H.forEach(function(ot){return ot()})),!Rt)return"continue";if(Sn instanceof M){if(!ct.has(qe))try{(ue=Rt==null?void 0:Rt[c.OPERATION.REPLACE])===null||ue===void 0||ue.forEach(function(ot){return ot()})}catch(ot){M.onError(ot)}try{Rt.hasOwnProperty(Ne.field)&&((_e=Rt[Ne.field])===null||_e===void 0||_e.forEach(function(ot){return ot(Ne.value,Ne.previousValue)}))}catch(ot){M.onError(ot)}}else Ne.op===c.OPERATION.ADD&&Ne.previousValue===void 0?(be=Rt[c.OPERATION.ADD])===null||be===void 0||be.forEach(function(ot){var at;return ot(Ne.value,(at=Ne.dynamicIndex)!==null&&at!==void 0?at:Ne.field)}):Ne.op===c.OPERATION.DELETE?Ne.previousValue!==void 0&&((Fe=Rt[c.OPERATION.DELETE])===null||Fe===void 0||Fe.forEach(function(ot){var at;return ot(Ne.previousValue,(at=Ne.dynamicIndex)!==null&&at!==void 0?at:Ne.field)})):Ne.op===c.OPERATION.DELETE_AND_ADD&&(Ne.previousValue!==void 0&&((ft=Rt[c.OPERATION.DELETE])===null||ft===void 0||ft.forEach(function(ot){var at;return ot(Ne.previousValue,(at=Ne.dynamicIndex)!==null&&at!==void 0?at:Ne.field)})),(ut=Rt[c.OPERATION.ADD])===null||ut===void 0||ut.forEach(function(ot){var at;return ot(Ne.value,(at=Ne.dynamicIndex)!==null&&at!==void 0?at:Ne.field)})),Ne.value!==Ne.previousValue&&((We=Rt[c.OPERATION.REPLACE])===null||We===void 0||We.forEach(function(ot){var at;return ot(Ne.value,(at=Ne.dynamicIndex)!==null&&at!==void 0?at:Ne.field)}));ct.add(qe)},Je=0;Je<h.length;Je++)st(Je)},M._definition=z.create(),M}();function Gs(M){for(var h=[M.$changes],L=1,H={},ue=H,_e=function(Fe){var ft=h[Fe];ft.changes.forEach(function(ut){var We=ft.ref,ct=ut.index,$e=We._definition?We._definition.fieldsByIndex[ct]:We.$indexes.get(ct);ue[$e]=ft.getValue(ct)})},be=0;be<L;be++)_e(be);return H}var hr={context:new K},uo=function(M){A(h,M);function h(){return M!==null&&M.apply(this,arguments)||this}return _([W("string",hr)],h.prototype,"name",void 0),_([W("string",hr)],h.prototype,"type",void 0),_([W("number",hr)],h.prototype,"referencedType",void 0),h}(Nn),mi=function(M){A(h,M);function h(){var L=M!==null&&M.apply(this,arguments)||this;return L.fields=new N,L}return _([W("number",hr)],h.prototype,"id",void 0),_([W([uo],hr)],h.prototype,"fields",void 0),h}(Nn),Ta=function(M){A(h,M);function h(){var L=M!==null&&M.apply(this,arguments)||this;return L.types=new N,L}return h.encode=function(L){var H,ue=L.constructor,_e=new h;_e.rootType=ue._typeid;var be=function(We,ct){for(var $e in ct){var st=new uo;st.name=$e;var Je=void 0;if(typeof ct[$e]=="string")Je=ct[$e];else{var nt=ct[$e],Ne=void 0;Nn.is(nt)?(Je="ref",Ne=ct[$e]):(Je=Object.keys(nt)[0],typeof nt[Je]=="string"?Je+=":"+nt[Je]:Ne=nt[Je]),st.referencedType=Ne?Ne._typeid:-1}st.type=Je,We.fields.push(st)}_e.types.push(We)},Fe=(H=ue._context)===null||H===void 0?void 0:H.types;for(var ft in Fe){var ut=new mi;ut.id=Number(ft),be(ut,Fe[ft]._definition.schema)}return _e.encodeAll()},h.decode=function(L,H){var ue=new K,_e=new h;_e.decode(L,H);var be=_e.types.reduce(function(ct,$e){var st=function(nt){A(Ne,nt);function Ne(){return nt!==null&&nt.apply(this,arguments)||this}return Ne}(Nn),Je=$e.id;return ct[Je]=st,ue.add(st,Je),ct},{});_e.types.forEach(function(ct){var $e=be[ct.id];ct.fields.forEach(function(st){var Je;if(st.referencedType!==void 0){var nt=st.type,Ne=be[st.referencedType];if(!Ne){var qe=st.type.split(":");nt=qe[0],Ne=qe[1]}nt==="ref"?W(Ne,{context:ue})($e.prototype,st.name):W((Je={},Je[nt]=Ne,Je),{context:ue})($e.prototype,st.name)}else W(st.type,{context:ue})($e.prototype,st.name)})});var Fe=be[_e.rootType],ft=new Fe;for(var ut in Fe._definition.schema){var We=Fe._definition.schema[ut];typeof We!="string"&&(ft[ut]=typeof We=="function"?new We:new(O(Object.keys(We)[0])).constructor)}return ft},_([W([mi],hr)],h.prototype,"types",void 0),_([W("number",hr)],h.prototype,"rootType",void 0),h}(Nn);v("map",{constructor:D}),v("array",{constructor:N}),v("set",{constructor:lo}),v("collection",{constructor:ao}),c.ArraySchema=N,c.CollectionSchema=ao,c.Context=K,c.MapSchema=D,c.Reflection=Ta,c.ReflectionField=uo,c.ReflectionType=mi,c.Schema=Nn,c.SchemaDefinition=z,c.SetSchema=lo,c.decode=qo,c.defineTypes=F,c.deprecated=ie,c.dumpChanges=Gs,c.encode=Gt,c.filter=$,c.filterChildren=Y,c.hasFilter=q,c.registerType=v,c.type=W})}(pc,pc.exports)),pc.exports}var Zh;function qp(){if(Zh)return Ii;Zh=1;var a=Ii&&Ii.__createBinding||(Object.create?function(C,y,m,N){N===void 0&&(N=m);var T=Object.getOwnPropertyDescriptor(y,m);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(C,N,T)}:function(C,y,m,N){N===void 0&&(N=m),C[N]=y[m]}),u=Ii&&Ii.__setModuleDefault||(Object.create?function(C,y){Object.defineProperty(C,"default",{enumerable:!0,value:y})}:function(C,y){C.default=y}),c=Ii&&Ii.__importStar||function(C){if(C&&C.__esModule)return C;var y={};if(C!=null)for(var m in C)m!=="default"&&Object.prototype.hasOwnProperty.call(C,m)&&a(y,C,m);return u(y,C),y};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.Room=void 0;const x=c(Bg()),A=Vg(),_=Hp(),p=$p(),S=Vp(),R=bg(),w=bp(),P=jf();let f=class Wp{constructor(y,m){this.onStateChange=(0,R.createSignal)(),this.onError=(0,R.createSignal)(),this.onLeave=(0,R.createSignal)(),this.onJoin=(0,R.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,S.createNanoEvents)(),this.roomId=null,this.name=y,m&&(this.serializer=new((0,p.getSerializer)("schema")),this.rootSchema=m,this.serializer.state=new m),this.onError((N,T)=>{var D;return(D=console.warn)===null||D===void 0?void 0:D.call(console,`colyseus.js - onError => (${N}) ${T}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(y,m,N=this){const T=new A.Connection;N.connection=T,T.events.onmessage=Wp.prototype.onMessageCallback.bind(N),T.events.onclose=function(D){var E;if(!N.hasJoined){(E=console.warn)===null||E===void 0||E.call(console,`Room connection was closed unexpectedly (${D.code}): ${D.reason}`),N.onError.invoke(D.code,D.reason);return}D.code===P.CloseCode.DEVMODE_RESTART&&m?m():(N.onLeave.invoke(D.code,D.reason),N.destroy())},T.events.onerror=function(D){var E;(E=console.warn)===null||E===void 0||E.call(console,`Room, onError (${D.code}): ${D.reason}`),N.onError.invoke(D.code,D.reason)},T.connect(y)}leave(y=!0){return new Promise(m=>{this.onLeave(N=>m(N)),this.connection?y?this.connection.send([_.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(P.CloseCode.CONSENTED)})}onMessage(y,m){return this.onMessageHandlers.on(this.getMessageHandlerKey(y),m)}send(y,m){const N=[_.Protocol.ROOM_DATA];typeof y=="string"?w.encode.string(N,y):w.encode.number(N,y);let T;if(m!==void 0){const D=x.encode(m);T=new Uint8Array(N.length+D.byteLength),T.set(new Uint8Array(N),0),T.set(new Uint8Array(D),N.length)}else T=new Uint8Array(N);this.connection.send(T.buffer)}sendBytes(y,m){const N=[_.Protocol.ROOM_DATA_BYTES];typeof y=="string"?w.encode.string(N,y):w.encode.number(N,y);let T;T=new Uint8Array(N.length+(m.byteLength||m.length)),T.set(new Uint8Array(N),0),T.set(new Uint8Array(m),N.length),this.connection.send(T.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(y){const m=Array.from(new Uint8Array(y.data)),N=m[0];if(N===_.Protocol.JOIN_ROOM){let T=1;const D=(0,_.utf8Read)(m,T);if(T+=(0,_.utf8Length)(D),this.serializerId=(0,_.utf8Read)(m,T),T+=(0,_.utf8Length)(this.serializerId),!this.serializer){const E=(0,p.getSerializer)(this.serializerId);this.serializer=new E}m.length>T&&this.serializer.handshake&&this.serializer.handshake(m,{offset:T}),this.reconnectionToken=`${this.roomId}:${D}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([_.Protocol.JOIN_ROOM])}else if(N===_.Protocol.ERROR){const T={offset:1},D=w.decode.number(m,T),E=w.decode.string(m,T);this.onError.invoke(D,E)}else if(N===_.Protocol.LEAVE_ROOM)this.leave();else if(N===_.Protocol.ROOM_DATA_SCHEMA){const T={offset:1},E=this.serializer.getState().constructor._context.get(w.decode.number(m,T)),v=new E;v.decode(m,T),this.dispatchMessage(E,v)}else if(N===_.Protocol.ROOM_STATE)m.shift(),this.setState(m);else if(N===_.Protocol.ROOM_STATE_PATCH)m.shift(),this.patch(m);else if(N===_.Protocol.ROOM_DATA){const T={offset:1},D=w.decode.stringCheck(m,T)?w.decode.string(m,T):w.decode.number(m,T),E=m.length>T.offset?x.decode(y.data,T.offset):void 0;this.dispatchMessage(D,E)}else if(N===_.Protocol.ROOM_DATA_BYTES){const T={offset:1},D=w.decode.stringCheck(m,T)?w.decode.string(m,T):w.decode.number(m,T);this.dispatchMessage(D,new Uint8Array(m.slice(T.offset)))}}setState(y){this.serializer.setState(y),this.onStateChange.invoke(this.serializer.getState())}patch(y){this.serializer.patch(y),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(y,m){var N;const T=this.getMessageHandlerKey(y);this.onMessageHandlers.events[T]?this.onMessageHandlers.emit(T,m):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",y,m):(N=console.warn)===null||N===void 0||N.call(console,`colyseus.js: onMessage() not registered for type '${y}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(y){switch(typeof y){case"function":return`$${y._typeid}`;case"string":return y;case"number":return`i${y}`;default:throw new Error("invalid message type.")}}};return Ii.Room=f,Ii}var Li={};function e0(a,u){u.headers=a.headers||{},u.statusMessage=a.statusText,u.statusCode=a.status,u.data=a.response}function Di(a,u,c){return new Promise(function(x,A){c=c||{};var _=new XMLHttpRequest,p,S,R,w=c.body,P=c.headers||{};c.timeout&&(_.timeout=c.timeout),_.ontimeout=_.onerror=function(f){f.timeout=f.type=="timeout",A(f)},_.open(a,u.href||u),_.onload=function(){for(R=_.getAllResponseHeaders().trim().split(/[\r\n]+/),e0(_,_);S=R.shift();)S=S.split(": "),_.headers[S.shift().toLowerCase()]=S.join(": ");if(S=_.headers["content-type"],S&&~S.indexOf("application/json"))try{_.data=JSON.parse(_.data,c.reviver)}catch(f){return e0(_,f),A(f)}(_.status>=400?A:x)(_)},typeof FormData<"u"&&w instanceof FormData||w&&typeof w=="object"&&(P["content-type"]="application/json",w=JSON.stringify(w)),_.withCredentials=!!c.withCredentials;for(p in P)_.setRequestHeader(p,P[p]);_.send(w)})}var qg=Di.bind(Di,"GET"),Kg=Di.bind(Di,"POST"),Yg=Di.bind(Di,"PATCH"),Qg=Di.bind(Di,"DELETE"),Xg=Di.bind(Di,"PUT");const Jg=Object.freeze(Object.defineProperty({__proto__:null,del:Qg,get:qg,patch:Yg,post:Kg,put:Xg,send:Di},Symbol.toStringTag,{value:"Module"})),Zg=L1(Jg);var t0;function ev(){if(t0)return Li;t0=1;var a=Li&&Li.__createBinding||(Object.create?function(p,S,R,w){w===void 0&&(w=R);var P=Object.getOwnPropertyDescriptor(S,R);(!P||("get"in P?!S.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return S[R]}}),Object.defineProperty(p,w,P)}:function(p,S,R,w){w===void 0&&(w=R),p[w]=S[R]}),u=Li&&Li.__setModuleDefault||(Object.create?function(p,S){Object.defineProperty(p,"default",{enumerable:!0,value:S})}:function(p,S){p.default=S}),c=Li&&Li.__importStar||function(p){if(p&&p.__esModule)return p;var S={};if(p!=null)for(var R in p)R!=="default"&&Object.prototype.hasOwnProperty.call(p,R)&&a(S,p,R);return u(S,p),S};Object.defineProperty(Li,"__esModule",{value:!0}),Li.HTTP=void 0;const x=jf(),A=c(Zg);let _=class{constructor(S){this.client=S}get(S,R={}){return this.request("get",S,R)}post(S,R={}){return this.request("post",S,R)}del(S,R={}){return this.request("del",S,R)}put(S,R={}){return this.request("put",S,R)}request(S,R,w={}){return A[S](this.client.getHttpEndpoint(R),this.getOptions(w)).catch(P=>{var f;const C=P.statusCode,y=((f=P.data)===null||f===void 0?void 0:f.error)||P.statusMessage||P.message;throw!C&&!y?P:new x.ServerError(C,y)})}getOptions(S){return this.authToken&&(S.headers||(S.headers={}),S.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(S.withCredentials=!0),S}};return Li.HTTP=_,Li}var Fi={},Go={},n0;function tv(){if(n0)return Go;n0=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.getItem=Go.removeItem=Go.setItem=void 0;let a;function u(){if(!a)try{a=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return a||(a={cache:{},setItem:function(_,p){this.cache[_]=p},getItem:function(_){this.cache[_]},removeItem:function(_){delete this.cache[_]}}),a}function c(_,p){u().setItem(_,p)}Go.setItem=c;function x(_){u().removeItem(_)}Go.removeItem=x;function A(_,p){const S=u().getItem(_);typeof Promise>"u"||!(S instanceof Promise)?p(S):S.then(R=>p(R))}return Go.getItem=A,Go}var r0;function Kp(){if(r0)return Fi;r0=1;var a=Fi&&Fi.__awaiter||function(P,f,C,y){function m(N){return N instanceof C?N:new C(function(T){T(N)})}return new(C||(C=Promise))(function(N,T){function D(O){try{v(y.next(O))}catch(z){T(z)}}function E(O){try{v(y.throw(O))}catch(z){T(z)}}function v(O){O.done?N(O.value):m(O.value).then(D,E)}v((y=y.apply(P,f||[])).next())})},u=Fi&&Fi.__classPrivateFieldGet||function(P,f,C,y){if(C==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?P!==f||!y:!f.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return C==="m"?y:C==="a"?y.call(P):y?y.value:f.get(P)},c=Fi&&Fi.__classPrivateFieldSet||function(P,f,C,y,m){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof f=="function"?P!==f||!m:!f.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?m.call(P,C):m?m.value=C:f.set(P,C),C},x,A,_,p;Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Auth=void 0;const S=tv(),R=Vp();let w=class{constructor(f){this.http=f,this.settings={path:"/auth",key:"colyseus-auth-token"},x.set(this,!1),A.set(this,void 0),_.set(this,void 0),p.set(this,(0,R.createNanoEvents)()),(0,S.getItem)(this.settings.key,C=>this.token=C)}set token(f){this.http.authToken=f}get token(){return this.http.authToken}onChange(f){const C=u(this,p,"f").on("change",f);return u(this,x,"f")||c(this,A,new Promise((y,m)=>{this.getUserData().then(N=>{this.emitChange(Object.assign(Object.assign({},N),{token:this.token}))}).catch(N=>{this.emitChange({user:null,token:void 0})}).finally(()=>{y()})}),"f"),c(this,x,!0,"f"),C}getUserData(){return a(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(f,C,y){return a(this,void 0,void 0,function*(){const m=(yield this.http.post(`${this.settings.path}/register`,{body:{email:f,password:C,options:y}})).data;return this.emitChange(m),m})}signInWithEmailAndPassword(f,C){return a(this,void 0,void 0,function*(){const y=(yield this.http.post(`${this.settings.path}/login`,{body:{email:f,password:C}})).data;return this.emitChange(y),y})}signInAnonymously(f){return a(this,void 0,void 0,function*(){const C=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:f}})).data;return this.emitChange(C),C})}sendPasswordResetEmail(f){return a(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:f}})).data})}signInWithProvider(f,C={}){return a(this,void 0,void 0,function*(){return new Promise((y,m)=>{const N=C.width||480,T=C.height||768,D=this.token?`?token=${this.token}`:"",E=`Login with ${f[0].toUpperCase()+f.substring(1)}`,v=this.http.client.getHttpEndpoint(`${C.prefix||`${this.settings.path}/provider`}/${f}${D}`),O=screen.width/2-N/2,z=screen.height/2-T/2;c(this,_,window.open(v,E,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+N+", height="+T+", top="+z+", left="+O),"f");const q=U=>{U.data.user===void 0&&U.data.token===void 0||(clearInterval(K),u(this,_,"f").close(),c(this,_,void 0,"f"),window.removeEventListener("message",q),U.data.error!==void 0?m(U.data.error):(y(U.data),this.emitChange(U.data)))},K=setInterval(()=>{(!u(this,_,"f")||u(this,_,"f").closed)&&(c(this,_,void 0,"f"),m("cancelled"),window.removeEventListener("message",q))},200);window.addEventListener("message",q)})})}signOut(){return a(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(f){f.token!==void 0&&(this.token=f.token,f.token===null?(0,S.removeItem)(this.settings.key):(0,S.setItem)(this.settings.key,f.token)),u(this,p,"f").emit("change",f)}};return Fi.Auth=w,x=new WeakMap,A=new WeakMap,_=new WeakMap,p=new WeakMap,Fi}var Cu={},i0;function nv(){if(i0)return Cu;i0=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.discordURLBuilder=void 0;function a(u){var c;const x=((c=window==null?void 0:window.location)===null||c===void 0?void 0:c.hostname)||"localhost",A=u.hostname.split("."),_=!u.hostname.includes("trycloudflare.com")&&!u.hostname.includes("discordsays.com")&&A.length>2?`/${A[0]}`:"";return u.pathname.startsWith("/.proxy")?`${u.protocol}//${x}${_}${u.pathname}${u.search}`:`${u.protocol}//${x}/.proxy/colyseus${_}${u.pathname}${u.search}`}return Cu.discordURLBuilder=a,Cu}var o0;function rv(){if(o0)return jo;o0=1;var a=jo&&jo.__awaiter||function(P,f,C,y){function m(N){return N instanceof C?N:new C(function(T){T(N)})}return new(C||(C=Promise))(function(N,T){function D(O){try{v(y.next(O))}catch(z){T(z)}}function E(O){try{v(y.throw(O))}catch(z){T(z)}}function v(O){O.done?N(O.value):m(O.value).then(D,E)}v((y=y.apply(P,f||[])).next())})},u;Object.defineProperty(jo,"__esModule",{value:!0}),jo.Client=jo.MatchMakeError=void 0;const c=jf(),x=qp(),A=ev(),_=Kp(),p=nv();class S extends Error{constructor(f,C){super(f),this.code=C,Object.setPrototypeOf(this,S.prototype)}}jo.MatchMakeError=S;const R=typeof window<"u"&&typeof((u=window==null?void 0:window.location)===null||u===void 0?void 0:u.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";let w=class{constructor(f=R,C){var y,m;if(typeof f=="string"){const N=f.startsWith("/")?new URL(f,R):new URL(f),T=N.protocol==="https:"||N.protocol==="wss:",D=Number(N.port||(T?443:80));this.settings={hostname:N.hostname,pathname:N.pathname,port:D,secure:T}}else f.port===void 0&&(f.port=f.secure?443:80),f.pathname===void 0&&(f.pathname=""),this.settings=f;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new A.HTTP(this),this.auth=new _.Auth(this.http),this.urlBuilder=C,!this.urlBuilder&&typeof window<"u"&&(!((m=(y=window==null?void 0:window.location)===null||y===void 0?void 0:y.hostname)===null||m===void 0)&&m.includes("discordsays.com"))&&(this.urlBuilder=p.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(f,C={},y){return a(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",f,C,y)})}create(f,C={},y){return a(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",f,C,y)})}join(f,C={},y){return a(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",f,C,y)})}joinById(f,C={},y){return a(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",f,C,y)})}reconnect(f,C){return a(this,void 0,void 0,function*(){if(typeof f=="string"&&typeof C=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[y,m]=f.split(":");if(!y||!m)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",y,{reconnectionToken:m},C)})}getAvailableRooms(f=""){return a(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${f}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(f,C,y){return a(this,void 0,void 0,function*(){const m=this.createRoom(f.room.name,C);m.roomId=f.room.roomId,m.sessionId=f.sessionId;const N={sessionId:m.sessionId};f.reconnectionToken&&(N.reconnectionToken=f.reconnectionToken);const T=y||m;return m.connect(this.buildEndpoint(f.room,N),f.devMode&&(()=>a(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${m.roomId}'...`);let D=0,E=8;const v=()=>a(this,void 0,void 0,function*(){D++;try{yield this.consumeSeatReservation(f,C,T),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${m.roomId}'`)}catch{D<E?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${D} out of ${E})`),setTimeout(v,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(v,2e3)})),T),new Promise((D,E)=>{const v=(O,z)=>E(new c.ServerError(O,z));T.onError.once(v),T.onJoin.once(()=>{T.onError.remove(v),D(T)})})})}createMatchMakeRequest(f,C,y={},m,N){return a(this,void 0,void 0,function*(){const T=(yield this.http.post(`matchmake/${f}/${C}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y)})).data;if(T.error)throw new S(T.error,T.code);return f==="reconnect"&&(T.reconnectionToken=y.reconnectionToken),yield this.consumeSeatReservation(T,m,N)})}createRoom(f,C){return new x.Room(f,C)}buildEndpoint(f,C={}){const y=[];for(const T in C)C.hasOwnProperty(T)&&y.push(`${T}=${C[T]}`);let m=this.settings.secure?"wss://":"ws://";f.publicAddress?m+=`${f.publicAddress}`:m+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const N=`${m}/${f.processId}/${f.roomId}?${y.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(N)):N}getHttpEndpoint(f=""){const C=f.startsWith("/")?f:`/${f}`,y=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${C}`;return this.urlBuilder?this.urlBuilder(new URL(y)):y}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};return jo.Client=w,jo}var Eu={},s0;function iv(){if(s0)return Eu;s0=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.SchemaSerializer=void 0;const a=bp();let u=class{setState(x){return this.state.decode(x)}getState(){return this.state}patch(x){return this.state.decode(x)}teardown(){var x,A;(A=(x=this.state)===null||x===void 0?void 0:x.$changes)===null||A===void 0||A.root.clearRefs()}handshake(x,A){this.state?new a.Reflection().decode(x,A):this.state=a.Reflection.decode(x,A)}};return Eu.SchemaSerializer=u,Eu}var ku={},a0;function ov(){if(a0)return ku;a0=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.NoneSerializer=void 0;let a=class{setState(c){}getState(){return null}patch(c){}teardown(){}handshake(c){}};return ku.NoneSerializer=a,ku}var l0;function sv(){return l0||(l0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SchemaSerializer=a.registerSerializer=a.Auth=a.Room=a.ErrorCode=a.Protocol=a.Client=void 0,Gg();var u=rv();Object.defineProperty(a,"Client",{enumerable:!0,get:function(){return u.Client}});var c=Hp();Object.defineProperty(a,"Protocol",{enumerable:!0,get:function(){return c.Protocol}}),Object.defineProperty(a,"ErrorCode",{enumerable:!0,get:function(){return c.ErrorCode}});var x=qp();Object.defineProperty(a,"Room",{enumerable:!0,get:function(){return x.Room}});var A=Kp();Object.defineProperty(a,"Auth",{enumerable:!0,get:function(){return A.Auth}});const _=iv();Object.defineProperty(a,"SchemaSerializer",{enumerable:!0,get:function(){return _.SchemaSerializer}});const p=ov(),S=$p();Object.defineProperty(a,"registerSerializer",{enumerable:!0,get:function(){return S.registerSerializer}}),(0,S.registerSerializer)("schema",_.SchemaSerializer),(0,S.registerSerializer)("none",p.NoneSerializer)}(vf)),vf}var Yp=sv(),Ed={exports:{}},Pu={},Sf={},wf={},u0;function vt(){return u0||(u0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a._registerNode=a.Konva=a.glob=void 0;const u=Math.PI/180;function c(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}a.glob=typeof Ch<"u"?Ch:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},a.Konva={_global:a.glob,version:"9.2.3",isBrowser:c(),isUnminified:/param/.test((function(A){}).toString()),dblClickWindow:400,getAngle(A){return a.Konva.angleDeg?A*u:A},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return a.Konva.DD.isDragging},isDragReady(){return!!a.Konva.DD.node},releaseCanvasOnDestroy:!0,document:a.glob.document,_injectGlobal(A){a.glob.Konva=A}};const x=A=>{a.Konva[A.prototype.getClassName()]=A};a._registerNode=x,a.Konva._injectGlobal(a.Konva)}(wf)),wf}var xf={},c0;function cn(){return c0||(c0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.Transform=void 0;const u=vt();class c{constructor(O=[1,0,0,1,0,0]){this.dirty=!1,this.m=O&&O.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new c(this.m)}copyInto(O){O.m[0]=this.m[0],O.m[1]=this.m[1],O.m[2]=this.m[2],O.m[3]=this.m[3],O.m[4]=this.m[4],O.m[5]=this.m[5]}point(O){var z=this.m;return{x:z[0]*O.x+z[2]*O.y+z[4],y:z[1]*O.x+z[3]*O.y+z[5]}}translate(O,z){return this.m[4]+=this.m[0]*O+this.m[2]*z,this.m[5]+=this.m[1]*O+this.m[3]*z,this}scale(O,z){return this.m[0]*=O,this.m[1]*=O,this.m[2]*=z,this.m[3]*=z,this}rotate(O){var z=Math.cos(O),q=Math.sin(O),K=this.m[0]*z+this.m[2]*q,U=this.m[1]*z+this.m[3]*q,W=this.m[0]*-q+this.m[2]*z,$=this.m[1]*-q+this.m[3]*z;return this.m[0]=K,this.m[1]=U,this.m[2]=W,this.m[3]=$,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(O,z){var q=this.m[0]+this.m[2]*z,K=this.m[1]+this.m[3]*z,U=this.m[2]+this.m[0]*O,W=this.m[3]+this.m[1]*O;return this.m[0]=q,this.m[1]=K,this.m[2]=U,this.m[3]=W,this}multiply(O){var z=this.m[0]*O.m[0]+this.m[2]*O.m[1],q=this.m[1]*O.m[0]+this.m[3]*O.m[1],K=this.m[0]*O.m[2]+this.m[2]*O.m[3],U=this.m[1]*O.m[2]+this.m[3]*O.m[3],W=this.m[0]*O.m[4]+this.m[2]*O.m[5]+this.m[4],$=this.m[1]*O.m[4]+this.m[3]*O.m[5]+this.m[5];return this.m[0]=z,this.m[1]=q,this.m[2]=K,this.m[3]=U,this.m[4]=W,this.m[5]=$,this}invert(){var O=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),z=this.m[3]*O,q=-this.m[1]*O,K=-this.m[2]*O,U=this.m[0]*O,W=O*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),$=O*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=z,this.m[1]=q,this.m[2]=K,this.m[3]=U,this.m[4]=W,this.m[5]=$,this}getMatrix(){return this.m}decompose(){var O=this.m[0],z=this.m[1],q=this.m[2],K=this.m[3],U=this.m[4],W=this.m[5],$=O*K-z*q;let Y={x:U,y:W,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(O!=0||z!=0){var ie=Math.sqrt(O*O+z*z);Y.rotation=z>0?Math.acos(O/ie):-Math.acos(O/ie),Y.scaleX=ie,Y.scaleY=$/ie,Y.skewX=(O*q+z*K)/$,Y.skewY=0}else if(q!=0||K!=0){var F=Math.sqrt(q*q+K*K);Y.rotation=Math.PI/2-(K>0?Math.acos(-q/F):-Math.acos(q/F)),Y.scaleX=$/F,Y.scaleY=F,Y.skewX=0,Y.skewY=(O*q+z*K)/$}return Y.rotation=a.Util._getRotation(Y.rotation),Y}}a.Transform=c;var x="[object Array]",A="[object Number]",_="[object String]",p="[object Boolean]",S=Math.PI/180,R=180/Math.PI,w="#",P="",f="0",C="Konva warning: ",y="Konva error: ",m="rgb(",N={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,D=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(v){setTimeout(v,60)};a.Util={_isElement(v){return!!(v&&v.nodeType==1)},_isFunction(v){return!!(v&&v.constructor&&v.call&&v.apply)},_isPlainObject(v){return!!v&&v.constructor===Object},_isArray(v){return Object.prototype.toString.call(v)===x},_isNumber(v){return Object.prototype.toString.call(v)===A&&!isNaN(v)&&isFinite(v)},_isString(v){return Object.prototype.toString.call(v)===_},_isBoolean(v){return Object.prototype.toString.call(v)===p},isObject(v){return v instanceof Object},isValidSelector(v){if(typeof v!="string")return!1;var O=v[0];return O==="#"||O==="."||O===O.toUpperCase()},_sign(v){return v===0||v>0?1:-1},requestAnimFrame(v){D.push(v),D.length===1&&E(function(){const O=D;D=[],O.forEach(function(z){z()})})},createCanvasElement(){var v=document.createElement("canvas");try{v.style=v.style||{}}catch{}return v},createImageElement(){return document.createElement("img")},_isInDocument(v){for(;v=v.parentNode;)if(v==document)return!0;return!1},_urlToImage(v,O){var z=a.Util.createImageElement();z.onload=function(){O(z)},z.src=v},_rgbToHex(v,O,z){return((1<<24)+(v<<16)+(O<<8)+z).toString(16).slice(1)},_hexToRgb(v){v=v.replace(w,P);var O=parseInt(v,16);return{r:O>>16&255,g:O>>8&255,b:O&255}},getRandomColor(){for(var v=(Math.random()*16777215<<0).toString(16);v.length<6;)v=f+v;return w+v},getRGB(v){var O;return v in N?(O=N[v],{r:O[0],g:O[1],b:O[2]}):v[0]===w?this._hexToRgb(v.substring(1)):v.substr(0,4)===m?(O=T.exec(v.replace(/ /g,"")),{r:parseInt(O[1],10),g:parseInt(O[2],10),b:parseInt(O[3],10)}):{r:0,g:0,b:0}},colorToRGBA(v){return v=v||"black",a.Util._namedColorToRBA(v)||a.Util._hex3ColorToRGBA(v)||a.Util._hex4ColorToRGBA(v)||a.Util._hex6ColorToRGBA(v)||a.Util._hex8ColorToRGBA(v)||a.Util._rgbColorToRGBA(v)||a.Util._rgbaColorToRGBA(v)||a.Util._hslColorToRGBA(v)},_namedColorToRBA(v){var O=N[v.toLowerCase()];return O?{r:O[0],g:O[1],b:O[2],a:1}:null},_rgbColorToRGBA(v){if(v.indexOf("rgb(")===0){v=v.match(/rgb\(([^)]+)\)/)[1];var O=v.split(/ *, */).map(Number);return{r:O[0],g:O[1],b:O[2],a:1}}},_rgbaColorToRGBA(v){if(v.indexOf("rgba(")===0){v=v.match(/rgba\(([^)]+)\)/)[1];var O=v.split(/ *, */).map((z,q)=>z.slice(-1)==="%"?q===3?parseInt(z)/100:parseInt(z)/100*255:Number(z));return{r:O[0],g:O[1],b:O[2],a:O[3]}}},_hex8ColorToRGBA(v){if(v[0]==="#"&&v.length===9)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:parseInt(v.slice(7,9),16)/255}},_hex6ColorToRGBA(v){if(v[0]==="#"&&v.length===7)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:1}},_hex4ColorToRGBA(v){if(v[0]==="#"&&v.length===5)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:parseInt(v[4]+v[4],16)/255}},_hex3ColorToRGBA(v){if(v[0]==="#"&&v.length===4)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:1}},_hslColorToRGBA(v){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(v)){const[O,...z]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(v),q=Number(z[0])/360,K=Number(z[1])/100,U=Number(z[2])/100;let W,$,Y;if(K===0)return Y=U*255,{r:Math.round(Y),g:Math.round(Y),b:Math.round(Y),a:1};U<.5?W=U*(1+K):W=U+K-U*K;const ie=2*U-W,F=[0,0,0];for(let j=0;j<3;j++)$=q+1/3*-(j-1),$<0&&$++,$>1&&$--,6*$<1?Y=ie+(W-ie)*6*$:2*$<1?Y=W:3*$<2?Y=ie+(W-ie)*(2/3-$)*6:Y=ie,F[j]=Y*255;return{r:Math.round(F[0]),g:Math.round(F[1]),b:Math.round(F[2]),a:1}}},haveIntersection(v,O){return!(O.x>v.x+v.width||O.x+O.width<v.x||O.y>v.y+v.height||O.y+O.height<v.y)},cloneObject(v){var O={};for(var z in v)this._isPlainObject(v[z])?O[z]=this.cloneObject(v[z]):this._isArray(v[z])?O[z]=this.cloneArray(v[z]):O[z]=v[z];return O},cloneArray(v){return v.slice(0)},degToRad(v){return v*S},radToDeg(v){return v*R},_degToRad(v){return a.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),a.Util.degToRad(v)},_radToDeg(v){return a.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),a.Util.radToDeg(v)},_getRotation(v){return u.Konva.angleDeg?a.Util.radToDeg(v):v},_capitalize(v){return v.charAt(0).toUpperCase()+v.slice(1)},throw(v){throw new Error(y+v)},error(v){console.error(y+v)},warn(v){u.Konva.showWarnings&&console.warn(C+v)},each(v,O){for(var z in v)O(z,v[z])},_inRange(v,O,z){return O<=v&&v<z},_getProjectionToSegment(v,O,z,q,K,U){var W,$,Y,ie=(v-z)*(v-z)+(O-q)*(O-q);if(ie==0)W=v,$=O,Y=(K-z)*(K-z)+(U-q)*(U-q);else{var F=((K-v)*(z-v)+(U-O)*(q-O))/ie;F<0?(W=v,$=O,Y=(v-K)*(v-K)+(O-U)*(O-U)):F>1?(W=z,$=q,Y=(z-K)*(z-K)+(q-U)*(q-U)):(W=v+F*(z-v),$=O+F*(q-O),Y=(W-K)*(W-K)+($-U)*($-U))}return[W,$,Y]},_getProjectionToLine(v,O,z){var q=a.Util.cloneObject(v),K=Number.MAX_VALUE;return O.forEach(function(U,W){if(!(!z&&W===O.length-1)){var $=O[(W+1)%O.length],Y=a.Util._getProjectionToSegment(U.x,U.y,$.x,$.y,v.x,v.y),ie=Y[0],F=Y[1],j=Y[2];j<K&&(q.x=ie,q.y=F,K=j)}}),q},_prepareArrayForTween(v,O,z){var q,K=[],U=[];if(v.length>O.length){var W=O;O=v,v=W}for(q=0;q<v.length;q+=2)K.push({x:v[q],y:v[q+1]});for(q=0;q<O.length;q+=2)U.push({x:O[q],y:O[q+1]});var $=[];return U.forEach(function(Y){var ie=a.Util._getProjectionToLine(Y,K,z);$.push(ie.x),$.push(ie.y)}),$},_prepareToStringify(v){var O;v.visitedByCircularReferenceRemoval=!0;for(var z in v)if(v.hasOwnProperty(z)&&v[z]&&typeof v[z]=="object"){if(O=Object.getOwnPropertyDescriptor(v,z),v[z].visitedByCircularReferenceRemoval||a.Util._isElement(v[z]))if(O.configurable)delete v[z];else return null;else if(a.Util._prepareToStringify(v[z])===null)if(O.configurable)delete v[z];else return null}return delete v.visitedByCircularReferenceRemoval,v},_assign(v,O){for(var z in O)v[z]=O[z];return v},_getFirstPointerId(v){return v.touches?v.changedTouches[0].identifier:v.pointerId||999},releaseCanvas(...v){u.Konva.releaseCanvasOnDestroy&&v.forEach(O=>{O.width=0,O.height=0})},drawRoundedRectPath(v,O,z,q){let K=0,U=0,W=0,$=0;typeof q=="number"?K=U=W=$=Math.min(q,O/2,z/2):(K=Math.min(q[0]||0,O/2,z/2),U=Math.min(q[1]||0,O/2,z/2),$=Math.min(q[2]||0,O/2,z/2),W=Math.min(q[3]||0,O/2,z/2)),v.moveTo(K,0),v.lineTo(O-U,0),v.arc(O-U,U,U,Math.PI*3/2,0,!1),v.lineTo(O,z-$),v.arc(O-$,z-$,$,0,Math.PI/2,!1),v.lineTo(W,z),v.arc(W,z-W,W,Math.PI/2,Math.PI,!1),v.lineTo(0,K),v.arc(K,K,K,Math.PI,Math.PI*3/2,!1)}}}(xf)),xf}var Ru={},Cf={},Kt={},d0;function St(){if(d0)return Kt;d0=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.getComponentValidator=Kt.getBooleanValidator=Kt.getNumberArrayValidator=Kt.getFunctionValidator=Kt.getStringOrGradientValidator=Kt.getStringValidator=Kt.getNumberOrAutoValidator=Kt.getNumberOrArrayOfNumbersValidator=Kt.getNumberValidator=Kt.alphaComponent=Kt.RGBComponent=void 0;const a=vt(),u=cn();function c(m){return u.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||u.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function x(m){return m>255?255:m<0?0:Math.round(m)}Kt.RGBComponent=x;function A(m){return m>1?1:m<1e-4?1e-4:m}Kt.alphaComponent=A;function _(){if(a.Konva.isUnminified)return function(m,N){return u.Util._isNumber(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a number.'),m}}Kt.getNumberValidator=_;function p(m){if(a.Konva.isUnminified)return function(N,T){let D=u.Util._isNumber(N),E=u.Util._isArray(N)&&N.length==m;return!D&&!E&&u.Util.warn(c(N)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+m+")"),N}}Kt.getNumberOrArrayOfNumbersValidator=p;function S(){if(a.Konva.isUnminified)return function(m,N){var T=u.Util._isNumber(m),D=m==="auto";return T||D||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a number or "auto".'),m}}Kt.getNumberOrAutoValidator=S;function R(){if(a.Konva.isUnminified)return function(m,N){return u.Util._isString(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a string.'),m}}Kt.getStringValidator=R;function w(){if(a.Konva.isUnminified)return function(m,N){const T=u.Util._isString(m),D=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return T||D||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a string or a native gradient.'),m}}Kt.getStringOrGradientValidator=w;function P(){if(a.Konva.isUnminified)return function(m,N){return u.Util._isFunction(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a function.'),m}}Kt.getFunctionValidator=P;function f(){if(a.Konva.isUnminified)return function(m,N){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&m instanceof T||(u.Util._isArray(m)?m.forEach(function(D){u.Util._isNumber(D)||u.Util.warn('"'+N+'" attribute has non numeric element '+D+". Make sure that all elements are numbers.")}):u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a array of numbers.')),m}}Kt.getNumberArrayValidator=f;function C(){if(a.Konva.isUnminified)return function(m,N){var T=m===!0||m===!1;return T||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a boolean.'),m}}Kt.getBooleanValidator=C;function y(m){if(a.Konva.isUnminified)return function(N,T){return N==null||u.Util.isObject(N)||u.Util.warn(c(N)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+m),N}}return Kt.getComponentValidator=y,Kt}var f0;function mt(){return f0||(f0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Factory=void 0;const u=cn(),c=St();var x="get",A="set";a.Factory={addGetterSetter(_,p,S,R,w){a.Factory.addGetter(_,p,S),a.Factory.addSetter(_,p,R,w),a.Factory.addOverloadedGetterSetter(_,p)},addGetter(_,p,S){var R=x+u.Util._capitalize(p);_.prototype[R]=_.prototype[R]||function(){var w=this.attrs[p];return w===void 0?S:w}},addSetter(_,p,S,R){var w=A+u.Util._capitalize(p);_.prototype[w]||a.Factory.overWriteSetter(_,p,S,R)},overWriteSetter(_,p,S,R){var w=A+u.Util._capitalize(p);_.prototype[w]=function(P){return S&&P!==void 0&&P!==null&&(P=S.call(this,P,p)),this._setAttr(p,P),R&&R.call(this),this}},addComponentsGetterSetter(_,p,S,R,w){var P=S.length,f=u.Util._capitalize,C=x+f(p),y=A+f(p),m,N;_.prototype[C]=function(){var D={};for(m=0;m<P;m++)N=S[m],D[N]=this.getAttr(p+f(N));return D};var T=(0,c.getComponentValidator)(S);_.prototype[y]=function(D){var E=this.attrs[p],v;R&&(D=R.call(this,D)),T&&T.call(this,D,p);for(v in D)D.hasOwnProperty(v)&&this._setAttr(p+f(v),D[v]);return D||S.forEach(O=>{this._setAttr(p+f(O),void 0)}),this._fireChangeEvent(p,E,D),w&&w.call(this),this},a.Factory.addOverloadedGetterSetter(_,p)},addOverloadedGetterSetter(_,p){var S=u.Util._capitalize(p),R=A+S,w=x+S;_.prototype[p]=function(){return arguments.length?(this[R](arguments[0]),this):this[w]()}},addDeprecatedGetterSetter(_,p,S,R){u.Util.error("Adding deprecated "+p);var w=x+u.Util._capitalize(p),P=p+" property is deprecated and will be removed soon. Look at Konva change log for more information.";_.prototype[w]=function(){u.Util.error(P);var f=this.attrs[p];return f===void 0?S:f},a.Factory.addSetter(_,p,R,function(){u.Util.error(P)}),a.Factory.addOverloadedGetterSetter(_,p)},backCompat(_,p){u.Util.each(p,function(S,R){var w=_.prototype[R],P=x+u.Util._capitalize(S),f=A+u.Util._capitalize(S);function C(){w.apply(this,arguments),u.Util.error('"'+S+'" method is deprecated and will be removed soon. Use ""'+R+'" instead.')}_.prototype[S]=C,_.prototype[P]=C,_.prototype[f]=C})},afterSetFilter(){this._filterUpToDate=!1}}}(Cf)),Cf}var Bo={},Ho={},h0;function Qp(){if(h0)return Ho;h0=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.HitContext=Ho.SceneContext=Ho.Context=void 0;const a=cn(),u=vt();function c(D){var E=[],v=D.length,O=a.Util,z,q;for(z=0;z<v;z++)q=D[z],O._isNumber(q)?q=Math.round(q*1e3)/1e3:O._isString(q)||(q=q+""),E.push(q);return E}var x=",",A="(",_=")",p="([",S="])",R=";",w="()",P="=",f=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],C=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const y=100;let m=class{constructor(E){this.canvas=E,u.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(E){E.fillEnabled()&&this._fill(E)}_fill(E){}strokeShape(E){E.hasStroke()&&this._stroke(E)}_stroke(E){}fillStrokeShape(E){E.attrs.fillAfterStrokeEnabled?(this.strokeShape(E),this.fillShape(E)):(this.fillShape(E),this.strokeShape(E))}getTrace(E,v){var O=this.traceArr,z=O.length,q="",K,U,W,$;for(K=0;K<z;K++)U=O[K],W=U.method,W?($=U.args,q+=W,E?q+=w:a.Util._isArray($[0])?q+=p+$.join(x)+S:(v&&($=$.map(Y=>typeof Y=="number"?Math.floor(Y):Y)),q+=A+$.join(x)+_)):(q+=U.property,E||(q+=P+U.val)),q+=R;return q}clearTrace(){this.traceArr=[]}_trace(E){var v=this.traceArr,O;v.push(E),O=v.length,O>=y&&v.shift()}reset(){var E=this.getCanvas().getPixelRatio();this.setTransform(1*E,0,0,1*E,0,0)}getCanvas(){return this.canvas}clear(E){var v=this.getCanvas();E?this.clearRect(E.x||0,E.y||0,E.width||0,E.height||0):this.clearRect(0,0,v.getWidth()/v.pixelRatio,v.getHeight()/v.pixelRatio)}_applyLineCap(E){const v=E.attrs.lineCap;v&&this.setAttr("lineCap",v)}_applyOpacity(E){var v=E.getAbsoluteOpacity();v!==1&&this.setAttr("globalAlpha",v)}_applyLineJoin(E){const v=E.attrs.lineJoin;v&&this.setAttr("lineJoin",v)}setAttr(E,v){this._context[E]=v}arc(E,v,O,z,q,K){this._context.arc(E,v,O,z,q,K)}arcTo(E,v,O,z,q){this._context.arcTo(E,v,O,z,q)}beginPath(){this._context.beginPath()}bezierCurveTo(E,v,O,z,q,K){this._context.bezierCurveTo(E,v,O,z,q,K)}clearRect(E,v,O,z){this._context.clearRect(E,v,O,z)}clip(...E){this._context.clip.apply(this._context,E)}closePath(){this._context.closePath()}createImageData(E,v){var O=arguments;if(O.length===2)return this._context.createImageData(E,v);if(O.length===1)return this._context.createImageData(E)}createLinearGradient(E,v,O,z){return this._context.createLinearGradient(E,v,O,z)}createPattern(E,v){return this._context.createPattern(E,v)}createRadialGradient(E,v,O,z,q,K){return this._context.createRadialGradient(E,v,O,z,q,K)}drawImage(E,v,O,z,q,K,U,W,$){var Y=arguments,ie=this._context;Y.length===3?ie.drawImage(E,v,O):Y.length===5?ie.drawImage(E,v,O,z,q):Y.length===9&&ie.drawImage(E,v,O,z,q,K,U,W,$)}ellipse(E,v,O,z,q,K,U,W){this._context.ellipse(E,v,O,z,q,K,U,W)}isPointInPath(E,v,O,z){return O?this._context.isPointInPath(O,E,v,z):this._context.isPointInPath(E,v,z)}fill(...E){this._context.fill.apply(this._context,E)}fillRect(E,v,O,z){this._context.fillRect(E,v,O,z)}strokeRect(E,v,O,z){this._context.strokeRect(E,v,O,z)}fillText(E,v,O,z){z?this._context.fillText(E,v,O,z):this._context.fillText(E,v,O)}measureText(E){return this._context.measureText(E)}getImageData(E,v,O,z){return this._context.getImageData(E,v,O,z)}lineTo(E,v){this._context.lineTo(E,v)}moveTo(E,v){this._context.moveTo(E,v)}rect(E,v,O,z){this._context.rect(E,v,O,z)}putImageData(E,v,O){this._context.putImageData(E,v,O)}quadraticCurveTo(E,v,O,z){this._context.quadraticCurveTo(E,v,O,z)}restore(){this._context.restore()}rotate(E){this._context.rotate(E)}save(){this._context.save()}scale(E,v){this._context.scale(E,v)}setLineDash(E){this._context.setLineDash?this._context.setLineDash(E):"mozDash"in this._context?this._context.mozDash=E:"webkitLineDash"in this._context&&(this._context.webkitLineDash=E)}getLineDash(){return this._context.getLineDash()}setTransform(E,v,O,z,q,K){this._context.setTransform(E,v,O,z,q,K)}stroke(E){E?this._context.stroke(E):this._context.stroke()}strokeText(E,v,O,z){this._context.strokeText(E,v,O,z)}transform(E,v,O,z,q,K){this._context.transform(E,v,O,z,q,K)}translate(E,v){this._context.translate(E,v)}_enableTrace(){var E=this,v=f.length,O=this.setAttr,z,q,K=function(U){var W=E[U],$;E[U]=function(){return q=c(Array.prototype.slice.call(arguments,0)),$=W.apply(E,arguments),E._trace({method:U,args:q}),$}};for(z=0;z<v;z++)K(f[z]);E.setAttr=function(){O.apply(E,arguments);var U=arguments[0],W=arguments[1];(U==="shadowOffsetX"||U==="shadowOffsetY"||U==="shadowBlur")&&(W=W/this.canvas.getPixelRatio()),E._trace({property:U,val:W})}}_applyGlobalCompositeOperation(E){const v=E.attrs.globalCompositeOperation;var O=!v||v==="source-over";O||this.setAttr("globalCompositeOperation",v)}};Ho.Context=m,C.forEach(function(D){Object.defineProperty(m.prototype,D,{get(){return this._context[D]},set(E){this._context[D]=E}})});class N extends m{constructor(E,{willReadFrequently:v=!1}={}){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:v})}_fillColor(E){var v=E.fill();this.setAttr("fillStyle",v),E._fillFunc(this)}_fillPattern(E){this.setAttr("fillStyle",E._getFillPattern()),E._fillFunc(this)}_fillLinearGradient(E){var v=E._getLinearGradient();v&&(this.setAttr("fillStyle",v),E._fillFunc(this))}_fillRadialGradient(E){const v=E._getRadialGradient();v&&(this.setAttr("fillStyle",v),E._fillFunc(this))}_fill(E){const v=E.fill(),O=E.getFillPriority();if(v&&O==="color"){this._fillColor(E);return}const z=E.getFillPatternImage();if(z&&O==="pattern"){this._fillPattern(E);return}const q=E.getFillLinearGradientColorStops();if(q&&O==="linear-gradient"){this._fillLinearGradient(E);return}const K=E.getFillRadialGradientColorStops();if(K&&O==="radial-gradient"){this._fillRadialGradient(E);return}v?this._fillColor(E):z?this._fillPattern(E):q?this._fillLinearGradient(E):K&&this._fillRadialGradient(E)}_strokeLinearGradient(E){const v=E.getStrokeLinearGradientStartPoint(),O=E.getStrokeLinearGradientEndPoint(),z=E.getStrokeLinearGradientColorStops(),q=this.createLinearGradient(v.x,v.y,O.x,O.y);if(z){for(var K=0;K<z.length;K+=2)q.addColorStop(z[K],z[K+1]);this.setAttr("strokeStyle",q)}}_stroke(E){var v=E.dash(),O=E.getStrokeScaleEnabled();if(E.hasStroke()){if(!O){this.save();var z=this.getCanvas().getPixelRatio();this.setTransform(z,0,0,z,0,0)}this._applyLineCap(E),v&&E.dashEnabled()&&(this.setLineDash(v),this.setAttr("lineDashOffset",E.dashOffset())),this.setAttr("lineWidth",E.strokeWidth()),E.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var q=E.getStrokeLinearGradientColorStops();q?this._strokeLinearGradient(E):this.setAttr("strokeStyle",E.stroke()),E._strokeFunc(this),O||this.restore()}}_applyShadow(E){var v,O,z,q=(v=E.getShadowRGBA())!==null&&v!==void 0?v:"black",K=(O=E.getShadowBlur())!==null&&O!==void 0?O:5,U=(z=E.getShadowOffset())!==null&&z!==void 0?z:{x:0,y:0},W=E.getAbsoluteScale(),$=this.canvas.getPixelRatio(),Y=W.x*$,ie=W.y*$;this.setAttr("shadowColor",q),this.setAttr("shadowBlur",K*Math.min(Math.abs(Y),Math.abs(ie))),this.setAttr("shadowOffsetX",U.x*Y),this.setAttr("shadowOffsetY",U.y*ie)}}Ho.SceneContext=N;class T extends m{constructor(E){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:!0})}_fill(E){this.save(),this.setAttr("fillStyle",E.colorKey),E._fillFuncHit(this),this.restore()}strokeShape(E){E.hasHitStroke()&&this._stroke(E)}_stroke(E){if(E.hasHitStroke()){const q=E.getStrokeScaleEnabled();if(!q){this.save();var v=this.getCanvas().getPixelRatio();this.setTransform(v,0,0,v,0,0)}this._applyLineCap(E);var O=E.hitStrokeWidth(),z=O==="auto"?E.strokeWidth():O;this.setAttr("lineWidth",z),this.setAttr("strokeStyle",E.colorKey),E._strokeFuncHit(this),q||this.restore()}}}return Ho.HitContext=T,Ho}var p0;function Od(){if(p0)return Bo;p0=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.HitCanvas=Bo.SceneCanvas=Bo.Canvas=void 0;const a=cn(),u=Qp(),c=vt(),x=mt(),A=St();var _;function p(){if(_)return _;var P=a.Util.createCanvasElement(),f=P.getContext("2d");return _=function(){var C=c.Konva._global.devicePixelRatio||1,y=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return C/y}(),a.Util.releaseCanvas(P),_}let S=class{constructor(f){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var C=f||{},y=C.pixelRatio||c.Konva.pixelRatio||p();this.pixelRatio=y,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(f){var C=this.pixelRatio;this.pixelRatio=f,this.setSize(this.getWidth()/C,this.getHeight()/C)}setWidth(f){this.width=this._canvas.width=f*this.pixelRatio,this._canvas.style.width=f+"px";var C=this.pixelRatio,y=this.getContext()._context;y.scale(C,C)}setHeight(f){this.height=this._canvas.height=f*this.pixelRatio,this._canvas.style.height=f+"px";var C=this.pixelRatio,y=this.getContext()._context;y.scale(C,C)}getWidth(){return this.width}getHeight(){return this.height}setSize(f,C){this.setWidth(f||0),this.setHeight(C||0)}toDataURL(f,C){try{return this._canvas.toDataURL(f,C)}catch{try{return this._canvas.toDataURL()}catch(m){return a.Util.error("Unable to get data URL. "+m.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Bo.Canvas=S,x.Factory.addGetterSetter(S,"pixelRatio",void 0,(0,A.getNumberValidator)());class R extends S{constructor(f={width:0,height:0,willReadFrequently:!1}){super(f),this.context=new u.SceneContext(this,{willReadFrequently:f.willReadFrequently}),this.setSize(f.width,f.height)}}Bo.SceneCanvas=R;class w extends S{constructor(f={width:0,height:0}){super(f),this.hitCanvas=!0,this.context=new u.HitContext(this),this.setSize(f.width,f.height)}}return Bo.HitCanvas=w,Bo}var Ef={},g0;function Gf(){return g0||(g0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DD=void 0;const u=vt(),c=cn();a.DD={get isDragging(){var x=!1;return a.DD._dragElements.forEach(A=>{A.dragStatus==="dragging"&&(x=!0)}),x},justDragged:!1,get node(){var x;return a.DD._dragElements.forEach(A=>{x=A.node}),x},_dragElements:new Map,_drag(x){const A=[];a.DD._dragElements.forEach((_,p)=>{const{node:S}=_,R=S.getStage();R.setPointersPositions(x),_.pointerId===void 0&&(_.pointerId=c.Util._getFirstPointerId(x));const w=R._changedPointerPositions.find(C=>C.id===_.pointerId);if(w){if(_.dragStatus!=="dragging"){var P=S.dragDistance(),f=Math.max(Math.abs(w.x-_.startPointerPos.x),Math.abs(w.y-_.startPointerPos.y));if(f<P||(S.startDrag({evt:x}),!S.isDragging()))return}S._setDragPosition(x,_),A.push(S)}}),A.forEach(_=>{_.fire("dragmove",{type:"dragmove",target:_,evt:x},!0)})},_endDragBefore(x){const A=[];a.DD._dragElements.forEach(_=>{const{node:p}=_,S=p.getStage();if(x&&S.setPointersPositions(x),!S._changedPointerPositions.find(P=>P.id===_.pointerId))return;(_.dragStatus==="dragging"||_.dragStatus==="stopped")&&(a.DD.justDragged=!0,u.Konva._mouseListenClick=!1,u.Konva._touchListenClick=!1,u.Konva._pointerListenClick=!1,_.dragStatus="stopped");const w=_.node.getLayer()||_.node instanceof u.Konva.Stage&&_.node;w&&A.indexOf(w)===-1&&A.push(w)}),A.forEach(_=>{_.draw()})},_endDragAfter(x){a.DD._dragElements.forEach((A,_)=>{A.dragStatus==="stopped"&&A.node.fire("dragend",{type:"dragend",target:A.node,evt:x},!0),A.dragStatus!=="dragging"&&a.DD._dragElements.delete(_)})}},u.Konva.isBrowser&&(window.addEventListener("mouseup",a.DD._endDragBefore,!0),window.addEventListener("touchend",a.DD._endDragBefore,!0),window.addEventListener("mousemove",a.DD._drag),window.addEventListener("touchmove",a.DD._drag),window.addEventListener("mouseup",a.DD._endDragAfter,!1),window.addEventListener("touchend",a.DD._endDragAfter,!1))}(Ef)),Ef}var v0;function yn(){if(v0)return Ru;v0=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.Node=void 0;const a=cn(),u=mt(),c=Od(),x=vt(),A=Gf(),_=St();var p="absoluteOpacity",S="allEventListeners",R="absoluteTransform",w="absoluteScale",P="canvas",f="Change",C="children",y="konva",m="listening",N="mouseenter",T="mouseleave",D="set",E="Shape",v=" ",O="stage",z="transform",q="Stage",K="visible",U=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(v);let W=1,$=class Ff{constructor(F){this._id=W++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(F),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(F){(F===z||F===R)&&this._cache.get(F)?this._cache.get(F).dirty=!0:F?this._cache.delete(F):this._cache.clear()}_getCache(F,j){var B=this._cache.get(F),Q=F===z||F===R,X=B===void 0||Q&&B.dirty===!0;return X&&(B=j.call(this),this._cache.set(F,B)),B}_calculate(F,j,B){if(!this._attachedDepsListeners.get(F)){const Q=j.map(X=>X+"Change.konva").join(v);this.on(Q,()=>{this._clearCache(F)}),this._attachedDepsListeners.set(F,!0)}return this._getCache(F,B)}_getCanvasCache(){return this._cache.get(P)}_clearSelfAndDescendantCache(F){this._clearCache(F),F===R&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(P)){const{scene:F,filter:j,hit:B}=this._cache.get(P);a.Util.releaseCanvas(F,j,B),this._cache.delete(P)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(F){var j=F||{},B={};(j.x===void 0||j.y===void 0||j.width===void 0||j.height===void 0)&&(B=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var Q=Math.ceil(j.width||B.width),X=Math.ceil(j.height||B.height),ee=j.pixelRatio,ne=j.x===void 0?Math.floor(B.x):j.x,V=j.y===void 0?Math.floor(B.y):j.y,oe=j.offset||0,te=j.drawBorder||!1,Se=j.hitCanvasPixelRatio||1;if(!Q||!X){a.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}Q+=oe*2+1,X+=oe*2+1,ne-=oe,V-=oe;var ye=new c.SceneCanvas({pixelRatio:ee,width:Q,height:X}),Ae=new c.SceneCanvas({pixelRatio:ee,width:0,height:0,willReadFrequently:!0}),Pe=new c.HitCanvas({pixelRatio:Se,width:Q,height:X}),Z=ye.getContext(),de=Pe.getContext();return Pe.isCache=!0,ye.isCache=!0,this._cache.delete(P),this._filterUpToDate=!1,j.imageSmoothingEnabled===!1&&(ye.getContext()._context.imageSmoothingEnabled=!1,Ae.getContext()._context.imageSmoothingEnabled=!1),Z.save(),de.save(),Z.translate(-ne,-V),de.translate(-ne,-V),this._isUnderCache=!0,this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(w),this.drawScene(ye,this),this.drawHit(Pe,this),this._isUnderCache=!1,Z.restore(),de.restore(),te&&(Z.save(),Z.beginPath(),Z.rect(0,0,Q,X),Z.closePath(),Z.setAttr("strokeStyle","red"),Z.setAttr("lineWidth",5),Z.stroke(),Z.restore()),this._cache.set(P,{scene:ye,filter:Ae,hit:Pe,x:ne,y:V}),this._requestDraw(),this}isCached(){return this._cache.has(P)}getClientRect(F){throw new Error('abstract "getClientRect" method call')}_transformedRect(F,j){var B=[{x:F.x,y:F.y},{x:F.x+F.width,y:F.y},{x:F.x+F.width,y:F.y+F.height},{x:F.x,y:F.y+F.height}],Q=1/0,X=1/0,ee=-1/0,ne=-1/0,V=this.getAbsoluteTransform(j);return B.forEach(function(oe){var te=V.point(oe);Q===void 0&&(Q=ee=te.x,X=ne=te.y),Q=Math.min(Q,te.x),X=Math.min(X,te.y),ee=Math.max(ee,te.x),ne=Math.max(ne,te.y)}),{x:Q,y:X,width:ee-Q,height:ne-X}}_drawCachedSceneCanvas(F){F.save(),F._applyOpacity(this),F._applyGlobalCompositeOperation(this);const j=this._getCanvasCache();F.translate(j.x,j.y);var B=this._getCachedSceneCanvas(),Q=B.pixelRatio;F.drawImage(B._canvas,0,0,B.width/Q,B.height/Q),F.restore()}_drawCachedHitCanvas(F){var j=this._getCanvasCache(),B=j.hit;F.save(),F.translate(j.x,j.y),F.drawImage(B._canvas,0,0,B.width/B.pixelRatio,B.height/B.pixelRatio),F.restore()}_getCachedSceneCanvas(){var F=this.filters(),j=this._getCanvasCache(),B=j.scene,Q=j.filter,X=Q.getContext(),ee,ne,V,oe;if(F){if(!this._filterUpToDate){var te=B.pixelRatio;Q.setSize(B.width/B.pixelRatio,B.height/B.pixelRatio);try{for(ee=F.length,X.clear(),X.drawImage(B._canvas,0,0,B.getWidth()/te,B.getHeight()/te),ne=X.getImageData(0,0,Q.getWidth(),Q.getHeight()),V=0;V<ee;V++){if(oe=F[V],typeof oe!="function"){a.Util.error("Filter should be type of function, but got "+typeof oe+" instead. Please check correct filters");continue}oe.call(this,ne),X.putImageData(ne,0,0)}}catch(Se){a.Util.error("Unable to apply filter. "+Se.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return Q}return B}on(F,j){if(this._cache&&this._cache.delete(S),arguments.length===3)return this._delegate.apply(this,arguments);var B=F.split(v),Q=B.length,X,ee,ne,V,oe;for(X=0;X<Q;X++)ee=B[X],ne=ee.split("."),V=ne[0],oe=ne[1]||"",this.eventListeners[V]||(this.eventListeners[V]=[]),this.eventListeners[V].push({name:oe,handler:j});return this}off(F,j){var B=(F||"").split(v),Q=B.length,X,ee,ne,V,oe,te;if(this._cache&&this._cache.delete(S),!F)for(ee in this.eventListeners)this._off(ee);for(X=0;X<Q;X++)if(ne=B[X],V=ne.split("."),oe=V[0],te=V[1],oe)this.eventListeners[oe]&&this._off(oe,te,j);else for(ee in this.eventListeners)this._off(ee,te,j);return this}dispatchEvent(F){var j={target:this,type:F.type,evt:F};return this.fire(F.type,j),this}addEventListener(F,j){return this.on(F,function(B){j.call(this,B.evt)}),this}removeEventListener(F){return this.off(F),this}_delegate(F,j,B){var Q=this;this.on(F,function(X){for(var ee=X.target.findAncestors(j,!0,Q),ne=0;ne<ee.length;ne++)X=a.Util.cloneObject(X),X.currentTarget=ee[ne],B.call(ee[ne],X)})}remove(){return this.isDragging()&&this.stopDrag(),A.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();var F=this.getParent();F&&F.children&&(F.children.splice(this.index,1),F._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(F){var j="get"+a.Util._capitalize(F);return a.Util._isFunction(this[j])?this[j]():this.attrs[F]}getAncestors(){for(var F=this.getParent(),j=[];F;)j.push(F),F=F.getParent();return j}getAttrs(){return this.attrs||{}}setAttrs(F){return this._batchTransformChanges(()=>{var j,B;if(!F)return this;for(j in F)j!==C&&(B=D+a.Util._capitalize(j),a.Util._isFunction(this[B])?this[B](F[j]):this._setAttr(j,F[j]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(F){if(!this.listening())return!1;const B=this.getParent();return B&&B!==F&&this!==F?B._isListening(F):!0}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(F){if(!this.visible())return!1;const B=this.getParent();return B&&B!==F&&this!==F?B._isVisible(F):!0}shouldDrawHit(F,j=!1){if(F)return this._isVisible(F)&&this._isListening(F);var B=this.getLayer(),Q=!1;A.DD._dragElements.forEach(ee=>{ee.dragStatus==="dragging"&&(ee.node.nodeType==="Stage"||ee.node.getLayer()===B)&&(Q=!0)});var X=!j&&!x.Konva.hitOnDragEnabled&&Q;return this.isListening()&&this.isVisible()&&!X}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var F=this.getDepth(),j=this,B=0,Q,X,ee,ne;function V(te){for(Q=[],X=te.length,ee=0;ee<X;ee++)ne=te[ee],B++,ne.nodeType!==E&&(Q=Q.concat(ne.getChildren().slice())),ne._id===j._id&&(ee=X);Q.length>0&&Q[0].getDepth()<=F&&V(Q)}const oe=this.getStage();return j.nodeType!==q&&oe&&V(oe.getChildren()),B}getDepth(){for(var F=0,j=this.parent;j;)F++,j=j.parent;return F}_batchTransformChanges(F){this._batchingTransformChange=!0,F(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(z),this._clearSelfAndDescendantCache(R)),this._needClearTransformCache=!1}setPosition(F){return this._batchTransformChanges(()=>{this.x(F.x),this.y(F.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const F=this.getStage();if(!F)return null;var j=F.getPointerPosition();if(!j)return null;var B=this.getAbsoluteTransform().copy();return B.invert(),B.point(j)}getAbsolutePosition(F){let j=!1,B=this.parent;for(;B;){if(B.isCached()){j=!0;break}B=B.parent}j&&!F&&(F=!0);var Q=this.getAbsoluteTransform(F).getMatrix(),X=new a.Transform,ee=this.offset();return X.m=Q.slice(),X.translate(ee.x,ee.y),X.getTranslation()}setAbsolutePosition(F){const{x:j,y:B,...Q}=this._clearTransform();this.attrs.x=j,this.attrs.y=B,this._clearCache(z);var X=this._getAbsoluteTransform().copy();return X.invert(),X.translate(F.x,F.y),F={x:this.attrs.x+X.getTranslation().x,y:this.attrs.y+X.getTranslation().y},this._setTransform(Q),this.setPosition({x:F.x,y:F.y}),this._clearCache(z),this._clearSelfAndDescendantCache(R),this}_setTransform(F){var j;for(j in F)this.attrs[j]=F[j]}_clearTransform(){var F={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,F}move(F){var j=F.x,B=F.y,Q=this.x(),X=this.y();return j!==void 0&&(Q+=j),B!==void 0&&(X+=B),this.setPosition({x:Q,y:X}),this}_eachAncestorReverse(F,j){var B=[],Q=this.getParent(),X,ee;if(!(j&&j._id===this._id)){for(B.unshift(this);Q&&(!j||Q._id!==j._id);)B.unshift(Q),Q=Q.parent;for(X=B.length,ee=0;ee<X;ee++)F(B[ee])}}rotate(F){return this.rotation(this.rotation()+F),this}moveToTop(){if(!this.parent)return a.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var F=this.index,j=this.parent.getChildren().length;return F<j-1?(this.parent.children.splice(F,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return a.Util.warn("Node has no parent. moveUp function is ignored."),!1;var F=this.index,j=this.parent.getChildren().length;return F<j-1?(this.parent.children.splice(F,1),this.parent.children.splice(F+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return a.Util.warn("Node has no parent. moveDown function is ignored."),!1;var F=this.index;return F>0?(this.parent.children.splice(F,1),this.parent.children.splice(F-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return a.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var F=this.index;return F>0?(this.parent.children.splice(F,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(F){if(!this.parent)return a.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(F<0||F>=this.parent.children.length)&&a.Util.warn("Unexpected value "+F+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var j=this.index;return this.parent.children.splice(j,1),this.parent.children.splice(F,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(p,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var F=this.opacity(),j=this.getParent();return j&&!j._isUnderCache&&(F*=j.getAbsoluteOpacity()),F}moveTo(F){return this.getParent()!==F&&(this._remove(),F.add(this)),this}toObject(){var F={},j=this.getAttrs(),B,Q,X,ee,ne;F.attrs={};for(B in j)Q=j[B],ne=a.Util.isObject(Q)&&!a.Util._isPlainObject(Q)&&!a.Util._isArray(Q),!ne&&(X=typeof this[B]=="function"&&this[B],delete j[B],ee=X?X.call(this):null,j[B]=Q,ee!==Q&&(F.attrs[B]=Q));return F.className=this.getClassName(),a.Util._prepareToStringify(F)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(F,j,B){var Q=[];j&&this._isMatch(F)&&Q.push(this);for(var X=this.parent;X;){if(X===B)return Q;X._isMatch(F)&&Q.push(X),X=X.parent}return Q}isAncestorOf(F){return!1}findAncestor(F,j,B){return this.findAncestors(F,j,B)[0]}_isMatch(F){if(!F)return!1;if(typeof F=="function")return F(this);var j=F.replace(/ /g,"").split(","),B=j.length,Q,X;for(Q=0;Q<B;Q++)if(X=j[Q],a.Util.isValidSelector(X)||(a.Util.warn('Selector "'+X+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),a.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),a.Util.warn("Konva is awesome, right?")),X.charAt(0)==="#"){if(this.id()===X.slice(1))return!0}else if(X.charAt(0)==="."){if(this.hasName(X.slice(1)))return!0}else if(this.className===X||this.nodeType===X)return!0;return!1}getLayer(){var F=this.getParent();return F?F.getLayer():null}getStage(){return this._getCache(O,this._getStage)}_getStage(){var F=this.getParent();return F?F.getStage():null}fire(F,j={},B){return j.target=j.target||this,B?this._fireAndBubble(F,j):this._fire(F,j),this}getAbsoluteTransform(F){return F?this._getAbsoluteTransform(F):this._getCache(R,this._getAbsoluteTransform)}_getAbsoluteTransform(F){var j;if(F)return j=new a.Transform,this._eachAncestorReverse(function(Q){var X=Q.transformsEnabled();X==="all"?j.multiply(Q.getTransform()):X==="position"&&j.translate(Q.x()-Q.offsetX(),Q.y()-Q.offsetY())},F),j;j=this._cache.get(R)||new a.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(j):j.reset();var B=this.transformsEnabled();if(B==="all")j.multiply(this.getTransform());else if(B==="position"){const Q=this.attrs.x||0,X=this.attrs.y||0,ee=this.attrs.offsetX||0,ne=this.attrs.offsetY||0;j.translate(Q-ee,X-ne)}return j.dirty=!1,j}getAbsoluteScale(F){for(var j=this;j;)j._isUnderCache&&(F=j),j=j.getParent();const Q=this.getAbsoluteTransform(F).decompose();return{x:Q.scaleX,y:Q.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(z,this._getTransform)}_getTransform(){var F,j,B=this._cache.get(z)||new a.Transform;B.reset();var Q=this.x(),X=this.y(),ee=x.Konva.getAngle(this.rotation()),ne=(F=this.attrs.scaleX)!==null&&F!==void 0?F:1,V=(j=this.attrs.scaleY)!==null&&j!==void 0?j:1,oe=this.attrs.skewX||0,te=this.attrs.skewY||0,Se=this.attrs.offsetX||0,ye=this.attrs.offsetY||0;return(Q!==0||X!==0)&&B.translate(Q,X),ee!==0&&B.rotate(ee),(oe!==0||te!==0)&&B.skew(oe,te),(ne!==1||V!==1)&&B.scale(ne,V),(Se!==0||ye!==0)&&B.translate(-1*Se,-1*ye),B.dirty=!1,B}clone(F){var j=a.Util.cloneObject(this.attrs),B,Q,X,ee,ne;for(B in F)j[B]=F[B];var V=new this.constructor(j);for(B in this.eventListeners)for(Q=this.eventListeners[B],X=Q.length,ee=0;ee<X;ee++)ne=Q[ee],ne.name.indexOf(y)<0&&(V.eventListeners[B]||(V.eventListeners[B]=[]),V.eventListeners[B].push(ne));return V}_toKonvaCanvas(F){F=F||{};var j=this.getClientRect(),B=this.getStage(),Q=F.x!==void 0?F.x:Math.floor(j.x),X=F.y!==void 0?F.y:Math.floor(j.y),ee=F.pixelRatio||1,ne=new c.SceneCanvas({width:F.width||Math.ceil(j.width)||(B?B.width():0),height:F.height||Math.ceil(j.height)||(B?B.height():0),pixelRatio:ee}),V=ne.getContext();return F.imageSmoothingEnabled===!1&&(V._context.imageSmoothingEnabled=!1),V.save(),(Q||X)&&V.translate(-1*Q,-1*X),this.drawScene(ne),V.restore(),ne}toCanvas(F){return this._toKonvaCanvas(F)._canvas}toDataURL(F){F=F||{};var j=F.mimeType||null,B=F.quality||null,Q=this._toKonvaCanvas(F).toDataURL(j,B);return F.callback&&F.callback(Q),Q}toImage(F){return new Promise((j,B)=>{try{const Q=F==null?void 0:F.callback;Q&&delete F.callback,a.Util._urlToImage(this.toDataURL(F),function(X){j(X),Q==null||Q(X)})}catch(Q){B(Q)}})}toBlob(F){return new Promise((j,B)=>{try{const Q=F==null?void 0:F.callback;Q&&delete F.callback,this.toCanvas(F).toBlob(X=>{j(X),Q==null||Q(X)})}catch(Q){B(Q)}})}setSize(F){return this.width(F.width),this.height(F.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():x.Konva.dragDistance}_off(F,j,B){var Q=this.eventListeners[F],X,ee,ne;for(X=0;X<Q.length;X++)if(ee=Q[X].name,ne=Q[X].handler,(ee!=="konva"||j==="konva")&&(!j||ee===j)&&(!B||B===ne)){if(Q.splice(X,1),Q.length===0){delete this.eventListeners[F];break}X--}}_fireChangeEvent(F,j,B){this._fire(F+f,{oldVal:j,newVal:B})}addName(F){if(!this.hasName(F)){var j=this.name(),B=j?j+" "+F:F;this.name(B)}return this}hasName(F){if(!F)return!1;const j=this.name();if(!j)return!1;var B=(j||"").split(/\s/g);return B.indexOf(F)!==-1}removeName(F){var j=(this.name()||"").split(/\s/g),B=j.indexOf(F);return B!==-1&&(j.splice(B,1),this.name(j.join(" "))),this}setAttr(F,j){var B=this[D+a.Util._capitalize(F)];return a.Util._isFunction(B)?B.call(this,j):this._setAttr(F,j),this}_requestDraw(){if(x.Konva.autoDrawEnabled){const F=this.getLayer()||this.getStage();F==null||F.batchDraw()}}_setAttr(F,j){var B=this.attrs[F];B===j&&!a.Util.isObject(j)||(j==null?delete this.attrs[F]:this.attrs[F]=j,this._shouldFireChangeEvents&&this._fireChangeEvent(F,B,j),this._requestDraw())}_setComponentAttr(F,j,B){var Q;B!==void 0&&(Q=this.attrs[F],Q||(this.attrs[F]=this.getAttr(F)),this.attrs[F][j]=B,this._fireChangeEvent(F,Q,B))}_fireAndBubble(F,j,B){j&&this.nodeType===E&&(j.target=this);var Q=(F===N||F===T)&&(B&&(this===B||this.isAncestorOf&&this.isAncestorOf(B))||this.nodeType==="Stage"&&!B);if(!Q){this._fire(F,j);var X=(F===N||F===T)&&B&&B.isAncestorOf&&B.isAncestorOf(this)&&!B.isAncestorOf(this.parent);(j&&!j.cancelBubble||!j)&&this.parent&&this.parent.isListening()&&!X&&(B&&B.parent?this._fireAndBubble.call(this.parent,F,j,B):this._fireAndBubble.call(this.parent,F,j))}}_getProtoListeners(F){var j,B,Q;const X=(j=this._cache.get(S))!==null&&j!==void 0?j:{};let ee=X==null?void 0:X[F];if(ee===void 0){ee=[];let ne=Object.getPrototypeOf(this);for(;ne;){const V=(Q=(B=ne.eventListeners)===null||B===void 0?void 0:B[F])!==null&&Q!==void 0?Q:[];ee.push(...V),ne=Object.getPrototypeOf(ne)}X[F]=ee,this._cache.set(S,X)}return ee}_fire(F,j){j=j||{},j.currentTarget=this,j.type=F;const B=this._getProtoListeners(F);if(B)for(var Q=0;Q<B.length;Q++)B[Q].handler.call(this,j);const X=this.eventListeners[F];if(X)for(var Q=0;Q<X.length;Q++)X[Q].handler.call(this,j)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(F){var j=F?F.pointerId:void 0,B=this.getStage(),Q=this.getAbsolutePosition();if(B){var X=B._getPointerById(j)||B._changedPointerPositions[0]||Q;A.DD._dragElements.set(this._id,{node:this,startPointerPos:X,offset:{x:X.x-Q.x,y:X.y-Q.y},dragStatus:"ready",pointerId:j})}}startDrag(F,j=!0){A.DD._dragElements.has(this._id)||this._createDragElement(F);const B=A.DD._dragElements.get(this._id);B.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:F&&F.evt},j)}_setDragPosition(F,j){const B=this.getStage()._getPointerById(j.pointerId);if(B){var Q={x:B.x-j.offset.x,y:B.y-j.offset.y},X=this.dragBoundFunc();if(X!==void 0){const ee=X.call(this,Q,F);ee?Q=ee:a.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==Q.x||this._lastPos.y!==Q.y)&&(this.setAbsolutePosition(Q),this._requestDraw()),this._lastPos=Q}}stopDrag(F){const j=A.DD._dragElements.get(this._id);j&&(j.dragStatus="stopped"),A.DD._endDragBefore(F),A.DD._endDragAfter(F)}setDraggable(F){this._setAttr("draggable",F),this._dragChange()}isDragging(){const F=A.DD._dragElements.get(this._id);return F?F.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(F){var j=F.evt.button!==void 0,B=!j||x.Konva.dragButtons.indexOf(F.evt.button)>=0;if(B&&!this.isDragging()){var Q=!1;A.DD._dragElements.forEach(X=>{this.isAncestorOf(X.node)&&(Q=!0)}),Q||this._createDragElement(F)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var F=this.getStage();if(!F)return;const j=A.DD._dragElements.get(this._id),B=j&&j.dragStatus==="dragging",Q=j&&j.dragStatus==="ready";B?this.stopDrag():Q&&A.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(F={x:0,y:0}){const j=this.getStage();if(!j)return!1;const B={x:-F.x,y:-F.y,width:j.width()+2*F.x,height:j.height()+2*F.y};return a.Util.haveIntersection(B,this.getClientRect())}static create(F,j){return a.Util._isString(F)&&(F=JSON.parse(F)),this._createNode(F,j)}static _createNode(F,j){var B=Ff.prototype.getClassName.call(F),Q=F.children,X,ee,ne;j&&(F.attrs.container=j),x.Konva[B]||(a.Util.warn('Can not find a node with class name "'+B+'". Fallback to "Shape".'),B="Shape");const V=x.Konva[B];if(X=new V(F.attrs),Q)for(ee=Q.length,ne=0;ne<ee;ne++)X.add(Ff._createNode(Q[ne]));return X}};Ru.Node=$,$.prototype.nodeType="Node",$.prototype._attrsAffectingSize=[],$.prototype.eventListeners={},$.prototype.on.call($.prototype,U,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(z),this._clearSelfAndDescendantCache(R)}),$.prototype.on.call($.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(K)}),$.prototype.on.call($.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),$.prototype.on.call($.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(p)});const Y=u.Factory.addGetterSetter;return Y($,"zIndex"),Y($,"absolutePosition"),Y($,"position"),Y($,"x",0,(0,_.getNumberValidator)()),Y($,"y",0,(0,_.getNumberValidator)()),Y($,"globalCompositeOperation","source-over",(0,_.getStringValidator)()),Y($,"opacity",1,(0,_.getNumberValidator)()),Y($,"name","",(0,_.getStringValidator)()),Y($,"id","",(0,_.getStringValidator)()),Y($,"rotation",0,(0,_.getNumberValidator)()),u.Factory.addComponentsGetterSetter($,"scale",["x","y"]),Y($,"scaleX",1,(0,_.getNumberValidator)()),Y($,"scaleY",1,(0,_.getNumberValidator)()),u.Factory.addComponentsGetterSetter($,"skew",["x","y"]),Y($,"skewX",0,(0,_.getNumberValidator)()),Y($,"skewY",0,(0,_.getNumberValidator)()),u.Factory.addComponentsGetterSetter($,"offset",["x","y"]),Y($,"offsetX",0,(0,_.getNumberValidator)()),Y($,"offsetY",0,(0,_.getNumberValidator)()),Y($,"dragDistance",null,(0,_.getNumberValidator)()),Y($,"width",0,(0,_.getNumberValidator)()),Y($,"height",0,(0,_.getNumberValidator)()),Y($,"listening",!0,(0,_.getBooleanValidator)()),Y($,"preventDefault",!0,(0,_.getBooleanValidator)()),Y($,"filters",null,function(ie){return this._filterUpToDate=!1,ie}),Y($,"visible",!0,(0,_.getBooleanValidator)()),Y($,"transformsEnabled","all",(0,_.getStringValidator)()),Y($,"size"),Y($,"dragBoundFunc"),Y($,"draggable",!1,(0,_.getBooleanValidator)()),u.Factory.backCompat($,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ru}var Tu={},m0;function Md(){if(m0)return Tu;m0=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Container=void 0;const a=mt(),u=yn(),c=St();let x=class extends u.Node{constructor(){super(...arguments),this.children=[]}getChildren(_){if(!_)return this.children||[];const p=this.children||[];var S=[];return p.forEach(function(R){_(R)&&S.push(R)}),S}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.destroy()}),this.children=[],this._requestDraw(),this}add(..._){if(_.length===0)return this;if(_.length>1){for(var p=0;p<_.length;p++)this.add(_[p]);return this}const S=_[0];return S.getParent()?(S.moveTo(this),this):(this._validateAdd(S),S.index=this.getChildren().length,S.parent=this,S._clearCaches(),this.getChildren().push(S),this._fire("add",{child:S}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_){return this._generalFind(_,!1)}findOne(_){var p=this._generalFind(_,!0);return p.length>0?p[0]:void 0}_generalFind(_,p){var S=[];return this._descendants(R=>{const w=R._isMatch(_);return w&&S.push(R),!!(w&&p)}),S}_descendants(_){let p=!1;const S=this.getChildren();for(const R of S){if(p=_(R),p)return!0;if(R.hasChildren()&&(p=R._descendants(_),p))return!0}return!1}toObject(){var _=u.Node.prototype.toObject.call(this);return _.children=[],this.getChildren().forEach(p=>{_.children.push(p.toObject())}),_}isAncestorOf(_){for(var p=_.getParent();p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(_){var p=u.Node.prototype.clone.call(this,_);return this.getChildren().forEach(function(S){p.add(S.clone())}),p}getAllIntersections(_){var p=[];return this.find("Shape").forEach(S=>{S.isVisible()&&S.intersects(_)&&p.push(S)}),p}_clearSelfAndDescendantCache(_){var p;super._clearSelfAndDescendantCache(_),!this.isCached()&&((p=this.children)===null||p===void 0||p.forEach(function(S){S._clearSelfAndDescendantCache(_)}))}_setChildrenIndices(){var _;(_=this.children)===null||_===void 0||_.forEach(function(p,S){p.index=S}),this._requestDraw()}drawScene(_,p){var S=this.getLayer(),R=_||S&&S.getCanvas(),w=R&&R.getContext(),P=this._getCanvasCache(),f=P&&P.scene,C=R&&R.isCache;if(!this.isVisible()&&!C)return this;if(f){w.save();var y=this.getAbsoluteTransform(p).getMatrix();w.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(w),w.restore()}else this._drawChildren("drawScene",R,p);return this}drawHit(_,p){if(!this.shouldDrawHit(p))return this;var S=this.getLayer(),R=_||S&&S.hitCanvas,w=R&&R.getContext(),P=this._getCanvasCache(),f=P&&P.hit;if(f){w.save();var C=this.getAbsoluteTransform(p).getMatrix();w.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedHitCanvas(w),w.restore()}else this._drawChildren("drawHit",R,p);return this}_drawChildren(_,p,S){var R,w=p&&p.getContext(),P=this.clipWidth(),f=this.clipHeight(),C=this.clipFunc(),y=P&&f||C;const m=S===this;if(y){w.save();var N=this.getAbsoluteTransform(S),T=N.getMatrix();w.transform(T[0],T[1],T[2],T[3],T[4],T[5]),w.beginPath();let O;if(C)O=C.call(this,w,this);else{var D=this.clipX(),E=this.clipY();w.rect(D,E,P,f)}w.clip.apply(w,O),T=N.copy().invert().getMatrix(),w.transform(T[0],T[1],T[2],T[3],T[4],T[5])}var v=!m&&this.globalCompositeOperation()!=="source-over"&&_==="drawScene";v&&(w.save(),w._applyGlobalCompositeOperation(this)),(R=this.children)===null||R===void 0||R.forEach(function(O){O[_](p,S)}),v&&w.restore(),y&&w.restore()}getClientRect(_={}){var p,S=_.skipTransform,R=_.relativeTo,w,P,f,C,y={x:1/0,y:1/0,width:0,height:0},m=this;(p=this.children)===null||p===void 0||p.forEach(function(v){if(v.visible()){var O=v.getClientRect({relativeTo:m,skipShadow:_.skipShadow,skipStroke:_.skipStroke});O.width===0&&O.height===0||(w===void 0?(w=O.x,P=O.y,f=O.x+O.width,C=O.y+O.height):(w=Math.min(w,O.x),P=Math.min(P,O.y),f=Math.max(f,O.x+O.width),C=Math.max(C,O.y+O.height)))}});for(var N=this.find("Shape"),T=!1,D=0;D<N.length;D++){var E=N[D];if(E._isVisible(this)){T=!0;break}}return T&&w!==void 0?y={x:w,y:P,width:f-w,height:C-P}:y={x:0,y:0,width:0,height:0},S?y:this._transformedRect(y,R)}};return Tu.Container=x,a.Factory.addComponentsGetterSetter(x,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(x,"clipX",void 0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(x,"clipY",void 0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(x,"clipWidth",void 0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(x,"clipHeight",void 0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(x,"clipFunc"),Tu}var kf={},ri={},y0;function Xp(){if(y0)return ri;y0=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.releaseCapture=ri.setPointerCapture=ri.hasPointerCapture=ri.createEvent=ri.getCapturedShape=void 0;const a=vt(),u=new Map,c=a.Konva._global.PointerEvent!==void 0;function x(R){return u.get(R)}ri.getCapturedShape=x;function A(R){return{evt:R,pointerId:R.pointerId}}ri.createEvent=A;function _(R,w){return u.get(R)===w}ri.hasPointerCapture=_;function p(R,w){S(R),w.getStage()&&(u.set(R,w),c&&w._fire("gotpointercapture",A(new PointerEvent("gotpointercapture"))))}ri.setPointerCapture=p;function S(R,w){const P=u.get(R);if(!P)return;const f=P.getStage();f&&f.content,u.delete(R),c&&P._fire("lostpointercapture",A(new PointerEvent("lostpointercapture")))}return ri.releaseCapture=S,ri}var _0;function av(){return _0||(_0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stage=a.stages=void 0;const u=cn(),c=mt(),x=Md(),A=vt(),_=Od(),p=Gf(),S=vt(),R=Xp();var w="Stage",P="string",f="px",C="mouseout",y="mouseleave",m="mouseover",N="mouseenter",T="mousemove",D="mousedown",E="mouseup",v="pointermove",O="pointerdown",z="pointerup",q="pointercancel",K="lostpointercapture",U="pointerout",W="pointerleave",$="pointerover",Y="pointerenter",ie="contextmenu",F="touchstart",j="touchend",B="touchmove",Q="touchcancel",X="wheel",ee=5,ne=[[N,"_pointerenter"],[D,"_pointerdown"],[T,"_pointermove"],[E,"_pointerup"],[y,"_pointerleave"],[F,"_pointerdown"],[B,"_pointermove"],[j,"_pointerup"],[Q,"_pointercancel"],[m,"_pointerover"],[X,"_wheel"],[ie,"_contextmenu"],[O,"_pointerdown"],[v,"_pointermove"],[z,"_pointerup"],[q,"_pointercancel"],[K,"_lostpointercapture"]];const V={mouse:{[U]:C,[W]:y,[$]:m,[Y]:N,[v]:T,[O]:D,[z]:E,[q]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[U]:"touchout",[W]:"touchleave",[$]:"touchover",[Y]:"touchenter",[v]:B,[O]:F,[z]:j,[q]:Q,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[U]:U,[W]:W,[$]:$,[Y]:Y,[v]:v,[O]:O,[z]:z,[q]:q,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},oe=Pe=>Pe.indexOf("pointer")>=0?"pointer":Pe.indexOf("touch")>=0?"touch":"mouse",te=Pe=>{const Z=oe(Pe);if(Z==="pointer")return A.Konva.pointerEventsEnabled&&V.pointer;if(Z==="touch")return V.touch;if(Z==="mouse")return V.mouse};function Se(Pe={}){return(Pe.clipFunc||Pe.clipWidth||Pe.clipHeight)&&u.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Pe}const ye="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";a.stages=[];class Ae extends x.Container{constructor(Z){super(Se(Z)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),a.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Se(this.attrs)}),this._checkVisibility()}_validateAdd(Z){const de=Z.getType()==="Layer",we=Z.getType()==="FastLayer";de||we||u.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Z=this.visible()?"":"none";this.content.style.display=Z}setContainer(Z){if(typeof Z===P){if(Z.charAt(0)==="."){var de=Z.slice(1);Z=document.getElementsByClassName(de)[0]}else{var we;Z.charAt(0)!=="#"?we=Z:we=Z.slice(1),Z=document.getElementById(we)}if(!Z)throw"Can not find container in document with id "+we}return this._setAttr("container",Z),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Z.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var Z=this.children,de=Z.length,we;for(we=0;we<de;we++)Z[we].clear();return this}clone(Z){return Z||(Z={}),Z.container=typeof document<"u"&&document.createElement("div"),x.Container.prototype.clone.call(this,Z)}destroy(){super.destroy();var Z=this.content;Z&&u.Util._isInDocument(Z)&&this.container().removeChild(Z);var de=a.stages.indexOf(this);return de>-1&&a.stages.splice(de,1),u.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Z=this._pointerPositions[0]||this._changedPointerPositions[0];return Z?{x:Z.x,y:Z.y}:(u.Util.warn(ye),null)}_getPointerById(Z){return this._pointerPositions.find(de=>de.id===Z)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Z){Z=Z||{},Z.x=Z.x||0,Z.y=Z.y||0,Z.width=Z.width||this.width(),Z.height=Z.height||this.height();var de=new _.SceneCanvas({width:Z.width,height:Z.height,pixelRatio:Z.pixelRatio||1}),we=de.getContext()._context,Be=this.children;return(Z.x||Z.y)&&we.translate(-1*Z.x,-1*Z.y),Be.forEach(function(Le){if(Le.isVisible()){var Ye=Le._toKonvaCanvas(Z);we.drawImage(Ye._canvas,Z.x,Z.y,Ye.getWidth()/Ye.getPixelRatio(),Ye.getHeight()/Ye.getPixelRatio())}}),de}getIntersection(Z){if(!Z)return null;var de=this.children,we=de.length,Be=we-1,Le;for(Le=Be;Le>=0;Le--){const Ye=de[Le].getIntersection(Z);if(Ye)return Ye}return null}_resizeDOM(){var Z=this.width(),de=this.height();this.content&&(this.content.style.width=Z+f,this.content.style.height=de+f),this.bufferCanvas.setSize(Z,de),this.bufferHitCanvas.setSize(Z,de),this.children.forEach(we=>{we.setSize({width:Z,height:de}),we.draw()})}add(Z,...de){if(arguments.length>1){for(var we=0;we<arguments.length;we++)this.add(arguments[we]);return this}super.add(Z);var Be=this.children.length;return Be>ee&&u.Util.warn("The stage has "+Be+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Z.setSize({width:this.width(),height:this.height()}),Z.draw(),A.Konva.isBrowser&&this.content.appendChild(Z.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Z){return R.hasPointerCapture(Z,this)}setPointerCapture(Z){R.setPointerCapture(Z,this)}releaseCapture(Z){R.releaseCapture(Z,this)}getLayers(){return this.children}_bindContentEvents(){A.Konva.isBrowser&&ne.forEach(([Z,de])=>{this.content.addEventListener(Z,we=>{this[de](we)},{passive:!1})})}_pointerenter(Z){this.setPointersPositions(Z);const de=te(Z.type);de&&this._fire(de.pointerenter,{evt:Z,target:this,currentTarget:this})}_pointerover(Z){this.setPointersPositions(Z);const de=te(Z.type);de&&this._fire(de.pointerover,{evt:Z,target:this,currentTarget:this})}_getTargetShape(Z){let de=this[Z+"targetShape"];return de&&!de.getStage()&&(de=null),de}_pointerleave(Z){const de=te(Z.type),we=oe(Z.type);if(de){this.setPointersPositions(Z);var Be=this._getTargetShape(we),Le=!p.DD.isDragging||A.Konva.hitOnDragEnabled;Be&&Le?(Be._fireAndBubble(de.pointerout,{evt:Z}),Be._fireAndBubble(de.pointerleave,{evt:Z}),this._fire(de.pointerleave,{evt:Z,target:this,currentTarget:this}),this[we+"targetShape"]=null):Le&&(this._fire(de.pointerleave,{evt:Z,target:this,currentTarget:this}),this._fire(de.pointerout,{evt:Z,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(Z){const de=te(Z.type),we=oe(Z.type);if(de){this.setPointersPositions(Z);var Be=!1;this._changedPointerPositions.forEach(Le=>{var Ye=this.getIntersection(Le);if(p.DD.justDragged=!1,A.Konva["_"+we+"ListenClick"]=!0,!Ye||!Ye.isListening())return;A.Konva.capturePointerEventsEnabled&&Ye.setPointerCapture(Le.id),this[we+"ClickStartShape"]=Ye,Ye._fireAndBubble(de.pointerdown,{evt:Z,pointerId:Le.id}),Be=!0;const He=Z.type.indexOf("touch")>=0;Ye.preventDefault()&&Z.cancelable&&He&&Z.preventDefault()}),Be||this._fire(de.pointerdown,{evt:Z,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(Z){const de=te(Z.type),we=oe(Z.type);if(!de)return;p.DD.isDragging&&p.DD.node.preventDefault()&&Z.cancelable&&Z.preventDefault(),this.setPointersPositions(Z);var Be=!p.DD.isDragging||A.Konva.hitOnDragEnabled;if(!Be)return;var Le={};let Ye=!1;var He=this._getTargetShape(we);this._changedPointerPositions.forEach(Gt=>{const ht=R.getCapturedShape(Gt.id)||this.getIntersection(Gt),dn=Gt.id,Dt={evt:Z,pointerId:dn};var Jt=He!==ht;if(Jt&&He&&(He._fireAndBubble(de.pointerout,{...Dt},ht),He._fireAndBubble(de.pointerleave,{...Dt},ht)),ht){if(Le[ht._id])return;Le[ht._id]=!0}ht&&ht.isListening()?(Ye=!0,Jt&&(ht._fireAndBubble(de.pointerover,{...Dt},He),ht._fireAndBubble(de.pointerenter,{...Dt},He),this[we+"targetShape"]=ht),ht._fireAndBubble(de.pointermove,{...Dt})):He&&(this._fire(de.pointerover,{evt:Z,target:this,currentTarget:this,pointerId:dn}),this[we+"targetShape"]=null)}),Ye||this._fire(de.pointermove,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Z){const de=te(Z.type),we=oe(Z.type);if(!de)return;this.setPointersPositions(Z);const Be=this[we+"ClickStartShape"],Le=this[we+"ClickEndShape"];var Ye={};let He=!1;this._changedPointerPositions.forEach(Gt=>{const ht=R.getCapturedShape(Gt.id)||this.getIntersection(Gt);if(ht){if(ht.releaseCapture(Gt.id),Ye[ht._id])return;Ye[ht._id]=!0}const dn=Gt.id,Dt={evt:Z,pointerId:dn};let Jt=!1;A.Konva["_"+we+"InDblClickWindow"]?(Jt=!0,clearTimeout(this[we+"DblTimeout"])):p.DD.justDragged||(A.Konva["_"+we+"InDblClickWindow"]=!0,clearTimeout(this[we+"DblTimeout"])),this[we+"DblTimeout"]=setTimeout(function(){A.Konva["_"+we+"InDblClickWindow"]=!1},A.Konva.dblClickWindow),ht&&ht.isListening()?(He=!0,this[we+"ClickEndShape"]=ht,ht._fireAndBubble(de.pointerup,{...Dt}),A.Konva["_"+we+"ListenClick"]&&Be&&Be===ht&&(ht._fireAndBubble(de.pointerclick,{...Dt}),Jt&&Le&&Le===ht&&ht._fireAndBubble(de.pointerdblclick,{...Dt}))):(this[we+"ClickEndShape"]=null,A.Konva["_"+we+"ListenClick"]&&this._fire(de.pointerclick,{evt:Z,target:this,currentTarget:this,pointerId:dn}),Jt&&this._fire(de.pointerdblclick,{evt:Z,target:this,currentTarget:this,pointerId:dn}))}),He||this._fire(de.pointerup,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),A.Konva["_"+we+"ListenClick"]=!1,Z.cancelable&&we!=="touch"&&Z.preventDefault()}_contextmenu(Z){this.setPointersPositions(Z);var de=this.getIntersection(this.getPointerPosition());de&&de.isListening()?de._fireAndBubble(ie,{evt:Z}):this._fire(ie,{evt:Z,target:this,currentTarget:this})}_wheel(Z){this.setPointersPositions(Z);var de=this.getIntersection(this.getPointerPosition());de&&de.isListening()?de._fireAndBubble(X,{evt:Z}):this._fire(X,{evt:Z,target:this,currentTarget:this})}_pointercancel(Z){this.setPointersPositions(Z);const de=R.getCapturedShape(Z.pointerId)||this.getIntersection(this.getPointerPosition());de&&de._fireAndBubble(z,R.createEvent(Z)),R.releaseCapture(Z.pointerId)}_lostpointercapture(Z){R.releaseCapture(Z.pointerId)}setPointersPositions(Z){var de=this._getContentPosition(),we=null,Be=null;Z=Z||window.event,Z.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Z.touches,Le=>{this._pointerPositions.push({id:Le.identifier,x:(Le.clientX-de.left)/de.scaleX,y:(Le.clientY-de.top)/de.scaleY})}),Array.prototype.forEach.call(Z.changedTouches||Z.touches,Le=>{this._changedPointerPositions.push({id:Le.identifier,x:(Le.clientX-de.left)/de.scaleX,y:(Le.clientY-de.top)/de.scaleY})})):(we=(Z.clientX-de.left)/de.scaleX,Be=(Z.clientY-de.top)/de.scaleY,this.pointerPos={x:we,y:Be},this._pointerPositions=[{x:we,y:Be,id:u.Util._getFirstPointerId(Z)}],this._changedPointerPositions=[{x:we,y:Be,id:u.Util._getFirstPointerId(Z)}])}_setPointerPosition(Z){u.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Z)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var Z=this.content.getBoundingClientRect();return{top:Z.top,left:Z.left,scaleX:Z.width/this.content.clientWidth||1,scaleY:Z.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new _.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new _.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!A.Konva.isBrowser){var Z=this.container();if(!Z)throw"Stage has no container. A container is required.";Z.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Z.appendChild(this.content),this._resizeDOM()}}cache(){return u.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Z){Z.batchDraw()}),this}}a.Stage=Ae,Ae.prototype.nodeType=w,(0,S._registerNode)(Ae),c.Factory.addGetterSetter(Ae,"container")}(kf)),kf}var Nu={},Pf={},S0;function Vn(){return S0||(S0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Shape=a.shapes=void 0;const u=vt(),c=cn(),x=mt(),A=yn(),_=St(),p=vt(),S=Xp();var R="hasShadow",w="shadowRGBA",P="patternImage",f="linearGradient",C="radialGradient";let y;function m(){return y||(y=c.Util.createCanvasElement().getContext("2d"),y)}a.shapes={};function N(W){const $=this.attrs.fillRule;$?W.fill($):W.fill()}function T(W){W.stroke()}function D(W){W.fill()}function E(W){W.stroke()}function v(){this._clearCache(R)}function O(){this._clearCache(w)}function z(){this._clearCache(P)}function q(){this._clearCache(f)}function K(){this._clearCache(C)}class U extends A.Node{constructor($){super($);let Y;for(;Y=c.Util.getRandomColor(),!(Y&&!(Y in a.shapes)););this.colorKey=Y,a.shapes[Y]=this}getContext(){return c.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return c.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(R,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(P,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var $=m();const Y=$.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Y&&Y.setTransform){const ie=new c.Transform;ie.translate(this.fillPatternX(),this.fillPatternY()),ie.rotate(u.Konva.getAngle(this.fillPatternRotation())),ie.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),ie.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const F=ie.getMatrix(),j=typeof DOMMatrix>"u"?{a:F[0],b:F[1],c:F[2],d:F[3],e:F[4],f:F[5]}:new DOMMatrix(F);Y.setTransform(j)}return Y}}_getLinearGradient(){return this._getCache(f,this.__getLinearGradient)}__getLinearGradient(){var $=this.fillLinearGradientColorStops();if($){for(var Y=m(),ie=this.fillLinearGradientStartPoint(),F=this.fillLinearGradientEndPoint(),j=Y.createLinearGradient(ie.x,ie.y,F.x,F.y),B=0;B<$.length;B+=2)j.addColorStop($[B],$[B+1]);return j}}_getRadialGradient(){return this._getCache(C,this.__getRadialGradient)}__getRadialGradient(){var $=this.fillRadialGradientColorStops();if($){for(var Y=m(),ie=this.fillRadialGradientStartPoint(),F=this.fillRadialGradientEndPoint(),j=Y.createRadialGradient(ie.x,ie.y,this.fillRadialGradientStartRadius(),F.x,F.y,this.fillRadialGradientEndRadius()),B=0;B<$.length;B+=2)j.addColorStop($[B],$[B+1]);return j}}getShadowRGBA(){return this._getCache(w,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var $=c.Util.colorToRGBA(this.shadowColor());if($)return"rgba("+$.r+","+$.g+","+$.b+","+$.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const $=this.hitStrokeWidth();return $==="auto"?this.hasStroke():this.strokeEnabled()&&!!$}intersects($){var Y=this.getStage();if(!Y)return!1;const ie=Y.bufferHitCanvas;return ie.getContext().clear(),this.drawHit(ie,void 0,!0),ie.context.getImageData(Math.round($.x),Math.round($.y),1,1).data[3]>0}destroy(){return A.Node.prototype.destroy.call(this),delete a.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas($){var Y;if(!this.getStage()||!((Y=this.attrs.perfectDrawEnabled)!==null&&Y!==void 0?Y:!0))return!1;const F=$||this.hasFill(),j=this.hasStroke(),B=this.getAbsoluteOpacity()!==1;if(F&&j&&B)return!0;const Q=this.hasShadow(),X=this.shadowForStrokeEnabled();return!!(F&&j&&Q&&X)}setStrokeHitEnabled($){c.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),$?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var $=this.size();return{x:this._centroid?-$.width/2:0,y:this._centroid?-$.height/2:0,width:$.width,height:$.height}}getClientRect($={}){const Y=$.skipTransform,ie=$.relativeTo,F=this.getSelfRect(),B=!$.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Q=F.width+B,X=F.height+B,ee=!$.skipShadow&&this.hasShadow(),ne=ee?this.shadowOffsetX():0,V=ee?this.shadowOffsetY():0,oe=Q+Math.abs(ne),te=X+Math.abs(V),Se=ee&&this.shadowBlur()||0,ye=oe+Se*2,Ae=te+Se*2,Pe={width:ye,height:Ae,x:-(B/2+Se)+Math.min(ne,0)+F.x,y:-(B/2+Se)+Math.min(V,0)+F.y};return Y?Pe:this._transformedRect(Pe,ie)}drawScene($,Y){var ie=this.getLayer(),F=$||ie.getCanvas(),j=F.getContext(),B=this._getCanvasCache(),Q=this.getSceneFunc(),X=this.hasShadow(),ee,ne,V,oe=F.isCache,te=Y===this;if(!this.isVisible()&&!te)return this;if(B){j.save();var Se=this.getAbsoluteTransform(Y).getMatrix();return j.transform(Se[0],Se[1],Se[2],Se[3],Se[4],Se[5]),this._drawCachedSceneCanvas(j),j.restore(),this}if(!Q)return this;if(j.save(),this._useBufferCanvas()&&!oe){ee=this.getStage(),ne=ee.bufferCanvas,V=ne.getContext(),V.clear(),V.save(),V._applyLineJoin(this);var ye=this.getAbsoluteTransform(Y).getMatrix();V.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),Q.call(this,V,this),V.restore();var Ae=ne.pixelRatio;X&&j._applyShadow(this),j._applyOpacity(this),j._applyGlobalCompositeOperation(this),j.drawImage(ne._canvas,0,0,ne.width/Ae,ne.height/Ae)}else{if(j._applyLineJoin(this),!te){var ye=this.getAbsoluteTransform(Y).getMatrix();j.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),j._applyOpacity(this),j._applyGlobalCompositeOperation(this)}X&&j._applyShadow(this),Q.call(this,j,this)}return j.restore(),this}drawHit($,Y,ie=!1){if(!this.shouldDrawHit(Y,ie))return this;var F=this.getLayer(),j=$||F.hitCanvas,B=j&&j.getContext(),Q=this.hitFunc()||this.sceneFunc(),X=this._getCanvasCache(),ee=X&&X.hit;if(this.colorKey||c.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),ee){B.save();var ne=this.getAbsoluteTransform(Y).getMatrix();return B.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),this._drawCachedHitCanvas(B),B.restore(),this}if(!Q)return this;if(B.save(),B._applyLineJoin(this),!(this===Y)){var oe=this.getAbsoluteTransform(Y).getMatrix();B.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5])}return Q.call(this,B,this),B.restore(),this}drawHitFromCache($=0){var Y=this._getCanvasCache(),ie=this._getCachedSceneCanvas(),F=Y.hit,j=F.getContext(),B=F.getWidth(),Q=F.getHeight(),X,ee,ne,V,oe,te;j.clear(),j.drawImage(ie._canvas,0,0,B,Q);try{for(X=j.getImageData(0,0,B,Q),ee=X.data,ne=ee.length,V=c.Util._hexToRgb(this.colorKey),oe=0;oe<ne;oe+=4)te=ee[oe+3],te>$?(ee[oe]=V.r,ee[oe+1]=V.g,ee[oe+2]=V.b,ee[oe+3]=255):ee[oe+3]=0;j.putImageData(X,0,0)}catch(Se){c.Util.error("Unable to draw hit graph from cached scene canvas. "+Se.message)}return this}hasPointerCapture($){return S.hasPointerCapture($,this)}setPointerCapture($){S.setPointerCapture($,this)}releaseCapture($){S.releaseCapture($,this)}}a.Shape=U,U.prototype._fillFunc=N,U.prototype._strokeFunc=T,U.prototype._fillFuncHit=D,U.prototype._strokeFuncHit=E,U.prototype._centroid=!1,U.prototype.nodeType="Shape",(0,p._registerNode)(U),U.prototype.eventListeners={},U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",O),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",z),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",q),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",K),x.Factory.addGetterSetter(U,"stroke",void 0,(0,_.getStringOrGradientValidator)()),x.Factory.addGetterSetter(U,"strokeWidth",2,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillAfterStrokeEnabled",!1),x.Factory.addGetterSetter(U,"hitStrokeWidth","auto",(0,_.getNumberOrAutoValidator)()),x.Factory.addGetterSetter(U,"strokeHitEnabled",!0,(0,_.getBooleanValidator)()),x.Factory.addGetterSetter(U,"perfectDrawEnabled",!0,(0,_.getBooleanValidator)()),x.Factory.addGetterSetter(U,"shadowForStrokeEnabled",!0,(0,_.getBooleanValidator)()),x.Factory.addGetterSetter(U,"lineJoin"),x.Factory.addGetterSetter(U,"lineCap"),x.Factory.addGetterSetter(U,"sceneFunc"),x.Factory.addGetterSetter(U,"hitFunc"),x.Factory.addGetterSetter(U,"dash"),x.Factory.addGetterSetter(U,"dashOffset",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"shadowColor",void 0,(0,_.getStringValidator)()),x.Factory.addGetterSetter(U,"shadowBlur",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"shadowOpacity",1,(0,_.getNumberValidator)()),x.Factory.addComponentsGetterSetter(U,"shadowOffset",["x","y"]),x.Factory.addGetterSetter(U,"shadowOffsetX",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"shadowOffsetY",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillPatternImage"),x.Factory.addGetterSetter(U,"fill",void 0,(0,_.getStringOrGradientValidator)()),x.Factory.addGetterSetter(U,"fillPatternX",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillPatternY",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillLinearGradientColorStops"),x.Factory.addGetterSetter(U,"strokeLinearGradientColorStops"),x.Factory.addGetterSetter(U,"fillRadialGradientStartRadius",0),x.Factory.addGetterSetter(U,"fillRadialGradientEndRadius",0),x.Factory.addGetterSetter(U,"fillRadialGradientColorStops"),x.Factory.addGetterSetter(U,"fillPatternRepeat","repeat"),x.Factory.addGetterSetter(U,"fillEnabled",!0),x.Factory.addGetterSetter(U,"strokeEnabled",!0),x.Factory.addGetterSetter(U,"shadowEnabled",!0),x.Factory.addGetterSetter(U,"dashEnabled",!0),x.Factory.addGetterSetter(U,"strokeScaleEnabled",!0),x.Factory.addGetterSetter(U,"fillPriority","color"),x.Factory.addComponentsGetterSetter(U,"fillPatternOffset",["x","y"]),x.Factory.addGetterSetter(U,"fillPatternOffsetX",0,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillPatternOffsetY",0,(0,_.getNumberValidator)()),x.Factory.addComponentsGetterSetter(U,"fillPatternScale",["x","y"]),x.Factory.addGetterSetter(U,"fillPatternScaleX",1,(0,_.getNumberValidator)()),x.Factory.addGetterSetter(U,"fillPatternScaleY",1,(0,_.getNumberValidator)()),x.Factory.addComponentsGetterSetter(U,"fillLinearGradientStartPoint",["x","y"]),x.Factory.addComponentsGetterSetter(U,"strokeLinearGradientStartPoint",["x","y"]),x.Factory.addGetterSetter(U,"fillLinearGradientStartPointX",0),x.Factory.addGetterSetter(U,"strokeLinearGradientStartPointX",0),x.Factory.addGetterSetter(U,"fillLinearGradientStartPointY",0),x.Factory.addGetterSetter(U,"strokeLinearGradientStartPointY",0),x.Factory.addComponentsGetterSetter(U,"fillLinearGradientEndPoint",["x","y"]),x.Factory.addComponentsGetterSetter(U,"strokeLinearGradientEndPoint",["x","y"]),x.Factory.addGetterSetter(U,"fillLinearGradientEndPointX",0),x.Factory.addGetterSetter(U,"strokeLinearGradientEndPointX",0),x.Factory.addGetterSetter(U,"fillLinearGradientEndPointY",0),x.Factory.addGetterSetter(U,"strokeLinearGradientEndPointY",0),x.Factory.addComponentsGetterSetter(U,"fillRadialGradientStartPoint",["x","y"]),x.Factory.addGetterSetter(U,"fillRadialGradientStartPointX",0),x.Factory.addGetterSetter(U,"fillRadialGradientStartPointY",0),x.Factory.addComponentsGetterSetter(U,"fillRadialGradientEndPoint",["x","y"]),x.Factory.addGetterSetter(U,"fillRadialGradientEndPointX",0),x.Factory.addGetterSetter(U,"fillRadialGradientEndPointY",0),x.Factory.addGetterSetter(U,"fillPatternRotation",0),x.Factory.addGetterSetter(U,"fillRule",void 0,(0,_.getStringValidator)()),x.Factory.backCompat(U,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Pf)),Pf}var w0;function Jp(){if(w0)return Nu;w0=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Layer=void 0;const a=cn(),u=Md(),c=yn(),x=mt(),A=Od(),_=St(),p=Vn(),S=vt();var R="#",w="beforeDraw",P="draw",f=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],C=f.length;class y extends u.Container{constructor(N){super(N),this.canvas=new A.SceneCanvas,this.hitCanvas=new A.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(N){return this.getContext().clear(N),this.getHitCanvas().getContext().clear(N),this}setZIndex(N){super.setZIndex(N);var T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),N<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[N+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){c.Node.prototype.moveToTop.call(this);var N=this.getStage();return N&&N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var N=c.Node.prototype.moveUp.call(this);if(!N)return!1;var T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(c.Node.prototype.moveDown.call(this)){var N=this.getStage();if(N){var T=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(c.Node.prototype.moveToBottom.call(this)){var N=this.getStage();if(N){var T=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var N=this.getNativeCanvasElement();return c.Node.prototype.remove.call(this),N&&N.parentNode&&a.Util._isInDocument(N)&&N.parentNode.removeChild(N),this}getStage(){return this.parent}setSize({width:N,height:T}){return this.canvas.setSize(N,T),this.hitCanvas.setSize(N,T),this._setSmoothEnabled(),this}_validateAdd(N){var T=N.getType();T!=="Group"&&T!=="Shape"&&a.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(N){return N=N||{},N.width=N.width||this.getWidth(),N.height=N.height||this.getHeight(),N.x=N.x!==void 0?N.x:this.x(),N.y=N.y!==void 0?N.y:this.y(),c.Node.prototype._toKonvaCanvas.call(this,N)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(N){if(!this.isListening()||!this.isVisible())return null;for(var T=1,D=!1;;){for(let E=0;E<C;E++){const v=f[E],O=this._getIntersection({x:N.x+v.x*T,y:N.y+v.y*T}),z=O.shape;if(z)return z;if(D=!!O.antialiased,!O.antialiased)break}if(D)T+=1;else return null}}_getIntersection(N){const T=this.hitCanvas.pixelRatio,D=this.hitCanvas.context.getImageData(Math.round(N.x*T),Math.round(N.y*T),1,1).data,E=D[3];if(E===255){const v=a.Util._rgbToHex(D[0],D[1],D[2]),O=p.shapes[R+v];return O?{shape:O}:{antialiased:!0}}else if(E>0)return{antialiased:!0};return{}}drawScene(N,T){var D=this.getLayer(),E=N||D&&D.getCanvas();return this._fire(w,{node:this}),this.clearBeforeDraw()&&E.getContext().clear(),u.Container.prototype.drawScene.call(this,E,T),this._fire(P,{node:this}),this}drawHit(N,T){var D=this.getLayer(),E=N||D&&D.hitCanvas;return D&&D.clearBeforeDraw()&&D.getHitCanvas().getContext().clear(),u.Container.prototype.drawHit.call(this,E,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(N){a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(N)}getHitGraphEnabled(N){return a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var N=this.parent,T=!!this.hitCanvas._canvas.parentNode;T?N.content.removeChild(this.hitCanvas._canvas):N.content.appendChild(this.hitCanvas._canvas)}}destroy(){return a.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Nu.Layer=y,y.prototype.nodeType="Layer",(0,S._registerNode)(y),x.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),x.Factory.addGetterSetter(y,"clearBeforeDraw",!0),x.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,_.getBooleanValidator)()),Nu}var Au={},x0;function lv(){if(x0)return Au;x0=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.FastLayer=void 0;const a=cn(),u=Jp(),c=vt();let x=class extends u.Layer{constructor(_){super(_),this.listening(!1),a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Au.FastLayer=x,x.prototype.nodeType="FastLayer",(0,c._registerNode)(x),Au}var Ou={},C0;function Bf(){if(C0)return Ou;C0=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.Group=void 0;const a=cn(),u=Md(),c=vt();class x extends u.Container{_validateAdd(_){var p=_.getType();p!=="Group"&&p!=="Shape"&&a.Util.throw("You may only add groups and shapes to groups.")}}return Ou.Group=x,x.prototype.nodeType="Group",(0,c._registerNode)(x),Ou}var Mu={},E0;function Hf(){if(E0)return Mu;E0=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Animation=void 0;const a=vt(),u=cn(),c=function(){return a.glob.performance&&a.glob.performance.now?function(){return a.glob.performance.now()}:function(){return new Date().getTime()}}();let x=class xl{constructor(_,p){this.id=xl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:c(),frameRate:0},this.func=_,this.setLayers(p)}setLayers(_){let p=[];return _&&(p=Array.isArray(_)?_:[_]),this.layers=p,this}getLayers(){return this.layers}addLayer(_){const p=this.layers,S=p.length;for(let R=0;R<S;R++)if(p[R]._id===_._id)return!1;return this.layers.push(_),!0}isRunning(){const p=xl.animations,S=p.length;for(let R=0;R<S;R++)if(p[R].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=c(),xl._addAnimation(this),this}stop(){return xl._removeAnimation(this),this}_updateFrameObject(_){this.frame.timeDiff=_-this.frame.lastTime,this.frame.lastTime=_,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_){this.animations.push(_),this._handleAnimation()}static _removeAnimation(_){const p=_.id,S=this.animations,R=S.length;for(let w=0;w<R;w++)if(S[w].id===p){this.animations.splice(w,1);break}}static _runFrames(){const _={},p=this.animations;for(let S=0;S<p.length;S++){const R=p[S],w=R.layers,P=R.func;R._updateFrameObject(c());const f=w.length;let C;if(P?C=P.call(R,R.frame)!==!1:C=!0,!!C)for(let y=0;y<f;y++){const m=w[y];m._id!==void 0&&(_[m._id]=m)}}for(let S in _)_.hasOwnProperty(S)&&_[S].batchDraw()}static _animationLoop(){const _=xl;_.animations.length?(_._runFrames(),u.Util.requestAnimFrame(_._animationLoop)):_.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,u.Util.requestAnimFrame(this._animationLoop))}};return Mu.Animation=x,x.animations=[],x.animIdCounter=0,x.animRunning=!1,Mu}var Rf={},k0;function uv(){return k0||(k0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Easings=a.Tween=void 0;const u=cn(),c=Hf(),x=yn(),A=vt();var _={node:1,duration:1,easing:1,onFinish:1,yoyo:1},p=1,S=2,R=3,w=0,P=["fill","stroke","shadowColor"];class f{constructor(m,N,T,D,E,v,O){this.prop=m,this.propFunc=N,this.begin=D,this._pos=D,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=O,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=E-this.begin,this.pause()}fire(m){var N=this[m];N&&N()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=S,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=R,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;this.state===S?this.setTime(m):this.state===R&&this.setTime(this.duration-m)}pause(){this.state=p,this.fire("onPause")}getTimer(){return new Date().getTime()}}class C{constructor(m){var N=this,T=m.node,D=T._id,E,v=m.easing||a.Easings.Linear,O=!!m.yoyo,z;typeof m.duration>"u"?E=.3:m.duration===0?E=.001:E=m.duration,this.node=T,this._id=w++;var q=T.getLayer()||(T instanceof A.Konva.Stage?T.getLayers():null);q||u.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new c.Animation(function(){N.tween.onEnterFrame()},q),this.tween=new f(z,function(K){N._tweenFunc(K)},v,0,1,E*1e3,O),this._addListeners(),C.attrs[D]||(C.attrs[D]={}),C.attrs[D][this._id]||(C.attrs[D][this._id]={}),C.tweens[D]||(C.tweens[D]={});for(z in m)_[z]===void 0&&this._addAttr(z,m[z]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,N){var T=this.node,D=T._id,E,v,O,z,q,K,U,W;if(O=C.tweens[D][m],O&&delete C.attrs[D][O][m],E=T.getAttr(m),u.Util._isArray(N))if(v=[],q=Math.max(N.length,E.length),m==="points"&&N.length!==E.length&&(N.length>E.length?(U=E,E=u.Util._prepareArrayForTween(E,N,T.closed())):(K=N,N=u.Util._prepareArrayForTween(N,E,T.closed()))),m.indexOf("fill")===0)for(z=0;z<q;z++)if(z%2===0)v.push(N[z]-E[z]);else{var $=u.Util.colorToRGBA(E[z]);W=u.Util.colorToRGBA(N[z]),E[z]=$,v.push({r:W.r-$.r,g:W.g-$.g,b:W.b-$.b,a:W.a-$.a})}else for(z=0;z<q;z++)v.push(N[z]-E[z]);else P.indexOf(m)!==-1?(E=u.Util.colorToRGBA(E),W=u.Util.colorToRGBA(N),v={r:W.r-E.r,g:W.g-E.g,b:W.b-E.b,a:W.a-E.a}):v=N-E;C.attrs[D][this._id][m]={start:E,diff:v,end:N,trueEnd:K,trueStart:U},C.tweens[D][m]=this._id}_tweenFunc(m){var N=this.node,T=C.attrs[N._id][this._id],D,E,v,O,z,q,K,U;for(D in T){if(E=T[D],v=E.start,O=E.diff,U=E.end,u.Util._isArray(v))if(z=[],K=Math.max(v.length,U.length),D.indexOf("fill")===0)for(q=0;q<K;q++)q%2===0?z.push((v[q]||0)+O[q]*m):z.push("rgba("+Math.round(v[q].r+O[q].r*m)+","+Math.round(v[q].g+O[q].g*m)+","+Math.round(v[q].b+O[q].b*m)+","+(v[q].a+O[q].a*m)+")");else for(q=0;q<K;q++)z.push((v[q]||0)+O[q]*m);else P.indexOf(D)!==-1?z="rgba("+Math.round(v.r+O.r*m)+","+Math.round(v.g+O.g*m)+","+Math.round(v.b+O.b*m)+","+(v.a+O.a*m)+")":z=v+O*m;N.setAttr(D,z)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,N=C.attrs[m._id][this._id];N.points&&N.points.trueEnd&&m.setAttr("points",N.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,N=C.attrs[m._id][this._id];N.points&&N.points.trueStart&&m.points(N.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var m=this.node._id,N=this._id,T=C.tweens[m],D;this.pause();for(D in T)delete C.tweens[m][D];delete C.attrs[m][N]}}a.Tween=C,C.attrs={},C.tweens={},x.Node.prototype.to=function(y){var m=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),m&&m()};var N=new C(y);N.play()},a.Easings={BackEaseIn(y,m,N,T){var D=1.70158;return N*(y/=T)*y*((D+1)*y-D)+m},BackEaseOut(y,m,N,T){var D=1.70158;return N*((y=y/T-1)*y*((D+1)*y+D)+1)+m},BackEaseInOut(y,m,N,T){var D=1.70158;return(y/=T/2)<1?N/2*(y*y*(((D*=1.525)+1)*y-D))+m:N/2*((y-=2)*y*(((D*=1.525)+1)*y+D)+2)+m},ElasticEaseIn(y,m,N,T,D,E){var v=0;return y===0?m:(y/=T)===1?m+N:(E||(E=T*.3),!D||D<Math.abs(N)?(D=N,v=E/4):v=E/(2*Math.PI)*Math.asin(N/D),-(D*Math.pow(2,10*(y-=1))*Math.sin((y*T-v)*(2*Math.PI)/E))+m)},ElasticEaseOut(y,m,N,T,D,E){var v=0;return y===0?m:(y/=T)===1?m+N:(E||(E=T*.3),!D||D<Math.abs(N)?(D=N,v=E/4):v=E/(2*Math.PI)*Math.asin(N/D),D*Math.pow(2,-10*y)*Math.sin((y*T-v)*(2*Math.PI)/E)+N+m)},ElasticEaseInOut(y,m,N,T,D,E){var v=0;return y===0?m:(y/=T/2)===2?m+N:(E||(E=T*(.3*1.5)),!D||D<Math.abs(N)?(D=N,v=E/4):v=E/(2*Math.PI)*Math.asin(N/D),y<1?-.5*(D*Math.pow(2,10*(y-=1))*Math.sin((y*T-v)*(2*Math.PI)/E))+m:D*Math.pow(2,-10*(y-=1))*Math.sin((y*T-v)*(2*Math.PI)/E)*.5+N+m)},BounceEaseOut(y,m,N,T){return(y/=T)<1/2.75?N*(7.5625*y*y)+m:y<2/2.75?N*(7.5625*(y-=1.5/2.75)*y+.75)+m:y<2.5/2.75?N*(7.5625*(y-=2.25/2.75)*y+.9375)+m:N*(7.5625*(y-=2.625/2.75)*y+.984375)+m},BounceEaseIn(y,m,N,T){return N-a.Easings.BounceEaseOut(T-y,0,N,T)+m},BounceEaseInOut(y,m,N,T){return y<T/2?a.Easings.BounceEaseIn(y*2,0,N,T)*.5+m:a.Easings.BounceEaseOut(y*2-T,0,N,T)*.5+N*.5+m},EaseIn(y,m,N,T){return N*(y/=T)*y+m},EaseOut(y,m,N,T){return-N*(y/=T)*(y-2)+m},EaseInOut(y,m,N,T){return(y/=T/2)<1?N/2*y*y+m:-N/2*(--y*(y-2)-1)+m},StrongEaseIn(y,m,N,T){return N*(y/=T)*y*y*y*y+m},StrongEaseOut(y,m,N,T){return N*((y=y/T-1)*y*y*y*y+1)+m},StrongEaseInOut(y,m,N,T){return(y/=T/2)<1?N/2*y*y*y*y*y+m:N/2*((y-=2)*y*y*y*y+2)+m},Linear(y,m,N,T){return N*y/T+m}}}(Rf)),Rf}var P0;function Df(){return P0||(P0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;const u=vt(),c=cn(),x=yn(),A=Md(),_=av(),p=Jp(),S=lv(),R=Bf(),w=Gf(),P=Vn(),f=Hf(),C=uv(),y=Qp(),m=Od();a.Konva=c.Util._assign(u.Konva,{Util:c.Util,Transform:c.Transform,Node:x.Node,Container:A.Container,Stage:_.Stage,stages:_.stages,Layer:p.Layer,FastLayer:S.FastLayer,Group:R.Group,DD:w.DD,Shape:P.Shape,shapes:P.shapes,Animation:f.Animation,Tween:C.Tween,Easings:C.Easings,Context:y.Context,Canvas:m.Canvas}),a.default=a.Konva}(Sf)),Sf}var Iu={},R0;function cv(){if(R0)return Iu;R0=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.Arc=void 0;const a=mt(),u=Vn(),c=vt(),x=St(),A=vt();let _=class extends u.Shape{_sceneFunc(S){var R=c.Konva.getAngle(this.angle()),w=this.clockwise();S.beginPath(),S.arc(0,0,this.outerRadius(),0,R,w),S.arc(0,0,this.innerRadius(),R,0,!w),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}getSelfRect(){const S=this.innerRadius(),R=this.outerRadius(),w=this.clockwise(),P=c.Konva.getAngle(w?360-this.angle():this.angle()),f=Math.cos(Math.min(P,Math.PI)),C=1,y=Math.sin(Math.min(Math.max(Math.PI,P),3*Math.PI/2)),m=Math.sin(Math.min(P,Math.PI/2)),N=f*(f>0?S:R),T=C*R,D=y*(y>0?S:R),E=m*(m>0?R:S);return{x:N,y:w?-1*E:D,width:T-N,height:E-D}}};return Iu.Arc=_,_.prototype._centroid=!0,_.prototype.className="Arc",_.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,A._registerNode)(_),a.Factory.addGetterSetter(_,"innerRadius",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"outerRadius",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"angle",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"clockwise",!1,(0,x.getBooleanValidator)()),Iu}var Lu={},Fu={},T0;function Zp(){if(T0)return Fu;T0=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.Line=void 0;const a=mt(),u=Vn(),c=St(),x=vt();function A(S,R,w,P,f,C,y){var m=Math.sqrt(Math.pow(w-S,2)+Math.pow(P-R,2)),N=Math.sqrt(Math.pow(f-w,2)+Math.pow(C-P,2)),T=y*m/(m+N),D=y*N/(m+N),E=w-T*(f-S),v=P-T*(C-R),O=w+D*(f-S),z=P+D*(C-R);return[E,v,O,z]}function _(S,R){var w=S.length,P=[],f,C;for(f=2;f<w-2;f+=2)C=A(S[f-2],S[f-1],S[f],S[f+1],S[f+2],S[f+3],R),!isNaN(C[0])&&(P.push(C[0]),P.push(C[1]),P.push(S[f]),P.push(S[f+1]),P.push(C[2]),P.push(C[3]));return P}class p extends u.Shape{constructor(R){super(R),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(R){var w=this.points(),P=w.length,f=this.tension(),C=this.closed(),y=this.bezier(),m,N,T;if(P){if(R.beginPath(),R.moveTo(w[0],w[1]),f!==0&&P>4){for(m=this.getTensionPoints(),N=m.length,T=C?0:4,C||R.quadraticCurveTo(m[0],m[1],m[2],m[3]);T<N-2;)R.bezierCurveTo(m[T++],m[T++],m[T++],m[T++],m[T++],m[T++]);C||R.quadraticCurveTo(m[N-2],m[N-1],w[P-2],w[P-1])}else if(y)for(T=2;T<P;)R.bezierCurveTo(w[T++],w[T++],w[T++],w[T++],w[T++],w[T++]);else for(T=2;T<P;T+=2)R.lineTo(w[T],w[T+1]);C?(R.closePath(),R.fillStrokeShape(this)):R.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():_(this.points(),this.tension())}_getTensionPointsClosed(){var R=this.points(),w=R.length,P=this.tension(),f=A(R[w-2],R[w-1],R[0],R[1],R[2],R[3],P),C=A(R[w-4],R[w-3],R[w-2],R[w-1],R[0],R[1],P),y=_(R,P),m=[f[2],f[3]].concat(y).concat([C[0],C[1],R[w-2],R[w-1],C[2],C[3],f[0],f[1],R[0],R[1]]);return m}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var R=this.points();if(R.length<4)return{x:R[0]||0,y:R[1]||0,width:0,height:0};this.tension()!==0?R=[R[0],R[1],...this._getTensionPoints(),R[R.length-2],R[R.length-1]]:R=this.points();for(var w=R[0],P=R[0],f=R[1],C=R[1],y,m,N=0;N<R.length/2;N++)y=R[N*2],m=R[N*2+1],w=Math.min(w,y),P=Math.max(P,y),f=Math.min(f,m),C=Math.max(C,m);return{x:w,y:f,width:P-w,height:C-f}}}return Fu.Line=p,p.prototype.className="Line",p.prototype._attrsAffectingSize=["points","bezier","tension"],(0,x._registerNode)(p),a.Factory.addGetterSetter(p,"closed",!1),a.Factory.addGetterSetter(p,"bezier",!1),a.Factory.addGetterSetter(p,"tension",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(p,"points",[],(0,c.getNumberArrayValidator)()),Fu}var Du={},Tf={},N0;function dv(){return N0||(N0=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.t2length=a.getQuadraticArcLength=a.getCubicArcLength=a.binomialCoefficients=a.cValues=a.tValues=void 0,a.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],a.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],a.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const u=(p,S,R)=>{let w,P,f;w=R/2,P=0;for(let y=0;y<20;y++)f=w*a.tValues[20][y]+w,P+=a.cValues[20][y]*x(p,S,f);return w*P};a.getCubicArcLength=u;const c=(p,S,R)=>{R===void 0&&(R=1);const w=p[0]-2*p[1]+p[2],P=S[0]-2*S[1]+S[2],f=2*p[1]-2*p[0],C=2*S[1]-2*S[0],y=4*(w*w+P*P),m=4*(w*f+P*C),N=f*f+C*C;if(y===0)return R*Math.sqrt(Math.pow(p[2]-p[0],2)+Math.pow(S[2]-S[0],2));const T=m/(2*y),D=N/y,E=R+T,v=D-T*T,O=E*E+v>0?Math.sqrt(E*E+v):0,z=T*T+v>0?Math.sqrt(T*T+v):0,q=T+Math.sqrt(T*T+v)!==0?v*Math.log(Math.abs((E+O)/(T+z))):0;return Math.sqrt(y)/2*(E*O-T*z+q)};a.getQuadraticArcLength=c;function x(p,S,R){const w=A(1,R,p),P=A(1,R,S),f=w*w+P*P;return Math.sqrt(f)}const A=(p,S,R)=>{const w=R.length-1;let P,f;if(w===0)return 0;if(p===0){f=0;for(let C=0;C<=w;C++)f+=a.binomialCoefficients[w][C]*Math.pow(1-S,w-C)*Math.pow(S,C)*R[C];return f}else{P=new Array(w);for(let C=0;C<w;C++)P[C]=w*(R[C+1]-R[C]);return A(p-1,S,P)}},_=(p,S,R)=>{let w=1,P=p/S,f=(p-R(P))/S,C=0;for(;w>.001;){const y=R(P+f),m=Math.abs(p-y)/S;if(m<w)w=m,P+=f;else{const N=R(P-f),T=Math.abs(p-N)/S;T<w?(w=T,P-=f):f/=2}if(C++,C>500)break}return P};a.t2length=_}(Tf)),Tf}var A0;function $f(){if(A0)return Du;A0=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.Path=void 0;const a=mt(),u=Vn(),c=vt(),x=dv();let A=class Vr extends u.Shape{constructor(p){super(p),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Vr.parsePathData(this.data()),this.pathLength=Vr.getPathLength(this.dataArray)}_sceneFunc(p){var S=this.dataArray;p.beginPath();for(var R=!1,w=0;w<S.length;w++){var P=S[w].command,f=S[w].points;switch(P){case"L":p.lineTo(f[0],f[1]);break;case"M":p.moveTo(f[0],f[1]);break;case"C":p.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);break;case"Q":p.quadraticCurveTo(f[0],f[1],f[2],f[3]);break;case"A":var C=f[0],y=f[1],m=f[2],N=f[3],T=f[4],D=f[5],E=f[6],v=f[7],O=m>N?m:N,z=m>N?1:m/N,q=m>N?N/m:1;p.translate(C,y),p.rotate(E),p.scale(z,q),p.arc(0,0,O,T,T+D,1-v),p.scale(1/z,1/q),p.rotate(-E),p.translate(-C,-y);break;case"z":R=!0,p.closePath();break}}!R&&!this.hasFill()?p.strokeShape(this):p.fillStrokeShape(this)}getSelfRect(){var p=[];this.dataArray.forEach(function(m){if(m.command==="A"){var N=m.points[4],T=m.points[5],D=m.points[4]+T,E=Math.PI/180;if(Math.abs(N-D)<E&&(E=Math.abs(N-D)),T<0)for(let v=N-E;v>D;v-=E){const O=Vr.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],v,0);p.push(O.x,O.y)}else for(let v=N+E;v<D;v+=E){const O=Vr.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],v,0);p.push(O.x,O.y)}}else if(m.command==="C")for(let v=0;v<=1;v+=.01){const O=Vr.getPointOnCubicBezier(v,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);p.push(O.x,O.y)}else p=p.concat(m.points)});for(var S=p[0],R=p[0],w=p[1],P=p[1],f,C,y=0;y<p.length/2;y++)f=p[y*2],C=p[y*2+1],isNaN(f)||(S=Math.min(S,f),R=Math.max(R,f)),isNaN(C)||(w=Math.min(w,C),P=Math.max(P,C));return{x:S,y:w,width:R-S,height:P-w}}getLength(){return this.pathLength}getPointAtLength(p){return Vr.getPointAtLengthOfDataArray(p,this.dataArray)}static getLineLength(p,S,R,w){return Math.sqrt((R-p)*(R-p)+(w-S)*(w-S))}static getPathLength(p){let S=0;for(var R=0;R<p.length;++R)S+=p[R].pathLength;return S}static getPointAtLengthOfDataArray(p,S){var R,w=0,P=S.length;if(!P)return null;for(;w<P&&p>S[w].pathLength;)p-=S[w].pathLength,++w;if(w===P)return R=S[w-1].points.slice(-2),{x:R[0],y:R[1]};if(p<.01)return R=S[w].points.slice(0,2),{x:R[0],y:R[1]};var f=S[w],C=f.points;switch(f.command){case"L":return Vr.getPointOnLine(p,f.start.x,f.start.y,C[0],C[1]);case"C":return Vr.getPointOnCubicBezier((0,x.t2length)(p,Vr.getPathLength(S),O=>(0,x.getCubicArcLength)([f.start.x,C[0],C[2],C[4]],[f.start.y,C[1],C[3],C[5]],O)),f.start.x,f.start.y,C[0],C[1],C[2],C[3],C[4],C[5]);case"Q":return Vr.getPointOnQuadraticBezier((0,x.t2length)(p,Vr.getPathLength(S),O=>(0,x.getQuadraticArcLength)([f.start.x,C[0],C[2]],[f.start.y,C[1],C[3]],O)),f.start.x,f.start.y,C[0],C[1],C[2],C[3]);case"A":var y=C[0],m=C[1],N=C[2],T=C[3],D=C[4],E=C[5],v=C[6];return D+=E*p/f.pathLength,Vr.getPointOnEllipticalArc(y,m,N,T,D,v)}return null}static getPointOnLine(p,S,R,w,P,f,C){f===void 0&&(f=S),C===void 0&&(C=R);var y=(P-R)/(w-S+1e-8),m=Math.sqrt(p*p/(1+y*y));w<S&&(m*=-1);var N=y*m,T;if(w===S)T={x:f,y:C+N};else if((C-R)/(f-S+1e-8)===y)T={x:f+m,y:C+N};else{var D,E,v=this.getLineLength(S,R,w,P),O=(f-S)*(w-S)+(C-R)*(P-R);O=O/(v*v),D=S+O*(w-S),E=R+O*(P-R);var z=this.getLineLength(f,C,D,E),q=Math.sqrt(p*p-z*z);m=Math.sqrt(q*q/(1+y*y)),w<S&&(m*=-1),N=y*m,T={x:D+m,y:E+N}}return T}static getPointOnCubicBezier(p,S,R,w,P,f,C,y,m){function N(z){return z*z*z}function T(z){return 3*z*z*(1-z)}function D(z){return 3*z*(1-z)*(1-z)}function E(z){return(1-z)*(1-z)*(1-z)}var v=y*N(p)+f*T(p)+w*D(p)+S*E(p),O=m*N(p)+C*T(p)+P*D(p)+R*E(p);return{x:v,y:O}}static getPointOnQuadraticBezier(p,S,R,w,P,f,C){function y(E){return E*E}function m(E){return 2*E*(1-E)}function N(E){return(1-E)*(1-E)}var T=f*y(p)+w*m(p)+S*N(p),D=C*y(p)+P*m(p)+R*N(p);return{x:T,y:D}}static getPointOnEllipticalArc(p,S,R,w,P,f){var C=Math.cos(f),y=Math.sin(f),m={x:R*Math.cos(P),y:w*Math.sin(P)};return{x:p+(m.x*C-m.y*y),y:S+(m.x*y+m.y*C)}}static parsePathData(p){if(!p)return[];var S=p,R=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];S=S.replace(new RegExp(" ","g"),",");for(var w=0;w<R.length;w++)S=S.replace(new RegExp(R[w],"g"),"|"+R[w]);var P=S.split("|"),f=[],C=[],y=0,m=0,N=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,T;for(w=1;w<P.length;w++){var D=P[w],E=D.charAt(0);for(D=D.slice(1),C.length=0;T=N.exec(D);)C.push(T[0]);for(var v=[],O=0,z=C.length;O<z;O++){if(C[O]==="00"){v.push(0,0);continue}var q=parseFloat(C[O]);isNaN(q)?v.push(0):v.push(q)}for(;v.length>0&&!isNaN(v[0]);){var K="",U=[],W=y,$=m,Y,ie,F,j,B,Q,X,ee,ne,V;switch(E){case"l":y+=v.shift(),m+=v.shift(),K="L",U.push(y,m);break;case"L":y=v.shift(),m=v.shift(),U.push(y,m);break;case"m":var oe=v.shift(),te=v.shift();if(y+=oe,m+=te,K="M",f.length>2&&f[f.length-1].command==="z"){for(var Se=f.length-2;Se>=0;Se--)if(f[Se].command==="M"){y=f[Se].points[0]+oe,m=f[Se].points[1]+te;break}}U.push(y,m),E="l";break;case"M":y=v.shift(),m=v.shift(),K="M",U.push(y,m),E="L";break;case"h":y+=v.shift(),K="L",U.push(y,m);break;case"H":y=v.shift(),K="L",U.push(y,m);break;case"v":m+=v.shift(),K="L",U.push(y,m);break;case"V":m=v.shift(),K="L",U.push(y,m);break;case"C":U.push(v.shift(),v.shift(),v.shift(),v.shift()),y=v.shift(),m=v.shift(),U.push(y,m);break;case"c":U.push(y+v.shift(),m+v.shift(),y+v.shift(),m+v.shift()),y+=v.shift(),m+=v.shift(),K="C",U.push(y,m);break;case"S":ie=y,F=m,Y=f[f.length-1],Y.command==="C"&&(ie=y+(y-Y.points[2]),F=m+(m-Y.points[3])),U.push(ie,F,v.shift(),v.shift()),y=v.shift(),m=v.shift(),K="C",U.push(y,m);break;case"s":ie=y,F=m,Y=f[f.length-1],Y.command==="C"&&(ie=y+(y-Y.points[2]),F=m+(m-Y.points[3])),U.push(ie,F,y+v.shift(),m+v.shift()),y+=v.shift(),m+=v.shift(),K="C",U.push(y,m);break;case"Q":U.push(v.shift(),v.shift()),y=v.shift(),m=v.shift(),U.push(y,m);break;case"q":U.push(y+v.shift(),m+v.shift()),y+=v.shift(),m+=v.shift(),K="Q",U.push(y,m);break;case"T":ie=y,F=m,Y=f[f.length-1],Y.command==="Q"&&(ie=y+(y-Y.points[0]),F=m+(m-Y.points[1])),y=v.shift(),m=v.shift(),K="Q",U.push(ie,F,y,m);break;case"t":ie=y,F=m,Y=f[f.length-1],Y.command==="Q"&&(ie=y+(y-Y.points[0]),F=m+(m-Y.points[1])),y+=v.shift(),m+=v.shift(),K="Q",U.push(ie,F,y,m);break;case"A":j=v.shift(),B=v.shift(),Q=v.shift(),X=v.shift(),ee=v.shift(),ne=y,V=m,y=v.shift(),m=v.shift(),K="A",U=this.convertEndpointToCenterParameterization(ne,V,y,m,X,ee,j,B,Q);break;case"a":j=v.shift(),B=v.shift(),Q=v.shift(),X=v.shift(),ee=v.shift(),ne=y,V=m,y+=v.shift(),m+=v.shift(),K="A",U=this.convertEndpointToCenterParameterization(ne,V,y,m,X,ee,j,B,Q);break}f.push({command:K||E,points:U,start:{x:W,y:$},pathLength:this.calcLength(W,$,K||E,U)})}(E==="z"||E==="Z")&&f.push({command:"z",points:[],start:void 0,pathLength:0})}return f}static calcLength(p,S,R,w){var P,f,C,y,m=Vr;switch(R){case"L":return m.getLineLength(p,S,w[0],w[1]);case"C":return(0,x.getCubicArcLength)([p,w[0],w[2],w[4]],[S,w[1],w[3],w[5]],1);case"Q":return(0,x.getQuadraticArcLength)([p,w[0],w[2]],[S,w[1],w[3]],1);case"A":P=0;var N=w[4],T=w[5],D=w[4]+T,E=Math.PI/180;if(Math.abs(N-D)<E&&(E=Math.abs(N-D)),f=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],N,0),T<0)for(y=N-E;y>D;y-=E)C=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],y,0),P+=m.getLineLength(f.x,f.y,C.x,C.y),f=C;else for(y=N+E;y<D;y+=E)C=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],y,0),P+=m.getLineLength(f.x,f.y,C.x,C.y),f=C;return C=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],D,0),P+=m.getLineLength(f.x,f.y,C.x,C.y),P}return 0}static convertEndpointToCenterParameterization(p,S,R,w,P,f,C,y,m){var N=m*(Math.PI/180),T=Math.cos(N)*(p-R)/2+Math.sin(N)*(S-w)/2,D=-1*Math.sin(N)*(p-R)/2+Math.cos(N)*(S-w)/2,E=T*T/(C*C)+D*D/(y*y);E>1&&(C*=Math.sqrt(E),y*=Math.sqrt(E));var v=Math.sqrt((C*C*(y*y)-C*C*(D*D)-y*y*(T*T))/(C*C*(D*D)+y*y*(T*T)));P===f&&(v*=-1),isNaN(v)&&(v=0);var O=v*C*D/y,z=v*-y*T/C,q=(p+R)/2+Math.cos(N)*O-Math.sin(N)*z,K=(S+w)/2+Math.sin(N)*O+Math.cos(N)*z,U=function(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1])},W=function(B,Q){return(B[0]*Q[0]+B[1]*Q[1])/(U(B)*U(Q))},$=function(B,Q){return(B[0]*Q[1]<B[1]*Q[0]?-1:1)*Math.acos(W(B,Q))},Y=$([1,0],[(T-O)/C,(D-z)/y]),ie=[(T-O)/C,(D-z)/y],F=[(-1*T-O)/C,(-1*D-z)/y],j=$(ie,F);return W(ie,F)<=-1&&(j=Math.PI),W(ie,F)>=1&&(j=0),f===0&&j>0&&(j=j-2*Math.PI),f===1&&j<0&&(j=j+2*Math.PI),[q,K,C,y,Y,j,N,f]}};return Du.Path=A,A.prototype.className="Path",A.prototype._attrsAffectingSize=["data"],(0,c._registerNode)(A),a.Factory.addGetterSetter(A,"data"),Du}var O0;function fv(){if(O0)return Lu;O0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.Arrow=void 0;const a=mt(),u=Zp(),c=St(),x=vt(),A=$f();let _=class extends u.Line{_sceneFunc(S){super._sceneFunc(S);var R=Math.PI*2,w=this.points(),P=w,f=this.tension()!==0&&w.length>4;f&&(P=this.getTensionPoints());var C=this.pointerLength(),y=w.length,m,N;if(f){const E=[P[P.length-4],P[P.length-3],P[P.length-2],P[P.length-1],w[y-2],w[y-1]],v=A.Path.calcLength(P[P.length-4],P[P.length-3],"C",E),O=A.Path.getPointOnQuadraticBezier(Math.min(1,1-C/v),E[0],E[1],E[2],E[3],E[4],E[5]);m=w[y-2]-O.x,N=w[y-1]-O.y}else m=w[y-2]-w[y-4],N=w[y-1]-w[y-3];var T=(Math.atan2(N,m)+R)%R,D=this.pointerWidth();this.pointerAtEnding()&&(S.save(),S.beginPath(),S.translate(w[y-2],w[y-1]),S.rotate(T),S.moveTo(0,0),S.lineTo(-C,D/2),S.lineTo(-C,-D/2),S.closePath(),S.restore(),this.__fillStroke(S)),this.pointerAtBeginning()&&(S.save(),S.beginPath(),S.translate(w[0],w[1]),f?(m=(P[0]+P[2])/2-w[0],N=(P[1]+P[3])/2-w[1]):(m=w[2]-w[0],N=w[3]-w[1]),S.rotate((Math.atan2(-N,-m)+R)%R),S.moveTo(0,0),S.lineTo(-C,D/2),S.lineTo(-C,-D/2),S.closePath(),S.restore(),this.__fillStroke(S))}__fillStroke(S){var R=this.dashEnabled();R&&(this.attrs.dashEnabled=!1,S.setLineDash([])),S.fillStrokeShape(this),R&&(this.attrs.dashEnabled=!0)}getSelfRect(){const S=super.getSelfRect(),R=this.pointerWidth()/2;return{x:S.x-R,y:S.y-R,width:S.width+R*2,height:S.height+R*2}}};return Lu.Arrow=_,_.prototype.className="Arrow",(0,x._registerNode)(_),a.Factory.addGetterSetter(_,"pointerLength",10,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(_,"pointerWidth",10,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(_,"pointerAtBeginning",!1),a.Factory.addGetterSetter(_,"pointerAtEnding",!0),Lu}var zu={},M0;function hv(){if(M0)return zu;M0=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.Circle=void 0;const a=mt(),u=Vn(),c=St(),x=vt();class A extends u.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius()!==p/2&&this.radius(p/2)}setHeight(p){this.radius()!==p/2&&this.radius(p/2)}}return zu.Circle=A,A.prototype._centroid=!0,A.prototype.className="Circle",A.prototype._attrsAffectingSize=["radius"],(0,x._registerNode)(A),a.Factory.addGetterSetter(A,"radius",0,(0,c.getNumberValidator)()),zu}var Uu={},I0;function pv(){if(I0)return Uu;I0=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.Ellipse=void 0;const a=mt(),u=Vn(),c=St(),x=vt();let A=class extends u.Shape{_sceneFunc(p){var S=this.radiusX(),R=this.radiusY();p.beginPath(),p.save(),S!==R&&p.scale(1,R/S),p.arc(0,0,S,0,Math.PI*2,!1),p.restore(),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(p){this.radiusX(p/2)}setHeight(p){this.radiusY(p/2)}};return Uu.Ellipse=A,A.prototype.className="Ellipse",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,x._registerNode)(A),a.Factory.addComponentsGetterSetter(A,"radius",["x","y"]),a.Factory.addGetterSetter(A,"radiusX",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"radiusY",0,(0,c.getNumberValidator)()),Uu}var ju={},L0;function gv(){if(L0)return ju;L0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Image=void 0;const a=cn(),u=mt(),c=Vn(),x=vt(),A=St();let _=class e1 extends c.Shape{constructor(S){super(S),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const S=this.image();S&&S.complete||S&&S.readyState===4||S&&S.addEventListener&&S.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(S){const R=this.getWidth(),w=this.getHeight(),P=this.cornerRadius(),f=this.attrs.image;let C;if(f){const y=this.attrs.cropWidth,m=this.attrs.cropHeight;y&&m?C=[f,this.cropX(),this.cropY(),y,m,0,0,R,w]:C=[f,0,0,R,w]}(this.hasFill()||this.hasStroke()||P)&&(S.beginPath(),P?a.Util.drawRoundedRectPath(S,R,w,P):S.rect(0,0,R,w),S.closePath(),S.fillStrokeShape(this)),f&&(P&&S.clip(),S.drawImage.apply(S,C))}_hitFunc(S){var R=this.width(),w=this.height(),P=this.cornerRadius();S.beginPath(),P?a.Util.drawRoundedRectPath(S,R,w,P):S.rect(0,0,R,w),S.closePath(),S.fillStrokeShape(this)}getWidth(){var S,R;return(S=this.attrs.width)!==null&&S!==void 0?S:(R=this.image())===null||R===void 0?void 0:R.width}getHeight(){var S,R;return(S=this.attrs.height)!==null&&S!==void 0?S:(R=this.image())===null||R===void 0?void 0:R.height}static fromURL(S,R,w=null){var P=a.Util.createImageElement();P.onload=function(){var f=new e1({image:P});R(f)},P.onerror=w,P.crossOrigin="Anonymous",P.src=S}};return ju.Image=_,_.prototype.className="Image",(0,x._registerNode)(_),u.Factory.addGetterSetter(_,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),u.Factory.addGetterSetter(_,"image"),u.Factory.addComponentsGetterSetter(_,"crop",["x","y","width","height"]),u.Factory.addGetterSetter(_,"cropX",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(_,"cropY",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(_,"cropWidth",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(_,"cropHeight",0,(0,A.getNumberValidator)()),ju}var Ea={},F0;function vv(){if(F0)return Ea;F0=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.Tag=Ea.Label=void 0;const a=mt(),u=Vn(),c=Bf(),x=St(),A=vt();var _=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],p="Change.konva",S="none",R="up",w="right",P="down",f="left",C=_.length;let y=class extends c.Group{constructor(T){super(T),this.on("add.konva",function(D){this._addListeners(D.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){var D=this,E,v=function(){D._sync()};for(E=0;E<C;E++)T.on(_[E]+p,v)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var T=this.getText(),D=this.getTag(),E,v,O,z,q,K,U;if(T&&D){switch(E=T.width(),v=T.height(),O=D.pointerDirection(),z=D.pointerWidth(),U=D.pointerHeight(),q=0,K=0,O){case R:q=E/2,K=-1*U;break;case w:q=E+z,K=v/2;break;case P:q=E/2,K=v+U;break;case f:q=-1*z,K=v/2;break}D.setAttrs({x:-1*q,y:-1*K,width:E,height:v}),T.setAttrs({x:-1*q,y:-1*K})}}};Ea.Label=y,y.prototype.className="Label",(0,A._registerNode)(y);class m extends u.Shape{_sceneFunc(T){var D=this.width(),E=this.height(),v=this.pointerDirection(),O=this.pointerWidth(),z=this.pointerHeight(),q=this.cornerRadius();let K=0,U=0,W=0,$=0;typeof q=="number"?K=U=W=$=Math.min(q,D/2,E/2):(K=Math.min(q[0]||0,D/2,E/2),U=Math.min(q[1]||0,D/2,E/2),$=Math.min(q[2]||0,D/2,E/2),W=Math.min(q[3]||0,D/2,E/2)),T.beginPath(),T.moveTo(K,0),v===R&&(T.lineTo((D-O)/2,0),T.lineTo(D/2,-1*z),T.lineTo((D+O)/2,0)),T.lineTo(D-U,0),T.arc(D-U,U,U,Math.PI*3/2,0,!1),v===w&&(T.lineTo(D,(E-z)/2),T.lineTo(D+O,E/2),T.lineTo(D,(E+z)/2)),T.lineTo(D,E-$),T.arc(D-$,E-$,$,0,Math.PI/2,!1),v===P&&(T.lineTo((D+O)/2,E),T.lineTo(D/2,E+z),T.lineTo((D-O)/2,E)),T.lineTo(W,E),T.arc(W,E-W,W,Math.PI/2,Math.PI,!1),v===f&&(T.lineTo(0,(E+z)/2),T.lineTo(-1*O,E/2),T.lineTo(0,(E-z)/2)),T.lineTo(0,K),T.arc(K,K,K,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){var T=0,D=0,E=this.pointerWidth(),v=this.pointerHeight(),O=this.pointerDirection(),z=this.width(),q=this.height();return O===R?(D-=v,q+=v):O===P?q+=v:O===f?(T-=E*1.5,z+=E):O===w&&(z+=E*1.5),{x:T,y:D,width:z,height:q}}}return Ea.Tag=m,m.prototype.className="Tag",(0,A._registerNode)(m),a.Factory.addGetterSetter(m,"pointerDirection",S),a.Factory.addGetterSetter(m,"pointerWidth",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(m,"pointerHeight",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(m,"cornerRadius",0,(0,x.getNumberOrArrayOfNumbersValidator)(4)),Ea}var Gu={},D0;function t1(){if(D0)return Gu;D0=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Rect=void 0;const a=mt(),u=Vn(),c=vt(),x=cn(),A=St();class _ extends u.Shape{_sceneFunc(S){var R=this.cornerRadius(),w=this.width(),P=this.height();S.beginPath(),R?x.Util.drawRoundedRectPath(S,w,P,R):S.rect(0,0,w,P),S.closePath(),S.fillStrokeShape(this)}}return Gu.Rect=_,_.prototype.className="Rect",(0,c._registerNode)(_),a.Factory.addGetterSetter(_,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),Gu}var Bu={},z0;function mv(){if(z0)return Bu;z0=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.RegularPolygon=void 0;const a=mt(),u=Vn(),c=St(),x=vt();let A=class extends u.Shape{_sceneFunc(p){const S=this._getPoints();p.beginPath(),p.moveTo(S[0].x,S[0].y);for(var R=1;R<S.length;R++)p.lineTo(S[R].x,S[R].y);p.closePath(),p.fillStrokeShape(this)}_getPoints(){const p=this.attrs.sides,S=this.attrs.radius||0,R=[];for(var w=0;w<p;w++)R.push({x:S*Math.sin(w*2*Math.PI/p),y:-1*S*Math.cos(w*2*Math.PI/p)});return R}getSelfRect(){const p=this._getPoints();var S=p[0].x,R=p[0].y,w=p[0].x,P=p[0].y;return p.forEach(f=>{S=Math.min(S,f.x),R=Math.max(R,f.x),w=Math.min(w,f.y),P=Math.max(P,f.y)}),{x:S,y:w,width:R-S,height:P-w}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return Bu.RegularPolygon=A,A.prototype.className="RegularPolygon",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radius"],(0,x._registerNode)(A),a.Factory.addGetterSetter(A,"radius",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"sides",0,(0,c.getNumberValidator)()),Bu}var Hu={},U0;function yv(){if(U0)return Hu;U0=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.Ring=void 0;const a=mt(),u=Vn(),c=St(),x=vt();var A=Math.PI*2;let _=class extends u.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.innerRadius(),0,A,!1),S.moveTo(this.outerRadius(),0),S.arc(0,0,this.outerRadius(),A,0,!0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}};return Hu.Ring=_,_.prototype.className="Ring",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,x._registerNode)(_),a.Factory.addGetterSetter(_,"innerRadius",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(_,"outerRadius",0,(0,c.getNumberValidator)()),Hu}var $u={},j0;function _v(){if(j0)return $u;j0=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.Sprite=void 0;const a=mt(),u=Vn(),c=Hf(),x=St(),A=vt();let _=class extends u.Shape{constructor(S){super(S),this._updated=!0,this.anim=new c.Animation(()=>{var R=this._updated;return this._updated=!1,R}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(S){var R=this.animation(),w=this.frameIndex(),P=w*4,f=this.animations()[R],C=this.frameOffsets(),y=f[P+0],m=f[P+1],N=f[P+2],T=f[P+3],D=this.image();if((this.hasFill()||this.hasStroke())&&(S.beginPath(),S.rect(0,0,N,T),S.closePath(),S.fillStrokeShape(this)),D)if(C){var E=C[R],v=w*2;S.drawImage(D,y,m,N,T,E[v+0],E[v+1],N,T)}else S.drawImage(D,y,m,N,T,0,0,N,T)}_hitFunc(S){var R=this.animation(),w=this.frameIndex(),P=w*4,f=this.animations()[R],C=this.frameOffsets(),y=f[P+2],m=f[P+3];if(S.beginPath(),C){var N=C[R],T=w*2;S.rect(N[T+0],N[T+1],y,m)}else S.rect(0,0,y,m);S.closePath(),S.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var S=this;this.interval=setInterval(function(){S._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var S=this.getLayer();this.anim.setLayers(S),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var S=this.frameIndex(),R=this.animation(),w=this.animations(),P=w[R],f=P.length/4;S<f-1?this.frameIndex(S+1):this.frameIndex(0)}};return $u.Sprite=_,_.prototype.className="Sprite",(0,A._registerNode)(_),a.Factory.addGetterSetter(_,"animation"),a.Factory.addGetterSetter(_,"animations"),a.Factory.addGetterSetter(_,"frameOffsets"),a.Factory.addGetterSetter(_,"image"),a.Factory.addGetterSetter(_,"frameIndex",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"frameRate",17,(0,x.getNumberValidator)()),a.Factory.backCompat(_,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),$u}var Vu={},G0;function Sv(){if(G0)return Vu;G0=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.Star=void 0;const a=mt(),u=Vn(),c=St(),x=vt();let A=class extends u.Shape{_sceneFunc(p){var S=this.innerRadius(),R=this.outerRadius(),w=this.numPoints();p.beginPath(),p.moveTo(0,0-R);for(var P=1;P<w*2;P++){var f=P%2===0?R:S,C=f*Math.sin(P*Math.PI/w),y=-1*f*Math.cos(P*Math.PI/w);p.lineTo(C,y)}p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return Vu.Star=A,A.prototype.className="Star",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,x._registerNode)(A),a.Factory.addGetterSetter(A,"numPoints",5,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"innerRadius",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(A,"outerRadius",0,(0,c.getNumberValidator)()),Vu}var ka={},B0;function n1(){if(B0)return ka;B0=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.Text=ka.stringToArray=void 0;const a=cn(),u=mt(),c=Vn(),x=St(),A=vt();function _(oe){return Array.from(oe)}ka.stringToArray=_;var p="auto",S="center",R="inherit",w="justify",P="Change.konva",f="2d",C="-",y="left",m="text",N="Text",T="top",D="bottom",E="middle",v="normal",O="px ",z=" ",q="right",K="rtl",U="word",W="char",$="none",Y="",ie=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],F=ie.length;function j(oe){return oe.split(",").map(te=>{te=te.trim();const Se=te.indexOf(" ")>=0,ye=te.indexOf('"')>=0||te.indexOf("'")>=0;return Se&&!ye&&(te=`"${te}"`),te}).join(", ")}var B;function Q(){return B||(B=a.Util.createCanvasElement().getContext(f),B)}function X(oe){oe.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ee(oe){oe.setAttr("miterLimit",2),oe.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ne(oe){return oe=oe||{},!oe.fillLinearGradientColorStops&&!oe.fillRadialGradientColorStops&&!oe.fillPatternImage&&(oe.fill=oe.fill||"black"),oe}class V extends c.Shape{constructor(te){super(ne(te)),this._partialTextX=0,this._partialTextY=0;for(var Se=0;Se<F;Se++)this.on(ie[Se]+P,this._setTextData);this._setTextData()}_sceneFunc(te){var Se=this.textArr,ye=Se.length;if(this.text()){var Ae=this.padding(),Pe=this.fontSize(),Z=this.lineHeight()*Pe,de=this.verticalAlign(),we=this.direction(),Be=0,Le=this.align(),Ye=this.getWidth(),He=this.letterSpacing(),Gt=this.fill(),ht=this.textDecoration(),dn=ht.indexOf("underline")!==-1,Dt=ht.indexOf("line-through")!==-1,Jt;we=we===R?te.direction:we;var bt=0,bt=Z/2,wt=0,pt=0;for(we===K&&te.setAttr("direction",we),te.setAttr("font",this._getContextFont()),te.setAttr("textBaseline",E),te.setAttr("textAlign",y),de===E?Be=(this.getHeight()-ye*Z-Ae*2)/2:de===D&&(Be=this.getHeight()-ye*Z-Ae*2),te.translate(Ae,Be+Ae),Jt=0;Jt<ye;Jt++){var wt=0,pt=0,bn=Se[Jt],Tn=bn.text,fn=bn.width,Yt=bn.lastInParagraph,tn,fr,tr;if(te.save(),Le===q?wt+=Ye-fn-Ae*2:Le===S&&(wt+=(Ye-fn-Ae*2)/2),dn){te.save(),te.beginPath(),te.moveTo(wt,bt+pt+Math.round(Pe/2)),tn=Tn.split(" ").length-1,fr=tn===0,tr=Le===w&&!Yt?Ye-Ae*2:fn,te.lineTo(wt+Math.round(tr),bt+pt+Math.round(Pe/2)),te.lineWidth=Pe/15;const rr=this._getLinearGradient();te.strokeStyle=rr||Gt,te.stroke(),te.restore()}if(Dt){te.save(),te.beginPath(),te.moveTo(wt,bt+pt),tn=Tn.split(" ").length-1,fr=tn===0,tr=Le===w&&Yt&&!fr?Ye-Ae*2:fn,te.lineTo(wt+Math.round(tr),bt+pt),te.lineWidth=Pe/15;const rr=this._getLinearGradient();te.strokeStyle=rr||Gt,te.stroke(),te.restore()}if(we!==K&&(He!==0||Le===w)){tn=Tn.split(" ").length-1;for(var Or=_(Tn),_n=0;_n<Or.length;_n++){var nr=Or[_n];nr===" "&&!Yt&&Le===w&&(wt+=(Ye-Ae*2-fn)/tn),this._partialTextX=wt,this._partialTextY=bt+pt,this._partialText=nr,te.fillStrokeShape(this),wt+=this.measureSize(nr).width+He}}else He!==0&&te.setAttr("letterSpacing",`${He}px`),this._partialTextX=wt,this._partialTextY=bt+pt,this._partialText=Tn,te.fillStrokeShape(this);te.restore(),ye>1&&(bt+=Z)}}}_hitFunc(te){var Se=this.getWidth(),ye=this.getHeight();te.beginPath(),te.rect(0,0,Se,ye),te.closePath(),te.fillStrokeShape(this)}setText(te){var Se=a.Util._isString(te)?te:te==null?"":te+"";return this._setAttr(m,Se),this}getWidth(){var te=this.attrs.width===p||this.attrs.width===void 0;return te?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var te=this.attrs.height===p||this.attrs.height===void 0;return te?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(te){var Se=Q(),ye=this.fontSize(),Ae;return Se.save(),Se.font=this._getContextFont(),Ae=Se.measureText(te),Se.restore(),{width:Ae.width,height:ye}}_getContextFont(){return this.fontStyle()+z+this.fontVariant()+z+(this.fontSize()+O)+j(this.fontFamily())}_addTextLine(te){this.align()===w&&(te=te.trim());var ye=this._getTextWidth(te);return this.textArr.push({text:te,width:ye,lastInParagraph:!1})}_getTextWidth(te){var Se=this.letterSpacing(),ye=te.length;return Q().measureText(te).width+(ye?Se*(ye-1):0)}_setTextData(){var te=this.text().split(`
`),Se=+this.fontSize(),ye=0,Ae=this.lineHeight()*Se,Pe=this.attrs.width,Z=this.attrs.height,de=Pe!==p&&Pe!==void 0,we=Z!==p&&Z!==void 0,Be=this.padding(),Le=Pe-Be*2,Ye=Z-Be*2,He=0,Gt=this.wrap(),ht=Gt!==$,dn=Gt!==W&&ht,Dt=this.ellipsis();this.textArr=[],Q().font=this._getContextFont();for(var Jt=Dt?this._getTextWidth(Y):0,bt=0,wt=te.length;bt<wt;++bt){var pt=te[bt],bn=this._getTextWidth(pt);if(de&&bn>Le)for(;pt.length>0;){for(var Tn=0,fn=pt.length,Yt="",tn=0;Tn<fn;){var fr=Tn+fn>>>1,tr=pt.slice(0,fr+1),Or=this._getTextWidth(tr)+Jt;Or<=Le?(Tn=fr+1,Yt=tr,tn=Or):fn=fr}if(Yt){if(dn){var _n,nr=pt[Yt.length],bo=nr===z||nr===C;bo&&tn<=Le?_n=Yt.length:_n=Math.max(Yt.lastIndexOf(z),Yt.lastIndexOf(C))+1,_n>0&&(Tn=_n,Yt=Yt.slice(0,Tn),tn=this._getTextWidth(Yt))}Yt=Yt.trimRight(),this._addTextLine(Yt),ye=Math.max(ye,tn),He+=Ae;var Wo=this._shouldHandleEllipsis(He);if(Wo){this._tryToAddEllipsisToLastLine();break}if(pt=pt.slice(Tn),pt=pt.trimLeft(),pt.length>0&&(bn=this._getTextWidth(pt),bn<=Le)){this._addTextLine(pt),He+=Ae,ye=Math.max(ye,bn);break}}else break}else this._addTextLine(pt),He+=Ae,ye=Math.max(ye,bn),this._shouldHandleEllipsis(He)&&bt<wt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),we&&He+Ae>Ye)break}this.textHeight=Se,this.textWidth=ye}_shouldHandleEllipsis(te){var Se=+this.fontSize(),ye=this.lineHeight()*Se,Ae=this.attrs.height,Pe=Ae!==p&&Ae!==void 0,Z=this.padding(),de=Ae-Z*2,we=this.wrap(),Be=we!==$;return!Be||Pe&&te+ye>de}_tryToAddEllipsisToLastLine(){var te=this.attrs.width,Se=te!==p&&te!==void 0,ye=this.padding(),Ae=te-ye*2,Pe=this.ellipsis(),Z=this.textArr[this.textArr.length-1];if(!(!Z||!Pe)){if(Se){var de=this._getTextWidth(Z.text+Y)<Ae;de||(Z.text=Z.text.slice(0,Z.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Z.text+Y)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const te=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,Se=this.hasShadow();return te&&Se?!0:super._useBufferCanvas()}}return ka.Text=V,V.prototype._fillFunc=X,V.prototype._strokeFunc=ee,V.prototype.className=N,V.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,A._registerNode)(V),u.Factory.overWriteSetter(V,"width",(0,x.getNumberOrAutoValidator)()),u.Factory.overWriteSetter(V,"height",(0,x.getNumberOrAutoValidator)()),u.Factory.addGetterSetter(V,"direction",R),u.Factory.addGetterSetter(V,"fontFamily","Arial"),u.Factory.addGetterSetter(V,"fontSize",12,(0,x.getNumberValidator)()),u.Factory.addGetterSetter(V,"fontStyle",v),u.Factory.addGetterSetter(V,"fontVariant",v),u.Factory.addGetterSetter(V,"padding",0,(0,x.getNumberValidator)()),u.Factory.addGetterSetter(V,"align",y),u.Factory.addGetterSetter(V,"verticalAlign",T),u.Factory.addGetterSetter(V,"lineHeight",1,(0,x.getNumberValidator)()),u.Factory.addGetterSetter(V,"wrap",U),u.Factory.addGetterSetter(V,"ellipsis",!1,(0,x.getBooleanValidator)()),u.Factory.addGetterSetter(V,"letterSpacing",0,(0,x.getNumberValidator)()),u.Factory.addGetterSetter(V,"text","",(0,x.getStringValidator)()),u.Factory.addGetterSetter(V,"textDecoration",""),ka}var bu={},H0;function wv(){if(H0)return bu;H0=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.TextPath=void 0;const a=cn(),u=mt(),c=Vn(),x=$f(),A=n1(),_=St(),p=vt();var S="",R="normal";function w(C){C.fillText(this.partialText,0,0)}function P(C){C.strokeText(this.partialText,0,0)}let f=class extends c.Shape{constructor(y){super(y),this.dummyCanvas=a.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return x.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const m=this.pathLength;return y-1>m?null:x.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=x.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();var m=this.textDecoration(),N=this.fill(),T=this.fontSize(),D=this.glyphInfo;m==="underline"&&y.beginPath();for(var E=0;E<D.length;E++){y.save();var v=D[E].p0;y.translate(v.x,v.y),y.rotate(D[E].rotation),this.partialText=D[E].text,y.fillStrokeShape(this),m==="underline"&&(E===0&&y.moveTo(0,T/2+1),y.lineTo(T,T/2+1)),y.restore()}m==="underline"&&(y.strokeStyle=N,y.lineWidth=T/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();var m=this.glyphInfo;if(m.length>=1){var N=m[0].p0;y.moveTo(N.x,N.y)}for(var T=0;T<m.length;T++){var D=m[T].p1;y.lineTo(D.x,D.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return A.Text.prototype.setText.call(this,y)}_getContextFont(){return A.Text.prototype._getContextFont.call(this)}_getTextSize(y){var m=this.dummyCanvas,N=m.getContext("2d");N.save(),N.font=this._getContextFont();var T=N.measureText(y);return N.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const N=this.letterSpacing(),T=this.align(),D=this.kerningFunc(),E=Math.max(this.textWidth+((this.attrs.text||"").length-1)*N,0);let v=0;T==="center"&&(v=Math.max(0,this.pathLength/2-E/2)),T==="right"&&(v=Math.max(0,this.pathLength-E));const O=(0,A.stringToArray)(this.text());let z=v;for(var q=0;q<O.length;q++){const K=this._getPointAtLength(z);if(!K)return;let U=this._getTextSize(O[q]).width+N;if(O[q]===" "&&T==="justify"){const j=this.text().split(" ").length-1;U+=(this.pathLength-E)/j}const W=this._getPointAtLength(z+U);if(!W)return;const $=x.Path.getLineLength(K.x,K.y,W.x,W.y);let Y=0;if(D)try{Y=D(O[q-1],O[q])*this.fontSize()}catch{Y=0}K.x+=Y,W.x+=Y,this.textWidth+=Y;const ie=x.Path.getPointOnLine(Y+$/2,K.x,K.y,W.x,W.y),F=Math.atan2(W.y-K.y,W.x-K.x);this.glyphInfo.push({transposeX:ie.x,transposeY:ie.y,text:O[q],rotation:F,p0:K,p1:W}),z+=U}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var y=[];this.glyphInfo.forEach(function(q){y.push(q.p0.x),y.push(q.p0.y),y.push(q.p1.x),y.push(q.p1.y)});for(var m=y[0]||0,N=y[0]||0,T=y[1]||0,D=y[1]||0,E,v,O=0;O<y.length/2;O++)E=y[O*2],v=y[O*2+1],m=Math.min(m,E),N=Math.max(N,E),T=Math.min(T,v),D=Math.max(D,v);var z=this.fontSize();return{x:m-z/2,y:T-z/2,width:N-m+z,height:D-T+z}}destroy(){return a.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return bu.TextPath=f,f.prototype._fillFunc=w,f.prototype._strokeFunc=P,f.prototype._fillFuncHit=w,f.prototype._strokeFuncHit=P,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],(0,p._registerNode)(f),u.Factory.addGetterSetter(f,"data"),u.Factory.addGetterSetter(f,"fontFamily","Arial"),u.Factory.addGetterSetter(f,"fontSize",12,(0,_.getNumberValidator)()),u.Factory.addGetterSetter(f,"fontStyle",R),u.Factory.addGetterSetter(f,"align","left"),u.Factory.addGetterSetter(f,"letterSpacing",0,(0,_.getNumberValidator)()),u.Factory.addGetterSetter(f,"textBaseline","middle"),u.Factory.addGetterSetter(f,"fontVariant",R),u.Factory.addGetterSetter(f,"text",S),u.Factory.addGetterSetter(f,"textDecoration",null),u.Factory.addGetterSetter(f,"kerningFunc",null),bu}var Wu={},$0;function xv(){if($0)return Wu;$0=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.Transformer=void 0;const a=cn(),u=mt(),c=yn(),x=Vn(),A=t1(),_=Bf(),p=vt(),S=St(),R=vt();var w="tr-konva",P=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(K=>K+`.${w}`).join(" "),f="nodesRect",C=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const m="ontouchstart"in p.Konva._global;function N(K,U,W){if(K==="rotater")return W;U+=a.Util.degToRad(y[K]||0);var $=(a.Util.radToDeg(U)%360+360)%360;return a.Util._inRange($,315+22.5,360)||a.Util._inRange($,0,22.5)?"ns-resize":a.Util._inRange($,45-22.5,45+22.5)?"nesw-resize":a.Util._inRange($,90-22.5,90+22.5)?"ew-resize":a.Util._inRange($,135-22.5,135+22.5)?"nwse-resize":a.Util._inRange($,180-22.5,180+22.5)?"ns-resize":a.Util._inRange($,225-22.5,225+22.5)?"nesw-resize":a.Util._inRange($,270-22.5,270+22.5)?"ew-resize":a.Util._inRange($,315-22.5,315+22.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+$),"pointer")}var T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function D(K){return{x:K.x+K.width/2*Math.cos(K.rotation)+K.height/2*Math.sin(-K.rotation),y:K.y+K.height/2*Math.cos(K.rotation)+K.width/2*Math.sin(K.rotation)}}function E(K,U,W){const $=W.x+(K.x-W.x)*Math.cos(U)-(K.y-W.y)*Math.sin(U),Y=W.y+(K.x-W.x)*Math.sin(U)+(K.y-W.y)*Math.cos(U);return{...K,rotation:K.rotation+U,x:$,y:Y}}function v(K,U){const W=D(K);return E(K,U,W)}function O(K,U,W){let $=U;for(let Y=0;Y<K.length;Y++){const ie=p.Konva.getAngle(K[Y]),F=Math.abs(ie-U)%(Math.PI*2);Math.min(F,Math.PI*2-F)<W&&($=ie)}return $}let z=class extends _.Group{constructor(U){super(U),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(P,this.update),this.getNode()&&this.update()}attachTo(U){return this.setNode(U),this}setNode(U){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([U])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return w+this._id}setNodes(U=[]){this._nodes&&this._nodes.length&&this.detach();const W=U.filter(Y=>Y.isAncestorOf(this)?(a.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=U=W,U.length===1&&this.useSingleNodeRotation()?this.rotation(U[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Y=>{const ie=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},F=Y._attrsAffectingSize.map(j=>j+"Change."+this._getEventNamespace()).join(" ");Y.on(F,ie),Y.on(C.map(j=>j+`.${this._getEventNamespace()}`).join(" "),ie),Y.on(`absoluteTransformChange.${this._getEventNamespace()}`,ie),this._proxyDrag(Y)}),this._resetTransformCache();var $=!!this.findOne(".top-left");return $&&this.update(),this}_proxyDrag(U){let W;U.on(`dragstart.${this._getEventNamespace()}`,$=>{W=U.getAbsolutePosition(),!this.isDragging()&&U!==this.findOne(".back")&&this.startDrag($,!1)}),U.on(`dragmove.${this._getEventNamespace()}`,$=>{if(!W)return;const Y=U.getAbsolutePosition(),ie=Y.x-W.x,F=Y.y-W.y;this.nodes().forEach(j=>{if(j===U||j.isDragging())return;const B=j.getAbsolutePosition();j.setAbsolutePosition({x:B.x+ie,y:B.y+F}),j.startDrag($)}),W=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(U=>{U.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f,this.__getNodeRect)}__getNodeShape(U,W=this.rotation(),$){var Y=U.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ie=U.getAbsoluteScale($),F=U.getAbsolutePosition($),j=Y.x*ie.x-U.offsetX()*ie.x,B=Y.y*ie.y-U.offsetY()*ie.y;const Q=(p.Konva.getAngle(U.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),X={x:F.x+j*Math.cos(Q)+B*Math.sin(-Q),y:F.y+B*Math.cos(Q)+j*Math.sin(Q),width:Y.width*ie.x,height:Y.height*ie.y,rotation:Q};return E(X,-p.Konva.getAngle(W),{x:0,y:0})}__getNodeRect(){var U=this.getNode();if(!U)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const W=[];this.nodes().map(Q=>{const X=Q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var ee=[{x:X.x,y:X.y},{x:X.x+X.width,y:X.y},{x:X.x+X.width,y:X.y+X.height},{x:X.x,y:X.y+X.height}],ne=Q.getAbsoluteTransform();ee.forEach(function(V){var oe=ne.point(V);W.push(oe)})});const $=new a.Transform;$.rotate(-p.Konva.getAngle(this.rotation()));var Y=1/0,ie=1/0,F=-1/0,j=-1/0;W.forEach(function(Q){var X=$.point(Q);Y===void 0&&(Y=F=X.x,ie=j=X.y),Y=Math.min(Y,X.x),ie=Math.min(ie,X.y),F=Math.max(F,X.x),j=Math.max(j,X.y)}),$.invert();const B=$.point({x:Y,y:ie});return{x:B.x,y:B.y,width:F-Y,height:j-ie,rotation:p.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(U=>{this._createAnchor(U)}),this._createAnchor("rotater")}_createAnchor(U){var W=new A.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:U+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),$=this;W.on("mousedown touchstart",function(Y){$._handleMouseDown(Y)}),W.on("dragstart",Y=>{W.stopDrag(),Y.cancelBubble=!0}),W.on("dragend",Y=>{Y.cancelBubble=!0}),W.on("mouseenter",()=>{var Y=p.Konva.getAngle(this.rotation()),ie=this.rotateAnchorCursor(),F=N(U,Y,ie);W.getStage().content&&(W.getStage().content.style.cursor=F),this._cursorChange=!0}),W.on("mouseout",()=>{W.getStage().content&&(W.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(W)}_createBack(){var U=new x.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(W,$){var Y=$.getParent(),ie=Y.padding();W.beginPath(),W.rect(-ie,-ie,$.width()+ie*2,$.height()+ie*2),W.moveTo($.width()/2,-ie),Y.rotateEnabled()&&W.lineTo($.width()/2,-Y.rotateAnchorOffset()*a.Util._sign($.height())-ie),W.fillStrokeShape($)},hitFunc:(W,$)=>{if(this.shouldOverdrawWholeArea()){var Y=this.padding();W.beginPath(),W.rect(-Y,-Y,$.width()+Y*2,$.height()+Y*2),W.fillStrokeShape($)}}});this.add(U),this._proxyDrag(U),U.on("dragstart",W=>{W.cancelBubble=!0}),U.on("dragmove",W=>{W.cancelBubble=!0}),U.on("dragend",W=>{W.cancelBubble=!0}),this.on("dragmove",W=>{this.update()})}_handleMouseDown(U){this._movingAnchorName=U.target.name().split(" ")[0];var W=this._getNodeRect(),$=W.width,Y=W.height,ie=Math.sqrt(Math.pow($,2)+Math.pow(Y,2));this.sin=Math.abs(Y/ie),this.cos=Math.abs($/ie),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var F=U.target.getAbsolutePosition(),j=U.target.getStage().getPointerPosition();this._anchorDragOffset={x:j.x-F.x,y:j.y-F.y},this._fire("transformstart",{evt:U.evt,target:this.getNode()}),this._nodes.forEach(B=>{B._fire("transformstart",{evt:U.evt,target:B})})}_handleMouseMove(U){var W,$,Y,ie=this.findOne("."+this._movingAnchorName),F=ie.getStage();F.setPointersPositions(U);const j=F.getPointerPosition();let B={x:j.x-this._anchorDragOffset.x,y:j.y-this._anchorDragOffset.y};const Q=ie.getAbsolutePosition();this.anchorDragBoundFunc()&&(B=this.anchorDragBoundFunc()(Q,B,U)),ie.setAbsolutePosition(B);const X=ie.getAbsolutePosition();if(!(Q.x===X.x&&Q.y===X.y)){if(this._movingAnchorName==="rotater"){var ee=this._getNodeRect();W=ie.x()-ee.width/2,$=-ie.y()+ee.height/2;let dn=Math.atan2(-$,W)+Math.PI/2;ee.height<0&&(dn-=Math.PI);var ne=p.Konva.getAngle(this.rotation());const Dt=ne+dn,Jt=p.Konva.getAngle(this.rotationSnapTolerance()),wt=O(this.rotationSnaps(),Dt,Jt)-ee.rotation,pt=v(ee,wt);this._fitNodesInto(pt,U);return}var V=this.shiftBehavior(),oe;V==="inverted"?oe=this.keepRatio()&&!U.shiftKey:V==="none"?oe=this.keepRatio():oe=this.keepRatio()||U.shiftKey;var Pe=this.centeredScaling()||U.altKey;if(this._movingAnchorName==="top-left"){if(oe){var te=Pe?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Y=Math.sqrt(Math.pow(te.x-ie.x(),2)+Math.pow(te.y-ie.y(),2));var Se=this.findOne(".top-left").x()>te.x?-1:1,ye=this.findOne(".top-left").y()>te.y?-1:1;W=Y*this.cos*Se,$=Y*this.sin*ye,this.findOne(".top-left").x(te.x-W),this.findOne(".top-left").y(te.y-$)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(ie.y());else if(this._movingAnchorName==="top-right"){if(oe){var te=Pe?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Y=Math.sqrt(Math.pow(ie.x()-te.x,2)+Math.pow(te.y-ie.y(),2));var Se=this.findOne(".top-right").x()<te.x?-1:1,ye=this.findOne(".top-right").y()>te.y?-1:1;W=Y*this.cos*Se,$=Y*this.sin*ye,this.findOne(".top-right").x(te.x+W),this.findOne(".top-right").y(te.y-$)}var Ae=ie.position();this.findOne(".top-left").y(Ae.y),this.findOne(".bottom-right").x(Ae.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(ie.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(ie.x());else if(this._movingAnchorName==="bottom-left"){if(oe){var te=Pe?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Y=Math.sqrt(Math.pow(te.x-ie.x(),2)+Math.pow(ie.y()-te.y,2));var Se=te.x<ie.x()?-1:1,ye=ie.y()<te.y?-1:1;W=Y*this.cos*Se,$=Y*this.sin*ye,ie.x(te.x-W),ie.y(te.y+$)}Ae=ie.position(),this.findOne(".top-left").x(Ae.x),this.findOne(".bottom-right").y(Ae.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(ie.y());else if(this._movingAnchorName==="bottom-right"){if(oe){var te=Pe?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Y=Math.sqrt(Math.pow(ie.x()-te.x,2)+Math.pow(ie.y()-te.y,2));var Se=this.findOne(".bottom-right").x()<te.x?-1:1,ye=this.findOne(".bottom-right").y()<te.y?-1:1;W=Y*this.cos*Se,$=Y*this.sin*ye,this.findOne(".bottom-right").x(te.x+W),this.findOne(".bottom-right").y(te.y+$)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Pe=this.centeredScaling()||U.altKey;if(Pe){var Z=this.findOne(".top-left"),de=this.findOne(".bottom-right"),we=Z.x(),Be=Z.y(),Le=this.getWidth()-de.x(),Ye=this.getHeight()-de.y();de.move({x:-we,y:-Be}),Z.move({x:Le,y:Ye})}var He=this.findOne(".top-left").getAbsolutePosition();W=He.x,$=He.y;var Gt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ht=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:W,y:$,width:Gt,height:ht,rotation:p.Konva.getAngle(this.rotation())},U)}}_handleMouseUp(U){this._removeEvents(U)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(U){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var W=this.getNode();this._fire("transformend",{evt:U,target:W}),W&&this._nodes.forEach($=>{$._fire("transformend",{evt:U,target:$})}),this._movingAnchorName=null}}_fitNodesInto(U,W){var $=this._getNodeRect();const Y=1;if(a.Util._inRange(U.width,-this.padding()*2-Y,Y)){this.update();return}if(a.Util._inRange(U.height,-this.padding()*2-Y,Y)){this.update();return}var ie=new a.Transform;if(ie.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("left")>=0){const ne=ie.point({x:-this.padding()*2,y:0});U.x+=ne.x,U.y+=ne.y,U.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y}else if(this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("right")>=0){const ne=ie.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,U.width+=this.padding()*2}if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("top")>=0){const ne=ie.point({x:0,y:-this.padding()*2});U.x+=ne.x,U.y+=ne.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,U.height+=this.padding()*2}else if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ne=ie.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,U.height+=this.padding()*2}if(this.boundBoxFunc()){const ne=this.boundBoxFunc()($,U);ne?U=ne:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const F=1e7,j=new a.Transform;j.translate($.x,$.y),j.rotate($.rotation),j.scale($.width/F,$.height/F);const B=new a.Transform,Q=U.width/F,X=U.height/F;this.flipEnabled()===!1?(B.translate(U.x,U.y),B.rotate(U.rotation),B.translate(U.width<0?U.width:0,U.height<0?U.height:0),B.scale(Math.abs(Q),Math.abs(X))):(B.translate(U.x,U.y),B.rotate(U.rotation),B.scale(Q,X));const ee=B.multiply(j.invert());this._nodes.forEach(ne=>{var V;const oe=ne.getParent().getAbsoluteTransform(),te=ne.getTransform().copy();te.translate(ne.offsetX(),ne.offsetY());const Se=new a.Transform;Se.multiply(oe.copy().invert()).multiply(ee).multiply(oe).multiply(te);const ye=Se.decompose();ne.setAttrs(ye),this._fire("transform",{evt:W,target:ne}),ne._fire("transform",{evt:W,target:ne}),(V=ne.getLayer())===null||V===void 0||V.batchDraw()}),this.rotation(a.Util._getRotation(U.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(U,W){this.findOne(U).setAttrs(W)}update(){var U,W=this._getNodeRect();this.rotation(a.Util._getRotation(W.rotation));var $=W.width,Y=W.height,ie=this.enabledAnchors(),F=this.resizeEnabled(),j=this.padding(),B=this.anchorSize();const Q=this.find("._anchor");Q.forEach(ee=>{ee.setAttrs({width:B,height:B,offsetX:B/2,offsetY:B/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:B/2+j,offsetY:B/2+j,visible:F&&ie.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:$/2,y:0,offsetY:B/2+j,visible:F&&ie.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:$,y:0,offsetX:B/2-j,offsetY:B/2+j,visible:F&&ie.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Y/2,offsetX:B/2+j,visible:F&&ie.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:$,y:Y/2,offsetX:B/2-j,visible:F&&ie.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Y,offsetX:B/2+j,offsetY:B/2-j,visible:F&&ie.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:$/2,y:Y,offsetY:B/2-j,visible:F&&ie.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:$,y:Y,offsetX:B/2-j,offsetY:B/2-j,visible:F&&ie.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:$/2,y:-this.rotateAnchorOffset()*a.Util._sign(Y)-j,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:$,height:Y,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const X=this.anchorStyleFunc();X&&Q.forEach(ee=>{X(ee)}),(U=this.getLayer())===null||U===void 0||U.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var U=this.findOne("."+this._movingAnchorName);U&&U.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return c.Node.prototype.toObject.call(this)}clone(U){var W=c.Node.prototype.clone.call(this,U);return W}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Wu.Transformer=z;function q(K){return K instanceof Array||a.Util.warn("enabledAnchors value should be an array"),K instanceof Array&&K.forEach(function(U){T.indexOf(U)===-1&&a.Util.warn("Unknown anchor name: "+U+". Available names are: "+T.join(", "))}),K||[]}return z.prototype.className="Transformer",(0,R._registerNode)(z),u.Factory.addGetterSetter(z,"enabledAnchors",T,q),u.Factory.addGetterSetter(z,"flipEnabled",!0,(0,S.getBooleanValidator)()),u.Factory.addGetterSetter(z,"resizeEnabled",!0),u.Factory.addGetterSetter(z,"anchorSize",10,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"rotateEnabled",!0),u.Factory.addGetterSetter(z,"rotationSnaps",[]),u.Factory.addGetterSetter(z,"rotateAnchorOffset",50,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"rotateAnchorCursor","crosshair"),u.Factory.addGetterSetter(z,"rotationSnapTolerance",5,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"borderEnabled",!0),u.Factory.addGetterSetter(z,"anchorStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(z,"anchorStrokeWidth",1,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"anchorFill","white"),u.Factory.addGetterSetter(z,"anchorCornerRadius",0,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"borderStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(z,"borderStrokeWidth",1,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"borderDash"),u.Factory.addGetterSetter(z,"keepRatio",!0),u.Factory.addGetterSetter(z,"shiftBehavior","default"),u.Factory.addGetterSetter(z,"centeredScaling",!1),u.Factory.addGetterSetter(z,"ignoreStroke",!1),u.Factory.addGetterSetter(z,"padding",0,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(z,"node"),u.Factory.addGetterSetter(z,"nodes"),u.Factory.addGetterSetter(z,"boundBoxFunc"),u.Factory.addGetterSetter(z,"anchorDragBoundFunc"),u.Factory.addGetterSetter(z,"anchorStyleFunc"),u.Factory.addGetterSetter(z,"shouldOverdrawWholeArea",!1),u.Factory.addGetterSetter(z,"useSingleNodeRotation",!0),u.Factory.backCompat(z,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Wu}var qu={},V0;function Cv(){if(V0)return qu;V0=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.Wedge=void 0;const a=mt(),u=Vn(),c=vt(),x=St(),A=vt();let _=class extends u.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.radius(),0,c.Konva.getAngle(this.angle()),this.clockwise()),S.lineTo(0,0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(S){this.radius(S/2)}setHeight(S){this.radius(S/2)}};return qu.Wedge=_,_.prototype.className="Wedge",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["radius"],(0,A._registerNode)(_),a.Factory.addGetterSetter(_,"radius",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"angle",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(_,"clockwise",!1),a.Factory.backCompat(_,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),qu}var Ku={},b0;function Ev(){if(b0)return Ku;b0=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.Blur=void 0;const a=mt(),u=yn(),c=St();function x(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function p(R,w){var P=R.data,f=R.width,C=R.height,y,m,N,T,D,E,v,O,z,q,K,U,W,$,Y,ie,F,j,B,Q,X,ee,ne,V,oe=w+w+1,te=f-1,Se=C-1,ye=w+1,Ae=ye*(ye+1)/2,Pe=new x,Z=null,de=Pe,we=null,Be=null,Le=A[w],Ye=_[w];for(N=1;N<oe;N++)de=de.next=new x,N===ye&&(Z=de);for(de.next=Pe,v=E=0,m=0;m<C;m++){for(ie=F=j=B=O=z=q=K=0,U=ye*(Q=P[E]),W=ye*(X=P[E+1]),$=ye*(ee=P[E+2]),Y=ye*(ne=P[E+3]),O+=Ae*Q,z+=Ae*X,q+=Ae*ee,K+=Ae*ne,de=Pe,N=0;N<ye;N++)de.r=Q,de.g=X,de.b=ee,de.a=ne,de=de.next;for(N=1;N<ye;N++)T=E+((te<N?te:N)<<2),O+=(de.r=Q=P[T])*(V=ye-N),z+=(de.g=X=P[T+1])*V,q+=(de.b=ee=P[T+2])*V,K+=(de.a=ne=P[T+3])*V,ie+=Q,F+=X,j+=ee,B+=ne,de=de.next;for(we=Pe,Be=Z,y=0;y<f;y++)P[E+3]=ne=K*Le>>Ye,ne!==0?(ne=255/ne,P[E]=(O*Le>>Ye)*ne,P[E+1]=(z*Le>>Ye)*ne,P[E+2]=(q*Le>>Ye)*ne):P[E]=P[E+1]=P[E+2]=0,O-=U,z-=W,q-=$,K-=Y,U-=we.r,W-=we.g,$-=we.b,Y-=we.a,T=v+((T=y+w+1)<te?T:te)<<2,ie+=we.r=P[T],F+=we.g=P[T+1],j+=we.b=P[T+2],B+=we.a=P[T+3],O+=ie,z+=F,q+=j,K+=B,we=we.next,U+=Q=Be.r,W+=X=Be.g,$+=ee=Be.b,Y+=ne=Be.a,ie-=Q,F-=X,j-=ee,B-=ne,Be=Be.next,E+=4;v+=f}for(y=0;y<f;y++){for(F=j=B=ie=z=q=K=O=0,E=y<<2,U=ye*(Q=P[E]),W=ye*(X=P[E+1]),$=ye*(ee=P[E+2]),Y=ye*(ne=P[E+3]),O+=Ae*Q,z+=Ae*X,q+=Ae*ee,K+=Ae*ne,de=Pe,N=0;N<ye;N++)de.r=Q,de.g=X,de.b=ee,de.a=ne,de=de.next;for(D=f,N=1;N<=w;N++)E=D+y<<2,O+=(de.r=Q=P[E])*(V=ye-N),z+=(de.g=X=P[E+1])*V,q+=(de.b=ee=P[E+2])*V,K+=(de.a=ne=P[E+3])*V,ie+=Q,F+=X,j+=ee,B+=ne,de=de.next,N<Se&&(D+=f);for(E=y,we=Pe,Be=Z,m=0;m<C;m++)T=E<<2,P[T+3]=ne=K*Le>>Ye,ne>0?(ne=255/ne,P[T]=(O*Le>>Ye)*ne,P[T+1]=(z*Le>>Ye)*ne,P[T+2]=(q*Le>>Ye)*ne):P[T]=P[T+1]=P[T+2]=0,O-=U,z-=W,q-=$,K-=Y,U-=we.r,W-=we.g,$-=we.b,Y-=we.a,T=y+((T=m+ye)<Se?T:Se)*f<<2,O+=ie+=we.r=P[T],z+=F+=we.g=P[T+1],q+=j+=we.b=P[T+2],K+=B+=we.a=P[T+3],we=we.next,U+=Q=Be.r,W+=X=Be.g,$+=ee=Be.b,Y+=ne=Be.a,ie-=Q,F-=X,j-=ee,B-=ne,Be=Be.next,E+=f}}const S=function(w){var P=Math.round(this.blurRadius());P>0&&p(w,P)};return Ku.Blur=S,a.Factory.addGetterSetter(u.Node,"blurRadius",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),Ku}var Yu={},W0;function kv(){if(W0)return Yu;W0=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.Brighten=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=this.brightness()*255,p=A.data,S=p.length,R;for(R=0;R<S;R+=4)p[R]+=_,p[R+1]+=_,p[R+2]+=_};return Yu.Brighten=x,a.Factory.addGetterSetter(u.Node,"brightness",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),Yu}var Qu={},q0;function Pv(){if(q0)return Qu;q0=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.Contrast=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=Math.pow((this.contrast()+100)/100,2),p=A.data,S=p.length,R=150,w=150,P=150,f;for(f=0;f<S;f+=4)R=p[f],w=p[f+1],P=p[f+2],R/=255,R-=.5,R*=_,R+=.5,R*=255,w/=255,w-=.5,w*=_,w+=.5,w*=255,P/=255,P-=.5,P*=_,P+=.5,P*=255,R=R<0?0:R>255?255:R,w=w<0?0:w>255?255:w,P=P<0?0:P>255?255:P,p[f]=R,p[f+1]=w,p[f+2]=P};return Qu.Contrast=x,a.Factory.addGetterSetter(u.Node,"contrast",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),Qu}var Xu={},K0;function Rv(){if(K0)return Xu;K0=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.Emboss=void 0;const a=mt(),u=yn(),c=cn(),x=St(),A=function(_){var p=this.embossStrength()*10,S=this.embossWhiteLevel()*255,R=this.embossDirection(),w=this.embossBlend(),P=0,f=0,C=_.data,y=_.width,m=_.height,N=y*4,T=m;switch(R){case"top-left":P=-1,f=-1;break;case"top":P=-1,f=0;break;case"top-right":P=-1,f=1;break;case"right":P=0,f=1;break;case"bottom-right":P=1,f=1;break;case"bottom":P=1,f=0;break;case"bottom-left":P=1,f=-1;break;case"left":P=0,f=-1;break;default:c.Util.error("Unknown emboss direction: "+R)}do{var D=(T-1)*N,E=P;T+E<1&&(E=0),T+E>m&&(E=0);var v=(T-1+E)*y*4,O=y;do{var z=D+(O-1)*4,q=f;O+q<1&&(q=0),O+q>y&&(q=0);var K=v+(O-1+q)*4,U=C[z]-C[K],W=C[z+1]-C[K+1],$=C[z+2]-C[K+2],Y=U,ie=Y>0?Y:-Y,F=W>0?W:-W,j=$>0?$:-$;if(F>ie&&(Y=W),j>ie&&(Y=$),Y*=p,w){var B=C[z]+Y,Q=C[z+1]+Y,X=C[z+2]+Y;C[z]=B>255?255:B<0?0:B,C[z+1]=Q>255?255:Q<0?0:Q,C[z+2]=X>255?255:X<0?0:X}else{var ee=S-Y;ee<0?ee=0:ee>255&&(ee=255),C[z]=C[z+1]=C[z+2]=ee}}while(--O)}while(--T)};return Xu.Emboss=A,a.Factory.addGetterSetter(u.Node,"embossStrength",.5,(0,x.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"embossWhiteLevel",.5,(0,x.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"embossDirection","top-left",null,a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"embossBlend",!1,null,a.Factory.afterSetFilter),Xu}var Ju={},Y0;function Tv(){if(Y0)return Ju;Y0=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Enhance=void 0;const a=mt(),u=yn(),c=St();function x(_,p,S,R,w){var P=S-p,f=w-R,C;return P===0?R+f/2:f===0?R:(C=(_-p)/P,C=f*C+R,C)}const A=function(_){var p=_.data,S=p.length,R=p[0],w=R,P,f=p[1],C=f,y,m=p[2],N=m,T,D,E=this.enhance();if(E!==0){for(D=0;D<S;D+=4)P=p[D+0],P<R?R=P:P>w&&(w=P),y=p[D+1],y<f?f=y:y>C&&(C=y),T=p[D+2],T<m?m=T:T>N&&(N=T);w===R&&(w=255,R=0),C===f&&(C=255,f=0),N===m&&(N=255,m=0);var v,O,z,q,K,U,W,$,Y;for(E>0?(O=w+E*(255-w),z=R-E*(R-0),K=C+E*(255-C),U=f-E*(f-0),$=N+E*(255-N),Y=m-E*(m-0)):(v=(w+R)*.5,O=w+E*(w-v),z=R+E*(R-v),q=(C+f)*.5,K=C+E*(C-q),U=f+E*(f-q),W=(N+m)*.5,$=N+E*(N-W),Y=m+E*(m-W)),D=0;D<S;D+=4)p[D+0]=x(p[D+0],R,w,z,O),p[D+1]=x(p[D+1],f,C,U,K),p[D+2]=x(p[D+2],m,N,Y,$)}};return Ju.Enhance=A,a.Factory.addGetterSetter(u.Node,"enhance",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),Ju}var Zu={},Q0;function Nv(){if(Q0)return Zu;Q0=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Grayscale=void 0;const a=function(u){var c=u.data,x=c.length,A,_;for(A=0;A<x;A+=4)_=.34*c[A]+.5*c[A+1]+.16*c[A+2],c[A]=_,c[A+1]=_,c[A+2]=_};return Zu.Grayscale=a,Zu}var ec={},X0;function Av(){if(X0)return ec;X0=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.HSL=void 0;const a=mt(),u=yn(),c=St();a.Factory.addGetterSetter(u.Node,"hue",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"saturation",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"luminance",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter);const x=function(A){var _=A.data,p=_.length,S=1,R=Math.pow(2,this.saturation()),w=Math.abs(this.hue()+360)%360,P=this.luminance()*127,f,C=S*R*Math.cos(w*Math.PI/180),y=S*R*Math.sin(w*Math.PI/180),m=.299*S+.701*C+.167*y,N=.587*S-.587*C+.33*y,T=.114*S-.114*C-.497*y,D=.299*S-.299*C-.328*y,E=.587*S+.413*C+.035*y,v=.114*S-.114*C+.293*y,O=.299*S-.3*C+1.25*y,z=.587*S-.586*C-1.05*y,q=.114*S+.886*C-.2*y,K,U,W,$;for(f=0;f<p;f+=4)K=_[f+0],U=_[f+1],W=_[f+2],$=_[f+3],_[f+0]=m*K+N*U+T*W+P,_[f+1]=D*K+E*U+v*W+P,_[f+2]=O*K+z*U+q*W+P,_[f+3]=$};return ec.HSL=x,ec}var tc={},J0;function Ov(){if(J0)return tc;J0=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.HSV=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=A.data,p=_.length,S=Math.pow(2,this.value()),R=Math.pow(2,this.saturation()),w=Math.abs(this.hue()+360)%360,P,f=S*R*Math.cos(w*Math.PI/180),C=S*R*Math.sin(w*Math.PI/180),y=.299*S+.701*f+.167*C,m=.587*S-.587*f+.33*C,N=.114*S-.114*f-.497*C,T=.299*S-.299*f-.328*C,D=.587*S+.413*f+.035*C,E=.114*S-.114*f+.293*C,v=.299*S-.3*f+1.25*C,O=.587*S-.586*f-1.05*C,z=.114*S+.886*f-.2*C,q,K,U,W;for(P=0;P<p;P+=4)q=_[P+0],K=_[P+1],U=_[P+2],W=_[P+3],_[P+0]=y*q+m*K+N*U,_[P+1]=T*q+D*K+E*U,_[P+2]=v*q+O*K+z*U,_[P+3]=W};return tc.HSV=x,a.Factory.addGetterSetter(u.Node,"hue",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"saturation",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"value",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),tc}var nc={},Z0;function Mv(){if(Z0)return nc;Z0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Invert=void 0;const a=function(u){var c=u.data,x=c.length,A;for(A=0;A<x;A+=4)c[A]=255-c[A],c[A+1]=255-c[A+1],c[A+2]=255-c[A+2]};return nc.Invert=a,nc}var rc={},ep;function Iv(){if(ep)return rc;ep=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Kaleidoscope=void 0;const a=mt(),u=yn(),c=cn(),x=St();var A=function(S,R,w){var P=S.data,f=R.data,C=S.width,y=S.height,m=w.polarCenterX||C/2,N=w.polarCenterY||y/2,T,D,E,v=0,O=0,z=0,q=0,K,U=Math.sqrt(m*m+N*N);D=C-m,E=y-N,K=Math.sqrt(D*D+E*E),U=K>U?K:U;var W=y,$=C,Y,ie,F=360/$*Math.PI/180,j,B;for(ie=0;ie<$;ie+=1)for(j=Math.sin(ie*F),B=Math.cos(ie*F),Y=0;Y<W;Y+=1)D=Math.floor(m+U*Y/W*B),E=Math.floor(N+U*Y/W*j),T=(E*C+D)*4,v=P[T+0],O=P[T+1],z=P[T+2],q=P[T+3],T=(ie+Y*C)*4,f[T+0]=v,f[T+1]=O,f[T+2]=z,f[T+3]=q},_=function(S,R,w){var P=S.data,f=R.data,C=S.width,y=S.height,m=w.polarCenterX||C/2,N=w.polarCenterY||y/2,T,D,E,v,O,z=0,q=0,K=0,U=0,W,$=Math.sqrt(m*m+N*N);D=C-m,E=y-N,W=Math.sqrt(D*D+E*E),$=W>$?W:$;var Y=y,ie=C,F,j,B=0,Q,X;for(D=0;D<C;D+=1)for(E=0;E<y;E+=1)v=D-m,O=E-N,F=Math.sqrt(v*v+O*O)*Y/$,j=(Math.atan2(O,v)*180/Math.PI+360+B)%360,j=j*ie/360,Q=Math.floor(j),X=Math.floor(F),T=(X*C+Q)*4,z=P[T+0],q=P[T+1],K=P[T+2],U=P[T+3],T=(E*C+D)*4,f[T+0]=z,f[T+1]=q,f[T+2]=K,f[T+3]=U};const p=function(S){var R=S.width,w=S.height,P,f,C,y,m,N,T,D,E,v,O=Math.round(this.kaleidoscopePower()),z=Math.round(this.kaleidoscopeAngle()),q=Math.floor(R*(z%360)/360);if(!(O<1)){var K=c.Util.createCanvasElement();K.width=R,K.height=w;var U=K.getContext("2d").getImageData(0,0,R,w);c.Util.releaseCanvas(K),A(S,U,{polarCenterX:R/2,polarCenterY:w/2});for(var W=R/Math.pow(2,O);W<=8;)W=W*2,O-=1;W=Math.ceil(W);var $=W,Y=0,ie=$,F=1;for(q+W>R&&(Y=$,ie=0,F=-1),f=0;f<w;f+=1)for(P=Y;P!==ie;P+=F)C=Math.round(P+q)%R,E=(R*f+C)*4,m=U.data[E+0],N=U.data[E+1],T=U.data[E+2],D=U.data[E+3],v=(R*f+P)*4,U.data[v+0]=m,U.data[v+1]=N,U.data[v+2]=T,U.data[v+3]=D;for(f=0;f<w;f+=1)for($=Math.floor(W),y=0;y<O;y+=1){for(P=0;P<$+1;P+=1)E=(R*f+P)*4,m=U.data[E+0],N=U.data[E+1],T=U.data[E+2],D=U.data[E+3],v=(R*f+$*2-P-1)*4,U.data[v+0]=m,U.data[v+1]=N,U.data[v+2]=T,U.data[v+3]=D;$*=2}_(U,S,{})}};return rc.Kaleidoscope=p,a.Factory.addGetterSetter(u.Node,"kaleidoscopePower",2,(0,x.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"kaleidoscopeAngle",0,(0,x.getNumberValidator)(),a.Factory.afterSetFilter),rc}var ic={},tp;function Lv(){if(tp)return ic;tp=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.Mask=void 0;const a=mt(),u=yn(),c=St();function x(C,y,m){var N=(m*C.width+y)*4,T=[];return T.push(C.data[N++],C.data[N++],C.data[N++],C.data[N++]),T}function A(C,y){return Math.sqrt(Math.pow(C[0]-y[0],2)+Math.pow(C[1]-y[1],2)+Math.pow(C[2]-y[2],2))}function _(C){for(var y=[0,0,0],m=0;m<C.length;m++)y[0]+=C[m][0],y[1]+=C[m][1],y[2]+=C[m][2];return y[0]/=C.length,y[1]/=C.length,y[2]/=C.length,y}function p(C,y){var m=x(C,0,0),N=x(C,C.width-1,0),T=x(C,0,C.height-1),D=x(C,C.width-1,C.height-1),E=y||10;if(A(m,N)<E&&A(N,D)<E&&A(D,T)<E&&A(T,m)<E){for(var v=_([N,m,D,T]),O=[],z=0;z<C.width*C.height;z++){var q=A(v,[C.data[z*4],C.data[z*4+1],C.data[z*4+2]]);O[z]=q<E?0:255}return O}}function S(C,y){for(var m=0;m<C.width*C.height;m++)C.data[4*m+3]=y[m]}function R(C,y,m){for(var N=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(N.length)),D=Math.floor(T/2),E=[],v=0;v<m;v++)for(var O=0;O<y;O++){for(var z=v*y+O,q=0,K=0;K<T;K++)for(var U=0;U<T;U++){var W=v+K-D,$=O+U-D;if(W>=0&&W<m&&$>=0&&$<y){var Y=W*y+$,ie=N[K*T+U];q+=C[Y]*ie}}E[z]=q===255*8?255:0}return E}function w(C,y,m){for(var N=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(N.length)),D=Math.floor(T/2),E=[],v=0;v<m;v++)for(var O=0;O<y;O++){for(var z=v*y+O,q=0,K=0;K<T;K++)for(var U=0;U<T;U++){var W=v+K-D,$=O+U-D;if(W>=0&&W<m&&$>=0&&$<y){var Y=W*y+$,ie=N[K*T+U];q+=C[Y]*ie}}E[z]=q>=255*4?255:0}return E}function P(C,y,m){for(var N=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(N.length)),D=Math.floor(T/2),E=[],v=0;v<m;v++)for(var O=0;O<y;O++){for(var z=v*y+O,q=0,K=0;K<T;K++)for(var U=0;U<T;U++){var W=v+K-D,$=O+U-D;if(W>=0&&W<m&&$>=0&&$<y){var Y=W*y+$,ie=N[K*T+U];q+=C[Y]*ie}}E[z]=q}return E}const f=function(C){var y=this.threshold(),m=p(C,y);return m&&(m=R(m,C.width,C.height),m=w(m,C.width,C.height),m=P(m,C.width,C.height),S(C,m)),C};return ic.Mask=f,a.Factory.addGetterSetter(u.Node,"threshold",0,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),ic}var oc={},np;function Fv(){if(np)return oc;np=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Noise=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=this.noise()*255,p=A.data,S=p.length,R=_/2,w;for(w=0;w<S;w+=4)p[w+0]+=R-2*R*Math.random(),p[w+1]+=R-2*R*Math.random(),p[w+2]+=R-2*R*Math.random()};return oc.Noise=x,a.Factory.addGetterSetter(u.Node,"noise",.2,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),oc}var sc={},rp;function Dv(){if(rp)return sc;rp=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Pixelate=void 0;const a=mt(),u=cn(),c=yn(),x=St(),A=function(_){var p=Math.ceil(this.pixelSize()),S=_.width,R=_.height,w,P,f,C,y,m,N,T=Math.ceil(S/p),D=Math.ceil(R/p),E,v,O,z,q,K,U,W=_.data;if(p<=0){u.Util.error("pixelSize value can not be <= 0");return}for(q=0;q<T;q+=1)for(K=0;K<D;K+=1){for(C=0,y=0,m=0,N=0,E=q*p,v=E+p,O=K*p,z=O+p,U=0,w=E;w<v;w+=1)if(!(w>=S))for(P=O;P<z;P+=1)P>=R||(f=(S*P+w)*4,C+=W[f+0],y+=W[f+1],m+=W[f+2],N+=W[f+3],U+=1);for(C=C/U,y=y/U,m=m/U,N=N/U,w=E;w<v;w+=1)if(!(w>=S))for(P=O;P<z;P+=1)P>=R||(f=(S*P+w)*4,W[f+0]=C,W[f+1]=y,W[f+2]=m,W[f+3]=N)}};return sc.Pixelate=A,a.Factory.addGetterSetter(c.Node,"pixelSize",8,(0,x.getNumberValidator)(),a.Factory.afterSetFilter),sc}var ac={},ip;function zv(){if(ip)return ac;ip=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Posterize=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=Math.round(this.levels()*254)+1,p=A.data,S=p.length,R=255/_,w;for(w=0;w<S;w+=1)p[w]=Math.floor(p[w]/R)*R};return ac.Posterize=x,a.Factory.addGetterSetter(u.Node,"levels",.5,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),ac}var lc={},op;function Uv(){if(op)return lc;op=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.RGB=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=A.data,p=_.length,S=this.red(),R=this.green(),w=this.blue(),P,f;for(P=0;P<p;P+=4)f=(.34*_[P]+.5*_[P+1]+.16*_[P+2])/255,_[P]=f*S,_[P+1]=f*R,_[P+2]=f*w,_[P+3]=_[P+3]};return lc.RGB=x,a.Factory.addGetterSetter(u.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),a.Factory.addGetterSetter(u.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),a.Factory.addGetterSetter(u.Node,"blue",0,c.RGBComponent,a.Factory.afterSetFilter),lc}var uc={},sp;function jv(){if(sp)return uc;sp=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.RGBA=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=A.data,p=_.length,S=this.red(),R=this.green(),w=this.blue(),P=this.alpha(),f,C;for(f=0;f<p;f+=4)C=1-P,_[f]=S*P+_[f]*C,_[f+1]=R*P+_[f+1]*C,_[f+2]=w*P+_[f+2]*C};return uc.RGBA=x,a.Factory.addGetterSetter(u.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),a.Factory.addGetterSetter(u.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),a.Factory.addGetterSetter(u.Node,"blue",0,c.RGBComponent,a.Factory.afterSetFilter),a.Factory.addGetterSetter(u.Node,"alpha",1,function(A){return this._filterUpToDate=!1,A>1?1:A<0?0:A}),uc}var dc={},ap;function Gv(){if(ap)return dc;ap=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Sepia=void 0;const a=function(u){var c=u.data,x=c.length,A,_,p,S;for(A=0;A<x;A+=4)_=c[A+0],p=c[A+1],S=c[A+2],c[A+0]=Math.min(255,_*.393+p*.769+S*.189),c[A+1]=Math.min(255,_*.349+p*.686+S*.168),c[A+2]=Math.min(255,_*.272+p*.534+S*.131)};return dc.Sepia=a,dc}var fc={},lp;function Bv(){if(lp)return fc;lp=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.Solarize=void 0;const a=function(u){var c=u.data,x=u.width,A=u.height,_=x*4,p=A;do{var S=(p-1)*_,R=x;do{var w=S+(R-1)*4,P=c[w],f=c[w+1],C=c[w+2];P>127&&(P=255-P),f>127&&(f=255-f),C>127&&(C=255-C),c[w]=P,c[w+1]=f,c[w+2]=C}while(--R)}while(--p)};return fc.Solarize=a,fc}var hc={},up;function Hv(){if(up)return hc;up=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.Threshold=void 0;const a=mt(),u=yn(),c=St(),x=function(A){var _=this.threshold()*255,p=A.data,S=p.length,R;for(R=0;R<S;R+=1)p[R]=p[R]<_?0:255};return hc.Threshold=x,a.Factory.addGetterSetter(u.Node,"threshold",.5,(0,c.getNumberValidator)(),a.Factory.afterSetFilter),hc}var cp;function $v(){if(cp)return Pu;cp=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.Konva=void 0;const a=Df(),u=cv(),c=fv(),x=hv(),A=pv(),_=gv(),p=vv(),S=Zp(),R=$f(),w=t1(),P=mv(),f=yv(),C=_v(),y=Sv(),m=n1(),N=wv(),T=xv(),D=Cv(),E=Ev(),v=kv(),O=Pv(),z=Rv(),q=Tv(),K=Nv(),U=Av(),W=Ov(),$=Mv(),Y=Iv(),ie=Lv(),F=Fv(),j=Dv(),B=zv(),Q=Uv(),X=jv(),ee=Gv(),ne=Bv(),V=Hv();return Pu.Konva=a.Konva.Util._assign(a.Konva,{Arc:u.Arc,Arrow:c.Arrow,Circle:x.Circle,Ellipse:A.Ellipse,Image:_.Image,Label:p.Label,Tag:p.Tag,Line:S.Line,Path:R.Path,Rect:w.Rect,RegularPolygon:P.RegularPolygon,Ring:f.Ring,Sprite:C.Sprite,Star:y.Star,Text:m.Text,TextPath:N.TextPath,Transformer:T.Transformer,Wedge:D.Wedge,Filters:{Blur:E.Blur,Brighten:v.Brighten,Contrast:O.Contrast,Emboss:z.Emboss,Enhance:q.Enhance,Grayscale:K.Grayscale,HSL:U.HSL,HSV:W.HSV,Invert:$.Invert,Kaleidoscope:Y.Kaleidoscope,Mask:ie.Mask,Noise:F.Noise,Pixelate:j.Pixelate,Posterize:B.Posterize,RGB:Q.RGB,RGBA:X.RGBA,Sepia:ee.Sepia,Solarize:ne.Solarize,Threshold:V.Threshold}}),Pu}var Vv=Ed.exports,dp;function bv(){if(dp)return Ed.exports;dp=1,Object.defineProperty(Vv,"__esModule",{value:!0});const a=$v();return Ed.exports=a.Konva,Ed.exports}bv();var xd={exports:{}},fp;function Wv(){return fp||(fp=1,function(a,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Konva=void 0;var c=Df();Object.defineProperty(u,"Konva",{enumerable:!0,get:function(){return c.Konva}});const x=Df();a.exports=x.Konva}(xd,xd.exports)),xd.exports}var qv=Wv();const yc=Pd(qv);var Nf={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af,hp;function Kv(){return hp||(hp=1,Af=function(u){var c={},x=Rd(),A=zf(),_=Object.assign;function p(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),w=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),m=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),z=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}function K(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case w:return"Portal";case C:return"Profiler";case f:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m:return(n.displayName||"Context")+".Consumer";case y:return(n._context.displayName||"Context")+".Provider";case N:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case E:return r=n.displayName||null,r!==null?r:K(n.type)||"Memo";case v:r=n._payload,n=n._init;try{return K(n(r))}catch{}}return null}function U(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(r);case 8:return r===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function W(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function $(n){if(W(n)!==n)throw Error(p(188))}function Y(n){var r=n.alternate;if(!r){if(r=W(n),r===null)throw Error(p(188));return r!==n?null:n}for(var o=n,l=r;;){var g=o.return;if(g===null)break;var I=g.alternate;if(I===null){if(l=g.return,l!==null){o=l;continue}break}if(g.child===I.child){for(I=g.child;I;){if(I===o)return $(g),n;if(I===l)return $(g),r;I=I.sibling}throw Error(p(188))}if(o.return!==l.return)o=g,l=I;else{for(var b=!1,se=g.child;se;){if(se===o){b=!0,o=g,l=I;break}if(se===l){b=!0,l=g,o=I;break}se=se.sibling}if(!b){for(se=I.child;se;){if(se===o){b=!0,o=I,l=g;break}if(se===l){b=!0,l=I,o=g;break}se=se.sibling}if(!b)throw Error(p(189))}}if(o.alternate!==l)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?n:r}function ie(n){return n=Y(n),n!==null?F(n):null}function F(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=F(n);if(r!==null)return r;n=n.sibling}return null}function j(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=j(n);if(r!==null)return r}n=n.sibling}return null}var B=Array.isArray,Q=u.getPublicInstance,X=u.getRootHostContext,ee=u.getChildHostContext,ne=u.prepareForCommit,V=u.resetAfterCommit,oe=u.createInstance,te=u.appendInitialChild,Se=u.finalizeInitialChildren,ye=u.prepareUpdate,Ae=u.shouldSetTextContent,Pe=u.createTextInstance,Z=u.scheduleTimeout,de=u.cancelTimeout,we=u.noTimeout,Be=u.isPrimaryRenderer,Le=u.supportsMutation,Ye=u.supportsPersistence,He=u.supportsHydration,Gt=u.getInstanceFromNode,ht=u.preparePortalMount,dn=u.getCurrentEventPriority,Dt=u.detachDeletedInstance,Jt=u.supportsMicrotasks,bt=u.scheduleMicrotask,wt=u.supportsTestSelectors,pt=u.findFiberRoot,bn=u.getBoundingRect,Tn=u.getTextContent,fn=u.isHiddenSubtree,Yt=u.matchAccessibilityRole,tn=u.setFocusIfFocusable,fr=u.setupIntersectionObserver,tr=u.appendChild,Or=u.appendChildToContainer,_n=u.commitTextUpdate,nr=u.commitMount,bo=u.commitUpdate,Wo=u.insertBefore,rr=u.insertInContainerBefore,kl=u.removeChild,Us=u.removeChildFromContainer,so=u.resetTextContent,qo=u.hideInstance,ao=u.hideTextInstance,lo=u.unhideInstance,zi=u.unhideTextInstance,Ui=u.clearContainer,Ko=u.cloneInstance,js=u.createContainerChildSet,Yo=u.appendChildToContainerChildSet,Ra=u.finalizeContainerChildren,Qo=u.replaceContainerChildren,Nn=u.cloneHiddenInstance,Gs=u.cloneHiddenTextInstance,hr=u.canHydrateInstance,uo=u.canHydrateTextInstance,mi=u.canHydrateSuspenseInstance,Ta=u.isSuspenseInstancePending,M=u.isSuspenseInstanceFallback,h=u.getSuspenseInstanceFallbackErrorDetails,L=u.registerSuspenseInstanceRetry,H=u.getNextHydratableSibling,ue=u.getFirstHydratableChild,_e=u.getFirstHydratableChildWithinContainer,be=u.getFirstHydratableChildWithinSuspenseInstance,Fe=u.hydrateInstance,ft=u.hydrateTextInstance,ut=u.hydrateSuspenseInstance,We=u.getNextHydratableInstanceAfterSuspenseInstance,ct=u.commitHydratedContainer,$e=u.commitHydratedSuspenseInstance,st=u.clearSuspenseBoundary,Je=u.clearSuspenseBoundaryFromContainer,nt=u.shouldDeleteUnhydratedTailInstances,Ne=u.didNotMatchHydratedContainerTextInstance,qe=u.didNotMatchHydratedTextInstance,Sn;function Rt(n){if(Sn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Sn=r&&r[1]||""}return`
`+Sn+n}var ot=!1;function at(n,r){if(!n||ot)return"";ot=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Re){var l=Re}Reflect.construct(n,[],r)}else{try{r.call()}catch(Re){l=Re}n.call(r.prototype)}else{try{throw Error()}catch(Re){l=Re}n()}}catch(Re){if(Re&&l&&typeof Re.stack=="string"){for(var g=Re.stack.split(`
`),I=l.stack.split(`
`),b=g.length-1,se=I.length-1;1<=b&&0<=se&&g[b]!==I[se];)se--;for(;1<=b&&0<=se;b--,se--)if(g[b]!==I[se]){if(b!==1||se!==1)do if(b--,se--,0>se||g[b]!==I[se]){var ve=`
`+g[b].replace(" at new "," at ");return n.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",n.displayName)),ve}while(1<=b&&0<=se);break}}}finally{ot=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Rt(n):""}var ii=Object.prototype.hasOwnProperty,pr=[],Zt=-1;function yt(n){return{current:n}}function Ze(n){0>Zt||(n.current=pr[Zt],pr[Zt]=null,Zt--)}function lt(n,r){Zt++,pr[Zt]=n.current,n.current=r}var wn={},nn=yt(wn),Wt=yt(!1),Wn=wn;function yi(n,r){var o=n.type.contextTypes;if(!o)return wn;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var g={},I;for(I in o)g[I]=r[I];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=g),g}function xn(n){return n=n.childContextTypes,n!=null}function co(){Ze(Wt),Ze(nn)}function Sc(n,r,o){if(nn.current!==wn)throw Error(p(168));lt(nn,r),lt(Wt,o)}function wc(n,r,o){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var g in l)if(!(g in r))throw Error(p(108,U(n)||"Unknown",g));return _({},o,l)}function Xo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wn,Wn=nn.current,lt(nn,n),lt(Wt,Wt.current),!0}function Pl(n,r,o){var l=n.stateNode;if(!l)throw Error(p(169));o?(n=wc(n,r,Wn),l.__reactInternalMemoizedMergedChildContext=n,Ze(Wt),Ze(nn),lt(nn,n)):Ze(Wt),lt(Wt,o)}var gr=Math.clz32?Math.clz32:Rl,Bs=Math.log,Ld=Math.LN2;function Rl(n){return n>>>=0,n===0?32:31-(Bs(n)/Ld|0)|0}var Et=64,Hs=4194304;function Jo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zo(n,r){var o=n.pendingLanes;if(o===0)return 0;var l=0,g=n.suspendedLanes,I=n.pingedLanes,b=o&268435455;if(b!==0){var se=b&~g;se!==0?l=Jo(se):(I&=b,I!==0&&(l=Jo(I)))}else b=o&~g,b!==0?l=Jo(b):I!==0&&(l=Jo(I));if(l===0)return 0;if(r!==0&&r!==l&&(r&g)===0&&(g=l&-l,I=r&-r,g>=I||g===16&&(I&4194240)!==0))return r;if((l&4)!==0&&(l|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)o=31-gr(r),g=1<<o,l|=n[o],r&=~g;return l}function xc(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(n,r){for(var o=n.suspendedLanes,l=n.pingedLanes,g=n.expirationTimes,I=n.pendingLanes;0<I;){var b=31-gr(I),se=1<<b,ve=g[b];ve===-1?((se&o)===0||(se&l)!==0)&&(g[b]=xc(se,r)):ve<=r&&(n.expiredLanes|=se),I&=~se}}function Na(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Aa(){var n=Et;return Et<<=1,(Et&4194240)===0&&(Et=64),n}function es(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Mr(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-gr(r),n[r]=o}function ji(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var g=31-gr(o),I=1<<g;r[g]=0,l[g]=-1,n[g]=-1,o&=~I}}function oi(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var l=31-gr(o),g=1<<l;g&r|n[l]&r&&(n[l]|=r),o&=~g}}var gt=0;function ts(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var si=A.unstable_scheduleCallback,Ec=A.unstable_cancelCallback,kc=A.unstable_shouldYield,$s=A.unstable_requestPaint,Cn=A.unstable_now,Oa=A.unstable_ImmediatePriority,Ma=A.unstable_UserBlockingPriority,Ia=A.unstable_NormalPriority,Fd=A.unstable_IdlePriority,Gi=null,ir=null;function ns(n){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Gi,n,void 0,(n.current.flags&128)===128)}catch{}}function La(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var br=typeof Object.is=="function"?Object.is:La,_i=null,rs=!1,is=!1;function Fa(n){_i===null?_i=[n]:_i.push(n)}function Pc(n){rs=!0,Fa(n)}function An(){if(!is&&_i!==null){is=!0;var n=0,r=gt;try{var o=_i;for(gt=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}_i=null,rs=!1}catch(g){throw _i!==null&&(_i=_i.slice(n+1)),si(Oa,An),g}finally{gt=r,is=!1}}return null}var Bi=[],Si=0,Vs=null,fo=0,qn=[],vr=0,hn=null,or=1,Wr="";function qr(n,r){Bi[Si++]=fo,Bi[Si++]=Vs,Vs=n,fo=r}function Rc(n,r,o){qn[vr++]=or,qn[vr++]=Wr,qn[vr++]=hn,hn=n;var l=or;n=Wr;var g=32-gr(l)-1;l&=~(1<<g),o+=1;var I=32-gr(r)+g;if(30<I){var b=g-g%5;I=(l&(1<<b)-1).toString(32),l>>=b,g-=b,or=1<<32-gr(r)+g|o<<g|l,Wr=I+n}else or=1<<I|o<<g|l,Wr=n}function bs(n){n.return!==null&&(qr(n,1),Rc(n,1,0))}function Ws(n){for(;n===Vs;)Vs=Bi[--Si],Bi[Si]=null,fo=Bi[--Si],Bi[Si]=null;for(;n===hn;)hn=qn[--vr],qn[vr]=null,Wr=qn[--vr],qn[vr]=null,or=qn[--vr],qn[vr]=null}var On=null,Kn=null,zt=!1,qs=!1,Kr=null;function Tc(n,r){var o=Nr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function Da(n,r){switch(n.tag){case 5:return r=hr(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,On=n,Kn=ue(r),!0):!1;case 6:return r=uo(r,n.pendingProps),r!==null?(n.stateNode=r,On=n,Kn=null,!0):!1;case 13:if(r=mi(r),r!==null){var o=hn!==null?{id:or,overflow:Wr}:null;return n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Nr(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,On=n,Kn=null,!0}return!1;default:return!1}}function Tl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nl(n){if(zt){var r=Kn;if(r){var o=r;if(!Da(n,r)){if(Tl(n))throw Error(p(418));r=H(o);var l=On;r&&Da(n,r)?Tc(l,o):(n.flags=n.flags&-4097|2,zt=!1,On=n)}}else{if(Tl(n))throw Error(p(418));n.flags=n.flags&-4097|2,zt=!1,On=n}}}function Nc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;On=n}function za(n){if(!He||n!==On)return!1;if(!zt)return Nc(n),zt=!0,!1;if(n.tag!==3&&(n.tag!==5||nt(n.type)&&!Ae(n.type,n.memoizedProps))){var r=Kn;if(r){if(Tl(n))throw Ac(),Error(p(418));for(;r;)Tc(n,r),r=H(r)}}if(Nc(n),n.tag===13){if(!He)throw Error(p(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(p(317));Kn=We(n)}else Kn=On?H(n.stateNode):null;return!0}function Ac(){for(var n=Kn;n;)n=H(n)}function ho(){He&&(Kn=On=null,qs=zt=!1)}function Al(n){Kr===null?Kr=[n]:Kr.push(n)}var Dd=S.ReactCurrentBatchConfig;function Ua(n,r){if(br(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var g=o[l];if(!ii.call(r,g)||!br(n[g],r[g]))return!1}return!0}function zd(n){switch(n.tag){case 5:return Rt(n.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return n=at(n.type,!1),n;case 11:return n=at(n.type.render,!1),n;case 1:return n=at(n.type,!0),n;default:return""}}function po(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var l=o.stateNode}if(!l)throw Error(p(147,n));var g=l,I=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===I?r.ref:(r=function(b){var se=g.refs;b===null?delete se[I]:se[I]=b},r._stringRef=I,r)}if(typeof n!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,n))}return n}function ja(n,r){throw n=Object.prototype.toString.call(r),Error(p(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Oc(n){var r=n._init;return r(n._payload)}function Mc(n){function r(pe,ce){if(n){var me=pe.deletions;me===null?(pe.deletions=[ce],pe.flags|=16):me.push(ce)}}function o(pe,ce){if(!n)return null;for(;ce!==null;)r(pe,ce),ce=ce.sibling;return null}function l(pe,ce){for(pe=new Map;ce!==null;)ce.key!==null?pe.set(ce.key,ce):pe.set(ce.index,ce),ce=ce.sibling;return pe}function g(pe,ce){return pe=Ti(pe,ce),pe.index=0,pe.sibling=null,pe}function I(pe,ce,me){return pe.index=me,n?(me=pe.alternate,me!==null?(me=me.index,me<ce?(pe.flags|=2,ce):me):(pe.flags|=2,ce)):(pe.flags|=1048576,ce)}function b(pe){return n&&pe.alternate===null&&(pe.flags|=2),pe}function se(pe,ce,me,Ie){return ce===null||ce.tag!==6?(ce=gl(me,pe.mode,Ie),ce.return=pe,ce):(ce=g(ce,me),ce.return=pe,ce)}function ve(pe,ce,me,Ie){var Ke=me.type;return Ke===P?ze(pe,ce,me.props.children,Ie,me.key):ce!==null&&(ce.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===v&&Oc(Ke)===ce.type)?(Ie=g(ce,me.props),Ie.ref=po(pe,ce,me),Ie.return=pe,Ie):(Ie=pl(me.type,me.key,me.props,null,pe.mode,Ie),Ie.ref=po(pe,ce,me),Ie.return=pe,Ie)}function Re(pe,ce,me,Ie){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==me.containerInfo||ce.stateNode.implementation!==me.implementation?(ce=vl(me,pe.mode,Ie),ce.return=pe,ce):(ce=g(ce,me.children||[]),ce.return=pe,ce)}function ze(pe,ce,me,Ie,Ke){return ce===null||ce.tag!==7?(ce=Do(me,pe.mode,Ie,Ke),ce.return=pe,ce):(ce=g(ce,me),ce.return=pe,ce)}function tt(pe,ce,me){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=gl(""+ce,pe.mode,me),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return me=pl(ce.type,ce.key,ce.props,null,pe.mode,me),me.ref=po(pe,null,ce),me.return=pe,me;case w:return ce=vl(ce,pe.mode,me),ce.return=pe,ce;case v:var Ie=ce._init;return tt(pe,Ie(ce._payload),me)}if(B(ce)||q(ce))return ce=Do(ce,pe.mode,me,null),ce.return=pe,ce;ja(pe,ce)}return null}function Me(pe,ce,me,Ie){var Ke=ce!==null?ce.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ke!==null?null:se(pe,ce,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case R:return me.key===Ke?ve(pe,ce,me,Ie):null;case w:return me.key===Ke?Re(pe,ce,me,Ie):null;case v:return Ke=me._init,Me(pe,ce,Ke(me._payload),Ie)}if(B(me)||q(me))return Ke!==null?null:ze(pe,ce,me,Ie,null);ja(pe,me)}return null}function Mt(pe,ce,me,Ie,Ke){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return pe=pe.get(me)||null,se(ce,pe,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case R:return pe=pe.get(Ie.key===null?me:Ie.key)||null,ve(ce,pe,Ie,Ke);case w:return pe=pe.get(Ie.key===null?me:Ie.key)||null,Re(ce,pe,Ie,Ke);case v:var rt=Ie._init;return Mt(pe,ce,me,rt(Ie._payload),Ke)}if(B(Ie)||q(Ie))return pe=pe.get(me)||null,ze(ce,pe,Ie,Ke,null);ja(ce,Ie)}return null}function Nt(pe,ce,me,Ie){for(var Ke=null,rt=null,it=ce,xt=ce=0,ln=null;it!==null&&xt<me.length;xt++){it.index>xt?(ln=it,it=null):ln=it.sibling;var Ct=Me(pe,it,me[xt],Ie);if(Ct===null){it===null&&(it=ln);break}n&&it&&Ct.alternate===null&&r(pe,it),ce=I(Ct,ce,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct,it=ln}if(xt===me.length)return o(pe,it),zt&&qr(pe,xt),Ke;if(it===null){for(;xt<me.length;xt++)it=tt(pe,me[xt],Ie),it!==null&&(ce=I(it,ce,xt),rt===null?Ke=it:rt.sibling=it,rt=it);return zt&&qr(pe,xt),Ke}for(it=l(pe,it);xt<me.length;xt++)ln=Mt(it,pe,xt,me[xt],Ie),ln!==null&&(n&&ln.alternate!==null&&it.delete(ln.key===null?xt:ln.key),ce=I(ln,ce,xt),rt===null?Ke=ln:rt.sibling=ln,rt=ln);return n&&it.forEach(function(ti){return r(pe,ti)}),zt&&qr(pe,xt),Ke}function Bn(pe,ce,me,Ie){var Ke=q(me);if(typeof Ke!="function")throw Error(p(150));if(me=Ke.call(me),me==null)throw Error(p(151));for(var rt=Ke=null,it=ce,xt=ce=0,ln=null,Ct=me.next();it!==null&&!Ct.done;xt++,Ct=me.next()){it.index>xt?(ln=it,it=null):ln=it.sibling;var ti=Me(pe,it,Ct.value,Ie);if(ti===null){it===null&&(it=ln);break}n&&it&&ti.alternate===null&&r(pe,it),ce=I(ti,ce,xt),rt===null?Ke=ti:rt.sibling=ti,rt=ti,it=ln}if(Ct.done)return o(pe,it),zt&&qr(pe,xt),Ke;if(it===null){for(;!Ct.done;xt++,Ct=me.next())Ct=tt(pe,Ct.value,Ie),Ct!==null&&(ce=I(Ct,ce,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct);return zt&&qr(pe,xt),Ke}for(it=l(pe,it);!Ct.done;xt++,Ct=me.next())Ct=Mt(it,pe,xt,Ct.value,Ie),Ct!==null&&(n&&Ct.alternate!==null&&it.delete(Ct.key===null?xt:Ct.key),ce=I(Ct,ce,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct);return n&&it.forEach(function(Ni){return r(pe,Ni)}),zt&&qr(pe,xt),Ke}function pi(pe,ce,me,Ie){if(typeof me=="object"&&me!==null&&me.type===P&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case R:e:{for(var Ke=me.key,rt=ce;rt!==null;){if(rt.key===Ke){if(Ke=me.type,Ke===P){if(rt.tag===7){o(pe,rt.sibling),ce=g(rt,me.props.children),ce.return=pe,pe=ce;break e}}else if(rt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===v&&Oc(Ke)===rt.type){o(pe,rt.sibling),ce=g(rt,me.props),ce.ref=po(pe,rt,me),ce.return=pe,pe=ce;break e}o(pe,rt);break}else r(pe,rt);rt=rt.sibling}me.type===P?(ce=Do(me.props.children,pe.mode,Ie,me.key),ce.return=pe,pe=ce):(Ie=pl(me.type,me.key,me.props,null,pe.mode,Ie),Ie.ref=po(pe,ce,me),Ie.return=pe,pe=Ie)}return b(pe);case w:e:{for(rt=me.key;ce!==null;){if(ce.key===rt)if(ce.tag===4&&ce.stateNode.containerInfo===me.containerInfo&&ce.stateNode.implementation===me.implementation){o(pe,ce.sibling),ce=g(ce,me.children||[]),ce.return=pe,pe=ce;break e}else{o(pe,ce);break}else r(pe,ce);ce=ce.sibling}ce=vl(me,pe.mode,Ie),ce.return=pe,pe=ce}return b(pe);case v:return rt=me._init,pi(pe,ce,rt(me._payload),Ie)}if(B(me))return Nt(pe,ce,me,Ie);if(q(me))return Bn(pe,ce,me,Ie);ja(pe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ce!==null&&ce.tag===6?(o(pe,ce.sibling),ce=g(ce,me),ce.return=pe,pe=ce):(o(pe,ce),ce=gl(me,pe.mode,Ie),ce.return=pe,pe=ce),b(pe)):o(pe,ce)}return pi}var go=Mc(!0),Ic=Mc(!1),Ga=yt(null),Ba=null,os=null,Ol=null;function Ml(){Ol=os=Ba=null}function Lc(n,r,o){Be?(lt(Ga,r._currentValue),r._currentValue=o):(lt(Ga,r._currentValue2),r._currentValue2=o)}function Ks(n){var r=Ga.current;Ze(Ga),Be?n._currentValue=r:n._currentValue2=r}function vo(n,r,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===o)break;n=n.return}}function ss(n,r){Ba=n,Ol=os=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(gn=!0),n.firstContext=null)}function mr(n){var r=Be?n._currentValue:n._currentValue2;if(Ol!==n)if(n={context:n,memoizedValue:r,next:null},os===null){if(Ba===null)throw Error(p(308));os=n,Ba.dependencies={lanes:0,firstContext:n}}else os=os.next=n;return r}var Hi=null;function Ha(n){Hi===null?Hi=[n]:Hi.push(n)}function Il(n,r,o,l){var g=r.interleaved;return g===null?(o.next=o,Ha(r)):(o.next=g.next,g.next=o),r.interleaved=o,Yr(n,l)}function Yr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var yr=!1;function Ll(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wi(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function xi(n,r,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var g=l.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),l.pending=r,Yr(n,o)}return g=l.interleaved,g===null?(r.next=r,Ha(l)):(r.next=g.next,g.next=r),l.interleaved=r,Yr(n,o)}function Ys(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,oi(n,o)}}function as(n,r){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var g=null,I=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};I===null?g=I=b:I=I.next=b,o=o.next}while(o!==null);I===null?g=I=r:I=I.next=r}else g=I=r;o={baseState:l.baseState,firstBaseUpdate:g,lastBaseUpdate:I,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function $i(n,r,o,l){var g=n.updateQueue;yr=!1;var I=g.firstBaseUpdate,b=g.lastBaseUpdate,se=g.shared.pending;if(se!==null){g.shared.pending=null;var ve=se,Re=ve.next;ve.next=null,b===null?I=Re:b.next=Re,b=ve;var ze=n.alternate;ze!==null&&(ze=ze.updateQueue,se=ze.lastBaseUpdate,se!==b&&(se===null?ze.firstBaseUpdate=Re:se.next=Re,ze.lastBaseUpdate=ve))}if(I!==null){var tt=g.baseState;b=0,ze=Re=ve=null,se=I;do{var Me=se.lane,Mt=se.eventTime;if((l&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Mt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Nt=n,Bn=se;switch(Me=r,Mt=o,Bn.tag){case 1:if(Nt=Bn.payload,typeof Nt=="function"){tt=Nt.call(Mt,tt,Me);break e}tt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Bn.payload,Me=typeof Nt=="function"?Nt.call(Mt,tt,Me):Nt,Me==null)break e;tt=_({},tt,Me);break e;case 2:yr=!0}}se.callback!==null&&se.lane!==0&&(n.flags|=64,Me=g.effects,Me===null?g.effects=[se]:Me.push(se))}else Mt={eventTime:Mt,lane:Me,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ze===null?(Re=ze=Mt,ve=tt):ze=ze.next=Mt,b|=Me;if(se=se.next,se===null){if(se=g.shared.pending,se===null)break;Me=se,se=Me.next,Me.next=null,g.lastBaseUpdate=Me,g.shared.pending=null}}while(!0);if(ze===null&&(ve=tt),g.baseState=ve,g.firstBaseUpdate=Re,g.lastBaseUpdate=ze,r=g.shared.interleaved,r!==null){g=r;do b|=g.lane,g=g.next;while(g!==r)}else I===null&&(g.shared.lanes=0);Xr|=b,n.lanes=b,n.memoizedState=tt}}function Dc(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],g=l.callback;if(g!==null){if(l.callback=null,l=o,typeof g!="function")throw Error(p(191,g));g.call(l)}}}var Vi={},Ir=yt(Vi),ls=yt(Vi),bi=yt(Vi);function Lr(n){if(n===Vi)throw Error(p(174));return n}function $a(n,r){lt(bi,r),lt(ls,n),lt(Ir,Vi),n=X(r),Ze(Ir),lt(Ir,n)}function mo(){Ze(Ir),Ze(ls),Ze(bi)}function Fl(n){var r=Lr(bi.current),o=Lr(Ir.current);r=ee(o,n.type,r),o!==r&&(lt(ls,n),lt(Ir,r))}function Dl(n){ls.current===n&&(Ze(Ir),Ze(ls))}var qt=yt(0);function Va(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ta(o)||M(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zl=[];function Ul(){for(var n=0;n<zl.length;n++){var r=zl[n];Be?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}zl.length=0}var sr=S.ReactCurrentDispatcher,yo=S.ReactCurrentBatchConfig,Wi=0,Bt=null,rn=null,pn=null,us=!1,Qs=!1,Xs=0,cs=0;function En(){throw Error(p(321))}function _o(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!br(n[o],r[o]))return!1;return!0}function Js(n,r,o,l,g,I){if(Wi=I,Bt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,sr.current=n===null||n.memoizedState===null?Kl:Yl,n=o(l,g),Qs){I=0;do{if(Qs=!1,Xs=0,25<=I)throw Error(p(301));I+=1,pn=rn=null,r.updateQueue=null,sr.current=Ql,n=o(l,g)}while(Qs)}if(sr.current=Eo,r=rn!==null&&rn.next!==null,Wi=0,pn=rn=Bt=null,us=!1,r)throw Error(p(300));return n}function ba(){var n=Xs!==0;return Xs=0,n}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Bt.memoizedState=pn=n:pn=pn.next=n,pn}function Mn(){if(rn===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=rn.next;var r=pn===null?Bt.memoizedState:pn.next;if(r!==null)pn=r,rn=n;else{if(n===null)throw Error(p(310));rn=n,n={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},pn===null?Bt.memoizedState=pn=n:pn=pn.next=n}return pn}function So(n,r){return typeof r=="function"?r(n):r}function Wa(n){var r=Mn(),o=r.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=n;var l=rn,g=l.baseQueue,I=o.pending;if(I!==null){if(g!==null){var b=g.next;g.next=I.next,I.next=b}l.baseQueue=g=I,o.pending=null}if(g!==null){I=g.next,l=l.baseState;var se=b=null,ve=null,Re=I;do{var ze=Re.lane;if((Wi&ze)===ze)ve!==null&&(ve=ve.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),l=Re.hasEagerState?Re.eagerState:n(l,Re.action);else{var tt={lane:ze,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};ve===null?(se=ve=tt,b=l):ve=ve.next=tt,Bt.lanes|=ze,Xr|=ze}Re=Re.next}while(Re!==null&&Re!==I);ve===null?b=l:ve.next=se,br(l,r.memoizedState)||(gn=!0),r.memoizedState=l,r.baseState=b,r.baseQueue=ve,o.lastRenderedState=l}if(n=o.interleaved,n!==null){g=n;do I=g.lane,Bt.lanes|=I,Xr|=I,g=g.next;while(g!==n)}else g===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ds(n){var r=Mn(),o=r.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=n;var l=o.dispatch,g=o.pending,I=r.memoizedState;if(g!==null){o.pending=null;var b=g=g.next;do I=n(I,b.action),b=b.next;while(b!==g);br(I,r.memoizedState)||(gn=!0),r.memoizedState=I,r.baseQueue===null&&(r.baseState=I),o.lastRenderedState=I}return[I,l]}function jl(){}function Gl(n,r){var o=Bt,l=Mn(),g=r(),I=!br(l.memoizedState,g);if(I&&(l.memoizedState=g,gn=!0),l=l.queue,Ya($l.bind(null,o,l,n),[n]),l.getSnapshot!==r||I||pn!==null&&pn.memoizedState.tag&1){if(o.flags|=2048,wo(9,Hl.bind(null,o,l,g,r),void 0,null),on===null)throw Error(p(349));(Wi&30)!==0||Bl(o,r,g)}return g}function Bl(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Bt.updateQueue,r===null?(r={lastEffect:null,stores:null},Bt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Hl(n,r,o,l){r.value=o,r.getSnapshot=l,Vl(r)&&Ci(n)}function $l(n,r,o){return o(function(){Vl(r)&&Ci(n)})}function Vl(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!br(n,o)}catch{return!0}}function Ci(n){var r=Yr(n,1);r!==null&&Gn(r,n,1,-1)}function qa(n){var r=_r();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:n},r.queue=n,n=n.dispatch=Ud.bind(null,Bt,n),[r.memoizedState,n]}function wo(n,r,o,l){return n={tag:n,create:r,destroy:o,deps:l,next:null},r=Bt.updateQueue,r===null?(r={lastEffect:null,stores:null},Bt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,r.lastEffect=n)),n}function zc(){return Mn().memoizedState}function Ka(n,r,o,l){var g=_r();Bt.flags|=n,g.memoizedState=wo(1|r,o,void 0,l===void 0?null:l)}function qi(n,r,o,l){var g=Mn();l=l===void 0?null:l;var I=void 0;if(rn!==null){var b=rn.memoizedState;if(I=b.destroy,l!==null&&_o(l,b.deps)){g.memoizedState=wo(r,o,I,l);return}}Bt.flags|=n,g.memoizedState=wo(1|r,o,I,l)}function Uc(n,r){return Ka(8390656,8,n,r)}function Ya(n,r){return qi(2048,8,n,r)}function bl(n,r){return qi(4,2,n,r)}function It(n,r){return qi(4,4,n,r)}function Qa(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Zs(n,r,o){return o=o!=null?o.concat([n]):null,qi(4,4,Qa.bind(null,r,n),o)}function xo(){}function Wl(n,r){var o=Mn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&_o(r,l[1])?l[0]:(o.memoizedState=[n,r],n)}function Xa(n,r){var o=Mn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&_o(r,l[1])?l[0]:(n=n(),o.memoizedState=[n,r],n)}function fs(n,r,o){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=o):(br(o,r)||(o=Aa(),Bt.lanes|=o,Xr|=o,n.baseState=!0),r)}function Ja(n,r){var o=gt;gt=o!==0&&4>o?o:4,n(!0);var l=yo.transition;yo.transition={};try{n(!1),r()}finally{gt=o,yo.transition=l}}function Co(){return Mn().memoizedState}function jc(n,r,o){var l=Gr(n);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Gc(n))ql(r,o);else if(o=Il(n,r,o,l),o!==null){var g=vn();Gn(o,n,l,g),ea(o,r,l)}}function Ud(n,r,o){var l=Gr(n),g={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gc(n))ql(r,g);else{var I=n.alternate;if(n.lanes===0&&(I===null||I.lanes===0)&&(I=r.lastRenderedReducer,I!==null))try{var b=r.lastRenderedState,se=I(b,o);if(g.hasEagerState=!0,g.eagerState=se,br(se,b)){var ve=r.interleaved;ve===null?(g.next=g,Ha(r)):(g.next=ve.next,ve.next=g),r.interleaved=g;return}}catch{}finally{}o=Il(n,r,g,l),o!==null&&(g=vn(),Gn(o,n,l,g),ea(o,r,l))}}function Gc(n){var r=n.alternate;return n===Bt||r!==null&&r===Bt}function ql(n,r){Qs=us=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function ea(n,r,o){if((o&4194240)!==0){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,oi(n,o)}}var Eo={readContext:mr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},Kl={readContext:mr,useCallback:function(n,r){return _r().memoizedState=[n,r===void 0?null:r],n},useContext:mr,useEffect:Uc,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Ka(4194308,4,Qa.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Ka(4194308,4,n,r)},useInsertionEffect:function(n,r){return Ka(4,2,n,r)},useMemo:function(n,r){var o=_r();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var l=_r();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=jc.bind(null,Bt,n),[l.memoizedState,n]},useRef:function(n){var r=_r();return n={current:n},r.memoizedState=n},useState:qa,useDebugValue:xo,useDeferredValue:function(n){return _r().memoizedState=n},useTransition:function(){var n=qa(!1),r=n[0];return n=Ja.bind(null,n[1]),_r().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var l=Bt,g=_r();if(zt){if(o===void 0)throw Error(p(407));o=o()}else{if(o=r(),on===null)throw Error(p(349));(Wi&30)!==0||Bl(l,r,o)}g.memoizedState=o;var I={value:o,getSnapshot:r};return g.queue=I,Uc($l.bind(null,l,I,n),[n]),l.flags|=2048,wo(9,Hl.bind(null,l,I,o,r),void 0,null),o},useId:function(){var n=_r(),r=on.identifierPrefix;if(zt){var o=Wr,l=or;o=(l&~(1<<32-gr(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=Xs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=cs++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Yl={readContext:mr,useCallback:Wl,useContext:mr,useEffect:Ya,useImperativeHandle:Zs,useInsertionEffect:bl,useLayoutEffect:It,useMemo:Xa,useReducer:Wa,useRef:zc,useState:function(){return Wa(So)},useDebugValue:xo,useDeferredValue:function(n){var r=Mn();return fs(r,rn.memoizedState,n)},useTransition:function(){var n=Wa(So)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:jl,useSyncExternalStore:Gl,useId:Co,unstable_isNewReconciler:!1},Ql={readContext:mr,useCallback:Wl,useContext:mr,useEffect:Ya,useImperativeHandle:Zs,useInsertionEffect:bl,useLayoutEffect:It,useMemo:Xa,useReducer:ds,useRef:zc,useState:function(){return ds(So)},useDebugValue:xo,useDeferredValue:function(n){var r=Mn();return rn===null?r.memoizedState=n:fs(r,rn.memoizedState,n)},useTransition:function(){var n=ds(So)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:jl,useSyncExternalStore:Gl,useId:Co,unstable_isNewReconciler:!1};function Sr(n,r){if(n&&n.defaultProps){r=_({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function Xl(n,r,o,l){r=n.memoizedState,o=o(l,r),o=o==null?r:_({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ta={isMounted:function(n){return(n=n._reactInternals)?W(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var l=vn(),g=Gr(n),I=wi(l,g);I.payload=r,o!=null&&(I.callback=o),r=xi(n,I,g),r!==null&&(Gn(r,n,g,l),Ys(r,n,g))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var l=vn(),g=Gr(n),I=wi(l,g);I.tag=1,I.payload=r,o!=null&&(I.callback=o),r=xi(n,I,g),r!==null&&(Gn(r,n,g,l),Ys(r,n,g))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=vn(),l=Gr(n),g=wi(o,l);g.tag=2,r!=null&&(g.callback=r),r=xi(n,g,l),r!==null&&(Gn(r,n,l,o),Ys(r,n,l))}};function Bc(n,r,o,l,g,I,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,I,b):r.prototype&&r.prototype.isPureReactComponent?!Ua(o,l)||!Ua(g,I):!0}function Hc(n,r,o){var l=!1,g=wn,I=r.contextType;return typeof I=="object"&&I!==null?I=mr(I):(g=xn(r)?Wn:nn.current,l=r.contextTypes,I=(l=l!=null)?yi(n,g):wn),r=new r(o,I),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ta,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=I),r}function Za(n,r,o,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==n&&ta.enqueueReplaceState(r,r.state,null)}function ai(n,r,o,l){var g=n.stateNode;g.props=o,g.state=n.memoizedState,g.refs={},Ll(n);var I=r.contextType;typeof I=="object"&&I!==null?g.context=mr(I):(I=xn(r)?Wn:nn.current,g.context=yi(n,I)),g.state=n.memoizedState,I=r.getDerivedStateFromProps,typeof I=="function"&&(Xl(n,r,I,o),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(r=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),r!==g.state&&ta.enqueueReplaceState(g,g.state,null),$i(n,o,g,l),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function ko(n,r){try{var o="",l=r;do o+=zd(l),l=l.return;while(l);var g=o}catch(I){g=`
Error generating stack: `+I.message+`
`+I.stack}return{value:n,source:r,stack:g,digest:null}}function Ki(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function Fr(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var na=typeof WeakMap=="function"?WeakMap:Map;function li(n,r,o){o=wi(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Ft||(Ft=!0,xs=l),Fr(n,r)},o}function el(n,r,o){o=wi(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var g=r.value;o.payload=function(){return l(g)},o.callback=function(){Fr(n,r)}}var I=n.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){Fr(n,r),typeof l!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),o}function $c(n,r,o){var l=n.pingCache;if(l===null){l=n.pingCache=new na;var g=new Set;l.set(r,g)}else g=l.get(r),g===void 0&&(g=new Set,l.set(r,g));g.has(o)||(g.add(o),n=cu.bind(null,n,r,o),r.then(n,n))}function Vc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Yi(n,r,o,l,g){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=wi(-1,1),r.tag=2,xi(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var ra=S.ReactCurrentOwner,gn=!1;function kn(n,r,o,l){r.child=n===null?Ic(r,null,o,l):go(r,n.child,o,l)}function tl(n,r,o,l,g){o=o.render;var I=r.ref;return ss(r,g),l=Js(n,r,o,l,I,g),o=ba(),n!==null&&!gn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ki(n,r,g)):(zt&&o&&bs(r),r.flags|=1,kn(n,r,l,g),r.child)}function Po(n,r,o,l,g){if(n===null){var I=o.type;return typeof I=="function"&&!hl(I)&&I.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=I,Ei(n,r,I,l,g)):(n=pl(o.type,null,l,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(I=n.child,(n.lanes&g)===0){var b=I.memoizedProps;if(o=o.compare,o=o!==null?o:Ua,o(b,l)&&n.ref===r.ref)return ki(n,r,g)}return r.flags|=1,n=Ti(I,l),n.ref=r.ref,n.return=r,r.child=n}function Ei(n,r,o,l,g){if(n!==null){var I=n.memoizedProps;if(Ua(I,l)&&n.ref===r.ref)if(gn=!1,r.pendingProps=l=I,(n.lanes&g)!==0)(n.flags&131072)!==0&&(gn=!0);else return r.lanes=n.lanes,ki(n,r,g)}return ui(n,r,o,l,g)}function Lt(n,r,o){var l=r.pendingProps,g=l.children,I=n!==null?n.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Lo,lr),lr|=o;else{if((o&1073741824)===0)return n=I!==null?I.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,lt(Lo,lr),lr|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=I!==null?I.baseLanes:o,lt(Lo,lr),lr|=l}else I!==null?(l=I.baseLanes|o,r.memoizedState=null):l=o,lt(Lo,lr),lr|=l;return kn(n,r,g,o),r.child}function At(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ui(n,r,o,l,g){var I=xn(o)?Wn:nn.current;return I=yi(r,I),ss(r,g),o=Js(n,r,o,l,I,g),l=ba(),n!==null&&!gn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ki(n,r,g)):(zt&&l&&bs(r),r.flags|=1,kn(n,r,o,g),r.child)}function In(n,r,o,l,g){if(xn(o)){var I=!0;Xo(r)}else I=!1;if(ss(r,g),r.stateNode===null)ia(n,r),Hc(r,o,l),ai(r,o,l,g),l=!0;else if(n===null){var b=r.stateNode,se=r.memoizedProps;b.props=se;var ve=b.context,Re=o.contextType;typeof Re=="object"&&Re!==null?Re=mr(Re):(Re=xn(o)?Wn:nn.current,Re=yi(r,Re));var ze=o.getDerivedStateFromProps,tt=typeof ze=="function"||typeof b.getSnapshotBeforeUpdate=="function";tt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(se!==l||ve!==Re)&&Za(r,b,l,Re),yr=!1;var Me=r.memoizedState;b.state=Me,$i(r,l,b,g),ve=r.memoizedState,se!==l||Me!==ve||Wt.current||yr?(typeof ze=="function"&&(Xl(r,o,ze,l),ve=r.memoizedState),(se=yr||Bc(r,o,se,l,Me,ve,Re))?(tt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ve),b.props=l,b.state=ve,b.context=Re,l=se):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{b=r.stateNode,Fc(n,r),se=r.memoizedProps,Re=r.type===r.elementType?se:Sr(r.type,se),b.props=Re,tt=r.pendingProps,Me=b.context,ve=o.contextType,typeof ve=="object"&&ve!==null?ve=mr(ve):(ve=xn(o)?Wn:nn.current,ve=yi(r,ve));var Mt=o.getDerivedStateFromProps;(ze=typeof Mt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(se!==tt||Me!==ve)&&Za(r,b,l,ve),yr=!1,Me=r.memoizedState,b.state=Me,$i(r,l,b,g);var Nt=r.memoizedState;se!==tt||Me!==Nt||Wt.current||yr?(typeof Mt=="function"&&(Xl(r,o,Mt,l),Nt=r.memoizedState),(Re=yr||Bc(r,o,Re,l,Me,Nt,ve)||!1)?(ze||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,Nt,ve),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,Nt,ve)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||se===n.memoizedProps&&Me===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||se===n.memoizedProps&&Me===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Nt),b.props=l,b.state=Nt,b.context=ve,l=Re):(typeof b.componentDidUpdate!="function"||se===n.memoizedProps&&Me===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||se===n.memoizedProps&&Me===n.memoizedState||(r.flags|=1024),l=!1)}return Un(n,r,o,l,I,g)}function Un(n,r,o,l,g,I){At(n,r);var b=(r.flags&128)!==0;if(!l&&!b)return g&&Pl(r,o,!1),ki(n,r,I);l=r.stateNode,ra.current=r;var se=b&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&b?(r.child=go(r,n.child,null,I),r.child=go(r,null,se,I)):kn(n,r,se,I),r.memoizedState=l.state,g&&Pl(r,o,!0),r.child}function Qi(n){var r=n.stateNode;r.pendingContext?Sc(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Sc(n,r.context,!1),$a(n,r.containerInfo)}function Ro(n,r,o,l,g){return ho(),Al(g),r.flags|=256,kn(n,r,o,l),r.child}var jn={dehydrated:null,treeContext:null,retryLane:0};function hs(n){return{baseLanes:n,cachePool:null,transitions:null}}function Jl(n,r,o){var l=r.pendingProps,g=qt.current,I=!1,b=(r.flags&128)!==0,se;if((se=b)||(se=n!==null&&n.memoizedState===null?!1:(g&2)!==0),se?(I=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),lt(qt,g&1),n===null)return Nl(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:M(n)?r.lanes=8:r.lanes=1073741824,null):(b=l.children,n=l.fallback,I?(l=r.mode,I=r.child,b={mode:"hidden",children:b},(l&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=b):I=pa(b,l,0,null),n=Do(n,l,o,null),I.return=r,n.return=r,I.sibling=n,r.child=I,r.child.memoizedState=hs(o),r.memoizedState=jn,n):nl(r,b));if(g=n.memoizedState,g!==null&&(se=g.dehydrated,se!==null))return bc(n,r,b,l,se,g,o);if(I){I=l.fallback,b=r.mode,g=n.child,se=g.sibling;var ve={mode:"hidden",children:l.children};return(b&1)===0&&r.child!==g?(l=r.child,l.childLanes=0,l.pendingProps=ve,r.deletions=null):(l=Ti(g,ve),l.subtreeFlags=g.subtreeFlags&14680064),se!==null?I=Ti(se,I):(I=Do(I,b,o,null),I.flags|=2),I.return=r,l.return=r,l.sibling=I,r.child=l,l=I,I=r.child,b=n.child.memoizedState,b=b===null?hs(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},I.memoizedState=b,I.childLanes=n.childLanes&~o,r.memoizedState=jn,l}return I=n.child,n=I.sibling,l=Ti(I,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=o),l.return=r,l.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=l,r.memoizedState=null,l}function nl(n,r){return r=pa({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function To(n,r,o,l){return l!==null&&Al(l),go(r,n.child,null,o),n=nl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function bc(n,r,o,l,g,I,b){if(o)return r.flags&256?(r.flags&=-257,l=Ki(Error(p(422))),To(n,r,b,l)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(I=l.fallback,g=r.mode,l=pa({mode:"visible",children:l.children},g,0,null),I=Do(I,g,b,null),I.flags|=2,l.return=r,I.return=r,l.sibling=I,r.child=l,(r.mode&1)!==0&&go(r,n.child,null,b),r.child.memoizedState=hs(b),r.memoizedState=jn,I);if((r.mode&1)===0)return To(n,r,b,null);if(M(g))return l=h(g).digest,I=Error(p(419)),l=Ki(I,l,void 0),To(n,r,b,l);if(o=(b&n.childLanes)!==0,gn||o){if(l=on,l!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(l.suspendedLanes|b))!==0?0:g,g!==0&&g!==I.retryLane&&(I.retryLane=g,Yr(n,g),Gn(l,n,g,-1))}return dl(),l=Ki(Error(p(421))),To(n,r,b,l)}return Ta(g)?(r.flags|=128,r.child=n.child,r=Xc.bind(null,n),L(g,r),null):(n=I.treeContext,He&&(Kn=be(g),On=r,zt=!0,Kr=null,qs=!1,n!==null&&(qn[vr++]=or,qn[vr++]=Wr,qn[vr++]=hn,or=n.id,Wr=n.overflow,hn=r)),r=nl(r,l.children),r.flags|=4096,r)}function ci(n,r,o){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),vo(n.return,r,o)}function ps(n,r,o,l,g){var I=n.memoizedState;I===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:g}:(I.isBackwards=r,I.rendering=null,I.renderingStartTime=0,I.last=l,I.tail=o,I.tailMode=g)}function rl(n,r,o){var l=r.pendingProps,g=l.revealOrder,I=l.tail;if(kn(n,r,l.children,o),l=qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ci(n,o,r);else if(n.tag===19)ci(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(lt(qt,l),(r.mode&1)===0)r.memoizedState=null;else switch(g){case"forwards":for(o=r.child,g=null;o!==null;)n=o.alternate,n!==null&&Va(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),ps(r,!1,g,o,I);break;case"backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&Va(n)===null){r.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}ps(r,!0,o,null,I);break;case"together":ps(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ia(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function ki(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(p(153));if(r.child!==null){for(n=r.child,o=Ti(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Ti(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Xi(n,r,o){switch(r.tag){case 3:Qi(r),ho();break;case 5:Fl(r);break;case 1:xn(r.type)&&Xo(r);break;case 4:$a(r,r.stateNode.containerInfo);break;case 10:Lc(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(lt(qt,qt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Jl(n,r,o):(lt(qt,qt.current&1),n=ki(n,r,o),n!==null?n.sibling:null);lt(qt,qt.current&1);break;case 19:if(l=(o&r.childLanes)!==0,(n.flags&128)!==0){if(l)return rl(n,r,o);r.flags|=128}var g=r.memoizedState;if(g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(qt,qt.current),l)break;return null;case 22:case 23:return r.lanes=0,Lt(n,r,o)}return ki(n,r,o)}function Yn(n){n.flags|=4}function No(n,r){if(n!==null&&n.child===r.child)return!0;if((r.flags&16)!==0)return!1;for(n=r.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}var Ji,Zi,Qn,Xn;if(Le)Ji=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)te(n,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Zi=function(){},Qn=function(n,r,o,l,g){if(n=n.memoizedProps,n!==l){var I=r.stateNode,b=Lr(Ir.current);o=ye(I,o,n,l,g,b),(r.updateQueue=o)&&Yn(r)}},Xn=function(n,r,o,l){o!==l&&Yn(r)};else if(Ye){Ji=function(n,r,o,l){for(var g=r.child;g!==null;){if(g.tag===5){var I=g.stateNode;o&&l&&(I=Nn(I,g.type,g.memoizedProps,g)),te(n,I)}else if(g.tag===6)I=g.stateNode,o&&l&&(I=Gs(I,g.memoizedProps,g)),te(n,I);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)I=g.child,I!==null&&(I.return=g),Ji(n,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===r)break;for(;g.sibling===null;){if(g.return===null||g.return===r)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var eo=function(n,r,o,l){for(var g=r.child;g!==null;){if(g.tag===5){var I=g.stateNode;o&&l&&(I=Nn(I,g.type,g.memoizedProps,g)),Yo(n,I)}else if(g.tag===6)I=g.stateNode,o&&l&&(I=Gs(I,g.memoizedProps,g)),Yo(n,I);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)I=g.child,I!==null&&(I.return=g),eo(n,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===r)break;for(;g.sibling===null;){if(g.return===null||g.return===r)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};Zi=function(n,r){var o=r.stateNode;if(!No(n,r)){n=o.containerInfo;var l=js(n);eo(l,r,!1,!1),o.pendingChildren=l,Yn(r),Ra(n,l)}},Qn=function(n,r,o,l,g){var I=n.stateNode,b=n.memoizedProps;if((n=No(n,r))&&b===l)r.stateNode=I;else{var se=r.stateNode,ve=Lr(Ir.current),Re=null;b!==l&&(Re=ye(se,o,b,l,g,ve)),n&&Re===null?r.stateNode=I:(I=Ko(I,Re,o,b,l,r,n,se),Se(I,o,l,g,ve)&&Yn(r),r.stateNode=I,n?Yn(r):Ji(I,r,!1,!1))}},Xn=function(n,r,o,l){o!==l?(n=Lr(bi.current),o=Lr(Ir.current),r.stateNode=Pe(l,n,o,r),Yn(r)):r.stateNode=n.stateNode}}else Zi=function(){},Qn=function(){},Xn=function(){};function wr(n,r){if(!zt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(r)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,l|=g.subtreeFlags&14680064,l|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,l|=g.subtreeFlags,l|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=l,n.childLanes=o,r}function Ao(n,r,o){var l=r.pendingProps;switch(Ws(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(r),null;case 1:return xn(r.type)&&co(),Ht(r),null;case 3:return o=r.stateNode,mo(),Ze(Wt),Ze(nn),Ul(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(za(r)?Yn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kr!==null&&(ca(Kr),Kr=null))),Zi(n,r),Ht(r),null;case 5:Dl(r),o=Lr(bi.current);var g=r.type;if(n!==null&&r.stateNode!=null)Qn(n,r,g,l,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(p(166));return Ht(r),null}if(n=Lr(Ir.current),za(r)){if(!He)throw Error(p(175));n=Fe(r.stateNode,r.type,r.memoizedProps,o,n,r,!qs),r.updateQueue=n,n!==null&&Yn(r)}else{var I=oe(g,l,o,n,r);Ji(I,r,!1,!1),r.stateNode=I,Se(I,g,l,o,n)&&Yn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ht(r),null;case 6:if(n&&r.stateNode!=null)Xn(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(p(166));if(n=Lr(bi.current),o=Lr(Ir.current),za(r)){if(!He)throw Error(p(176));if(n=r.stateNode,o=r.memoizedProps,(l=ft(n,o,r,!qs))&&(g=On,g!==null))switch(g.tag){case 3:Ne(g.stateNode.containerInfo,n,o,(g.mode&1)!==0);break;case 5:qe(g.type,g.memoizedProps,g.stateNode,n,o,(g.mode&1)!==0)}l&&Yn(r)}else r.stateNode=Pe(l,n,o,r)}return Ht(r),null;case 13:if(Ze(qt),l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zt&&Kn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ac(),ho(),r.flags|=98560,g=!1;else if(g=za(r),l!==null&&l.dehydrated!==null){if(n===null){if(!g)throw Error(p(318));if(!He)throw Error(p(344));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p(317));ut(g,r)}else ho(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ht(r),g=!1}else Kr!==null&&(ca(Kr),Kr=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(o=l!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(qt.current&1)!==0?Vt===0&&(Vt=3):dl())),r.updateQueue!==null&&(r.flags|=4),Ht(r),null);case 4:return mo(),Zi(n,r),n===null&&ht(r.stateNode.containerInfo),Ht(r),null;case 10:return Ks(r.type._context),Ht(r),null;case 17:return xn(r.type)&&co(),Ht(r),null;case 19:if(Ze(qt),g=r.memoizedState,g===null)return Ht(r),null;if(l=(r.flags&128)!==0,I=g.rendering,I===null)if(l)wr(g,!1);else{if(Vt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(I=Va(n),I!==null){for(r.flags|=128,wr(g,!1),n=I.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=o,o=r.child;o!==null;)l=o,g=n,l.flags&=14680066,I=l.alternate,I===null?(l.childLanes=0,l.lanes=g,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=I.childLanes,l.lanes=I.lanes,l.child=I.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=I.memoizedProps,l.memoizedState=I.memoizedState,l.updateQueue=I.updateQueue,l.type=I.type,g=I.dependencies,l.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),o=o.sibling;return lt(qt,qt.current&1|2),r.child}n=n.sibling}g.tail!==null&&Cn()>ro&&(r.flags|=128,l=!0,wr(g,!1),r.lanes=4194304)}else{if(!l)if(n=Va(I),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),wr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!I.alternate&&!zt)return Ht(r),null}else 2*Cn()-g.renderingStartTime>ro&&o!==1073741824&&(r.flags|=128,l=!0,wr(g,!1),r.lanes=4194304);g.isBackwards?(I.sibling=r.child,r.child=I):(n=g.last,n!==null?n.sibling=I:r.child=I,g.last=I)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Cn(),r.sibling=null,n=qt.current,lt(qt,l?n&1|2:n&1),r):(Ht(r),null);case 22:case 23:return da(),o=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(lr&1073741824)!==0&&(Ht(r),Le&&r.subtreeFlags&6&&(r.flags|=8192)):Ht(r),null;case 24:return null;case 25:return null}throw Error(p(156,r.tag))}function Wc(n,r){switch(Ws(r),r.tag){case 1:return xn(r.type)&&co(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mo(),Ze(Wt),Ze(nn),Ul(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Dl(r),null;case 13:if(Ze(qt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(p(340));ho()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ze(qt),null;case 4:return mo(),null;case 10:return Ks(r.type._context),null;case 22:case 23:return da(),null;case 24:return null;default:return null}}var gs=!1,Pn=!1,xr=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Tt(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){jt(n,r,l)}else o.current=null}function Cr(n,r,o){try{o()}catch(l){jt(n,r,l)}}var Zl=!1;function qc(n,r){for(ne(n.containerInfo),Oe=r;Oe!==null;)if(n=Oe,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Oe=r;else for(;Oe!==null;){n=Oe;try{var o=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,g=o.memoizedState,I=n.stateNode,b=I.getSnapshotBeforeUpdate(n.elementType===n.type?l:Sr(n.type,l),g);I.__reactInternalSnapshotBeforeUpdate=b}break;case 3:Le&&Ui(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(se){jt(n,n.return,se)}if(r=n.sibling,r!==null){r.return=n.return,Oe=r;break}Oe=n.return}return o=Zl,Zl=!1,o}function Oo(n,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&n)===n){var I=g.destroy;g.destroy=void 0,I!==void 0&&Cr(r,o,I)}g=g.next}while(g!==l)}}function vs(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function il(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=Q(o);break;default:n=o}typeof r=="function"?r(n):r.current=n}}function oa(n){var r=n.alternate;r!==null&&(n.alternate=null,oa(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Dt(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function eu(n){return n.tag===5||n.tag===3||n.tag===4}function Mo(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eu(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sa(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?rr(o,n,r):Or(o,n);else if(l!==4&&(n=n.child,n!==null))for(sa(n,r,o),n=n.sibling;n!==null;)sa(n,r,o),n=n.sibling}function tu(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?Wo(o,n,r):tr(o,n);else if(l!==4&&(n=n.child,n!==null))for(tu(n,r,o),n=n.sibling;n!==null;)tu(n,r,o),n=n.sibling}var Ot=null,ar=!1;function Er(n,r,o){for(o=o.child;o!==null;)to(n,r,o),o=o.sibling}function to(n,r,o){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Gi,o)}catch{}switch(o.tag){case 5:Pn||Tt(o,r);case 6:if(Le){var l=Ot,g=ar;Ot=null,Er(n,r,o),Ot=l,ar=g,Ot!==null&&(ar?Us(Ot,o.stateNode):kl(Ot,o.stateNode))}else Er(n,r,o);break;case 18:Le&&Ot!==null&&(ar?Je(Ot,o.stateNode):st(Ot,o.stateNode));break;case 4:Le?(l=Ot,g=ar,Ot=o.stateNode.containerInfo,ar=!0,Er(n,r,o),Ot=l,ar=g):(Ye&&(l=o.stateNode.containerInfo,g=js(l),Qo(l,g)),Er(n,r,o));break;case 0:case 11:case 14:case 15:if(!Pn&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){g=l=l.next;do{var I=g,b=I.destroy;I=I.tag,b!==void 0&&((I&2)!==0||(I&4)!==0)&&Cr(o,r,b),g=g.next}while(g!==l)}Er(n,r,o);break;case 1:if(!Pn&&(Tt(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(se){jt(o,r,se)}Er(n,r,o);break;case 21:Er(n,r,o);break;case 22:o.mode&1?(Pn=(l=Pn)||o.memoizedState!==null,Er(n,r,o),Pn=l):Er(n,r,o);break;default:Er(n,r,o)}}function ol(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new xr),r.forEach(function(l){var g=Jc.bind(null,n,l);o.has(l)||(o.add(l),l.then(g,g))})}}function kr(n,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var g=o[l];try{var I=n,b=r;if(Le){var se=b;e:for(;se!==null;){switch(se.tag){case 5:Ot=se.stateNode,ar=!1;break e;case 3:Ot=se.stateNode.containerInfo,ar=!0;break e;case 4:Ot=se.stateNode.containerInfo,ar=!0;break e}se=se.return}if(Ot===null)throw Error(p(160));to(I,b,g),Ot=null,ar=!1}else to(I,b,g);var ve=g.alternate;ve!==null&&(ve.return=null),g.return=null}catch(Re){jt(g,r,Re)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sl(r,n),r=r.sibling}function sl(n,r){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kr(r,n),Dr(n),l&4){try{Oo(3,n,n.return),vs(3,n)}catch(Me){jt(n,n.return,Me)}try{Oo(5,n,n.return)}catch(Me){jt(n,n.return,Me)}}break;case 1:kr(r,n),Dr(n),l&512&&o!==null&&Tt(o,o.return);break;case 5:if(kr(r,n),Dr(n),l&512&&o!==null&&Tt(o,o.return),Le){if(n.flags&32){var g=n.stateNode;try{so(g)}catch(Me){jt(n,n.return,Me)}}if(l&4&&(g=n.stateNode,g!=null)){var I=n.memoizedProps;if(o=o!==null?o.memoizedProps:I,l=n.type,r=n.updateQueue,n.updateQueue=null,r!==null)try{bo(g,r,l,o,I,n)}catch(Me){jt(n,n.return,Me)}}}break;case 6:if(kr(r,n),Dr(n),l&4&&Le){if(n.stateNode===null)throw Error(p(162));g=n.stateNode,I=n.memoizedProps,o=o!==null?o.memoizedProps:I;try{_n(g,o,I)}catch(Me){jt(n,n.return,Me)}}break;case 3:if(kr(r,n),Dr(n),l&4){if(Le&&He&&o!==null&&o.memoizedState.isDehydrated)try{ct(r.containerInfo)}catch(Me){jt(n,n.return,Me)}if(Ye){g=r.containerInfo,I=r.pendingChildren;try{Qo(g,I)}catch(Me){jt(n,n.return,Me)}}}break;case 4:if(kr(r,n),Dr(n),l&4&&Ye){I=n.stateNode,g=I.containerInfo,I=I.pendingChildren;try{Qo(g,I)}catch(Me){jt(n,n.return,Me)}}break;case 13:kr(r,n),Dr(n),g=n.child,g.flags&8192&&(I=g.memoizedState!==null,g.stateNode.isHidden=I,!I||g.alternate!==null&&g.alternate.memoizedState!==null||(la=Cn())),l&4&&ol(n);break;case 22:var b=o!==null&&o.memoizedState!==null;if(n.mode&1?(Pn=(o=Pn)||b,kr(r,n),Pn=o):kr(r,n),Dr(n),l&8192){if(o=n.memoizedState!==null,(n.stateNode.isHidden=o)&&!b&&(n.mode&1)!==0)for(Oe=n,l=n.child;l!==null;){for(r=Oe=l;Oe!==null;){b=Oe;var se=b.child;switch(b.tag){case 0:case 11:case 14:case 15:Oo(4,b,b.return);break;case 1:Tt(b,b.return);var ve=b.stateNode;if(typeof ve.componentWillUnmount=="function"){var Re=b,ze=b.return;try{var tt=Re;ve.props=tt.memoizedProps,ve.state=tt.memoizedState,ve.componentWillUnmount()}catch(Me){jt(Re,ze,Me)}}break;case 5:Tt(b,b.return);break;case 22:if(b.memoizedState!==null){al(r);continue}}se!==null?(se.return=b,Oe=se):al(r)}l=l.sibling}if(Le){e:if(l=null,Le)for(r=n;;){if(r.tag===5){if(l===null){l=r;try{g=r.stateNode,o?qo(g):lo(r.stateNode,r.memoizedProps)}catch(Me){jt(n,n.return,Me)}}}else if(r.tag===6){if(l===null)try{I=r.stateNode,o?ao(I):zi(I,r.memoizedProps)}catch(Me){jt(n,n.return,Me)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:kr(r,n),Dr(n),l&4&&ol(n);break;case 21:break;default:kr(r,n),Dr(n)}}function Dr(n){var r=n.flags;if(r&2){try{if(Le){e:{for(var o=n.return;o!==null;){if(eu(o)){var l=o;break e}o=o.return}throw Error(p(160))}switch(l.tag){case 5:var g=l.stateNode;l.flags&32&&(so(g),l.flags&=-33);var I=Mo(n);tu(n,I,g);break;case 3:case 4:var b=l.stateNode.containerInfo,se=Mo(n);sa(n,se,b);break;default:throw Error(p(161))}}}catch(ve){jt(n,n.return,ve)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ms(n,r,o){Oe=n,Pr(n)}function Pr(n,r,o){for(var l=(n.mode&1)!==0;Oe!==null;){var g=Oe,I=g.child;if(g.tag===22&&l){var b=g.memoizedState!==null||gs;if(!b){var se=g.alternate,ve=se!==null&&se.memoizedState!==null||Pn;se=gs;var Re=Pn;if(gs=b,(Pn=ve)&&!Re)for(Oe=g;Oe!==null;)b=Oe,ve=b.child,b.tag===22&&b.memoizedState!==null?nu(g):ve!==null?(ve.return=b,Oe=ve):nu(g);for(;I!==null;)Oe=I,Pr(I),I=I.sibling;Oe=g,gs=se,Pn=Re}no(n)}else(g.subtreeFlags&8772)!==0&&I!==null?(I.return=g,Oe=I):no(n)}}function no(n){for(;Oe!==null;){var r=Oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Pn||vs(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Pn)if(o===null)l.componentDidMount();else{var g=r.elementType===r.type?o.memoizedProps:Sr(r.type,o.memoizedProps);l.componentDidUpdate(g,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var I=r.updateQueue;I!==null&&Dc(r,I,l);break;case 3:var b=r.updateQueue;if(b!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=Q(r.child.stateNode);break;case 1:o=r.child.stateNode}Dc(r,b,o)}break;case 5:var se=r.stateNode;o===null&&r.flags&4&&nr(se,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&r.memoizedState===null){var ve=r.alternate;if(ve!==null){var Re=ve.memoizedState;if(Re!==null){var ze=Re.dehydrated;ze!==null&&$e(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}Pn||r.flags&512&&il(r)}catch(tt){jt(r,r.return,tt)}}if(r===n){Oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,Oe=o;break}Oe=r.return}}function al(n){for(;Oe!==null;){var r=Oe;if(r===n){Oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Oe=o;break}Oe=r.return}}function nu(n){for(;Oe!==null;){var r=Oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{vs(4,r)}catch(ve){jt(r,o,ve)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var g=r.return;try{l.componentDidMount()}catch(ve){jt(r,g,ve)}}var I=r.return;try{il(r)}catch(ve){jt(r,I,ve)}break;case 5:var b=r.return;try{il(r)}catch(ve){jt(r,b,ve)}}}catch(ve){jt(r,r.return,ve)}if(r===n){Oe=null;break}var se=r.sibling;if(se!==null){se.return=r.return,Oe=se;break}Oe=r.return}}var zr=0,Qr=1,ys=2,aa=3,Ur=4;if(typeof Symbol=="function"&&Symbol.for){var jr=Symbol.for;zr=jr("selector.component"),Qr=jr("selector.has_pseudo_class"),ys=jr("selector.role"),aa=jr("selector.test_id"),Ur=jr("selector.text")}function _s(n){var r=Gt(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(p(364));return r}if(n=pt(n),n===null)throw Error(p(362));return n.stateNode.current}function ll(n,r){switch(r.$$typeof){case zr:if(n.type===r.value)return!0;break;case Qr:e:{r=r.value,n=[n,0];for(var o=0;o<n.length;){var l=n[o++],g=n[o++],I=r[g];if(l.tag!==5||!fn(l)){for(;I!=null&&ll(l,I);)g++,I=r[g];if(g===r.length){r=!0;break e}else for(l=l.child;l!==null;)n.push(l,g),l=l.sibling}}r=!1}return r;case ys:if(n.tag===5&&Yt(n.stateNode,r.value))return!0;break;case Ur:if((n.tag===5||n.tag===6)&&(n=Tn(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case aa:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(p(365))}return!1}function Ss(n){switch(n.$$typeof){case zr:return"<"+(K(n.value)||"Unknown")+">";case Qr:return":has("+(Ss(n)||"")+")";case ys:return'[role="'+n.value+'"]';case Ur:return'"'+n.value+'"';case aa:return'[data-testname="'+n.value+'"]';default:throw Error(p(365))}}function ru(n,r){var o=[];n=[n,0];for(var l=0;l<n.length;){var g=n[l++],I=n[l++],b=r[I];if(g.tag!==5||!fn(g)){for(;b!=null&&ll(g,b);)I++,b=r[I];if(I===r.length)o.push(g);else for(g=g.child;g!==null;)n.push(g,I),g=g.sibling}}return o}function ul(n,r){if(!wt)throw Error(p(363));n=_s(n),n=ru(n,r),r=[],n=Array.from(n);for(var o=0;o<n.length;){var l=n[o++];if(l.tag===5)fn(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)n.push(l),l=l.sibling}return r}var iu=Math.ceil,Io=S.ReactCurrentDispatcher,cl=S.ReactCurrentOwner,Qt=S.ReactCurrentBatchConfig,dt=0,on=null,$t=null,sn=0,lr=0,Lo=yt(0),Vt=0,ws=null,Xr=0,Rr=0,Fo=0,Pi=null,an=null,la=0,ro=1/0,di=null;function io(){ro=Cn()+500}var Ft=!1,xs=null,fi=null,Cs=!1,Jr=null,Es=0,Zr=0,Ut=null,Xt=-1,en=0;function vn(){return(dt&6)!==0?Cn():Xt!==-1?Xt:Xt=Cn()}function Gr(n){return(n.mode&1)===0?1:(dt&2)!==0&&sn!==0?sn&-sn:Dd.transition!==null?(en===0&&(en=Aa()),en):(n=gt,n!==0?n:dn())}function Gn(n,r,o,l){if(50<Zr)throw Zr=0,Ut=null,Error(p(185));Mr(n,o,l),((dt&2)===0||n!==on)&&(n===on&&((dt&2)===0&&(Rr|=o),Vt===4&&Fn(n,sn)),ur(n,l),o===1&&dt===0&&(r.mode&1)===0&&(io(),rs&&An()))}function ur(n,r){var o=n.callbackNode;Cc(n,r);var l=Zo(n,n===on?sn:0);if(l===0)o!==null&&Ec(o),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(o!=null&&Ec(o),r===1)n.tag===0?Pc(Tr.bind(null,n)):Fa(Tr.bind(null,n)),Jt?bt(function(){(dt&6)===0&&An()}):si(Oa,An),o=null;else{switch(ts(l)){case 1:o=Oa;break;case 4:o=Ma;break;case 16:o=Ia;break;case 536870912:o=Fd;break;default:o=Ia}o=fl(o,Ln.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Ln(n,r){if(Xt=-1,en=0,(dt&6)!==0)throw Error(p(327));var o=n.callbackNode;if(hi()&&n.callbackNode!==o)return null;var l=Zo(n,n===on?sn:0);if(l===0)return null;if((l&30)!==0||(l&n.expiredLanes)!==0||r)r=fa(n,l);else{r=l;var g=dt;dt|=2;var I=au();(on!==n||sn!==r)&&(di=null,io(),Ri(n,r));do try{Yc();break}catch(se){su(n,se)}while(!0);Ml(),Io.current=I,dt=g,$t!==null?r=0:(on=null,sn=0,r=Vt)}if(r!==0){if(r===2&&(g=Na(n),g!==0&&(l=g,r=ua(n,g))),r===1)throw o=ws,Ri(n,0),Fn(n,l),ur(n,Cn()),o;if(r===6)Fn(n,l);else{if(g=n.current.alternate,(l&30)===0&&!ou(g)&&(r=fa(n,l),r===2&&(I=Na(n),I!==0&&(l=I,r=ua(n,I))),r===1))throw o=ws,Ri(n,0),Fn(n,l),ur(n,Cn()),o;switch(n.finishedWork=g,n.finishedLanes=l,r){case 0:case 1:throw Error(p(345));case 2:ei(n,an,di);break;case 3:if(Fn(n,l),(l&130023424)===l&&(r=la+500-Cn(),10<r)){if(Zo(n,0)!==0)break;if(g=n.suspendedLanes,(g&l)!==l){vn(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Z(ei.bind(null,n,an,di),r);break}ei(n,an,di);break;case 4:if(Fn(n,l),(l&4194240)===l)break;for(r=n.eventTimes,g=-1;0<l;){var b=31-gr(l);I=1<<b,b=r[b],b>g&&(g=b),l&=~I}if(l=g,l=Cn()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*iu(l/1960))-l,10<l){n.timeoutHandle=Z(ei.bind(null,n,an,di),l);break}ei(n,an,di);break;case 5:ei(n,an,di);break;default:throw Error(p(329))}}}return ur(n,Cn()),n.callbackNode===o?Ln.bind(null,n):null}function ua(n,r){var o=Pi;return n.current.memoizedState.isDehydrated&&(Ri(n,r).flags|=256),n=fa(n,r),n!==2&&(r=an,an=o,r!==null&&ca(r)),n}function ca(n){an===null?an=n:an.push.apply(an,n)}function ou(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var g=o[l],I=g.getSnapshot;g=g.value;try{if(!br(I(),g))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fn(n,r){for(r&=~Fo,r&=~Rr,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-gr(r),l=1<<o;n[o]=-1,r&=~l}}function Tr(n){if((dt&6)!==0)throw Error(p(327));hi();var r=Zo(n,0);if((r&1)===0)return ur(n,Cn()),null;var o=fa(n,r);if(n.tag!==0&&o===2){var l=Na(n);l!==0&&(r=l,o=ua(n,l))}if(o===1)throw o=ws,Ri(n,0),Fn(n,r),ur(n,Cn()),o;if(o===6)throw Error(p(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ei(n,an,di),ur(n,Cn()),null}function ks(n){Jr!==null&&Jr.tag===0&&(dt&6)===0&&hi();var r=dt;dt|=1;var o=Qt.transition,l=gt;try{if(Qt.transition=null,gt=1,n)return n()}finally{gt=l,Qt.transition=o,dt=r,(dt&6)===0&&An()}}function da(){lr=Lo.current,Ze(Lo)}function Ri(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==we&&(n.timeoutHandle=we,de(o)),$t!==null)for(o=$t.return;o!==null;){var l=o;switch(Ws(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&co();break;case 3:mo(),Ze(Wt),Ze(nn),Ul();break;case 5:Dl(l);break;case 4:mo();break;case 13:Ze(qt);break;case 19:Ze(qt);break;case 10:Ks(l.type._context);break;case 22:case 23:da()}o=o.return}if(on=n,$t=n=Ti(n.current,null),sn=lr=r,Vt=0,ws=null,Fo=Rr=Xr=0,an=Pi=null,Hi!==null){for(r=0;r<Hi.length;r++)if(o=Hi[r],l=o.interleaved,l!==null){o.interleaved=null;var g=l.next,I=o.pending;if(I!==null){var b=I.next;I.next=g,l.next=b}o.pending=l}Hi=null}return n}function su(n,r){do{var o=$t;try{if(Ml(),sr.current=Eo,us){for(var l=Bt.memoizedState;l!==null;){var g=l.queue;g!==null&&(g.pending=null),l=l.next}us=!1}if(Wi=0,pn=rn=Bt=null,Qs=!1,Xs=0,cl.current=null,o===null||o.return===null){Vt=1,ws=r,$t=null;break}e:{var I=n,b=o.return,se=o,ve=r;if(r=sn,se.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Re=ve,ze=se,tt=ze.tag;if((ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Mt=Vc(b);if(Mt!==null){Mt.flags&=-257,Yi(Mt,b,se,I,r),Mt.mode&1&&$c(I,Re,r),r=Mt,ve=Re;var Nt=r.updateQueue;if(Nt===null){var Bn=new Set;Bn.add(ve),r.updateQueue=Bn}else Nt.add(ve);break e}else{if((r&1)===0){$c(I,Re,r),dl();break e}ve=Error(p(426))}}else if(zt&&se.mode&1){var pi=Vc(b);if(pi!==null){(pi.flags&65536)===0&&(pi.flags|=256),Yi(pi,b,se,I,r),Al(ko(ve,se));break e}}I=ve=ko(ve,se),Vt!==4&&(Vt=2),Pi===null?Pi=[I]:Pi.push(I),I=b;do{switch(I.tag){case 3:I.flags|=65536,r&=-r,I.lanes|=r;var pe=li(I,ve,r);as(I,pe);break e;case 1:se=ve;var ce=I.type,me=I.stateNode;if((I.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(fi===null||!fi.has(me)))){I.flags|=65536,r&=-r,I.lanes|=r;var Ie=el(I,se,r);as(I,Ie);break e}}I=I.return}while(I!==null)}uu(o)}catch(Ke){r=Ke,$t===o&&o!==null&&($t=o=o.return);continue}break}while(!0)}function au(){var n=Io.current;return Io.current=Eo,n===null?Eo:n}function dl(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),on===null||(Xr&268435455)===0&&(Rr&268435455)===0||Fn(on,sn)}function fa(n,r){var o=dt;dt|=2;var l=au();(on!==n||sn!==r)&&(di=null,Ri(n,r));do try{Kc();break}catch(g){su(n,g)}while(!0);if(Ml(),dt=o,Io.current=l,$t!==null)throw Error(p(261));return on=null,sn=0,Vt}function Kc(){for(;$t!==null;)lu($t)}function Yc(){for(;$t!==null&&!kc();)lu($t)}function lu(n){var r=fu(n.alternate,n,lr);n.memoizedProps=n.pendingProps,r===null?uu(n):$t=r,cl.current=null}function uu(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=Ao(o,r,lr),o!==null){$t=o;return}}else{if(o=Wc(o,r),o!==null){o.flags&=32767,$t=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,$t=null;return}}if(r=r.sibling,r!==null){$t=r;return}$t=r=n}while(r!==null);Vt===0&&(Vt=5)}function ei(n,r,o){var l=gt,g=Qt.transition;try{Qt.transition=null,gt=1,Qc(n,r,o,l)}finally{Qt.transition=g,gt=l}return null}function Qc(n,r,o,l){do hi();while(Jr!==null);if((dt&6)!==0)throw Error(p(327));o=n.finishedWork;var g=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(p(177));n.callbackNode=null,n.callbackPriority=0;var I=o.lanes|o.childLanes;if(ji(n,I),n===on&&($t=on=null,sn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Cs||(Cs=!0,fl(Ia,function(){return hi(),null})),I=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||I){I=Qt.transition,Qt.transition=null;var b=gt;gt=1;var se=dt;dt|=4,cl.current=null,qc(n,o),sl(o,n),V(n.containerInfo),n.current=o,ms(o),$s(),dt=se,gt=b,Qt.transition=I}else n.current=o;if(Cs&&(Cs=!1,Jr=n,Es=g),I=n.pendingLanes,I===0&&(fi=null),ns(o.stateNode),ur(n,Cn()),r!==null)for(l=n.onRecoverableError,o=0;o<r.length;o++)g=r[o],l(g.value,{componentStack:g.stack,digest:g.digest});if(Ft)throw Ft=!1,n=xs,xs=null,n;return(Es&1)!==0&&n.tag!==0&&hi(),I=n.pendingLanes,(I&1)!==0?n===Ut?Zr++:(Zr=0,Ut=n):Zr=0,An(),null}function hi(){if(Jr!==null){var n=ts(Es),r=Qt.transition,o=gt;try{if(Qt.transition=null,gt=16>n?16:n,Jr===null)var l=!1;else{if(n=Jr,Jr=null,Es=0,(dt&6)!==0)throw Error(p(331));var g=dt;for(dt|=4,Oe=n.current;Oe!==null;){var I=Oe,b=I.child;if((Oe.flags&16)!==0){var se=I.deletions;if(se!==null){for(var ve=0;ve<se.length;ve++){var Re=se[ve];for(Oe=Re;Oe!==null;){var ze=Oe;switch(ze.tag){case 0:case 11:case 15:Oo(8,ze,I)}var tt=ze.child;if(tt!==null)tt.return=ze,Oe=tt;else for(;Oe!==null;){ze=Oe;var Me=ze.sibling,Mt=ze.return;if(oa(ze),ze===Re){Oe=null;break}if(Me!==null){Me.return=Mt,Oe=Me;break}Oe=Mt}}}var Nt=I.alternate;if(Nt!==null){var Bn=Nt.child;if(Bn!==null){Nt.child=null;do{var pi=Bn.sibling;Bn.sibling=null,Bn=pi}while(Bn!==null)}}Oe=I}}if((I.subtreeFlags&2064)!==0&&b!==null)b.return=I,Oe=b;else e:for(;Oe!==null;){if(I=Oe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Oo(9,I,I.return)}var pe=I.sibling;if(pe!==null){pe.return=I.return,Oe=pe;break e}Oe=I.return}}var ce=n.current;for(Oe=ce;Oe!==null;){b=Oe;var me=b.child;if((b.subtreeFlags&2064)!==0&&me!==null)me.return=b,Oe=me;else e:for(b=ce;Oe!==null;){if(se=Oe,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:vs(9,se)}}catch(Ke){jt(se,se.return,Ke)}if(se===b){Oe=null;break e}var Ie=se.sibling;if(Ie!==null){Ie.return=se.return,Oe=Ie;break e}Oe=se.return}}if(dt=g,An(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Gi,n)}catch{}l=!0}return l}finally{gt=o,Qt.transition=r}}return!1}function ha(n,r,o){r=ko(o,r),r=li(n,r,1),n=xi(n,r,1),r=vn(),n!==null&&(Mr(n,1,r),ur(n,r))}function jt(n,r,o){if(n.tag===3)ha(n,n,o);else for(;r!==null;){if(r.tag===3){ha(r,n,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fi===null||!fi.has(l))){n=ko(o,n),n=el(r,n,1),r=xi(r,n,1),n=vn(),r!==null&&(Mr(r,1,n),ur(r,n));break}}r=r.return}}function cu(n,r,o){var l=n.pingCache;l!==null&&l.delete(r),r=vn(),n.pingedLanes|=n.suspendedLanes&o,on===n&&(sn&o)===o&&(Vt===4||Vt===3&&(sn&130023424)===sn&&500>Cn()-la?Ri(n,0):Fo|=o),ur(n,r)}function du(n,r){r===0&&((n.mode&1)===0?r=1:(r=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var o=vn();n=Yr(n,r),n!==null&&(Mr(n,r,o),ur(n,o))}function Xc(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),du(n,o)}function Jc(n,r){var o=0;switch(n.tag){case 13:var l=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(p(314))}l!==null&&l.delete(r),du(n,o)}var fu;fu=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Wt.current)gn=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return gn=!1,Xi(n,r,o);gn=(n.flags&131072)!==0}else gn=!1,zt&&(r.flags&1048576)!==0&&Rc(r,fo,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;ia(n,r),n=r.pendingProps;var g=yi(r,nn.current);ss(r,o),g=Js(null,r,l,n,g,o);var I=ba();return r.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,xn(l)?(I=!0,Xo(r)):I=!1,r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ll(r),g.updater=ta,r.stateNode=g,g._reactInternals=r,ai(r,l,n,o),r=Un(null,r,l,!0,I,o)):(r.tag=0,zt&&I&&bs(r),kn(null,r,g,o),r=r.child),r;case 16:l=r.elementType;e:{switch(ia(n,r),n=r.pendingProps,g=l._init,l=g(l._payload),r.type=l,g=r.tag=jd(l),n=Sr(l,n),g){case 0:r=ui(null,r,l,n,o);break e;case 1:r=In(null,r,l,n,o);break e;case 11:r=tl(null,r,l,n,o);break e;case 14:r=Po(null,r,l,Sr(l.type,n),o);break e}throw Error(p(306,l,""))}return r;case 0:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),ui(n,r,l,g,o);case 1:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),In(n,r,l,g,o);case 3:e:{if(Qi(r),n===null)throw Error(p(387));l=r.pendingProps,I=r.memoizedState,g=I.element,Fc(n,r),$i(r,l,null,o);var b=r.memoizedState;if(l=b.element,He&&I.isDehydrated)if(I={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=I,r.memoizedState=I,r.flags&256){g=ko(Error(p(423)),r),r=Ro(n,r,l,o,g);break e}else if(l!==g){g=ko(Error(p(424)),r),r=Ro(n,r,l,o,g);break e}else for(He&&(Kn=_e(r.stateNode.containerInfo),On=r,zt=!0,Kr=null,qs=!1),o=Ic(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ho(),l===g){r=ki(n,r,o);break e}kn(n,r,l,o)}r=r.child}return r;case 5:return Fl(r),n===null&&Nl(r),l=r.type,g=r.pendingProps,I=n!==null?n.memoizedProps:null,b=g.children,Ae(l,g)?b=null:I!==null&&Ae(l,I)&&(r.flags|=32),At(n,r),kn(n,r,b,o),r.child;case 6:return n===null&&Nl(r),null;case 13:return Jl(n,r,o);case 4:return $a(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=go(r,null,l,o):kn(n,r,l,o),r.child;case 11:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),tl(n,r,l,g,o);case 7:return kn(n,r,r.pendingProps,o),r.child;case 8:return kn(n,r,r.pendingProps.children,o),r.child;case 12:return kn(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,g=r.pendingProps,I=r.memoizedProps,b=g.value,Lc(r,l,b),I!==null)if(br(I.value,b)){if(I.children===g.children&&!Wt.current){r=ki(n,r,o);break e}}else for(I=r.child,I!==null&&(I.return=r);I!==null;){var se=I.dependencies;if(se!==null){b=I.child;for(var ve=se.firstContext;ve!==null;){if(ve.context===l){if(I.tag===1){ve=wi(-1,o&-o),ve.tag=2;var Re=I.updateQueue;if(Re!==null){Re=Re.shared;var ze=Re.pending;ze===null?ve.next=ve:(ve.next=ze.next,ze.next=ve),Re.pending=ve}}I.lanes|=o,ve=I.alternate,ve!==null&&(ve.lanes|=o),vo(I.return,o,r),se.lanes|=o;break}ve=ve.next}}else if(I.tag===10)b=I.type===r.type?null:I.child;else if(I.tag===18){if(b=I.return,b===null)throw Error(p(341));b.lanes|=o,se=b.alternate,se!==null&&(se.lanes|=o),vo(b,o,r),b=I.sibling}else b=I.child;if(b!==null)b.return=I;else for(b=I;b!==null;){if(b===r){b=null;break}if(I=b.sibling,I!==null){I.return=b.return,b=I;break}b=b.return}I=b}kn(n,r,g.children,o),r=r.child}return r;case 9:return g=r.type,l=r.pendingProps.children,ss(r,o),g=mr(g),l=l(g),r.flags|=1,kn(n,r,l,o),r.child;case 14:return l=r.type,g=Sr(l,r.pendingProps),g=Sr(l.type,g),Po(n,r,l,g,o);case 15:return Ei(n,r,r.type,r.pendingProps,o);case 17:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),ia(n,r),r.tag=1,xn(l)?(n=!0,Xo(r)):n=!1,ss(r,o),Hc(r,l,g),ai(r,l,g,o),Un(null,r,l,!0,n,o);case 19:return rl(n,r,o);case 22:return Lt(n,r,o)}throw Error(p(156,r.tag))};function fl(n,r){return si(n,r)}function Zc(n,r,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(n,r,o,l){return new Zc(n,r,o,l)}function hl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jd(n){if(typeof n=="function")return hl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N)return 11;if(n===E)return 14}return 2}function Ti(n,r){var o=n.alternate;return o===null?(o=Nr(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function pl(n,r,o,l,g,I){var b=2;if(l=n,typeof n=="function")hl(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case P:return Do(o.children,g,I,r);case f:b=8,g|=8;break;case C:return n=Nr(12,o,r,g|2),n.elementType=C,n.lanes=I,n;case T:return n=Nr(13,o,r,g),n.elementType=T,n.lanes=I,n;case D:return n=Nr(19,o,r,g),n.elementType=D,n.lanes=I,n;case O:return pa(o,g,I,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:b=10;break e;case m:b=9;break e;case N:b=11;break e;case E:b=14;break e;case v:b=16,l=null;break e}throw Error(p(130,n==null?n:typeof n,""))}return r=Nr(b,o,r,g),r.elementType=n,r.type=l,r.lanes=I,r}function Do(n,r,o,l){return n=Nr(7,n,l,r),n.lanes=o,n}function pa(n,r,o,l){return n=Nr(22,n,l,r),n.elementType=O,n.lanes=o,n.stateNode={isHidden:!1},n}function gl(n,r,o){return n=Nr(6,n,null,r),n.lanes=o,n}function vl(n,r,o){return r=Nr(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ml(n,r,o,l,g){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=we,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=l,this.onRecoverableError=g,He&&(this.mutableSourceEagerHydrationData=null)}function ed(n,r,o,l,g,I,b,se,ve){return n=new ml(n,r,o,se,ve),r===1?(r=1,I===!0&&(r|=8)):r=0,I=Nr(3,null,null,r),n.current=I,I.stateNode=n,I.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(I),n}function td(n){if(!n)return wn;n=n._reactInternals;e:{if(W(n)!==n||n.tag!==1)throw Error(p(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(xn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(p(171))}if(n.tag===1){var o=n.type;if(xn(o))return wc(n,o,r)}return r}function nd(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(p(188)):(n=Object.keys(n).join(","),Error(p(268,n)));return n=ie(r),n===null?null:n.stateNode}function zo(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Ps(n,r){zo(n,r),(n=n.alternate)&&zo(n,r)}function hu(n){return n=ie(n),n===null?null:n.stateNode}function Gd(){return null}return c.attemptContinuousHydration=function(n){if(n.tag===13){var r=Yr(n,134217728);if(r!==null){var o=vn();Gn(r,n,134217728,o)}Ps(n,134217728)}},c.attemptDiscreteHydration=function(n){if(n.tag===13){var r=Yr(n,1);if(r!==null){var o=vn();Gn(r,n,1,o)}Ps(n,1)}},c.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Gr(n),o=Yr(n,r);if(o!==null){var l=vn();Gn(o,n,r,l)}Ps(n,r)}},c.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Jo(r.pendingLanes);o!==0&&(oi(r,o|1),ur(r,Cn()),(dt&6)===0&&(io(),An()))}break;case 13:ks(function(){var l=Yr(n,1);if(l!==null){var g=vn();Gn(l,n,1,g)}}),Ps(n,1)}},c.batchedUpdates=function(n,r){var o=dt;dt|=1;try{return n(r)}finally{dt=o,dt===0&&(io(),rs&&An())}},c.createComponentSelector=function(n){return{$$typeof:zr,value:n}},c.createContainer=function(n,r,o,l,g,I,b){return ed(n,r,!1,null,o,l,g,I,b)},c.createHasPseudoClassSelector=function(n){return{$$typeof:Qr,value:n}},c.createHydrationContainer=function(n,r,o,l,g,I,b,se,ve){return n=ed(o,l,!0,n,g,I,b,se,ve),n.context=td(null),o=n.current,l=vn(),g=Gr(o),I=wi(l,g),I.callback=r??null,xi(o,I,g),n.current.lanes=g,Mr(n,g,l),ur(n,l),n},c.createPortal=function(n,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:l==null?null:""+l,children:n,containerInfo:r,implementation:o}},c.createRoleSelector=function(n){return{$$typeof:ys,value:n}},c.createTestNameSelector=function(n){return{$$typeof:aa,value:n}},c.createTextSelector=function(n){return{$$typeof:Ur,value:n}},c.deferredUpdates=function(n){var r=gt,o=Qt.transition;try{return Qt.transition=null,gt=16,n()}finally{gt=r,Qt.transition=o}},c.discreteUpdates=function(n,r,o,l,g){var I=gt,b=Qt.transition;try{return Qt.transition=null,gt=1,n(r,o,l,g)}finally{gt=I,Qt.transition=b,dt===0&&io()}},c.findAllNodes=ul,c.findBoundingRects=function(n,r){if(!wt)throw Error(p(363));r=ul(n,r),n=[];for(var o=0;o<r.length;o++)n.push(bn(r[o]));for(r=n.length-1;0<r;r--){o=n[r];for(var l=o.x,g=l+o.width,I=o.y,b=I+o.height,se=r-1;0<=se;se--)if(r!==se){var ve=n[se],Re=ve.x,ze=Re+ve.width,tt=ve.y,Me=tt+ve.height;if(l>=Re&&I>=tt&&g<=ze&&b<=Me){n.splice(r,1);break}else if(l!==Re||o.width!==ve.width||Me<I||tt>b){if(!(I!==tt||o.height!==ve.height||ze<l||Re>g)){Re>l&&(ve.width+=Re-l,ve.x=l),ze<g&&(ve.width=g-Re),n.splice(r,1);break}}else{tt>I&&(ve.height+=tt-I,ve.y=I),Me<b&&(ve.height=b-tt),n.splice(r,1);break}}}return n},c.findHostInstance=nd,c.findHostInstanceWithNoPortals=function(n){return n=Y(n),n=n!==null?j(n):null,n===null?null:n.stateNode},c.findHostInstanceWithWarning=function(n){return nd(n)},c.flushControlled=function(n){var r=dt;dt|=1;var o=Qt.transition,l=gt;try{Qt.transition=null,gt=1,n()}finally{gt=l,Qt.transition=o,dt=r,dt===0&&(io(),An())}},c.flushPassiveEffects=hi,c.flushSync=ks,c.focusWithin=function(n,r){if(!wt)throw Error(p(363));for(n=_s(n),r=ru(n,r),r=Array.from(r),n=0;n<r.length;){var o=r[n++];if(!fn(o)){if(o.tag===5&&tn(o.stateNode))return!0;for(o=o.child;o!==null;)r.push(o),o=o.sibling}}return!1},c.getCurrentUpdatePriority=function(){return gt},c.getFindAllNodesFailureDescription=function(n,r){if(!wt)throw Error(p(363));var o=0,l=[];n=[_s(n),0];for(var g=0;g<n.length;){var I=n[g++],b=n[g++],se=r[b];if((I.tag!==5||!fn(I))&&(ll(I,se)&&(l.push(Ss(se)),b++,b>o&&(o=b)),b<r.length))for(I=I.child;I!==null;)n.push(I,b),I=I.sibling}if(o<r.length){for(n=[];o<r.length;o++)n.push(Ss(r[o]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},c.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return Q(n.child.stateNode);default:return n.child.stateNode}},c.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:hu,findFiberByHostInstance:n.findFiberByHostInstance||Gd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{Gi=r.inject(n),ir=r}catch{}n=!!r.checkDCE}}return n},c.isAlreadyRendering=function(){return!1},c.observeVisibleRects=function(n,r,o,l){if(!wt)throw Error(p(363));n=ul(n,r);var g=fr(n,o,l).disconnect;return{disconnect:function(){g()}}},c.registerMutableSourceForHydration=function(n,r){var o=r._getVersion;o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o)},c.runWithPriority=function(n,r){var o=gt;try{return gt=n,r()}finally{gt=o}},c.shouldError=function(){return null},c.shouldSuspend=function(){return!1},c.updateContainer=function(n,r,o,l){var g=r.current,I=vn(),b=Gr(g);return o=td(o),r.context===null?r.context=o:r.pendingContext=o,r=wi(I,b),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=xi(g,r,b),n!==null&&(Gn(n,g,b,I),Ys(n,g,b)),b},c}),Af}var pp;function Yv(){return pp||(pp=1,Nf.exports=Kv()),Nf.exports}var Qv=Yv();const Xv=Pd(Qv);var Of={exports:{}},Ls={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Jv(){return gp||(gp=1,Ls.ConcurrentRoot=1,Ls.ContinuousEventPriority=4,Ls.DefaultEventPriority=16,Ls.DiscreteEventPriority=1,Ls.IdleEventPriority=536870912,Ls.LegacyRoot=0),Ls}var vp;function Zv(){return vp||(vp=1,Of.exports=Jv()),Of.exports}var r1=Zv(),em=vt();const mp={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let yp=!1,_p=!1;const Vf=".react-konva-event",tm=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,nm=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,rm={};function Id(a,u,c=rm){if(!yp&&"zIndex"in u&&(console.warn(nm),yp=!0),!_p&&u.draggable){var x=u.x!==void 0||u.y!==void 0,A=u.onDragEnd||u.onDragMove;x&&!A&&(console.warn(tm),_p=!0)}for(var _ in c)if(!mp[_]){var p=_.slice(0,2)==="on",S=c[_]!==u[_];if(p&&S){var R=_.substr(2).toLowerCase();R.substr(0,7)==="content"&&(R="content"+R.substr(7,1).toUpperCase()+R.substr(8)),a.off(R,c[_])}var w=!u.hasOwnProperty(_);w&&a.setAttr(_,void 0)}var P=u._useStrictMode,f={},C=!1;const y={};for(var _ in u)if(!mp[_]){var p=_.slice(0,2)==="on",m=c[_]!==u[_];if(p&&m){var R=_.substr(2).toLowerCase();R.substr(0,7)==="content"&&(R="content"+R.substr(7,1).toUpperCase()+R.substr(8)),u[_]&&(y[R]=u[_])}!p&&(u[_]!==c[_]||P&&u[_]!==a.getAttr(_))&&(C=!0,f[_]=u[_])}C&&(a.setAttrs(f),zs(a));for(var R in y)a.on(R+Vf,y[R])}function zs(a){if(!em.Konva.autoDrawEnabled){var u=a.getLayer()||a.getStage();u&&u.batchDraw()}}var Mf=zf();const i1={},im={};yc.Node.prototype._applyProps=Id;function om(a,u){if(typeof u=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${u}`);return}a.add(u),zs(a)}function sm(a,u,c){let x=yc[a];x||(console.error(`Konva has no node with the type ${a}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${a}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),x=yc.Group);const A={},_={};for(var p in u){var S=p.slice(0,2)==="on";S?_[p]=u[p]:A[p]=u[p]}const R=new x(A);return Id(R,_),R}function am(a,u,c){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${a}"`)}function lm(a,u,c){return!1}function um(a){return a}function cm(){return null}function dm(){return null}function fm(a,u,c,x){return im}function hm(){}function pm(a){}function gm(a,u){return!1}function vm(){return i1}function mm(){return i1}const ym=setTimeout,_m=clearTimeout,Sm=-1;function wm(a,u){return!1}const xm=!1,Cm=!0,Em=!0;function km(a,u){u.parent===a?u.moveToTop():a.add(u),zs(a)}function Pm(a,u){u.parent===a?u.moveToTop():a.add(u),zs(a)}function o1(a,u,c){u._remove(),a.add(u),u.setZIndex(c.getZIndex()),zs(a)}function Rm(a,u,c){o1(a,u,c)}function Tm(a,u){u.destroy(),u.off(Vf),zs(a)}function Nm(a,u){u.destroy(),u.off(Vf),zs(a)}function Am(a,u,c){console.error(`Text components are not yet supported in ReactKonva. You text is: "${c}"`)}function Om(a,u,c){}function Mm(a,u,c,x,A){Id(a,A,x)}function Im(a){a.hide(),zs(a)}function Lm(a){}function Fm(a,u){(u.visible==null||u.visible)&&a.show()}function Dm(a,u){}function zm(a){}function Um(){}const jm=()=>r1.DefaultEventPriority,Gm=Object.freeze(Object.defineProperty({__proto__:null,appendChild:km,appendChildToContainer:Pm,appendInitialChild:om,cancelTimeout:_m,clearContainer:zm,commitMount:Om,commitTextUpdate:Am,commitUpdate:Mm,createInstance:sm,createTextInstance:am,detachDeletedInstance:Um,finalizeInitialChildren:lm,getChildHostContext:mm,getCurrentEventPriority:jm,getPublicInstance:um,getRootHostContext:vm,hideInstance:Im,hideTextInstance:Lm,idlePriority:Mf.unstable_IdlePriority,insertBefore:o1,insertInContainerBefore:Rm,isPrimaryRenderer:xm,noTimeout:Sm,now:Mf.unstable_now,prepareForCommit:cm,preparePortalMount:dm,prepareUpdate:fm,removeChild:Tm,removeChildFromContainer:Nm,resetAfterCommit:hm,resetTextContent:pm,run:Mf.unstable_runWithPriority,scheduleTimeout:ym,shouldDeprioritizeSubtree:gm,shouldSetTextContent:wm,supportsMutation:Em,unhideInstance:Fm,unhideTextInstance:Dm,warnsIfNotActing:Cm},Symbol.toStringTag,{value:"Module"}));var Bm=Object.defineProperty,Hm=Object.defineProperties,$m=Object.getOwnPropertyDescriptors,Sp=Object.getOwnPropertySymbols,Vm=Object.prototype.hasOwnProperty,bm=Object.prototype.propertyIsEnumerable,wp=(a,u,c)=>u in a?Bm(a,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[u]=c,xp=(a,u)=>{for(var c in u||(u={}))Vm.call(u,c)&&wp(a,c,u[c]);if(Sp)for(var c of Sp(u))bm.call(u,c)&&wp(a,c,u[c]);return a},Wm=(a,u)=>Hm(a,$m(u)),Cp,Ep;typeof window<"u"&&((Cp=window.document)!=null&&Cp.createElement||((Ep=window.navigator)==null?void 0:Ep.product)==="ReactNative")?Ce.useLayoutEffect:Ce.useEffect;function s1(a,u,c){if(!a)return;if(c(a)===!0)return a;let x=a.child;for(;x;){const A=s1(x,u,c);if(A)return A;x=x.sibling}}function a1(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const kp=console.error;console.error=function(){const a=[...arguments].join("");if(a!=null&&a.startsWith("Warning:")&&a.includes("useContext")){console.error=kp;return}return kp.apply(this,arguments)};const bf=a1(Ce.createContext(null));class l1 extends Ce.Component{render(){return Ce.createElement(bf.Provider,{value:this._reactInternals},this.props.children)}}function qm(){const a=Ce.useContext(bf);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const u=Ce.useId();return Ce.useMemo(()=>{for(const x of[a,a==null?void 0:a.alternate]){if(!x)continue;const A=s1(x,!1,_=>{let p=_.memoizedState;for(;p;){if(p.memoizedState===u)return!0;p=p.next}});if(A)return A}},[a,u])}function Km(){const a=qm(),[u]=Ce.useState(()=>new Map);u.clear();let c=a;for(;c;){if(c.type&&typeof c.type=="object"){const A=c.type._context===void 0&&c.type.Provider===c.type?c.type:c.type._context;A&&A!==bf&&!u.has(A)&&u.set(A,Ce.useContext(a1(A)))}c=c.return}return u}function Ym(){const a=Km();return Ce.useMemo(()=>Array.from(a.keys()).reduce((u,c)=>x=>Ce.createElement(u,null,Ce.createElement(c.Provider,Wm(xp({},x),{value:a.get(c)}))),u=>Ce.createElement(l1,xp({},u))),[a])}function Qm(a){const u=er.useRef({});return er.useLayoutEffect(()=>{u.current=a}),er.useLayoutEffect(()=>()=>{u.current={}},[]),u.current}const Xm=a=>{const u=er.useRef(),c=er.useRef(),x=er.useRef(),A=Qm(a),_=Ym(),p=S=>{const{forwardedRef:R}=a;R&&(typeof R=="function"?R(S):R.current=S)};return er.useLayoutEffect(()=>(c.current=new yc.Stage({width:a.width,height:a.height,container:u.current}),p(c.current),x.current=gc.createContainer(c.current,r1.LegacyRoot,!1,null),gc.updateContainer(er.createElement(_,{},a.children),x.current),()=>{yc.isBrowser&&(p(null),gc.updateContainer(null,x.current,null),c.current.destroy())}),[]),er.useLayoutEffect(()=>{p(c.current),Id(c.current,a,A),gc.updateContainer(er.createElement(_,{},a.children),x.current,null)}),er.createElement("div",{ref:u,id:a.id,accessKey:a.accessKey,className:a.className,role:a.role,style:a.style,tabIndex:a.tabIndex,title:a.title})},Jm="Layer",Wf="Group",kd="Rect",Vo="Circle",_c="Line",Zm="Text",gc=Xv(Gm);gc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:er.version,rendererPackageName:"react-konva"});const e2=er.forwardRef((a,u)=>er.createElement(l1,{},er.createElement(Xm,{...a,forwardedRef:u})));function t2({arenaWidth:a,arenaHeight:u}){return le.jsxs(le.Fragment,{children:[Array.from({length:Math.ceil(u/40)}).map((x,A)=>le.jsx(_c,{points:[0,A*40,a,A*40],stroke:"rgba(99, 102, 241, 0.1)",strokeWidth:1},`grid-h-${A}`)),Array.from({length:Math.ceil(a/40)}).map((x,A)=>le.jsx(_c,{points:[A*40,0,A*40,u],stroke:"rgba(99, 102, 241, 0.1)",strokeWidth:1},`grid-v-${A}`))]})}function Pp(a,u){let c=parseInt(a.substring(1,3),16),x=parseInt(a.substring(3,5),16),A=parseInt(a.substring(5,7),16);return c=parseInt(c*(100+u)/100),x=parseInt(x*(100+u)/100),A=parseInt(A*(100+u)/100),c=c<255?c:255,x=x<255?x:255,A=A<255?A:255,c=Math.max(0,c).toString(16).padStart(2,"0"),x=Math.max(0,x).toString(16).padStart(2,"0"),A=Math.max(0,A).toString(16).padStart(2,"0"),`#${c}${x}${A}`}const Fs=30;function n2({player:a,sessionId:u}){if(a.isDead)return null;const c=a.direction,x=Fs;let A="#4CAF50";return a.hp===2&&(A="#FFC107"),a.hp===1&&(A="#F44336"),le.jsxs(Wf,{children:[le.jsx(Vo,{x:a.x+4,y:a.y+4,radius:Fs/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),le.jsx(Vo,{x:a.x,y:a.y,radius:Fs/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Fs,fillRadialGradientColorStops:[0,Pp(A,40),1,Pp(A,-20)],stroke:"#000",strokeWidth:2}),le.jsx(_c,{points:[a.x+2,a.y+2,a.x+2+Math.cos(c*Math.PI/180)*x,a.y+2-Math.sin(c*Math.PI/180)*x],stroke:"rgba(0,0,0,0.5)",strokeWidth:6,lineCap:"round",opacity:.5}),le.jsx(_c,{points:[a.x,a.y,a.x+Math.cos(c*Math.PI/180)*x,a.y-Math.sin(c*Math.PI/180)*x],stroke:"#333",strokeWidth:5,lineCap:"round"}),le.jsx(Vo,{x:a.x,y:a.y,radius:Fs/4,fill:"#333",stroke:"#000",strokeWidth:1}),le.jsx(Zm,{x:a.x-50,y:a.y+Fs+5,text:a.username,fontSize:14,fontStyle:"bold",fill:"#FFF",align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),le.jsx(kd,{x:a.x-25,y:a.y-Fs-15,width:50,height:8,fill:"rgba(0,0,0,0.6)",cornerRadius:4,shadowColor:"black",shadowBlur:2,shadowOffset:{x:0,y:1},shadowOpacity:.5}),le.jsx(kd,{x:a.x-23,y:a.y-Fs-14,width:a.hp/3*46,height:6,fill:A,cornerRadius:3})]})}const $o=5;function r2({bullet:a}){return le.jsxs(Wf,{children:[le.jsx(_c,{points:[a.x-Math.cos(a.direction*Math.PI/180)*$o*6,a.y+Math.sin(a.direction*Math.PI/180)*$o*6,a.x,a.y],stroke:"rgba(255, 165, 0, 0.6)",strokeWidth:$o,lineCap:"round"}),le.jsx(Vo,{x:a.x,y:a.y,radius:$o*3,fill:"rgba(255, 165, 0, 0.1)"}),le.jsx(Vo,{x:a.x,y:a.y,radius:$o*2,fill:"rgba(255, 165, 0, 0.3)"}),le.jsx(Vo,{x:a.x,y:a.y,radius:$o,fill:"#FFA500"}),le.jsx(Vo,{x:a.x-$o/3,y:a.y-$o/3,radius:$o/3,fill:"rgba(255, 255, 255, 0.8)"})]})}function i2({explosion:a}){return le.jsxs(Wf,{children:[le.jsx(Vo,{x:a.x,y:a.y,radius:a.radius*1.2,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:a.radius*1.2,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0)",.7,"rgba(255, 165, 0, 0.1)",1,"rgba(255, 0, 0, 0)"]}),le.jsx(Vo,{x:a.x,y:a.y,radius:a.radius,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:a.radius,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0.9)",.2,"rgba(255, 255, 0, 0.8)",.5,"rgba(255, 165, 0, 0.6)",.8,"rgba(255, 0, 0, 0.4)",1,"rgba(0, 0, 0, 0)"]})]})}function o2({gameState:a}){const{arenaWidth:u,arenaHeight:c,players:x,bullets:A,explosions:_}=a;return le.jsxs(le.Fragment,{children:[le.jsx(kd,{x:0,y:0,width:u,height:c,fill:"#0f172a"}),le.jsx(t2,{arenaWidth:u,arenaHeight:c}),le.jsx(kd,{x:0,y:0,width:u,height:c,stroke:"rgba(99, 102, 241, 0.5)",strokeWidth:2}),_.map((p,S)=>le.jsx(i2,{explosion:p},`explosion-${S}`)),A.map((p,S)=>le.jsx(r2,{bullet:p},`bullet-${S}`)),Array.from(x.entries()).map(([p,S])=>le.jsx(n2,{player:S,sessionId:p},`tank-${p}`))]})}function s2({players:a}){const u=x=>x===0?"bg-yellow-500":x===1?"bg-gray-400":x===2?"bg-amber-700":"bg-gray-700",c=Array.from(a.entries()).map(([x,A])=>({id:x,username:A.username||`Player ${x.substr(0,4)}`,score:A.score||0})).sort((x,A)=>A.score-x.score).slice(0,5);return le.jsxs("div",{className:"absolute top-20 right-4 rounded-lg p-4 text-white shadow-lg w-64 border border-gray-800/50",children:[le.jsxs("h3",{className:"text-sm uppercase tracking-wider text-indigo-400 font-medium mb-2 flex items-center",children:[le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:le.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Top Players"]}),le.jsxs("div",{className:"space-y-2",children:[c.map((x,A)=>le.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-700/30 last:border-0",children:[le.jsxs("div",{className:"flex items-center",children:[le.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-full mr-2 
                                ${u(A)}`,children:A+1}),le.jsx("span",{className:"truncate max-w-[120px]",title:x.username,children:x.username})]}),le.jsx("span",{className:"font-medium text-indigo-300",children:x.score})]},x.id)),c.length===0&&le.jsx("div",{className:"text-center text-gray-500 py-2",children:"No players yet"})]})]})}const a2={BASE_URL:"/tanki.io/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLIENT_URL:"https://zestones.github.io/tanki.io/",VITE_WS_URL:"https://tanki-io.onrender.com/"},qf={wsUrl:"https://tanki-io.onrender.com/",clientUrl:"https://zestones.github.io/tanki.io/"},l2="production";console.log("Current mode:",l2);console.log("VITE_WS_URL:","https://tanki-io.onrender.com/");console.log("VITE_CLIENT_URL:","https://zestones.github.io/tanki.io/");console.log("All env vars:",a2);function u2(){return le.jsx("div",{className:"w-full bg-black/40 backdrop-blur-sm border-t border-indigo-500/10 py-3 px-4",children:le.jsx("div",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-center",children:le.jsxs("div",{className:"text-sm text-gray-400",children:["Use your mobile device to join the game at ",le.jsx("span",{className:"text-indigo-400 font-medium",children:qf.clientUrl})]})})})}function c2({playersCount:a,bulletsCount:u,showStats:c,onToggleStats:x}){return le.jsx("div",{className:"w-full bg-black/60 backdrop-blur-md border-b border-indigo-500/20 shadow-lg z-10",children:le.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex flex-wrap items-center justify-between",children:[le.jsxs("div",{className:"flex items-center gap-6",children:[le.jsxs("div",{className:"flex items-center",children:[le.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mr-3 shadow-lg",children:le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),le.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-600",children:"TANK.IO"})]}),le.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[le.jsxs("div",{className:"px-3 py-1 bg-indigo-500/20 backdrop-blur-sm rounded-md border border-indigo-500/30 flex items-center",children:[le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),le.jsxs("span",{className:"text-indigo-300 font-medium",children:["Players: ",le.jsx("span",{className:"text-white",children:a})]})]}),le.jsxs("div",{className:"px-3 py-1 bg-orange-500/20 backdrop-blur-sm rounded-md border border-orange-500/30 flex items-center",children:[le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-orange-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),le.jsxs("span",{className:"text-orange-300 font-medium",children:["Bullets: ",le.jsx("span",{className:"text-white",children:u})]})]})]})]}),le.jsxs("div",{className:"flex items-center gap-2",children:[le.jsxs("div",{className:"flex items-center mr-2",children:[le.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),le.jsx("span",{className:"text-green-300 text-sm",children:"Spectator Mode"})]}),le.jsxs("button",{onClick:x,className:"px-3 py-1 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 rounded-md transition-colors duration-200 flex items-center gap-1 backdrop-blur-sm border border-gray-600/30",children:[le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c?"Hide Stats":"Show Stats"]})]})]})})}function d2({gameState:a,viewportSize:u}){return le.jsxs("div",{className:"absolute top-20 left-4 bg-black/60 backdrop-blur-sm text-white p-4 rounded-lg text-sm border border-white/10 shadow-lg max-w-xs",children:[le.jsx("h3",{className:"font-bold mb-2 text-indigo-300",children:"Game Stats"}),le.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[le.jsx("div",{children:"Players:"}),le.jsx("div",{className:"text-right",children:a.players.size}),le.jsx("div",{children:"Bullets:"}),le.jsx("div",{className:"text-right",children:a.bullets.length}),le.jsx("div",{children:"Explosions:"}),le.jsx("div",{className:"text-right",children:a.explosions.length}),le.jsx("div",{children:"Arena Size:"}),le.jsxs("div",{className:"text-right",children:[a.arenaWidth,"",a.arenaHeight]}),le.jsx("div",{children:"Viewport:"}),le.jsxs("div",{className:"text-right",children:[u.width,"",u.height]})]})]})}function f2({error:a}){return le.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-6",children:le.jsxs("div",{className:"text-center bg-gray-800/80 backdrop-blur-sm p-8 rounded-xl shadow-2xl max-w-md border border-red-500/30",children:[le.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-red-500",children:le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),le.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"Connection Failed"}),le.jsx("p",{className:"text-red-400 mb-6",children:a}),le.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 font-medium",children:"Retry Connection"})]})})}function u1(){return le.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center",children:le.jsxs("div",{className:"text-center",children:[le.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[le.jsx("div",{className:"absolute inset-0 w-full h-full border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),le.jsx("div",{className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] border-4 border-indigo-300 border-b-transparent rounded-full animate-spin animation-delay-150"})]}),le.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"TANK.IO"}),le.jsx("p",{className:"text-indigo-300 text-lg",children:"Connecting to battlefield..."})]})})}function h2(a){const[u,c]=Ce.useState({width:0,height:0});return Ce.useEffect(()=>{const x=()=>{if(!a.current)return;const A=a.current.clientWidth,_=a.current.clientHeight;c({width:A,height:_})};return setTimeout(x,100),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[a]),u}function p2(){const[a,u]=Ce.useState({players:new Map,bullets:[],explosions:[],arenaWidth:2e3,arenaHeight:1200}),[c,x]=Ce.useState(!0),[A,_]=Ce.useState(null),[p,S]=Ce.useState(!1),R=Ce.useRef(null),w=Ce.useRef(null),P=h2(w),f=Ce.useRef(null);return Ce.useEffect(()=>{f.current&&P.width&&P.height&&f.current.send("updateArenaSize",{width:P.width,height:P.height})},[P.width,P.height]),Ce.useEffect(()=>{const C=new Yp.Client(qf.wsUrl);x(!0),C.joinOrCreate("game",{isSpectator:!0}).then(y=>{x(!1),f.current=y,P.width&&P.height&&y.send("updateArenaSize",{width:P.width,height:P.height}),y.onStateChange(m=>{u({players:m.players,bullets:Array.from(m.bullets),explosions:Array.from(m.explosions),arenaWidth:m.arenaWidth,arenaHeight:m.arenaHeight})})}).catch(y=>{console.error("Could not join room as spectator:",y),x(!1),_("Failed to connect to game server")})},[]),c?le.jsx(u1,{}):A?le.jsx(f2,{error:A}):le.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black overflow-hidden",children:[le.jsx(c2,{playersCount:a.players.size,bulletsCount:a.bullets.length,showStats:p,onToggleStats:()=>S(!p)}),le.jsxs("div",{ref:w,className:"flex-1 w-full overflow-hidden",children:[le.jsx(e2,{ref:R,width:P.width||window.innerWidth,height:P.height||window.innerHeight-100,className:"w-full h-full",children:le.jsx(Jm,{children:le.jsx(o2,{gameState:a})})}),le.jsx(s2,{players:a.players}),p&&le.jsx(d2,{gameState:a,viewportSize:P})]}),le.jsx(u2,{})]})}function g2({username:a,health:u,score:c=0}){const x=Math.max(0,Math.min(100,u/3*100));return le.jsxs("div",{className:"bg-black/30 backdrop-blur-md rounded-lg border border-indigo-500/30 shadow-lg shadow-indigo-500/20 p-3 text-white flex items-center justify-between w-full max-w-md mx-auto relative overflow-hidden",children:[le.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/10 to-cyan-400/5 animate-pulse"}),le.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_95%,rgba(99,102,241,0.3)_100%)] bg-[length:6px_6px]"}),le.jsxs("div",{className:"flex items-center z-10",children:[le.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-500 rounded-xl w-10 h-10 flex items-center justify-center mr-3 shadow-md shadow-indigo-500/50 border border-indigo-400/30",children:le.jsx("span",{className:"font-bold text-white text-shadow",children:a.charAt(0).toUpperCase()})}),le.jsxs("div",{children:[le.jsx("span",{className:"font-medium tracking-wide text-cyan-50",children:a}),le.jsx("div",{className:"text-xs text-cyan-300/70 mt-0.5 font-mono",children:"ACTIVE"})]})]}),le.jsxs("div",{className:"flex items-center gap-5 z-10",children:[le.jsxs("div",{className:"flex flex-col",children:[le.jsxs("div",{className:"flex items-center mb-1",children:[le.jsx("svg",{className:"h-4 w-4 text-red-400 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:le.jsx("path",{d:"M19.5 12.572L12 20l-7.5-7.428A5 5 0 1 1 12 6.006a5 5 0 1 1 7.5 6.572",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(248, 113, 113, 0.5)"})}),le.jsx("span",{className:"text-sm font-mono",children:u})]}),le.jsx("div",{className:"w-16 h-1.5 bg-gray-700/50 rounded-full overflow-hidden",children:le.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-rose-400 rounded-full",style:{width:`${x}%`}})})]}),le.jsxs("div",{className:"flex flex-col items-end",children:[le.jsxs("div",{className:"flex items-center mb-1",children:[le.jsx("span",{className:"text-sm font-mono mr-1",children:c}),le.jsx("svg",{className:"h-4 w-4 text-amber-300",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:le.jsx("path",{d:"M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round"})})]}),le.jsx("div",{className:"text-xs text-amber-300/70 font-mono",children:"POINTS"})]})]})]})}function Rp({onMove:a,onStop:u,size:c="w-48 h-48",type:x="movement"}){const[A,_]=Ce.useState({x:0,y:0}),[p,S]=Ce.useState(!1),[R,w]=Ce.useState(0),P=Ce.useRef(null),f=Ce.useRef(null),C=Ce.useRef({degrees:0,isMoving:!1}),y=Ce.useRef(null),m=16;Ce.useEffect(()=>(p?f.current=setInterval(()=>{C.current.isMoving&&a(C.current.degrees,C.current.isMoving,x)},m):f.current&&(clearInterval(f.current),f.current=null),()=>{f.current&&(clearInterval(f.current),f.current=null)}),[p,a,x]);const N=(j,B,Q=null)=>{if(!P.current)return;y.current=Q,S(!0);const X=P.current.getBoundingClientRect(),ee=X.left+X.width/2,ne=X.top+X.height/2;T(j,B,ee,ne)},T=(j,B,Q,X)=>{if(!p||!P.current)return;if(!Q||!X){const Pe=P.current.getBoundingClientRect();Q=Pe.left+Pe.width/2,X=Pe.top+Pe.height/2}let ee=j-Q,ne=-(B-X);const V=Math.sqrt(ee*ee+ne*ne);let te=Math.atan2(ne,ee)*180/Math.PI%360;te<0&&(te+=360),w(te);const ye=Math.min(50,V);_({x:Math.cos(Math.atan2(B-X,j-Q))*ye,y:Math.sin(Math.atan2(B-X,j-Q))*ye});const Ae=V>5;C.current={degrees:te,isMoving:Ae}},D=()=>{S(!1),_({x:0,y:0}),u(R,x),y.current=null,f.current&&(clearInterval(f.current),f.current=null)},E=j=>{p||(j.preventDefault(),window.addEventListener("mousemove",v),window.addEventListener("mouseup",O),N(j.clientX,j.clientY))},v=j=>{T(j.clientX,j.clientY)},O=()=>{D(),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",O)},z=j=>{if(p)return;const B=P.current.getBoundingClientRect(),Q=Array.from(j.touches).find(X=>X.clientX>=B.left&&X.clientX<=B.right&&X.clientY>=B.top&&X.clientY<=B.bottom);Q&&N(Q.clientX,Q.clientY,Q.identifier)},q=j=>{if(!p||y.current===null)return;const B=Array.from(j.touches).findIndex(X=>X.identifier===y.current);if(B===-1)return;const Q=j.touches[B];T(Q.clientX,Q.clientY)},K=j=>{!Array.from(j.touches).some(Q=>Q.identifier===y.current)&&p&&D()};Ce.useEffect(()=>{const j=P.current;if(j)return j.addEventListener("touchstart",z,{passive:!0}),window.addEventListener("touchmove",q,{passive:!0}),window.addEventListener("touchend",K,{passive:!0}),window.addEventListener("touchcancel",K,{passive:!0}),()=>{j.removeEventListener("touchstart",z),window.removeEventListener("touchmove",q),window.removeEventListener("touchend",K),window.removeEventListener("touchcancel",K)}},[p]);const U=x==="movement"?"border-indigo-600/30":"border-red-600/30",W=x==="movement"?"bg-indigo-500/20":"bg-red-500/20",$=x==="movement"?"from-indigo-500 to-indigo-700":"from-red-500 to-red-700",Y=x==="movement"?"bg-indigo-600":"bg-red-600",ie=x==="movement"?"bg-indigo-400/30":"bg-red-400/30",F=x==="movement"?"border-indigo-500/10":"border-red-500/10";return le.jsxs("div",{ref:P,className:`relative ${c} bg-black/40 backdrop-blur-sm rounded-full border-2 ${U} shadow-lg flex items-center justify-center`,onMouseDown:E,children:[le.jsxs("div",{className:"absolute w-full h-full rounded-full",children:[le.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-1 h-8 ${W} rounded-full`}),le.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-8 ${W} rounded-full`}),le.jsx("div",{className:`absolute top-1/2 left-0 -translate-y-1/2 w-8 h-1 ${W} rounded-full`}),le.jsx("div",{className:`absolute top-1/2 right-0 -translate-y-1/2 w-8 h-1 ${W} rounded-full`}),le.jsx("div",{className:`absolute inset-0 border-[16px] ${F} rounded-full`})]}),le.jsx("div",{className:`absolute w-20 h-20 bg-gradient-to-br ${$} rounded-full shadow-md cursor-grab active:cursor-grabbing transform-gpu will-change-transform`,style:{transform:`translate(${A.x}px, ${A.y}px)`,transition:p?"none":"transform 0.2s ease-out"},children:le.jsx("div",{className:`absolute inset-2 rounded-full ${Y} flex items-center justify-center`,children:le.jsx("div",{className:`w-1/2 h-1/2 rounded-full ${ie}`})})})]})}function v2({countdown:a}){return a===null?null:le.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:le.jsxs("div",{className:"text-center space-y-4",children:[le.jsx("h2",{className:"text-4xl font-bold text-red-500",children:"Tank Destroyed!"}),le.jsx("div",{className:"text-7xl font-bold text-white",children:a}),le.jsx("p",{className:"text-xl text-gray-300",children:"Respawning in seconds..."})]})})}function m2({isFullscreen:a,onClick:u}){return a?null:le.jsx("button",{onClick:u,className:"absolute top-2 right-2 z-50 bg-indigo-600 text-white rounded-full p-2 shadow-lg","aria-label":"Enter fullscreen mode",children:le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:le.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})}function y2(){const a=Up(),[u,c]=Ce.useState(null),[x,A]=Ce.useState(3),[_,p]=Ce.useState(""),[S,R]=Ce.useState(!0),[w,P]=Ce.useState(null),[f,C]=Ce.useState(0),y=Ce.useRef(!1),m=Ce.useRef({movement:{direction:0,moving:!1},aiming:{direction:0,active:!1}});Ce.useEffect(()=>{if(y.current)return;const E=sessionStorage.getItem("username");if(!E){a("/");return}p(E);const v=new Yp.Client(qf.wsUrl);return R(!0),y.current=!0,v.joinOrCreate("game",{username:E}).then(O=>{c(O),R(!1),O.onStateChange(z=>{const q=z.players.get(O.sessionId);q&&(A(q.hp),C(q.score))})}).catch(O=>{y.current=!1,console.error("Could not join room:",O),R(!1),a("/")}),()=>{u&&u.leave()}},[a]),Ce.useEffect(()=>{if(u)return u.onMessage("respawnCountdown",E=>{P(E.countdown)}),u.onMessage("playerRespawned",()=>{P(null)}),()=>{u.removeAllListeners("respawnCountdown"),u.removeAllListeners("playerRespawned")}},[u]),Ce.useEffect(()=>{if(!u)return;const E=setInterval(()=>{const v=m.current;u.send("dualStickInput",{movement:{direction:v.movement.direction,moving:v.movement.moving},aiming:{direction:v.aiming.direction,shooting:v.aiming.active}})},1e3/30);return()=>clearInterval(E)},[u]);const N=(E,v,O)=>{O==="movement"?m.current.movement={direction:E,moving:v}:O==="aiming"&&(m.current.aiming={direction:E,active:v})};return{room:u,health:x,username:_,isConnecting:S,respawnCountdown:w,score:f,handleMove:N,handleStopMoving:(E,v)=>{v==="movement"?m.current.movement={direction:E,moving:!1}:v==="aiming"&&(m.current.aiming={direction:E,active:!1})},handleAim:(E,v)=>{N(E,v,"aiming")}}}function _2(a){const[u,c]=Ce.useState(!1);return Ce.useEffect(()=>{const _=()=>{c(!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))};return document.addEventListener("fullscreenchange",_),document.addEventListener("mozfullscreenchange",_),document.addEventListener("webkitfullscreenchange",_),document.addEventListener("msfullscreenchange",_),()=>{document.removeEventListener("fullscreenchange",_),document.removeEventListener("mozfullscreenchange",_),document.removeEventListener("webkitfullscreenchange",_),document.removeEventListener("msfullscreenchange",_)}},[]),{isFullscreen:u,enterFullscreen:()=>{if(console.log("enterFullscreen"),!a.current)return;const _=a.current;_.requestFullscreen?_.requestFullscreen().catch(p=>console.error("Fullscreen error:",p)):_.mozRequestFullScreen?_.mozRequestFullScreen().catch(p=>console.error("Fullscreen error:",p)):_.webkitRequestFullscreen?_.webkitRequestFullscreen().catch(p=>console.error("Fullscreen error:",p)):_.msRequestFullscreen&&_.msRequestFullscreen().catch(p=>console.error("Fullscreen error:",p))},exitFullscreen:()=>{document.exitFullscreen?document.exitFullscreen().catch(_=>console.error("Exit fullscreen error:",_)):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(_=>console.error("Exit fullscreen error:",_)):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(_=>console.error("Exit fullscreen error:",_)):document.msExitFullscreen&&document.msExitFullscreen().catch(_=>console.error("Exit fullscreen error:",_))}}}function S2(){const a=Ce.useRef(null),{isFullscreen:u,enterFullscreen:c}=_2(a),{isConnecting:x,username:A,health:_,score:p,respawnCountdown:S,handleMove:R,handleStopMoving:w,handleAim:P}=y2();return x?le.jsx(u1,{}):le.jsxs("div",{ref:a,className:"relative h-screen w-screen bg-zinc-900 overflow-hidden touch-none",children:[S>0&&le.jsx(v2,{countdown:S}),le.jsx("div",{className:"absolute top-4 right-4",children:le.jsx(m2,{isFullscreen:u,onClick:c})}),le.jsx("div",{className:"absolute top-0 left-0 right-0 p-4",children:le.jsx(g2,{username:A,health:_,score:p})}),le.jsx("div",{className:"absolute bottom-10 left-10",children:le.jsx(Rp,{onMove:R,onStop:w,type:"movement"})}),le.jsx("div",{className:"absolute bottom-10 right-10",children:le.jsx(Rp,{onMove:P,onStop:w,type:"aiming"})})]})}function w2(){return le.jsx(Ug,{children:le.jsxs(Fg,{children:[le.jsx(Cd,{path:"/tanki.io/",element:le.jsx(jg,{})}),le.jsx(Cd,{path:"/tanki.io/game",element:le.jsx(p2,{})}),le.jsx(Cd,{path:"/tanki.io/controller",element:le.jsx(S2,{})})]})})}$1.createRoot(document.getElementById("root")).render(le.jsx(er.StrictMode,{children:le.jsx(w2,{})}));
