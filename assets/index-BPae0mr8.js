function I1(s,u){for(var c=0;c<u.length;c++){const E=u[c];if(typeof E!="string"&&!Array.isArray(E)){for(const A in E)if(A!=="default"&&!(A in s)){const v=Object.getOwnPropertyDescriptor(E,A);v&&Object.defineProperty(s,A,v.get?v:{enumerable:!0,get:()=>E[A]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))E(A);new MutationObserver(A=>{for(const v of A)if(v.type==="childList")for(const p of v.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&E(p)}).observe(document,{childList:!0,subtree:!0});function c(A){const v={};return A.integrity&&(v.integrity=A.integrity),A.referrerPolicy&&(v.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?v.credentials="include":A.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function E(A){if(A.ep)return;A.ep=!0;const v=c(A);fetch(A.href,v)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function L1(s){if(s.__esModule)return s;var u=s.default;if(typeof u=="function"){var c=function E(){return this instanceof E?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};c.prototype=u.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(s).forEach(function(E){var A=Object.getOwnPropertyDescriptor(s,E);Object.defineProperty(c,E,A.get?A:{enumerable:!0,get:function(){return s[E]}})}),c}var fd={exports:{}},Su={},dd={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function F1(){if(Eh)return _t;Eh=1;var s=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),p=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),d=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=d&&$[d]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,N={};function R($,oe,te){this.props=$,this.context=oe,this.refs=N,this.updater=te||_}R.prototype.isReactComponent={},R.prototype.setState=function($,oe){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,oe,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function z(){}z.prototype=R.prototype;function P($,oe,te){this.props=$,this.context=oe,this.refs=N,this.updater=te||_}var y=P.prototype=new z;y.constructor=P,m(y,R.prototype),y.isPureReactComponent=!0;var I=Array.isArray,D=Object.prototype.hasOwnProperty,W={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function U($,oe,te){var Se,ye={},Ae=null,Ne=null;if(oe!=null)for(Se in oe.ref!==void 0&&(Ne=oe.ref),oe.key!==void 0&&(Ae=""+oe.key),oe)D.call(oe,Se)&&!K.hasOwnProperty(Se)&&(ye[Se]=oe[Se]);var Z=arguments.length-2;if(Z===1)ye.children=te;else if(1<Z){for(var ce=Array(Z),we=0;we<Z;we++)ce[we]=arguments[we+2];ye.children=ce}if($&&$.defaultProps)for(Se in Z=$.defaultProps,Z)ye[Se]===void 0&&(ye[Se]=Z[Se]);return{$$typeof:s,type:$,key:Ae,ref:Ne,props:ye,_owner:W.current}}function q($,oe){return{$$typeof:s,type:$.type,key:oe,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===s}function Y($){var oe={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return oe[te]})}var ie=/\/+/g;function F($,oe){return typeof $=="object"&&$!==null&&$.key!=null?Y(""+$.key):oe.toString(36)}function G($,oe,te,Se,ye){var Ae=typeof $;(Ae==="undefined"||Ae==="boolean")&&($=null);var Ne=!1;if($===null)Ne=!0;else switch(Ae){case"string":case"number":Ne=!0;break;case"object":switch($.$$typeof){case s:case u:Ne=!0}}if(Ne)return Ne=$,ye=ye(Ne),$=Se===""?"."+F(Ne,0):Se,I(ye)?(te="",$!=null&&(te=$.replace(ie,"$&/")+"/"),G(ye,oe,te,"",function(we){return we})):ye!=null&&(V(ye)&&(ye=q(ye,te+(!ye.key||Ne&&Ne.key===ye.key?"":(""+ye.key).replace(ie,"$&/")+"/")+$)),oe.push(ye)),1;if(Ne=0,Se=Se===""?".":Se+":",I($))for(var Z=0;Z<$.length;Z++){Ae=$[Z];var ce=Se+F(Ae,Z);Ne+=G(Ae,oe,te,ce,ye)}else if(ce=x($),typeof ce=="function")for($=ce.call($),Z=0;!(Ae=$.next()).done;)Ae=Ae.value,ce=Se+F(Ae,Z++),Ne+=G(Ae,oe,te,ce,ye);else if(Ae==="object")throw oe=String($),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Ne}function H($,oe,te){if($==null)return $;var Se=[],ye=0;return G($,Se,"","",function(Ae){return oe.call(te,Ae,ye++)}),Se}function Q($){if($._status===-1){var oe=$._result;oe=oe(),oe.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=oe)}if($._status===1)return $._result.default;throw $._result}var X={current:null},ee={transition:null},re={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:ee,ReactCurrentOwner:W};return _t.Children={map:H,forEach:function($,oe,te){H($,function(){oe.apply(this,arguments)},te)},count:function($){var oe=0;return H($,function(){oe++}),oe},toArray:function($){return H($,function(oe){return oe})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},_t.Component=R,_t.Fragment=c,_t.Profiler=A,_t.PureComponent=P,_t.StrictMode=E,_t.Suspense=C,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,_t.cloneElement=function($,oe,te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Se=m({},$.props),ye=$.key,Ae=$.ref,Ne=$._owner;if(oe!=null){if(oe.ref!==void 0&&(Ae=oe.ref,Ne=W.current),oe.key!==void 0&&(ye=""+oe.key),$.type&&$.type.defaultProps)var Z=$.type.defaultProps;for(ce in oe)D.call(oe,ce)&&!K.hasOwnProperty(ce)&&(Se[ce]=oe[ce]===void 0&&Z!==void 0?Z[ce]:oe[ce])}var ce=arguments.length-2;if(ce===1)Se.children=te;else if(1<ce){Z=Array(ce);for(var we=0;we<ce;we++)Z[we]=arguments[we+2];Se.children=Z}return{$$typeof:s,type:$.type,key:ye,ref:Ae,props:Se,_owner:Ne}},_t.createContext=function($){return $={$$typeof:p,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:v,_context:$},$.Consumer=$},_t.createElement=U,_t.createFactory=function($){var oe=U.bind(null,$);return oe.type=$,oe},_t.createRef=function(){return{current:null}},_t.forwardRef=function($){return{$$typeof:S,render:$}},_t.isValidElement=V,_t.lazy=function($){return{$$typeof:T,_payload:{_status:-1,_result:$},_init:Q}},_t.memo=function($,oe){return{$$typeof:w,type:$,compare:oe===void 0?null:oe}},_t.startTransition=function($){var oe=ee.transition;ee.transition={};try{$()}finally{ee.transition=oe}},_t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},_t.useCallback=function($,oe){return X.current.useCallback($,oe)},_t.useContext=function($){return X.current.useContext($)},_t.useDebugValue=function(){},_t.useDeferredValue=function($){return X.current.useDeferredValue($)},_t.useEffect=function($,oe){return X.current.useEffect($,oe)},_t.useId=function(){return X.current.useId()},_t.useImperativeHandle=function($,oe,te){return X.current.useImperativeHandle($,oe,te)},_t.useInsertionEffect=function($,oe){return X.current.useInsertionEffect($,oe)},_t.useLayoutEffect=function($,oe){return X.current.useLayoutEffect($,oe)},_t.useMemo=function($,oe){return X.current.useMemo($,oe)},_t.useReducer=function($,oe,te){return X.current.useReducer($,oe,te)},_t.useRef=function($){return X.current.useRef($)},_t.useState=function($){return X.current.useState($)},_t.useSyncExternalStore=function($,oe,te){return X.current.useSyncExternalStore($,oe,te)},_t.useTransition=function(){return X.current.useTransition()},_t.version="18.2.0",_t}var kh;function Nf(){return kh||(kh=1,dd.exports=F1()),dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function D1(){if(Ph)return Su;Ph=1;var s=Nf(),u=Symbol.for("react.element"),c=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,A=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function p(S,C,w){var T,d={},x=null,_=null;w!==void 0&&(x=""+w),C.key!==void 0&&(x=""+C.key),C.ref!==void 0&&(_=C.ref);for(T in C)E.call(C,T)&&!v.hasOwnProperty(T)&&(d[T]=C[T]);if(S&&S.defaultProps)for(T in C=S.defaultProps,C)d[T]===void 0&&(d[T]=C[T]);return{$$typeof:u,type:S,key:x,ref:_,props:d,_owner:A.current}}return Su.Fragment=c,Su.jsx=p,Su.jsxs=p,Su}var Rh;function z1(){return Rh||(Rh=1,fd.exports=D1()),fd.exports}var fe=z1(),Ee=Nf();const er=Tf(Ee),U1=I1({__proto__:null,default:er},[Ee]);var Cf={},hd={exports:{}},Vr={},pd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function j1(){return Th||(Th=1,function(s){function u(ee,re){var $=ee.length;ee.push(re);e:for(;0<$;){var oe=$-1>>>1,te=ee[oe];if(0<A(te,re))ee[oe]=re,ee[$]=te,$=oe;else break e}}function c(ee){return ee.length===0?null:ee[0]}function E(ee){if(ee.length===0)return null;var re=ee[0],$=ee.pop();if($!==re){ee[0]=$;e:for(var oe=0,te=ee.length,Se=te>>>1;oe<Se;){var ye=2*(oe+1)-1,Ae=ee[ye],Ne=ye+1,Z=ee[Ne];if(0>A(Ae,$))Ne<te&&0>A(Z,Ae)?(ee[oe]=Z,ee[Ne]=$,oe=Ne):(ee[oe]=Ae,ee[ye]=$,oe=ye);else if(Ne<te&&0>A(Z,$))ee[oe]=Z,ee[Ne]=$,oe=Ne;else break e}}return re}function A(ee,re){var $=ee.sortIndex-re.sortIndex;return $!==0?$:ee.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;s.unstable_now=function(){return v.now()}}else{var p=Date,S=p.now();s.unstable_now=function(){return p.now()-S}}var C=[],w=[],T=1,d=null,x=3,_=!1,m=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var re=c(w);re!==null;){if(re.callback===null)E(w);else if(re.startTime<=ee)E(w),re.sortIndex=re.expirationTime,u(C,re);else break;re=c(w)}}function I(ee){if(N=!1,y(ee),!m)if(c(C)!==null)m=!0,Q(D);else{var re=c(w);re!==null&&X(I,re.startTime-ee)}}function D(ee,re){m=!1,N&&(N=!1,z(U),U=-1),_=!0;var $=x;try{for(y(re),d=c(C);d!==null&&(!(d.expirationTime>re)||ee&&!Y());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,x=d.priorityLevel;var te=oe(d.expirationTime<=re);re=s.unstable_now(),typeof te=="function"?d.callback=te:d===c(C)&&E(C),y(re)}else E(C);d=c(C)}if(d!==null)var Se=!0;else{var ye=c(w);ye!==null&&X(I,ye.startTime-re),Se=!1}return Se}finally{d=null,x=$,_=!1}}var W=!1,K=null,U=-1,q=5,V=-1;function Y(){return!(s.unstable_now()-V<q)}function ie(){if(K!==null){var ee=s.unstable_now();V=ee;var re=!0;try{re=K(!0,ee)}finally{re?F():(W=!1,K=null)}}else W=!1}var F;if(typeof P=="function")F=function(){P(ie)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,H=G.port2;G.port1.onmessage=ie,F=function(){H.postMessage(null)}}else F=function(){R(ie,0)};function Q(ee){K=ee,W||(W=!0,F())}function X(ee,re){U=R(function(){ee(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ee){ee.callback=null},s.unstable_continueExecution=function(){m||_||(m=!0,Q(D))},s.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ee?Math.floor(1e3/ee):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return c(C)},s.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var $=x;x=re;try{return ee()}finally{x=$}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ee,re){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var $=x;x=ee;try{return re()}finally{x=$}},s.unstable_scheduleCallback=function(ee,re,$){var oe=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,ee){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,ee={id:T++,callback:re,priorityLevel:ee,startTime:$,expirationTime:te,sortIndex:-1},$>oe?(ee.sortIndex=$,u(w,ee),c(C)===null&&ee===c(w)&&(N?(z(U),U=-1):N=!0,X(I,$-oe))):(ee.sortIndex=te,u(C,ee),m||_||(m=!0,Q(D))),ee},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(ee){var re=x;return function(){var $=x;x=re;try{return ee.apply(this,arguments)}finally{x=$}}}}(gd)),gd}var Nh;function Ud(){return Nh||(Nh=1,pd.exports=j1()),pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function G1(){if(Ah)return Vr;Ah=1;var s=Nf(),u=Ud();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E=new Set,A={};function v(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(A[e]=t,e=0;e<t.length;e++)E.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},d={};function x(e){return C.call(d,e)?!0:C.call(T,e)?!1:w.test(e)?d[e]=!0:(T[e]=!0,!1)}function _(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m(e,t,i,a){if(t===null||typeof t>"u"||_(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,i,a,f,k,j){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=k,this.removeEmptyString=j}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,P);R[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,P);R[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,P);R[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function y(e,t,i,a){var f=R.hasOwnProperty(t)?R[t]:null;(f!==null?f.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m(t,i,f,a)&&(i=null),a||f===null?x(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):f.mustUseProperty?e[f.propertyName]=i===null?f.type===3?!1:"":i:(t=f.attributeName,a=f.attributeNamespace,i===null?e.removeAttribute(t):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),W=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Y=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ee=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,oe;function te(e){if(oe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);oe=t&&t[1]||""}return`
`+oe+e}var Se=!1;function ye(e,t){if(!e||Se)return"";Se=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ge){var a=ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(ge){a=ge}e.call(t.prototype)}else{try{throw Error()}catch(ge){a=ge}e()}}catch(ge){if(ge&&a&&typeof ge.stack=="string"){for(var f=ge.stack.split(`
`),k=a.stack.split(`
`),j=f.length-1,J=k.length-1;1<=j&&0<=J&&f[j]!==k[J];)J--;for(;1<=j&&0<=J;j--,J--)if(f[j]!==k[J]){if(j!==1||J!==1)do if(j--,J--,0>J||f[j]!==k[J]){var ne=`
`+f[j].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=j&&0<=J);break}}}finally{Se=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?te(e):""}function Ae(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case W:return"Portal";case q:return"Profiler";case U:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case V:return(e._context.displayName||"Context")+".Provider";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(t);case 8:return t===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Be(e){var t=we(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,k=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(j){a=""+j,k.call(this,j)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(j){a=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=Be(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=we(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gt(e,t){var i=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ht(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ce(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fn(e,t){t=t.checked,t!=null&&y(e,"checked",t,!1)}function Dt(e,t){fn(e,t);var i=ce(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bt(e,t.type,i):t.hasOwnProperty("defaultValue")&&bt(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jt(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function bt(e,t,i){(t!=="number"||He(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var wt=Array.isArray;function pt(e,t,i,a){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function bn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tn(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(c(92));if(wt(i)){if(1<i.length)throw Error(c(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ce(i)}}function dn(e,t){var i=ce(t.value),a=ce(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Yt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tr,Or=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,f){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,f)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bo=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){bo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function Wo(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function rr(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,f=Wo(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,f):e[i]=f}}var kl=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(e,t){if(t){if(kl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function so(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,zi=null,Ui=null;function Ko(e){if(e=rs(e)){if(typeof lo!="function")throw Error(c(280));var t=e.stateNode;t&&(t=kn(t),lo(e.stateNode,e.type,t))}}function ja(e){zi?Ui?Ui.push(e):Ui=[e]:zi=e}function Yo(){if(zi){var e=zi,t=Ui;if(Ui=zi=null,Ko(e),t)for(e=0;e<t.length;e++)Ko(t[e])}}function Rs(e,t){return e(t)}function Qo(){}var Nn=!1;function Ga(e,t,i){if(Nn)return e(t,i);Nn=!0;try{return Rs(e,t,i)}finally{Nn=!1,(zi!==null||Ui!==null)&&(Qo(),Yo())}}function hr(e,t){var i=e.stateNode;if(i===null)return null;var a=kn(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var uo=!1;if(S)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){uo=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{uo=!1}function Ts(e,t,i,a,f,k,j,J,ne){var ge=Array.prototype.slice.call(arguments,3);try{t.apply(i,ge)}catch(Ce){this.onError(Ce)}}var O=!1,h=null,L=!1,B=null,le={onError:function(e){O=!0,h=e}};function _e(e,t,i,a,f,k,j,J,ne){O=!1,h=null,Ts.apply(le,arguments)}function be(e,t,i,a,f,k,j,J,ne){if(_e.apply(this,arguments),O){if(O){var ge=h;O=!1,h=null}else throw Error(c(198));L||(L=!0,B=ge)}}function Fe(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function dt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ut(e){if(Fe(e)!==e)throw Error(c(188))}function We(e){var t=e.alternate;if(!t){if(t=Fe(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,a=t;;){var f=i.return;if(f===null)break;var k=f.alternate;if(k===null){if(a=f.return,a!==null){i=a;continue}break}if(f.child===k.child){for(k=f.child;k;){if(k===i)return ut(f),e;if(k===a)return ut(f),t;k=k.sibling}throw Error(c(188))}if(i.return!==a.return)i=f,a=k;else{for(var j=!1,J=f.child;J;){if(J===i){j=!0,i=f,a=k;break}if(J===a){j=!0,a=f,i=k;break}J=J.sibling}if(!j){for(J=k.child;J;){if(J===i){j=!0,i=k,a=f;break}if(J===a){j=!0,a=k,i=f;break}J=J.sibling}if(!j)throw Error(c(189))}}if(i.alternate!==a)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function ct(e){return e=We(e),e!==null?Ve(e):null}function Ve(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ve(e);if(t!==null)return t;e=e.sibling}return null}var at=u.unstable_scheduleCallback,Je=u.unstable_cancelCallback,nt=u.unstable_shouldYield,Te=u.unstable_requestPaint,qe=u.unstable_now,Sn=u.unstable_getCurrentPriorityLevel,Rt=u.unstable_ImmediatePriority,ot=u.unstable_UserBlockingPriority,st=u.unstable_NormalPriority,ii=u.unstable_LowPriority,pr=u.unstable_IdlePriority,Zt=null,yt=null;function Ze(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Zt,e,void 0,(e.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:Wt,wn=Math.log,nn=Math.LN2;function Wt(e){return e>>>=0,e===0?32:31-(wn(e)/nn|0)|0}var Wn=64,yi=4194304;function xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function co(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,f=e.suspendedLanes,k=e.pingedLanes,j=i&268435455;if(j!==0){var J=j&~f;J!==0?a=xn(J):(k&=j,k!==0&&(a=xn(k)))}else j=i&~f,j!==0?a=xn(j):k!==0&&(a=xn(k));if(a===0)return 0;if(t!==0&&t!==a&&(t&f)===0&&(f=a&-a,k=t&-t,f>=k||f===16&&(k&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-lt(t),f=1<<i,a|=e[i],t&=~f;return a}function wc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,k=e.pendingLanes;0<k;){var j=31-lt(k),J=1<<j,ne=f[j];ne===-1?((J&i)===0||(J&a)!==0)&&(f[j]=wc(J,t)):ne<=t&&(e.expiredLanes|=J),k&=~J}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pl(){var e=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),e}function gr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ba(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lt(t),e[t]=i}function Df(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var f=31-lt(i),k=1<<f;t[f]=0,a[f]=-1,e[f]=-1,i&=~k}}function Rl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-lt(i),f=1<<a;f&t|e[a]&t&&(e[a]|=t),i&=~f}}var Et=0;function Ha(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Jo,Zo,Cc,Ec,Ns,As=!1,ea=[],Mr=null,ji=null,oi=null,gt=new Map,ta=new Map,ai=[],kc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":gt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function Va(e,t,i,a,f,k){return e===null||e.nativeEvent!==k?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:k,targetContainers:[f]},t!==null&&(t=rs(t),t!==null&&Zo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Cn(e,t,i,a,f){switch(t){case"focusin":return Mr=Va(Mr,e,t,i,a,f),!0;case"dragenter":return ji=Va(ji,e,t,i,a,f),!0;case"mouseover":return oi=Va(oi,e,t,i,a,f),!0;case"pointerover":var k=f.pointerId;return gt.set(k,Va(gt.get(k)||null,e,t,i,a,f)),!0;case"gotpointercapture":return k=f.pointerId,ta.set(k,Va(ta.get(k)||null,e,t,i,a,f)),!0}return!1}function Os(e){var t=Yi(e.target);if(t!==null){var i=Fe(t);if(i!==null){if(t=i.tag,t===13){if(t=dt(i),t!==null){e.blockedOn=t,Ns(e.priority,function(){Cc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Fs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);qo=a,i.target.dispatchEvent(a),qo=null}else return t=rs(i),t!==null&&Zo(t),e.blockedOn=i,!1;t.shift()}return!0}function Is(e,t,i){Ms(e)&&i.delete(t)}function zf(){As=!1,Mr!==null&&Ms(Mr)&&(Mr=null),ji!==null&&Ms(ji)&&(ji=null),oi!==null&&Ms(oi)&&(oi=null),gt.forEach(Is),ta.forEach(Is)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,As||(As=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,zf)))}function ir(e){function t(f){return Gi(f,e)}if(0<ea.length){Gi(ea[0],e);for(var i=1;i<ea.length;i++){var a=ea[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Mr!==null&&Gi(Mr,e),ji!==null&&Gi(ji,e),oi!==null&&Gi(oi,e),gt.forEach(t),ta.forEach(t),i=0;i<ai.length;i++)a=ai[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<ai.length&&(i=ai[0],i.blockedOn===null);)Os(i),i.blockedOn===null&&ai.shift()}var na=I.ReactCurrentBatchConfig,Ls=!0;function br(e,t,i,a){var f=Et,k=na.transition;na.transition=null;try{Et=1,ra(e,t,i,a)}finally{Et=f,na.transition=k}}function _i(e,t,i,a){var f=Et,k=na.transition;na.transition=null;try{Et=4,ra(e,t,i,a)}finally{Et=f,na.transition=k}}function ra(e,t,i,a){if(Ls){var f=Fs(e,t,i,a);if(f===null)Xs(e,t,a,ia,i),Pc(e,a);else if(Cn(f,e,t,i,a))a.stopPropagation();else if(Pc(e,a),t&4&&-1<kc.indexOf(e)){for(;f!==null;){var k=rs(f);if(k!==null&&Jo(k),k=Fs(e,t,i,a),k===null&&Xs(e,t,a,ia,i),k===f)break;f=k}f!==null&&a.stopPropagation()}else Xs(e,t,a,null,i)}}var ia=null;function Fs(e,t,i,a){if(ia=null,e=so(a),e=Yi(e),e!==null)if(t=Fe(e),t===null)e=null;else if(i=t.tag,i===13){if(e=dt(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ia=e,null}function Rc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sn()){case Rt:return 1;case ot:return 4;case st:case ii:return 16;case pr:return 536870912;default:return 16}default:return 16}}var An=null,Bi=null,Si=null;function $a(){if(Si)return Si;var e,t=Bi,i=t.length,a,f="value"in An?An.value:An.textContent,k=f.length;for(e=0;e<i&&t[e]===f[e];e++);var j=i-e;for(a=1;a<=j&&t[i-a]===f[k-a];a++);return Si=f.slice(e,1<a?1-a:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function vr(){return!1}function hn(e){function t(i,a,f,k,j){this._reactName=i,this._targetInst=f,this.type=a,this.nativeEvent=k,this.target=j,this.currentTarget=null;for(var J in e)e.hasOwnProperty(J)&&(i=e[J],this[J]=i?i(k):k[J]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qn:vr,this.isPropagationStopped=vr,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=hn(or),qr=$({},or,{view:0,detail:0}),Tc=hn(qr),ba,Wa,On,Kn=$({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(ba=e.screenX-On.screenX,Wa=e.screenY-On.screenY):Wa=ba=0,On=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),zt=hn(Kn),qa=$({},Kn,{dataTransfer:0}),Kr=hn(qa),Nc=$({},qr,{relatedTarget:0}),Ds=hn(Nc),Tl=$({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Nl=hn(Tl),Ac=$({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zs=hn(Ac),Oc=$({},or,{data:0}),ho=hn(Oc),Al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Us[e])?!!t[e]:!1}function po(){return jf}var js=$({},qr,{key:function(e){if(e.key){var t=Al[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mc=hn(js),Ic=$({},Kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=hn(Ic),Lc=$({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Gs=hn(Lc),Bs=$({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),oa=hn(Bs),Ol=$({},Kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ml=hn(Ol),Fc=[9,13,27,32],Ka=S&&"CompositionEvent"in window,vo=null;S&&"documentMode"in document&&(vo=document.documentMode);var aa=S&&"TextEvent"in window&&!vo,mr=S&&(!Ka||vo&&8<vo&&11>=vo),Hi=" ",Hs=!1;function Il(e,t){switch(e){case"keyup":return Fc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Ll(e,t){switch(e){case"compositionend":return Yr(t);case"keypress":return t.which!==32?null:(Hs=!0,Hi);case"textInput":return e=t.data,e===Hi&&Hs?null:e;default:return null}}function Dc(e,t){if(yr)return e==="compositionend"||!Ka&&Il(e,t)?(e=$a(),Si=Bi=An=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mr&&t.locale!=="ko"?null:t.data;default:return null}}var wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wi[e.type]:t==="textarea"}function Ya(e,t,i,a){ja(a),t=Js(t,"onChange"),0<t.length&&(i=new Wr("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var sa=null,Vi=null;function zc(e){bl(e,0)}function $i(e){var t=gn(e);if(Ye(t))return e}function Ir(e,t){if(e==="change")return t}var la=!1;if(S){var bi;if(S){var Lr="oninput"in document;if(!Lr){var Vs=document.createElement("div");Vs.setAttribute("oninput","return;"),Lr=typeof Vs.oninput=="function"}bi=Lr}else bi=!1;la=bi&&(!document.documentMode||9<document.documentMode)}function mo(){sa&&(sa.detachEvent("onpropertychange",Fl),Vi=sa=null)}function Fl(e){if(e.propertyName==="value"&&$i(Vi)){var t=[];Ya(t,Vi,e,so(e)),Ga(zc,t)}}function Dl(e,t,i){e==="focusin"?(mo(),sa=t,Vi=i,sa.attachEvent("onpropertychange",Fl)):e==="focusout"&&mo()}function qt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Vi)}function $s(e,t){if(e==="click")return $i(t)}function zl(e,t){if(e==="input"||e==="change")return $i(t)}function Ul(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:Ul;function yo(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var f=i[a];if(!C.call(t,f)||!ar(e[f],t[f]))return!1}return!0}function Wi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bt(e,t){var i=Wi(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wi(i)}}function rn(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rn(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pn(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=He(e.document)}return t}function ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qa(e){var t=pn(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&rn(i.ownerDocument.documentElement,i)){if(a!==null&&ua(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=i.textContent.length,k=Math.min(a.start,f);a=a.end===void 0?k:Math.min(a.end,f),!e.extend&&k>a&&(f=a,a=k,k=f),f=Bt(i,k);var j=Bt(i,a);f&&j&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==j.node||e.focusOffset!==j.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),k>a?(e.addRange(t),e.extend(j.node,j.offset)):(t.setEnd(j.node,j.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xa=S&&"documentMode"in document&&11>=document.documentMode,ca=null,En=null,_o=null,Ja=!1;function bs(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ja||ca==null||ca!==He(a)||(a=ca,"selectionStart"in a&&ua(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),_o&&yo(_o,a)||(_o=a,a=Js(En,"onSelect"),0<a.length&&(t=new Wr("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=ca)))}function _r(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Mn={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},So={},Ws={};S&&(Ws=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function fa(e){if(So[e])return So[e];if(!Mn[e])return e;var t=Mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ws)return So[e]=t[i];return e}var jl=fa("animationend"),Gl=fa("animationiteration"),Bl=fa("animationstart"),Hl=fa("transitionend"),Vl=new Map,$l="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){Vl.set(e,t),v(t,[e])}for(var qs=0;qs<$l.length;qs++){var wo=$l[qs],Uc=wo.toLowerCase(),Ks=wo[0].toUpperCase()+wo.slice(1);Ci(Uc,"on"+Ks)}Ci(jl,"onAnimationEnd"),Ci(Gl,"onAnimationIteration"),Ci(Bl,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Hl,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),v("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v("onBeforeInput",["compositionend","keypress","textInput","paste"]),v("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jc=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Ys(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,be(a,t,void 0,e),e.currentTarget=null}function bl(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],f=a.event;a=a.listeners;e:{var k=void 0;if(t)for(var j=a.length-1;0<=j;j--){var J=a[j],ne=J.instance,ge=J.currentTarget;if(J=J.listener,ne!==k&&f.isPropagationStopped())break e;Ys(f,J,ge),k=ne}else for(j=0;j<a.length;j++){if(J=a[j],ne=J.instance,ge=J.currentTarget,J=J.listener,ne!==k&&f.isPropagationStopped())break e;Ys(f,J,ge),k=ne}}}if(L)throw e=B,L=!1,B=null,e}function It(e,t){var i=t[el];i===void 0&&(i=t[el]=new Set);var a=e+"__bubble";i.has(a)||(Wl(t,e,2,!1),i.add(a))}function Qs(e,t,i){var a=0;t&&(a|=4),Wl(i,e,a,t)}var Za="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[Za]){e[Za]=!0,E.forEach(function(i){i!=="selectionchange"&&(jc.has(i)||Qs(i,!1,e),Qs(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Za]||(t[Za]=!0,Qs("selectionchange",!1,t))}}function Wl(e,t,i,a){switch(Rc(t)){case 1:var f=br;break;case 4:f=_i;break;default:f=ra}i=f.bind(null,t,i,e),f=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Xs(e,t,i,a,f){var k=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var j=a.tag;if(j===3||j===4){var J=a.stateNode.containerInfo;if(J===f||J.nodeType===8&&J.parentNode===f)break;if(j===4)for(j=a.return;j!==null;){var ne=j.tag;if((ne===3||ne===4)&&(ne=j.stateNode.containerInfo,ne===f||ne.nodeType===8&&ne.parentNode===f))return;j=j.return}for(;J!==null;){if(j=Yi(J),j===null)return;if(ne=j.tag,ne===5||ne===6){a=k=j;continue e}J=J.parentNode}}a=a.return}Ga(function(){var ge=k,Ce=so(i),ke=[];e:{var xe=Vl.get(e);if(xe!==void 0){var De=Wr,je=e;switch(e){case"keypress":if(fo(i)===0)break e;case"keydown":case"keyup":De=Mc;break;case"focusin":je="focus",De=Ds;break;case"focusout":je="blur",De=Ds;break;case"beforeblur":case"afterblur":De=Ds;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Gs;break;case jl:case Gl:case Bl:De=Nl;break;case Hl:De=oa;break;case"scroll":De=Tc;break;case"wheel":De=Ml;break;case"copy":case"cut":case"paste":De=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=go}var Ge=(t&4)!==0,mn=!Ge&&e==="scroll",de=Ge?xe!==null?xe+"Capture":null:xe;Ge=[];for(var se=ge,he;se!==null;){he=se;var Re=he.stateNode;if(he.tag===5&&Re!==null&&(he=Re,de!==null&&(Re=hr(se,de),Re!=null&&Ge.push(da(se,Re,he)))),mn)break;se=se.return}0<Ge.length&&(xe=new De(xe,je,null,i,Ce),ke.push({event:xe,listeners:Ge}))}}if((t&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",De=e==="mouseout"||e==="pointerout",xe&&i!==qo&&(je=i.relatedTarget||i.fromElement)&&(Yi(je)||je[li]))break e;if((De||xe)&&(xe=Ce.window===Ce?Ce:(xe=Ce.ownerDocument)?xe.defaultView||xe.parentWindow:window,De?(je=i.relatedTarget||i.toElement,De=ge,je=je?Yi(je):null,je!==null&&(mn=Fe(je),je!==mn||je.tag!==5&&je.tag!==6)&&(je=null)):(De=null,je=ge),De!==je)){if(Ge=zt,Re="onMouseLeave",de="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=go,Re="onPointerLeave",de="onPointerEnter",se="pointer"),mn=De==null?xe:gn(De),he=je==null?xe:gn(je),xe=new Ge(Re,se+"leave",De,i,Ce),xe.target=mn,xe.relatedTarget=he,Re=null,Yi(Ce)===ge&&(Ge=new Ge(de,se+"enter",je,i,Ce),Ge.target=he,Ge.relatedTarget=mn,Re=Ge),mn=Re,De&&je)t:{for(Ge=De,de=je,se=0,he=Ge;he;he=Co(he))se++;for(he=0,Re=de;Re;Re=Co(Re))he++;for(;0<se-he;)Ge=Co(Ge),se--;for(;0<he-se;)de=Co(de),he--;for(;se--;){if(Ge===de||de!==null&&Ge===de.alternate)break t;Ge=Co(Ge),de=Co(de)}Ge=null}else Ge=null;De!==null&&Gc(ke,xe,De,Ge,!1),je!==null&&mn!==null&&Gc(ke,mn,je,Ge,!0)}}e:{if(xe=ge?gn(ge):window,De=xe.nodeName&&xe.nodeName.toLowerCase(),De==="select"||De==="input"&&xe.type==="file")var $e=Ir;else if(xi(xe))if(la)$e=zl;else{$e=qt;var Qe=Dl}else(De=xe.nodeName)&&De.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&($e=$s);if($e&&($e=$e(e,ge))){Ya(ke,$e,i,Ce);break e}Qe&&Qe(e,xe,ge),e==="focusout"&&(Qe=xe._wrapperState)&&Qe.controlled&&xe.type==="number"&&bt(xe,"number",xe.value)}switch(Qe=ge?gn(ge):window,e){case"focusin":(xi(Qe)||Qe.contentEditable==="true")&&(ca=Qe,En=ge,_o=null);break;case"focusout":_o=En=ca=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,bs(ke,i,Ce);break;case"selectionchange":if(Xa)break;case"keydown":case"keyup":bs(ke,i,Ce)}var Xe;if(Ka)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else yr?Il(e,i)&&(et="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(et="onCompositionStart");et&&(mr&&i.locale!=="ko"&&(yr||et!=="onCompositionStart"?et==="onCompositionEnd"&&yr&&(Xe=$a()):(An=Ce,Bi="value"in An?An.value:An.textContent,yr=!0)),Qe=Js(ge,et),0<Qe.length&&(et=new ho(et,e,null,i,Ce),ke.push({event:et,listeners:Qe}),Xe?et.data=Xe:(Xe=Yr(i),Xe!==null&&(et.data=Xe)))),(Xe=aa?Ll(e,i):Dc(e,i))&&(ge=Js(ge,"onBeforeInput"),0<ge.length&&(Ce=new ho("onBeforeInput","beforeinput",null,i,Ce),ke.push({event:Ce,listeners:ge}),Ce.data=Xe))}bl(ke,t)})}function da(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Js(e,t){for(var i=t+"Capture",a=[];e!==null;){var f=e,k=f.stateNode;f.tag===5&&k!==null&&(f=k,k=hr(e,i),k!=null&&a.unshift(da(e,k,f)),k=hr(e,t),k!=null&&a.push(da(e,k,f))),e=e.return}return a}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gc(e,t,i,a,f){for(var k=t._reactName,j=[];i!==null&&i!==a;){var J=i,ne=J.alternate,ge=J.stateNode;if(ne!==null&&ne===a)break;J.tag===5&&ge!==null&&(J=ge,f?(ne=hr(i,k),ne!=null&&j.unshift(da(i,ne,J))):f||(ne=hr(i,k),ne!=null&&j.push(da(i,ne,J)))),i=i.return}j.length!==0&&e.push({event:t,listeners:j})}var Gf=/\r\n?/g,Bc=/\u0000|\uFFFD/g;function ql(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Bc,"")}function es(e,t,i){if(t=ql(t),ql(e)!==t&&i)throw Error(c(425))}function Eo(){}var Kl=null,Yl=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sr=typeof setTimeout=="function"?setTimeout:void 0,Xl=typeof clearTimeout=="function"?clearTimeout:void 0,ts=typeof Promise=="function"?Promise:void 0,Hc=typeof queueMicrotask=="function"?queueMicrotask:typeof ts<"u"?function(e){return ts.resolve(null).then(e).catch(Vc)}:Sr;function Vc(e){setTimeout(function(){throw e})}function Zs(e,t){var i=t,a=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(a===0){e.removeChild(f),ir(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=f}while(i);ir(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ko(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ki,ns="__reactProps$"+Ki,li="__reactContainer$"+Ki,el="__reactEvents$"+Ki,$c="__reactListeners$"+Ki,bc="__reactHandles$"+Ki;function Yi(e){var t=e[Fr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[li]||i[Fr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ko(e);e!==null;){if(i=e[Fr])return i;e=ko(e)}return t}e=i,i=e.parentNode}return null}function rs(e){return e=e[Fr]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function kn(e){return e[ns]||null}var tl=[],Po=-1;function Ei(e){return{current:e}}function Lt(e){0>Po||(e.current=tl[Po],tl[Po]=null,Po--)}function At(e,t){Po++,tl[Po]=e.current,e.current=t}var ui={},In=Ei(ui),Un=Ei(!1),Qi=ui;function Ro(e,t){var i=e.type.contextTypes;if(!i)return ui;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var f={},k;for(k in i)f[k]=t[k];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function jn(e){return e=e.childContextTypes,e!=null}function ha(){Lt(Un),Lt(In)}function Jl(e,t,i){if(In.current!==ui)throw Error(c(168));At(In,t),At(Un,i)}function nl(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var f in a)if(!(f in t))throw Error(c(108,Z(e)||"Unknown",f));return $({},i,a)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Qi=In.current,At(In,e),At(Un,Un.current),!0}function Wc(e,t,i){var a=e.stateNode;if(!a)throw Error(c(169));i?(e=nl(e,t,Qi),a.__reactInternalMemoizedMergedChildContext=e,Lt(Un),Lt(In),At(In,e)):Lt(Un),At(Un,i)}var ci=null,pa=!1,rl=!1;function is(e){ci===null?ci=[e]:ci.push(e)}function ki(e){pa=!0,is(e)}function Xi(){if(!rl&&ci!==null){rl=!0;var e=0,t=Et;try{var i=ci;for(Et=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}ci=null,pa=!1}catch(f){throw ci!==null&&(ci=ci.slice(e+1)),at(Rt,Xi),f}finally{Et=t,rl=!1}}return null}var Yn=[],No=0,Ji=null,Zi=0,Qn=[],Xn=0,eo=null,wr=1,Ht="";function Ao(e,t){Yn[No++]=Zi,Yn[No++]=Ji,Ji=e,Zi=t}function qc(e,t,i){Qn[Xn++]=wr,Qn[Xn++]=Ht,Qn[Xn++]=eo,eo=e;var a=wr;e=Ht;var f=32-lt(a)-1;a&=~(1<<f),i+=1;var k=32-lt(t)+f;if(30<k){var j=f-f%5;k=(a&(1<<j)-1).toString(32),a>>=j,f-=j,wr=1<<32-lt(t)+f|i<<f|a,Ht=k+e}else wr=1<<k|i<<f|a,Ht=e}function ga(e){e.return!==null&&(Ao(e,1),qc(e,1,0))}function Pn(e){for(;e===Ji;)Ji=Yn[--No],Yn[No]=null,Zi=Yn[--No],Yn[No]=null;for(;e===eo;)eo=Qn[--Xn],Qn[Xn]=null,Ht=Qn[--Xn],Qn[Xn]=null,wr=Qn[--Xn],Qn[Xn]=null}var xr=null,Oe=null,Tt=!1,Cr=null;function Zl(e,t){var i=vi(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Kc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,Oe=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=eo!==null?{id:wr,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=vi(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,xr=e,Oe=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function va(e){if(Tt){var t=Oe;if(t){var i=t;if(!Kc(e,t)){if(Oo(e))throw Error(c(418));t=si(i.nextSibling);var a=xr;t&&Kc(e,t)?Zl(a,i):(e.flags=e.flags&-4097|2,Tt=!1,xr=e)}}else{if(Oo(e))throw Error(c(418));e.flags=e.flags&-4097|2,Tt=!1,xr=e}}}function il(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function os(e){if(e!==xr)return!1;if(!Tt)return il(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=Oe)){if(Oo(e))throw eu(),Error(c(418));for(;t;)Zl(e,t),t=si(t.nextSibling)}if(il(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Oe=si(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=xr?si(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Oe;e;)e=si(e.nextSibling)}function Mo(){Oe=xr=null,Tt=!1}function as(e){Cr===null?Cr=[e]:Cr.push(e)}var tu=I.ReactCurrentBatchConfig;function Ot(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var sr=Ei(null),Er=null,to=null,ol=null;function kr(){ol=to=Er=null}function al(e){var t=sr.current;Lt(sr),e._currentValue=t}function Dr(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function ma(e,t){Er=e,ol=to=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(b=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},to===null){if(Er===null)throw Error(c(308));to=e,Er.dependencies={lanes:0,firstContext:e}}else to=to.next=e;return t}var no=null;function sl(e){no===null?no=[e]:no.push(e)}function nu(e,t,i,a){var f=t.interleaved;return f===null?(i.next=i,sl(t)):(i.next=f.next,f.next=i),t.interleaved=i,zr(e,a)}function zr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Qr=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(kt&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,zr(e,i)}return f=a.interleaved,f===null?(t.next=t,sl(a)):(t.next=f.next,f.next=t),a.interleaved=t,zr(e,i)}function _a(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Rl(e,i)}}function ll(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var f=null,k=null;if(i=i.firstBaseUpdate,i!==null){do{var j={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};k===null?f=k=j:k=k.next=j,i=i.next}while(i!==null);k===null?f=k=t:k=k.next=t}else f=k=t;i={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:k,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Sa(e,t,i,a){var f=e.updateQueue;Qr=!1;var k=f.firstBaseUpdate,j=f.lastBaseUpdate,J=f.shared.pending;if(J!==null){f.shared.pending=null;var ne=J,ge=ne.next;ne.next=null,j===null?k=ge:j.next=ge,j=ne;var Ce=e.alternate;Ce!==null&&(Ce=Ce.updateQueue,J=Ce.lastBaseUpdate,J!==j&&(J===null?Ce.firstBaseUpdate=ge:J.next=ge,Ce.lastBaseUpdate=ne))}if(k!==null){var ke=f.baseState;j=0,Ce=ge=ne=null,J=k;do{var xe=J.lane,De=J.eventTime;if((a&xe)===xe){Ce!==null&&(Ce=Ce.next={eventTime:De,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var je=e,Ge=J;switch(xe=t,De=i,Ge.tag){case 1:if(je=Ge.payload,typeof je=="function"){ke=je.call(De,ke,xe);break e}ke=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ge.payload,xe=typeof je=="function"?je.call(De,ke,xe):je,xe==null)break e;ke=$({},ke,xe);break e;case 2:Qr=!0}}J.callback!==null&&J.lane!==0&&(e.flags|=64,xe=f.effects,xe===null?f.effects=[J]:xe.push(J))}else De={eventTime:De,lane:xe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ce===null?(ge=Ce=De,ne=ke):Ce=Ce.next=De,j|=xe;if(J=J.next,J===null){if(J=f.shared.pending,J===null)break;xe=J,J=xe.next,xe.next=null,f.lastBaseUpdate=xe,f.shared.pending=null}}while(!0);if(Ce===null&&(ne=ke),f.baseState=ne,f.firstBaseUpdate=ge,f.lastBaseUpdate=Ce,t=f.shared.interleaved,t!==null){f=t;do j|=f.lane,f=f.next;while(f!==t)}else k===null&&(f.shared.lanes=0);gs|=j,e.lanes=j,e.memoizedState=ke}}function ru(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],f=a.callback;if(f!==null){if(a.callback=null,a=i,typeof f!="function")throw Error(c(191,f));f.call(a)}}}var ul=new s.Component().refs;function iu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:$({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Io={isMounted:function(e){return(e=e._reactInternals)?Fe(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ar(),f=Aa(e),k=Ur(a,f);k.payload=t,i!=null&&(k.callback=i),t=jr(e,k,f),t!==null&&(Mi(t,e,f,a),_a(t,e,f))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ar(),f=Aa(e),k=Ur(a,f);k.tag=1,k.payload=t,i!=null&&(k.callback=i),t=jr(e,k,f),t!==null&&(Mi(t,e,f,a),_a(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ar(),a=Aa(e),f=Ur(i,a);f.tag=2,t!=null&&(f.callback=t),t=jr(e,f,a),t!==null&&(Mi(t,e,a,i),_a(t,e,a))}};function cl(e,t,i,a,f,k,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,k,j):t.prototype&&t.prototype.isPureReactComponent?!yo(i,a)||!yo(f,k):!0}function Qt(e,t,i){var a=!1,f=ui,k=t.contextType;return typeof k=="object"&&k!==null?k=Pr(k):(f=jn(t)?Qi:In.current,a=t.contextTypes,k=(a=a!=null)?Ro(e,f):ui),t=new t(i,k),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=k),t}function ft(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function on(e,t,i,a){var f=e.stateNode;f.props=i,f.state=e.memoizedState,f.refs=ul,ya(e);var k=t.contextType;typeof k=="object"&&k!==null?f.context=Pr(k):(k=jn(t)?Qi:In.current,f.context=Ro(e,k)),f.state=e.memoizedState,k=t.getDerivedStateFromProps,typeof k=="function"&&(iu(e,t,k,i),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&Io.enqueueReplaceState(f,f.state,null),Sa(e,i,f,a),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Vt(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(c(309));var a=i.stateNode}if(!a)throw Error(c(147,e));var f=a,k=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===k?t.ref:(t=function(j){var J=f.refs;J===ul&&(J=f.refs={}),j===null?delete J[k]:J[k]=j},t._stringRef=k,t)}if(typeof e!="string")throw Error(c(284));if(!i._owner)throw Error(c(290,e))}return e}function an(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lr(e){var t=e._init;return t(e._payload)}function Lo(e){function t(de,se){if(e){var he=de.deletions;he===null?(de.deletions=[se],de.flags|=16):he.push(se)}}function i(de,se){if(!e)return null;for(;se!==null;)t(de,se),se=se.sibling;return null}function a(de,se){for(de=new Map;se!==null;)se.key!==null?de.set(se.key,se):de.set(se.index,se),se=se.sibling;return de}function f(de,se){return de=Ma(de,se),de.index=0,de.sibling=null,de}function k(de,se,he){return de.index=he,e?(he=de.alternate,he!==null?(he=he.index,he<se?(de.flags|=2,se):he):(de.flags|=2,se)):(de.flags|=1048576,se)}function j(de){return e&&de.alternate===null&&(de.flags|=2),de}function J(de,se,he,Re){return se===null||se.tag!==6?(se=od(he,de.mode,Re),se.return=de,se):(se=f(se,he),se.return=de,se)}function ne(de,se,he,Re){var $e=he.type;return $e===K?Ce(de,se,he.props.children,Re,he.key):se!==null&&(se.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Q&&lr($e)===se.type)?(Re=f(se,he.props),Re.ref=Vt(de,se,he),Re.return=de,Re):(Re=gf(he.type,he.key,he.props,null,de.mode,Re),Re.ref=Vt(de,se,he),Re.return=de,Re)}function ge(de,se,he,Re){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=ad(he,de.mode,Re),se.return=de,se):(se=f(se,he.children||[]),se.return=de,se)}function Ce(de,se,he,Re,$e){return se===null||se.tag!==7?(se=_s(he,de.mode,Re,$e),se.return=de,se):(se=f(se,he),se.return=de,se)}function ke(de,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=od(""+se,de.mode,he),se.return=de,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return he=gf(se.type,se.key,se.props,null,de.mode,he),he.ref=Vt(de,null,se),he.return=de,he;case W:return se=ad(se,de.mode,he),se.return=de,se;case Q:var Re=se._init;return ke(de,Re(se._payload),he)}if(wt(se)||re(se))return se=_s(se,de.mode,he,null),se.return=de,se;an(de,se)}return null}function xe(de,se,he,Re){var $e=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return $e!==null?null:J(de,se,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return he.key===$e?ne(de,se,he,Re):null;case W:return he.key===$e?ge(de,se,he,Re):null;case Q:return $e=he._init,xe(de,se,$e(he._payload),Re)}if(wt(he)||re(he))return $e!==null?null:Ce(de,se,he,Re,null);an(de,he)}return null}function De(de,se,he,Re,$e){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return de=de.get(he)||null,J(se,de,""+Re,$e);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case D:return de=de.get(Re.key===null?he:Re.key)||null,ne(se,de,Re,$e);case W:return de=de.get(Re.key===null?he:Re.key)||null,ge(se,de,Re,$e);case Q:var Qe=Re._init;return De(de,se,he,Qe(Re._payload),$e)}if(wt(Re)||re(Re))return de=de.get(he)||null,Ce(se,de,Re,$e,null);an(se,Re)}return null}function je(de,se,he,Re){for(var $e=null,Qe=null,Xe=se,et=se=0,Vn=null;Xe!==null&&et<he.length;et++){Xe.index>et?(Vn=Xe,Xe=null):Vn=Xe.sibling;var Pt=xe(de,Xe,he[et],Re);if(Pt===null){Xe===null&&(Xe=Vn);break}e&&Xe&&Pt.alternate===null&&t(de,Xe),se=k(Pt,se,et),Qe===null?$e=Pt:Qe.sibling=Pt,Qe=Pt,Xe=Vn}if(et===he.length)return i(de,Xe),Tt&&Ao(de,et),$e;if(Xe===null){for(;et<he.length;et++)Xe=ke(de,he[et],Re),Xe!==null&&(se=k(Xe,se,et),Qe===null?$e=Xe:Qe.sibling=Xe,Qe=Xe);return Tt&&Ao(de,et),$e}for(Xe=a(de,Xe);et<he.length;et++)Vn=De(Xe,de,et,he[et],Re),Vn!==null&&(e&&Vn.alternate!==null&&Xe.delete(Vn.key===null?et:Vn.key),se=k(Vn,se,et),Qe===null?$e=Vn:Qe.sibling=Vn,Qe=Vn);return e&&Xe.forEach(function(Ia){return t(de,Ia)}),Tt&&Ao(de,et),$e}function Ge(de,se,he,Re){var $e=re(he);if(typeof $e!="function")throw Error(c(150));if(he=$e.call(he),he==null)throw Error(c(151));for(var Qe=$e=null,Xe=se,et=se=0,Vn=null,Pt=he.next();Xe!==null&&!Pt.done;et++,Pt=he.next()){Xe.index>et?(Vn=Xe,Xe=null):Vn=Xe.sibling;var Ia=xe(de,Xe,Pt.value,Re);if(Ia===null){Xe===null&&(Xe=Vn);break}e&&Xe&&Ia.alternate===null&&t(de,Xe),se=k(Ia,se,et),Qe===null?$e=Ia:Qe.sibling=Ia,Qe=Ia,Xe=Vn}if(Pt.done)return i(de,Xe),Tt&&Ao(de,et),$e;if(Xe===null){for(;!Pt.done;et++,Pt=he.next())Pt=ke(de,Pt.value,Re),Pt!==null&&(se=k(Pt,se,et),Qe===null?$e=Pt:Qe.sibling=Pt,Qe=Pt);return Tt&&Ao(de,et),$e}for(Xe=a(de,Xe);!Pt.done;et++,Pt=he.next())Pt=De(Xe,de,et,Pt.value,Re),Pt!==null&&(e&&Pt.alternate!==null&&Xe.delete(Pt.key===null?et:Pt.key),se=k(Pt,se,et),Qe===null?$e=Pt:Qe.sibling=Pt,Qe=Pt);return e&&Xe.forEach(function(M1){return t(de,M1)}),Tt&&Ao(de,et),$e}function mn(de,se,he,Re){if(typeof he=="object"&&he!==null&&he.type===K&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case D:e:{for(var $e=he.key,Qe=se;Qe!==null;){if(Qe.key===$e){if($e=he.type,$e===K){if(Qe.tag===7){i(de,Qe.sibling),se=f(Qe,he.props.children),se.return=de,de=se;break e}}else if(Qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Q&&lr($e)===Qe.type){i(de,Qe.sibling),se=f(Qe,he.props),se.ref=Vt(de,Qe,he),se.return=de,de=se;break e}i(de,Qe);break}else t(de,Qe);Qe=Qe.sibling}he.type===K?(se=_s(he.props.children,de.mode,Re,he.key),se.return=de,de=se):(Re=gf(he.type,he.key,he.props,null,de.mode,Re),Re.ref=Vt(de,se,he),Re.return=de,de=Re)}return j(de);case W:e:{for(Qe=he.key;se!==null;){if(se.key===Qe)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){i(de,se.sibling),se=f(se,he.children||[]),se.return=de,de=se;break e}else{i(de,se);break}else t(de,se);se=se.sibling}se=ad(he,de.mode,Re),se.return=de,de=se}return j(de);case Q:return Qe=he._init,mn(de,se,Qe(he._payload),Re)}if(wt(he))return je(de,se,he,Re);if(re(he))return Ge(de,se,he,Re);an(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(i(de,se.sibling),se=f(se,he),se.return=de,de=se):(i(de,se),se=od(he,de.mode,Re),se.return=de,de=se),j(de)):i(de,se)}return mn}var $t=Lo(!0),wa=Lo(!1),Xr={},Rr=Ei(Xr),Fo=Ei(Xr),Pi=Ei(Xr);function sn(e){if(e===Xr)throw Error(c(174));return e}function ls(e,t){switch(At(Pi,t),At(Fo,e),At(Rr,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dr(t,e)}Lt(Rr),At(Rr,t)}function ro(){Lt(Rr),Lt(Fo),Lt(Pi)}function fi(e){sn(Pi.current);var t=sn(Rr.current),i=dr(t,e.type);t!==i&&(At(Fo,e),At(Rr,i))}function io(e){Fo.current===e&&(Lt(Rr),Lt(Fo))}var Ft=Ei(0);function xa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function Ca(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var Jr=I.ReactCurrentDispatcher,Ea=I.ReactCurrentBatchConfig,Zr=0,Ut=null,Xt=null,en=null,vn=!1,Gr=!1,Gn=0,ur=0;function Ln(){throw Error(c(321))}function us(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ar(e[i],t[i]))return!1;return!0}function cs(e,t,i,a,f,k){if(Zr=k,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?tf:nf,e=i(a,f),Gr){k=0;do{if(Gr=!1,Gn=0,25<=k)throw Error(c(301));k+=1,en=Xt=null,t.updateQueue=null,Jr.current=rf,e=i(a,f)}while(Gr)}if(Jr.current=ml,t=Xt!==null&&Xt.next!==null,Zr=0,en=Xt=Ut=null,vn=!1,t)throw Error(c(300));return e}function ou(){var e=Gn!==0;return Gn=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ut.memoizedState=en=e:en=en.next=e,en}function Tr(){if(Xt===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=en===null?Ut.memoizedState:en.next;if(t!==null)en=t,Xt=e;else{if(e===null)throw Error(c(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},en===null?Ut.memoizedState=en=e:en=en.next=e}return en}function ka(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=Tr(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var a=Xt,f=a.baseQueue,k=i.pending;if(k!==null){if(f!==null){var j=f.next;f.next=k.next,k.next=j}a.baseQueue=f=k,i.pending=null}if(f!==null){k=f.next,a=a.baseState;var J=j=null,ne=null,ge=k;do{var Ce=ge.lane;if((Zr&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),a=ge.hasEagerState?ge.eagerState:e(a,ge.action);else{var ke={lane:Ce,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ne===null?(J=ne=ke,j=a):ne=ne.next=ke,Ut.lanes|=Ce,gs|=Ce}ge=ge.next}while(ge!==null&&ge!==k);ne===null?j=a:ne.next=J,ar(a,t.memoizedState)||(b=!0),t.memoizedState=a,t.baseState=j,t.baseQueue=ne,i.lastRenderedState=a}if(e=i.interleaved,e!==null){f=e;do k=f.lane,Ut.lanes|=k,gs|=k,f=f.next;while(f!==e)}else f===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ri(e){var t=Tr(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var a=i.dispatch,f=i.pending,k=t.memoizedState;if(f!==null){i.pending=null;var j=f=f.next;do k=e(k,j.action),j=j.next;while(j!==f);ar(k,t.memoizedState)||(b=!0),t.memoizedState=k,t.baseQueue===null&&(t.baseState=k),i.lastRenderedState=k}return[k,a]}function au(){}function su(e,t){var i=Ut,a=Tr(),f=t(),k=!ar(a.memoizedState,f);if(k&&(a.memoizedState=f,b=!0),a=a.queue,cu(Yc.bind(null,i,a,e),[e]),a.getSnapshot!==t||k||en!==null&&en.memoizedState.tag&1){if(i.flags|=2048,ei(9,ds.bind(null,i,a,f,t),void 0,null),Hn===null)throw Error(c(349));(Zr&30)!==0||fl(i,t,f)}return f}function fl(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ds(e,t,i,a){t.value=i,t.getSnapshot=a,Qc(t)&&lu(e)}function Yc(e,t,i){return i(function(){Qc(t)&&lu(e)})}function Qc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ar(e,i)}catch{return!0}}function lu(e){var t=zr(e,1);t!==null&&Mi(t,e,1,-1)}function uu(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Do.bind(null,Ut,e),[t.memoizedState,e]}function ei(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Xc(){return Tr().memoizedState}function hi(e,t,i,a){var f=Fn();Ut.flags|=e,f.memoizedState=ei(1|t,i,void 0,a===void 0?null:a)}function hs(e,t,i,a){var f=Tr();a=a===void 0?null:a;var k=void 0;if(Xt!==null){var j=Xt.memoizedState;if(k=j.destroy,a!==null&&us(a,j.deps)){f.memoizedState=ei(t,i,k,a);return}}Ut.flags|=e,f.memoizedState=ei(1|t,i,k,a)}function jt(e,t){return hi(8390656,8,e,t)}function cu(e,t){return hs(2048,8,e,t)}function fu(e,t){return hs(4,2,e,t)}function Jc(e,t){return hs(4,4,e,t)}function Zc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function du(e,t,i){return i=i!=null?i.concat([e]):null,hs(4,4,Zc.bind(null,t,e),i)}function dl(){}function ef(e,t){var i=Tr();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&us(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Nr(e,t){var i=Tr();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&us(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function hl(e,t,i){return(Zr&21)===0?(e.baseState&&(e.baseState=!1,b=!0),e.memoizedState=i):(ar(i,t)||(i=Pl(),Ut.lanes|=i,gs|=i,e.baseState=!0),t)}function Bf(e,t){var i=Et;Et=i!==0&&4>i?i:4,e(!0);var a=Ea.transition;Ea.transition={};try{e(!1),t()}finally{Et=i,Ea.transition=a}}function Ti(){return Tr().memoizedState}function pl(e,t,i){var a=Aa(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},ps(e))gl(t,i);else if(i=nu(e,t,i,a),i!==null){var f=Ar();Mi(i,e,a,f),vl(i,t,a)}}function Do(e,t,i){var a=Aa(e),f={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(ps(e))gl(t,f);else{var k=e.alternate;if(e.lanes===0&&(k===null||k.lanes===0)&&(k=t.lastRenderedReducer,k!==null))try{var j=t.lastRenderedState,J=k(j,i);if(f.hasEagerState=!0,f.eagerState=J,ar(J,j)){var ne=t.interleaved;ne===null?(f.next=f,sl(t)):(f.next=ne.next,ne.next=f),t.interleaved=f;return}}catch{}finally{}i=nu(e,t,f,a),i!==null&&(f=Ar(),Mi(i,e,a,f),vl(i,t,a))}}function ps(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function gl(e,t){Gr=vn=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function vl(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Rl(e,i)}}var ml={readContext:Pr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},tf={readContext:Pr,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:jt,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,hi(4194308,4,Zc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var i=Fn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Fn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=pl.bind(null,Ut,e),[a.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:dl,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=Bf.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ut,f=Fn();if(Tt){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),Hn===null)throw Error(c(349));(Zr&30)!==0||fl(a,t,i)}f.memoizedState=i;var k={value:i,getSnapshot:t};return f.queue=k,jt(Yc.bind(null,a,k,e),[e]),a.flags|=2048,ei(9,ds.bind(null,a,k,i,t),void 0,null),i},useId:function(){var e=Fn(),t=Hn.identifierPrefix;if(Tt){var i=Ht,a=wr;i=(a&~(1<<32-lt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Gn++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=ur++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nf={readContext:Pr,useCallback:ef,useContext:Pr,useEffect:cu,useImperativeHandle:du,useInsertionEffect:fu,useLayoutEffect:Jc,useMemo:Nr,useReducer:fs,useRef:Xc,useState:function(){return fs(ka)},useDebugValue:dl,useDeferredValue:function(e){var t=Tr();return hl(t,Xt.memoizedState,e)},useTransition:function(){var e=fs(ka)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:su,useId:Ti,unstable_isNewReconciler:!1},rf={readContext:Pr,useCallback:ef,useContext:Pr,useEffect:cu,useImperativeHandle:du,useInsertionEffect:fu,useLayoutEffect:Jc,useMemo:Nr,useReducer:Ri,useRef:Xc,useState:function(){return Ri(ka)},useDebugValue:dl,useDeferredValue:function(e){var t=Tr();return Xt===null?t.memoizedState=e:hl(t,Xt.memoizedState,e)},useTransition:function(){var e=Ri(ka)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:su,useId:Ti,unstable_isNewReconciler:!1};function zo(e,t){try{var i="",a=t;do i+=Ae(a),a=a.return;while(a);var f=i}catch(k){f=`
Error generating stack: `+k.message+`
`+k.stack}return{value:e,source:t,stack:f,digest:null}}function Pa(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Hf=typeof WeakMap=="function"?WeakMap:Map;function n(e,t,i){i=Ur(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){uf||(uf=!0,Xf=a),hu(e,t)},i}function r(e,t,i){i=Ur(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var f=t.value;i.payload=function(){return a(f)},i.callback=function(){hu(e,t)}}var k=e.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){hu(e,t),typeof a!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var j=t.stack;this.componentDidCatch(t.value,{componentStack:j!==null?j:""})}),i}function o(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Hf;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(i)||(f.add(i),e=w1.bind(null,e,t,i),t.then(e,e))}function l(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function g(e,t,i,a,f){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Ur(-1,1),t.tag=2,jr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var M=I.ReactCurrentOwner,b=!1;function ae(e,t,i,a){t.child=e===null?wa(t,null,i,a):$t(t,e.child,i,a)}function ve(e,t,i,a,f){i=i.render;var k=t.ref;return ma(t,f),a=cs(e,t,i,a,k,f),i=ou(),e!==null&&!b?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Ni(e,t,f)):(Tt&&i&&ga(t),t.flags|=1,ae(e,t,a,f),t.child)}function Pe(e,t,i,a,f){if(e===null){var k=i.type;return typeof k=="function"&&!id(k)&&k.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=k,ze(e,t,k,a,f)):(e=gf(i.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(k=e.child,(e.lanes&f)===0){var j=k.memoizedProps;if(i=i.compare,i=i!==null?i:yo,i(j,a)&&e.ref===t.ref)return Ni(e,t,f)}return t.flags|=1,e=Ma(k,a),e.ref=t.ref,e.return=t,t.child=e}function ze(e,t,i,a,f){if(e!==null){var k=e.memoizedProps;if(yo(k,a)&&e.ref===t.ref)if(b=!1,t.pendingProps=a=k,(e.lanes&f)!==0)(e.flags&131072)!==0&&(b=!0);else return t.lanes=e.lanes,Ni(e,t,f)}return Mt(e,t,i,a,f)}function tt(e,t,i){var a=t.pendingProps,f=a.children,k=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(_l,ni),ni|=i;else{if((i&1073741824)===0)return e=k!==null?k.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(_l,ni),ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=k!==null?k.baseLanes:i,At(_l,ni),ni|=a}else k!==null?(a=k.baseLanes|i,t.memoizedState=null):a=i,At(_l,ni),ni|=a;return ae(e,t,f,i),t.child}function Me(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Mt(e,t,i,a,f){var k=jn(i)?Qi:In.current;return k=Ro(t,k),ma(t,f),i=cs(e,t,i,a,k,f),a=ou(),e!==null&&!b?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Ni(e,t,f)):(Tt&&a&&ga(t),t.flags|=1,ae(e,t,i,f),t.child)}function Nt(e,t,i,a,f){if(jn(i)){var k=!0;To(t)}else k=!1;if(ma(t,f),t.stateNode===null)ti(e,t),Qt(t,i,a),on(t,i,a,f),a=!0;else if(e===null){var j=t.stateNode,J=t.memoizedProps;j.props=J;var ne=j.context,ge=i.contextType;typeof ge=="object"&&ge!==null?ge=Pr(ge):(ge=jn(i)?Qi:In.current,ge=Ro(t,ge));var Ce=i.getDerivedStateFromProps,ke=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function";ke||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(J!==a||ne!==ge)&&ft(t,j,a,ge),Qr=!1;var xe=t.memoizedState;j.state=xe,Sa(t,a,j,f),ne=t.memoizedState,J!==a||xe!==ne||Un.current||Qr?(typeof Ce=="function"&&(iu(t,i,Ce,a),ne=t.memoizedState),(J=Qr||cl(t,i,J,a,xe,ne,ge))?(ke||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(t.flags|=4194308)):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ne),j.props=a,j.state=ne,j.context=ge,a=J):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{j=t.stateNode,ss(e,t),J=t.memoizedProps,ge=t.type===t.elementType?J:Ot(t.type,J),j.props=ge,ke=t.pendingProps,xe=j.context,ne=i.contextType,typeof ne=="object"&&ne!==null?ne=Pr(ne):(ne=jn(i)?Qi:In.current,ne=Ro(t,ne));var De=i.getDerivedStateFromProps;(Ce=typeof De=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(J!==ke||xe!==ne)&&ft(t,j,a,ne),Qr=!1,xe=t.memoizedState,j.state=xe,Sa(t,a,j,f);var je=t.memoizedState;J!==ke||xe!==je||Un.current||Qr?(typeof De=="function"&&(iu(t,i,De,a),je=t.memoizedState),(ge=Qr||cl(t,i,ge,a,xe,je,ne)||!1)?(Ce||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(a,je,ne),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(a,je,ne)),typeof j.componentDidUpdate=="function"&&(t.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof j.componentDidUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=je),j.props=a,j.state=je,j.context=ne,a=ge):(typeof j.componentDidUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),a=!1)}return Bn(e,t,i,a,k,f)}function Bn(e,t,i,a,f,k){Me(e,t);var j=(t.flags&128)!==0;if(!a&&!j)return f&&Wc(t,i,!1),Ni(e,t,k);a=t.stateNode,M.current=t;var J=j&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&j?(t.child=$t(t,e.child,null,k),t.child=$t(t,null,J,k)):ae(e,t,J,k),t.memoizedState=a.state,f&&Wc(t,i,!0),t.child}function pi(e){var t=e.stateNode;t.pendingContext?Jl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jl(e,t.context,!1),ls(e,t.containerInfo)}function pe(e,t,i,a,f){return Mo(),as(f),t.flags|=256,ae(e,t,i,a),t.child}var ue={dehydrated:null,treeContext:null,retryLane:0};function me(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ie(e,t,i){var a=t.pendingProps,f=Ft.current,k=!1,j=(t.flags&128)!==0,J;if((J=j)||(J=e!==null&&e.memoizedState===null?!1:(f&2)!==0),J?(k=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),At(Ft,f&1),e===null)return va(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(j=a.children,e=a.fallback,k?(a=t.mode,k=t.child,j={mode:"hidden",children:j},(a&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=j):k=vf(j,a,0,null),e=_s(e,a,i,null),k.return=t,e.return=t,k.sibling=e,t.child=k,t.child.memoizedState=me(i),t.memoizedState=ue,e):Ke(t,j));if(f=e.memoizedState,f!==null&&(J=f.dehydrated,J!==null))return it(e,t,j,a,J,f,i);if(k){k=a.fallback,j=t.mode,f=e.child,J=f.sibling;var ne={mode:"hidden",children:a.children};return(j&1)===0&&t.child!==f?(a=t.child,a.childLanes=0,a.pendingProps=ne,t.deletions=null):(a=Ma(f,ne),a.subtreeFlags=f.subtreeFlags&14680064),J!==null?k=Ma(J,k):(k=_s(k,j,i,null),k.flags|=2),k.return=t,a.return=t,a.sibling=k,t.child=a,a=k,k=t.child,j=e.child.memoizedState,j=j===null?me(i):{baseLanes:j.baseLanes|i,cachePool:null,transitions:j.transitions},k.memoizedState=j,k.childLanes=e.childLanes&~i,t.memoizedState=ue,a}return k=e.child,e=k.sibling,a=Ma(k,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ke(e,t){return t=vf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rt(e,t,i,a){return a!==null&&as(a),$t(t,e.child,null,i),e=Ke(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function it(e,t,i,a,f,k,j){if(i)return t.flags&256?(t.flags&=-257,a=Pa(Error(c(422))),rt(e,t,j,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(k=a.fallback,f=t.mode,a=vf({mode:"visible",children:a.children},f,0,null),k=_s(k,f,j,null),k.flags|=2,a.return=t,k.return=t,a.sibling=k,t.child=a,(t.mode&1)!==0&&$t(t,e.child,null,j),t.child.memoizedState=me(j),t.memoizedState=ue,k);if((t.mode&1)===0)return rt(e,t,j,null);if(f.data==="$!"){if(a=f.nextSibling&&f.nextSibling.dataset,a)var J=a.dgst;return a=J,k=Error(c(419)),a=Pa(k,a,void 0),rt(e,t,j,a)}if(J=(j&e.childLanes)!==0,b||J){if(a=Hn,a!==null){switch(j&-j){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(a.suspendedLanes|j))!==0?0:f,f!==0&&f!==k.retryLane&&(k.retryLane=f,zr(e,f),Mi(a,e,f,-1))}return rd(),a=Pa(Error(c(421))),rt(e,t,j,a)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=x1.bind(null,e),f._reactRetry=t,null):(e=k.treeContext,Oe=si(f.nextSibling),xr=t,Tt=!0,Cr=null,e!==null&&(Qn[Xn++]=wr,Qn[Xn++]=Ht,Qn[Xn++]=eo,wr=e.id,Ht=e.overflow,eo=t),t=Ke(t,a.children),t.flags|=4096,t)}function xt(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Dr(e.return,t,i)}function ln(e,t,i,a,f){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:f}:(k.isBackwards=t,k.rendering=null,k.renderingStartTime=0,k.last=a,k.tail=i,k.tailMode=f)}function Ct(e,t,i){var a=t.pendingProps,f=a.revealOrder,k=a.tail;if(ae(e,t,a.children,i),a=Ft.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xt(e,i,t);else if(e.tag===19)xt(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(At(Ft,a),(t.mode&1)===0)t.memoizedState=null;else switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&xa(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),ln(t,!1,f,i,k);break;case"backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&xa(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}ln(t,!0,i,null,k);break;case"together":ln(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=Ma(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ma(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function c1(e,t,i){switch(t.tag){case 3:pi(t),Mo();break;case 5:fi(t);break;case 1:jn(t.type)&&To(t);break;case 4:ls(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,f=t.memoizedProps.value;At(sr,a._currentValue),a._currentValue=f;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(At(Ft,Ft.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Ie(e,t,i):(At(Ft,Ft.current&1),e=Ni(e,t,i),e!==null?e.sibling:null);At(Ft,Ft.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Ct(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),At(Ft,Ft.current),a)break;return null;case 22:case 23:return t.lanes=0,tt(e,t,i)}return Ni(e,t,i)}var Kd,Vf,Yd,Qd;Kd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Vf=function(){},Yd=function(e,t,i,a){var f=e.memoizedProps;if(f!==a){e=t.stateNode,sn(Rr.current);var k=null;switch(i){case"input":f=Gt(e,f),a=Gt(e,a),k=[];break;case"select":f=$({},f,{value:void 0}),a=$({},a,{value:void 0}),k=[];break;case"textarea":f=bn(e,f),a=bn(e,a),k=[];break;default:typeof f.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Eo)}Ua(i,a);var j;i=null;for(ge in f)if(!a.hasOwnProperty(ge)&&f.hasOwnProperty(ge)&&f[ge]!=null)if(ge==="style"){var J=f[ge];for(j in J)J.hasOwnProperty(j)&&(i||(i={}),i[j]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(A.hasOwnProperty(ge)?k||(k=[]):(k=k||[]).push(ge,null));for(ge in a){var ne=a[ge];if(J=f!=null?f[ge]:void 0,a.hasOwnProperty(ge)&&ne!==J&&(ne!=null||J!=null))if(ge==="style")if(J){for(j in J)!J.hasOwnProperty(j)||ne&&ne.hasOwnProperty(j)||(i||(i={}),i[j]="");for(j in ne)ne.hasOwnProperty(j)&&J[j]!==ne[j]&&(i||(i={}),i[j]=ne[j])}else i||(k||(k=[]),k.push(ge,i)),i=ne;else ge==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(k=k||[]).push(ge,ne)):ge==="children"?typeof ne!="string"&&typeof ne!="number"||(k=k||[]).push(ge,""+ne):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(A.hasOwnProperty(ge)?(ne!=null&&ge==="onScroll"&&It("scroll",e),k||J===ne||(k=[])):(k=k||[]).push(ge,ne))}i&&(k=k||[]).push("style",i);var ge=k;(t.updateQueue=ge)&&(t.flags|=4)}},Qd=function(e,t,i,a){i!==a&&(t.flags|=4)};function pu(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags&14680064,a|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function f1(e,t,i){var a=t.pendingProps;switch(Pn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(t),null;case 1:return jn(t.type)&&ha(),cr(t),null;case 3:return a=t.stateNode,ro(),Lt(Un),Lt(In),Ca(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cr!==null&&(ed(Cr),Cr=null))),Vf(e,t),cr(t),null;case 5:io(t);var f=sn(Pi.current);if(i=t.type,e!==null&&t.stateNode!=null)Yd(e,t,i,a,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(c(166));return cr(t),null}if(e=sn(Rr.current),os(t)){a=t.stateNode,i=t.type;var k=t.memoizedProps;switch(a[Fr]=t,a[ns]=k,e=(t.mode&1)!==0,i){case"dialog":It("cancel",a),It("close",a);break;case"iframe":case"object":case"embed":It("load",a);break;case"video":case"audio":for(f=0;f<qi.length;f++)It(qi[f],a);break;case"source":It("error",a);break;case"img":case"image":case"link":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"input":ht(a,k),It("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!k.multiple},It("invalid",a);break;case"textarea":Tn(a,k),It("invalid",a)}Ua(i,k),f=null;for(var j in k)if(k.hasOwnProperty(j)){var J=k[j];j==="children"?typeof J=="string"?a.textContent!==J&&(k.suppressHydrationWarning!==!0&&es(a.textContent,J,e),f=["children",J]):typeof J=="number"&&a.textContent!==""+J&&(k.suppressHydrationWarning!==!0&&es(a.textContent,J,e),f=["children",""+J]):A.hasOwnProperty(j)&&J!=null&&j==="onScroll"&&It("scroll",a)}switch(i){case"input":Le(a),Jt(a,k,!0);break;case"textarea":Le(a),Yt(a);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(a.onclick=Eo)}a=f,t.updateQueue=a,a!==null&&(t.flags|=4)}else{j=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=j.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=j.createElement(i,{is:a.is}):(e=j.createElement(i),i==="select"&&(j=e,a.multiple?j.multiple=!0:a.size&&(j.size=a.size))):e=j.createElementNS(e,i),e[Fr]=t,e[ns]=a,Kd(e,t,!1,!1),t.stateNode=e;e:{switch(j=ao(i,a),i){case"dialog":It("cancel",e),It("close",e),f=a;break;case"iframe":case"object":case"embed":It("load",e),f=a;break;case"video":case"audio":for(f=0;f<qi.length;f++)It(qi[f],e);f=a;break;case"source":It("error",e),f=a;break;case"img":case"image":case"link":It("error",e),It("load",e),f=a;break;case"details":It("toggle",e),f=a;break;case"input":ht(e,a),f=Gt(e,a),It("invalid",e);break;case"option":f=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},f=$({},a,{value:void 0}),It("invalid",e);break;case"textarea":Tn(e,a),f=bn(e,a),It("invalid",e);break;default:f=a}Ua(i,f),J=f;for(k in J)if(J.hasOwnProperty(k)){var ne=J[k];k==="style"?rr(e,ne):k==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Or(e,ne)):k==="children"?typeof ne=="string"?(i!=="textarea"||ne!=="")&&_n(e,ne):typeof ne=="number"&&_n(e,""+ne):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(A.hasOwnProperty(k)?ne!=null&&k==="onScroll"&&It("scroll",e):ne!=null&&y(e,k,ne,j))}switch(i){case"input":Le(e),Jt(e,a,!1);break;case"textarea":Le(e),Yt(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ce(a.value));break;case"select":e.multiple=!!a.multiple,k=a.value,k!=null?pt(e,!!a.multiple,k,!1):a.defaultValue!=null&&pt(e,!!a.multiple,a.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Eo)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cr(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(c(166));if(i=sn(Pi.current),sn(Rr.current),os(t)){if(a=t.stateNode,i=t.memoizedProps,a[Fr]=t,(k=a.nodeValue!==i)&&(e=xr,e!==null))switch(e.tag){case 3:es(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&es(a.nodeValue,i,(e.mode&1)!==0)}k&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Fr]=t,t.stateNode=a}return cr(t),null;case 13:if(Lt(Ft),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Oe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),Mo(),t.flags|=98560,k=!1;else if(k=os(t),a!==null&&a.dehydrated!==null){if(e===null){if(!k)throw Error(c(318));if(k=t.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(c(317));k[Fr]=t}else Mo(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;cr(t),k=!1}else Cr!==null&&(ed(Cr),Cr=null),k=!0;if(!k)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ft.current&1)!==0?Dn===0&&(Dn=3):rd())),t.updateQueue!==null&&(t.flags|=4),cr(t),null);case 4:return ro(),Vf(e,t),e===null&&xo(t.stateNode.containerInfo),cr(t),null;case 10:return al(t.type._context),cr(t),null;case 17:return jn(t.type)&&ha(),cr(t),null;case 19:if(Lt(Ft),k=t.memoizedState,k===null)return cr(t),null;if(a=(t.flags&128)!==0,j=k.rendering,j===null)if(a)pu(k,!1);else{if(Dn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(j=xa(e),j!==null){for(t.flags|=128,pu(k,!1),a=j.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)k=i,e=a,k.flags&=14680066,j=k.alternate,j===null?(k.childLanes=0,k.lanes=e,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=j.childLanes,k.lanes=j.lanes,k.child=j.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=j.memoizedProps,k.memoizedState=j.memoizedState,k.updateQueue=j.updateQueue,k.type=j.type,e=j.dependencies,k.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return At(Ft,Ft.current&1|2),t.child}e=e.sibling}k.tail!==null&&qe()>Sl&&(t.flags|=128,a=!0,pu(k,!1),t.lanes=4194304)}else{if(!a)if(e=xa(j),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),pu(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!Tt)return cr(t),null}else 2*qe()-k.renderingStartTime>Sl&&i!==1073741824&&(t.flags|=128,a=!0,pu(k,!1),t.lanes=4194304);k.isBackwards?(j.sibling=t.child,t.child=j):(i=k.last,i!==null?i.sibling=j:t.child=j,k.last=j)}return k.tail!==null?(t=k.tail,k.rendering=t,k.tail=t.sibling,k.renderingStartTime=qe(),t.sibling=null,i=Ft.current,At(Ft,a?i&1|2:i&1),t):(cr(t),null);case 22:case 23:return nd(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ni&1073741824)!==0&&(cr(t),t.subtreeFlags&6&&(t.flags|=8192)):cr(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function d1(e,t){switch(Pn(t),t.tag){case 1:return jn(t.type)&&ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),Lt(Un),Lt(In),Ca(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return io(t),null;case 13:if(Lt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Ft),null;case 4:return ro(),null;case 10:return al(t.type._context),null;case 22:case 23:return nd(),null;case 24:return null;default:return null}}var of=!1,fr=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function yl(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){un(e,t,a)}else i.current=null}function $f(e,t,i){try{i()}catch(a){un(e,t,a)}}var Xd=!1;function p1(e,t){if(Kl=Ls,e=pn(),ua(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var f=a.anchorOffset,k=a.focusNode;a=a.focusOffset;try{i.nodeType,k.nodeType}catch{i=null;break e}var j=0,J=-1,ne=-1,ge=0,Ce=0,ke=e,xe=null;t:for(;;){for(var De;ke!==i||f!==0&&ke.nodeType!==3||(J=j+f),ke!==k||a!==0&&ke.nodeType!==3||(ne=j+a),ke.nodeType===3&&(j+=ke.nodeValue.length),(De=ke.firstChild)!==null;)xe=ke,ke=De;for(;;){if(ke===e)break t;if(xe===i&&++ge===f&&(J=j),xe===k&&++Ce===a&&(ne=j),(De=ke.nextSibling)!==null)break;ke=xe,xe=ke.parentNode}ke=De}i=J===-1||ne===-1?null:{start:J,end:ne}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yl={focusedElem:e,selectionRange:i},Ls=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var je=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ge=je.memoizedProps,mn=je.memoizedState,de=t.stateNode,se=de.getSnapshotBeforeUpdate(t.elementType===t.type?Ge:Ot(t.type,Ge),mn);de.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var he=t.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(Re){un(t,t.return,Re)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return je=Xd,Xd=!1,je}function gu(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&e)===e){var k=f.destroy;f.destroy=void 0,k!==void 0&&$f(t,i,k)}f=f.next}while(f!==a)}}function af(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function bf(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[ns],delete t[el],delete t[$c],delete t[bc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zd(e){return e.tag===5||e.tag===3||e.tag===4}function eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Eo));else if(a!==4&&(e=e.child,e!==null))for(Wf(e,t,i),e=e.sibling;e!==null;)Wf(e,t,i),e=e.sibling}function qf(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(qf(e,t,i),e=e.sibling;e!==null;)qf(e,t,i),e=e.sibling}var Jn=null,Ai=!1;function Ra(e,t,i){for(i=i.child;i!==null;)th(e,t,i),i=i.sibling}function th(e,t,i){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Zt,i)}catch{}switch(i.tag){case 5:fr||yl(i,t);case 6:var a=Jn,f=Ai;Jn=null,Ra(e,t,i),Jn=a,Ai=f,Jn!==null&&(Ai?(e=Jn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Jn.removeChild(i.stateNode));break;case 18:Jn!==null&&(Ai?(e=Jn,i=i.stateNode,e.nodeType===8?Zs(e.parentNode,i):e.nodeType===1&&Zs(e,i),ir(e)):Zs(Jn,i.stateNode));break;case 4:a=Jn,f=Ai,Jn=i.stateNode.containerInfo,Ai=!0,Ra(e,t,i),Jn=a,Ai=f;break;case 0:case 11:case 14:case 15:if(!fr&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){f=a=a.next;do{var k=f,j=k.destroy;k=k.tag,j!==void 0&&((k&2)!==0||(k&4)!==0)&&$f(i,t,j),f=f.next}while(f!==a)}Ra(e,t,i);break;case 1:if(!fr&&(yl(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(J){un(i,t,J)}Ra(e,t,i);break;case 21:Ra(e,t,i);break;case 22:i.mode&1?(fr=(a=fr)||i.memoizedState!==null,Ra(e,t,i),fr=a):Ra(e,t,i);break;default:Ra(e,t,i)}}function nh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new h1),t.forEach(function(a){var f=C1.bind(null,e,a);i.has(a)||(i.add(a),a.then(f,f))})}}function Oi(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];try{var k=e,j=t,J=j;e:for(;J!==null;){switch(J.tag){case 5:Jn=J.stateNode,Ai=!1;break e;case 3:Jn=J.stateNode.containerInfo,Ai=!0;break e;case 4:Jn=J.stateNode.containerInfo,Ai=!0;break e}J=J.return}if(Jn===null)throw Error(c(160));th(k,j,f),Jn=null,Ai=!1;var ne=f.alternate;ne!==null&&(ne.return=null),f.return=null}catch(ge){un(f,t,ge)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(t,e),oo(e),a&4){try{gu(3,e,e.return),af(3,e)}catch(Ge){un(e,e.return,Ge)}try{gu(5,e,e.return)}catch(Ge){un(e,e.return,Ge)}}break;case 1:Oi(t,e),oo(e),a&512&&i!==null&&yl(i,i.return);break;case 5:if(Oi(t,e),oo(e),a&512&&i!==null&&yl(i,i.return),e.flags&32){var f=e.stateNode;try{_n(f,"")}catch(Ge){un(e,e.return,Ge)}}if(a&4&&(f=e.stateNode,f!=null)){var k=e.memoizedProps,j=i!==null?i.memoizedProps:k,J=e.type,ne=e.updateQueue;if(e.updateQueue=null,ne!==null)try{J==="input"&&k.type==="radio"&&k.name!=null&&fn(f,k),ao(J,j);var ge=ao(J,k);for(j=0;j<ne.length;j+=2){var Ce=ne[j],ke=ne[j+1];Ce==="style"?rr(f,ke):Ce==="dangerouslySetInnerHTML"?Or(f,ke):Ce==="children"?_n(f,ke):y(f,Ce,ke,ge)}switch(J){case"input":Dt(f,k);break;case"textarea":dn(f,k);break;case"select":var xe=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!k.multiple;var De=k.value;De!=null?pt(f,!!k.multiple,De,!1):xe!==!!k.multiple&&(k.defaultValue!=null?pt(f,!!k.multiple,k.defaultValue,!0):pt(f,!!k.multiple,k.multiple?[]:"",!1))}f[ns]=k}catch(Ge){un(e,e.return,Ge)}}break;case 6:if(Oi(t,e),oo(e),a&4){if(e.stateNode===null)throw Error(c(162));f=e.stateNode,k=e.memoizedProps;try{f.nodeValue=k}catch(Ge){un(e,e.return,Ge)}}break;case 3:if(Oi(t,e),oo(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{ir(t.containerInfo)}catch(Ge){un(e,e.return,Ge)}break;case 4:Oi(t,e),oo(e);break;case 13:Oi(t,e),oo(e),f=e.child,f.flags&8192&&(k=f.memoizedState!==null,f.stateNode.isHidden=k,!k||f.alternate!==null&&f.alternate.memoizedState!==null||(Qf=qe())),a&4&&nh(e);break;case 22:if(Ce=i!==null&&i.memoizedState!==null,e.mode&1?(fr=(ge=fr)||Ce,Oi(t,e),fr=ge):Oi(t,e),oo(e),a&8192){if(ge=e.memoizedState!==null,(e.stateNode.isHidden=ge)&&!Ce&&(e.mode&1)!==0)for(Ue=e,Ce=e.child;Ce!==null;){for(ke=Ue=Ce;Ue!==null;){switch(xe=Ue,De=xe.child,xe.tag){case 0:case 11:case 14:case 15:gu(4,xe,xe.return);break;case 1:yl(xe,xe.return);var je=xe.stateNode;if(typeof je.componentWillUnmount=="function"){a=xe,i=xe.return;try{t=a,je.props=t.memoizedProps,je.state=t.memoizedState,je.componentWillUnmount()}catch(Ge){un(a,i,Ge)}}break;case 5:yl(xe,xe.return);break;case 22:if(xe.memoizedState!==null){ah(ke);continue}}De!==null?(De.return=xe,Ue=De):ah(ke)}Ce=Ce.sibling}e:for(Ce=null,ke=e;;){if(ke.tag===5){if(Ce===null){Ce=ke;try{f=ke.stateNode,ge?(k=f.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(J=ke.stateNode,ne=ke.memoizedProps.style,j=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=Wo("display",j))}catch(Ge){un(e,e.return,Ge)}}}else if(ke.tag===6){if(Ce===null)try{ke.stateNode.nodeValue=ge?"":ke.memoizedProps}catch(Ge){un(e,e.return,Ge)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===e)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===e)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===e)break e;Ce===ke&&(Ce=null),ke=ke.return}Ce===ke&&(Ce=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Oi(t,e),oo(e),a&4&&nh(e);break;case 21:break;default:Oi(t,e),oo(e)}}function oo(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Zd(i)){var a=i;break e}i=i.return}throw Error(c(160))}switch(a.tag){case 5:var f=a.stateNode;a.flags&32&&(_n(f,""),a.flags&=-33);var k=eh(e);qf(e,k,f);break;case 3:case 4:var j=a.stateNode.containerInfo,J=eh(e);Wf(e,J,j);break;default:throw Error(c(161))}}catch(ne){un(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g1(e,t,i){Ue=e,ih(e)}function ih(e,t,i){for(var a=(e.mode&1)!==0;Ue!==null;){var f=Ue,k=f.child;if(f.tag===22&&a){var j=f.memoizedState!==null||of;if(!j){var J=f.alternate,ne=J!==null&&J.memoizedState!==null||fr;J=of;var ge=fr;if(of=j,(fr=ne)&&!ge)for(Ue=f;Ue!==null;)j=Ue,ne=j.child,j.tag===22&&j.memoizedState!==null?sh(f):ne!==null?(ne.return=j,Ue=ne):sh(f);for(;k!==null;)Ue=k,ih(k),k=k.sibling;Ue=f,of=J,fr=ge}oh(e)}else(f.subtreeFlags&8772)!==0&&k!==null?(k.return=f,Ue=k):oh(e)}}function oh(e){for(;Ue!==null;){var t=Ue;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:fr||af(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!fr)if(i===null)a.componentDidMount();else{var f=t.elementType===t.type?i.memoizedProps:Ot(t.type,i.memoizedProps);a.componentDidUpdate(f,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var k=t.updateQueue;k!==null&&ru(t,k,a);break;case 3:var j=t.updateQueue;if(j!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ru(t,j,i)}break;case 5:var J=t.stateNode;if(i===null&&t.flags&4){i=J;var ne=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&i.focus();break;case"img":ne.src&&(i.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ge=t.alternate;if(ge!==null){var Ce=ge.memoizedState;if(Ce!==null){var ke=Ce.dehydrated;ke!==null&&ir(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}fr||t.flags&512&&bf(t)}catch(xe){un(t,t.return,xe)}}if(t===e){Ue=null;break}if(i=t.sibling,i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function ah(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function sh(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{af(4,t)}catch(ne){un(t,i,ne)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var f=t.return;try{a.componentDidMount()}catch(ne){un(t,f,ne)}}var k=t.return;try{bf(t)}catch(ne){un(t,k,ne)}break;case 5:var j=t.return;try{bf(t)}catch(ne){un(t,j,ne)}}}catch(ne){un(t,t.return,ne)}if(t===e){Ue=null;break}var J=t.sibling;if(J!==null){J.return=t.return,Ue=J;break}Ue=t.return}}var v1=Math.ceil,sf=I.ReactCurrentDispatcher,Kf=I.ReactCurrentOwner,gi=I.ReactCurrentBatchConfig,kt=0,Hn=null,Rn=null,Zn=0,ni=0,_l=Ei(0),Dn=0,vu=null,gs=0,lf=0,Yf=0,mu=null,Br=null,Qf=0,Sl=1/0,Uo=null,uf=!1,Xf=null,Ta=null,cf=!1,Na=null,ff=0,yu=0,Jf=null,df=-1,hf=0;function Ar(){return(kt&6)!==0?qe():df!==-1?df:df=qe()}function Aa(e){return(e.mode&1)===0?1:(kt&2)!==0&&Zn!==0?Zn&-Zn:tu.transition!==null?(hf===0&&(hf=Pl()),hf):(e=Et,e!==0||(e=window.event,e=e===void 0?16:Rc(e.type)),e)}function Mi(e,t,i,a){if(50<yu)throw yu=0,Jf=null,Error(c(185));Ba(e,i,a),((kt&2)===0||e!==Hn)&&(e===Hn&&((kt&2)===0&&(lf|=i),Dn===4&&Oa(e,Zn)),Hr(e,a),i===1&&kt===0&&(t.mode&1)===0&&(Sl=qe()+500,pa&&Xi()))}function Hr(e,t){var i=e.callbackNode;xc(e,t);var a=co(e,e===Hn?Zn:0);if(a===0)i!==null&&Je(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Je(i),t===1)e.tag===0?ki(uh.bind(null,e)):is(uh.bind(null,e)),Hc(function(){(kt&6)===0&&Xi()}),i=null;else{switch(Ha(a)){case 1:i=Rt;break;case 4:i=ot;break;case 16:i=st;break;case 536870912:i=pr;break;default:i=st}i=mh(i,lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function lh(e,t){if(df=-1,hf=0,(kt&6)!==0)throw Error(c(327));var i=e.callbackNode;if(wl()&&e.callbackNode!==i)return null;var a=co(e,e===Hn?Zn:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=pf(e,a);else{t=a;var f=kt;kt|=2;var k=fh();(Hn!==e||Zn!==t)&&(Uo=null,Sl=qe()+500,ms(e,t));do try{_1();break}catch(J){ch(e,J)}while(!0);kr(),sf.current=k,kt=f,Rn!==null?t=0:(Hn=null,Zn=0,t=Dn)}if(t!==0){if(t===2&&(f=Xo(e),f!==0&&(a=f,t=Zf(e,f))),t===1)throw i=vu,ms(e,0),Oa(e,a),Hr(e,qe()),i;if(t===6)Oa(e,a);else{if(f=e.current.alternate,(a&30)===0&&!m1(f)&&(t=pf(e,a),t===2&&(k=Xo(e),k!==0&&(a=k,t=Zf(e,k))),t===1))throw i=vu,ms(e,0),Oa(e,a),Hr(e,qe()),i;switch(e.finishedWork=f,e.finishedLanes=a,t){case 0:case 1:throw Error(c(345));case 2:ys(e,Br,Uo);break;case 3:if(Oa(e,a),(a&130023424)===a&&(t=Qf+500-qe(),10<t)){if(co(e,0)!==0)break;if(f=e.suspendedLanes,(f&a)!==a){Ar(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Sr(ys.bind(null,e,Br,Uo),t);break}ys(e,Br,Uo);break;case 4:if(Oa(e,a),(a&4194240)===a)break;for(t=e.eventTimes,f=-1;0<a;){var j=31-lt(a);k=1<<j,j=t[j],j>f&&(f=j),a&=~k}if(a=f,a=qe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*v1(a/1960))-a,10<a){e.timeoutHandle=Sr(ys.bind(null,e,Br,Uo),a);break}ys(e,Br,Uo);break;case 5:ys(e,Br,Uo);break;default:throw Error(c(329))}}}return Hr(e,qe()),e.callbackNode===i?lh.bind(null,e):null}function Zf(e,t){var i=mu;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=pf(e,t),e!==2&&(t=Br,Br=i,t!==null&&ed(t)),e}function ed(e){Br===null?Br=e:Br.push.apply(Br,e)}function m1(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var f=i[a],k=f.getSnapshot;f=f.value;try{if(!ar(k(),f))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(e,t){for(t&=~Yf,t&=~lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-lt(t),a=1<<i;e[i]=-1,t&=~a}}function uh(e){if((kt&6)!==0)throw Error(c(327));wl();var t=co(e,0);if((t&1)===0)return Hr(e,qe()),null;var i=pf(e,t);if(e.tag!==0&&i===2){var a=Xo(e);a!==0&&(t=a,i=Zf(e,a))}if(i===1)throw i=vu,ms(e,0),Oa(e,t),Hr(e,qe()),i;if(i===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ys(e,Br,Uo),Hr(e,qe()),null}function td(e,t){var i=kt;kt|=1;try{return e(t)}finally{kt=i,kt===0&&(Sl=qe()+500,pa&&Xi())}}function vs(e){Na!==null&&Na.tag===0&&(kt&6)===0&&wl();var t=kt;kt|=1;var i=gi.transition,a=Et;try{if(gi.transition=null,Et=1,e)return e()}finally{Et=a,gi.transition=i,kt=t,(kt&6)===0&&Xi()}}function nd(){ni=_l.current,Lt(_l)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Xl(i)),Rn!==null)for(i=Rn.return;i!==null;){var a=i;switch(Pn(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ha();break;case 3:ro(),Lt(Un),Lt(In),Ca();break;case 5:io(a);break;case 4:ro();break;case 13:Lt(Ft);break;case 19:Lt(Ft);break;case 10:al(a.type._context);break;case 22:case 23:nd()}i=i.return}if(Hn=e,Rn=e=Ma(e.current,null),Zn=ni=t,Dn=0,vu=null,Yf=lf=gs=0,Br=mu=null,no!==null){for(t=0;t<no.length;t++)if(i=no[t],a=i.interleaved,a!==null){i.interleaved=null;var f=a.next,k=i.pending;if(k!==null){var j=k.next;k.next=f,a.next=j}i.pending=a}no=null}return e}function ch(e,t){do{var i=Rn;try{if(kr(),Jr.current=ml,vn){for(var a=Ut.memoizedState;a!==null;){var f=a.queue;f!==null&&(f.pending=null),a=a.next}vn=!1}if(Zr=0,en=Xt=Ut=null,Gr=!1,Gn=0,Kf.current=null,i===null||i.return===null){Dn=1,vu=t,Rn=null;break}e:{var k=e,j=i.return,J=i,ne=t;if(t=Zn,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ge=ne,Ce=J,ke=Ce.tag;if((Ce.mode&1)===0&&(ke===0||ke===11||ke===15)){var xe=Ce.alternate;xe?(Ce.updateQueue=xe.updateQueue,Ce.memoizedState=xe.memoizedState,Ce.lanes=xe.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var De=l(j);if(De!==null){De.flags&=-257,g(De,j,J,k,t),De.mode&1&&o(k,ge,t),t=De,ne=ge;var je=t.updateQueue;if(je===null){var Ge=new Set;Ge.add(ne),t.updateQueue=Ge}else je.add(ne);break e}else{if((t&1)===0){o(k,ge,t),rd();break e}ne=Error(c(426))}}else if(Tt&&J.mode&1){var mn=l(j);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),g(mn,j,J,k,t),as(zo(ne,J));break e}}k=ne=zo(ne,J),Dn!==4&&(Dn=2),mu===null?mu=[k]:mu.push(k),k=j;do{switch(k.tag){case 3:k.flags|=65536,t&=-t,k.lanes|=t;var de=n(k,ne,t);ll(k,de);break e;case 1:J=ne;var se=k.type,he=k.stateNode;if((k.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ta===null||!Ta.has(he)))){k.flags|=65536,t&=-t,k.lanes|=t;var Re=r(k,J,t);ll(k,Re);break e}}k=k.return}while(k!==null)}hh(i)}catch($e){t=$e,Rn===i&&i!==null&&(Rn=i=i.return);continue}break}while(!0)}function fh(){var e=sf.current;return sf.current=ml,e===null?ml:e}function rd(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Hn===null||(gs&268435455)===0&&(lf&268435455)===0||Oa(Hn,Zn)}function pf(e,t){var i=kt;kt|=2;var a=fh();(Hn!==e||Zn!==t)&&(Uo=null,ms(e,t));do try{y1();break}catch(f){ch(e,f)}while(!0);if(kr(),kt=i,sf.current=a,Rn!==null)throw Error(c(261));return Hn=null,Zn=0,Dn}function y1(){for(;Rn!==null;)dh(Rn)}function _1(){for(;Rn!==null&&!nt();)dh(Rn)}function dh(e){var t=vh(e.alternate,e,ni);e.memoizedProps=e.pendingProps,t===null?hh(e):Rn=t,Kf.current=null}function hh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=f1(i,t,ni),i!==null){Rn=i;return}}else{if(i=d1(i,t),i!==null){i.flags&=32767,Rn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Rn=null;return}}if(t=t.sibling,t!==null){Rn=t;return}Rn=t=e}while(t!==null);Dn===0&&(Dn=5)}function ys(e,t,i){var a=Et,f=gi.transition;try{gi.transition=null,Et=1,S1(e,t,i,a)}finally{gi.transition=f,Et=a}return null}function S1(e,t,i,a){do wl();while(Na!==null);if((kt&6)!==0)throw Error(c(327));i=e.finishedWork;var f=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var k=i.lanes|i.childLanes;if(Df(e,k),e===Hn&&(Rn=Hn=null,Zn=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||cf||(cf=!0,mh(st,function(){return wl(),null})),k=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||k){k=gi.transition,gi.transition=null;var j=Et;Et=1;var J=kt;kt|=4,Kf.current=null,p1(e,i),rh(i,e),Qa(Yl),Ls=!!Kl,Yl=Kl=null,e.current=i,g1(i),Te(),kt=J,Et=j,gi.transition=k}else e.current=i;if(cf&&(cf=!1,Na=e,ff=f),k=e.pendingLanes,k===0&&(Ta=null),Ze(i.stateNode),Hr(e,qe()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)f=t[i],a(f.value,{componentStack:f.stack,digest:f.digest});if(uf)throw uf=!1,e=Xf,Xf=null,e;return(ff&1)!==0&&e.tag!==0&&wl(),k=e.pendingLanes,(k&1)!==0?e===Jf?yu++:(yu=0,Jf=e):yu=0,Xi(),null}function wl(){if(Na!==null){var e=Ha(ff),t=gi.transition,i=Et;try{if(gi.transition=null,Et=16>e?16:e,Na===null)var a=!1;else{if(e=Na,Na=null,ff=0,(kt&6)!==0)throw Error(c(331));var f=kt;for(kt|=4,Ue=e.current;Ue!==null;){var k=Ue,j=k.child;if((Ue.flags&16)!==0){var J=k.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var ge=J[ne];for(Ue=ge;Ue!==null;){var Ce=Ue;switch(Ce.tag){case 0:case 11:case 15:gu(8,Ce,k)}var ke=Ce.child;if(ke!==null)ke.return=Ce,Ue=ke;else for(;Ue!==null;){Ce=Ue;var xe=Ce.sibling,De=Ce.return;if(Jd(Ce),Ce===ge){Ue=null;break}if(xe!==null){xe.return=De,Ue=xe;break}Ue=De}}}var je=k.alternate;if(je!==null){var Ge=je.child;if(Ge!==null){je.child=null;do{var mn=Ge.sibling;Ge.sibling=null,Ge=mn}while(Ge!==null)}}Ue=k}}if((k.subtreeFlags&2064)!==0&&j!==null)j.return=k,Ue=j;else e:for(;Ue!==null;){if(k=Ue,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:gu(9,k,k.return)}var de=k.sibling;if(de!==null){de.return=k.return,Ue=de;break e}Ue=k.return}}var se=e.current;for(Ue=se;Ue!==null;){j=Ue;var he=j.child;if((j.subtreeFlags&2064)!==0&&he!==null)he.return=j,Ue=he;else e:for(j=se;Ue!==null;){if(J=Ue,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:af(9,J)}}catch($e){un(J,J.return,$e)}if(J===j){Ue=null;break e}var Re=J.sibling;if(Re!==null){Re.return=J.return,Ue=Re;break e}Ue=J.return}}if(kt=f,Xi(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Zt,e)}catch{}a=!0}return a}finally{Et=i,gi.transition=t}}return!1}function ph(e,t,i){t=zo(i,t),t=n(e,t,1),e=jr(e,t,1),t=Ar(),e!==null&&(Ba(e,1,t),Hr(e,t))}function un(e,t,i){if(e.tag===3)ph(e,e,i);else for(;t!==null;){if(t.tag===3){ph(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ta===null||!Ta.has(a))){e=zo(i,e),e=r(t,e,1),t=jr(t,e,1),e=Ar(),t!==null&&(Ba(t,1,e),Hr(t,e));break}}t=t.return}}function w1(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&i,Hn===e&&(Zn&i)===i&&(Dn===4||Dn===3&&(Zn&130023424)===Zn&&500>qe()-Qf?ms(e,0):Yf|=i),Hr(e,t)}function gh(e,t){t===0&&((e.mode&1)===0?t=1:(t=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var i=Ar();e=zr(e,t),e!==null&&(Ba(e,t,i),Hr(e,i))}function x1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gh(e,i)}function C1(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(c(314))}a!==null&&a.delete(t),gh(e,i)}var vh;vh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)b=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return b=!1,c1(e,t,i);b=(e.flags&131072)!==0}else b=!1,Tt&&(t.flags&1048576)!==0&&qc(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ti(e,t),e=t.pendingProps;var f=Ro(t,In.current);ma(t,i),f=cs(null,t,a,e,f,i);var k=ou();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(a)?(k=!0,To(t)):k=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ya(t),f.updater=Io,t.stateNode=f,f._reactInternals=t,on(t,a,e,i),t=Bn(null,t,a,!0,k,i)):(t.tag=0,Tt&&k&&ga(t),ae(null,t,f,i),t=t.child),t;case 16:a=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,f=a._init,a=f(a._payload),t.type=a,f=t.tag=k1(a),e=Ot(a,e),f){case 0:t=Mt(null,t,a,e,i);break e;case 1:t=Nt(null,t,a,e,i);break e;case 11:t=ve(null,t,a,e,i);break e;case 14:t=Pe(null,t,a,Ot(a.type,e),i);break e}throw Error(c(306,a,""))}return t;case 0:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ot(a,f),Mt(e,t,a,f,i);case 1:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ot(a,f),Nt(e,t,a,f,i);case 3:e:{if(pi(t),e===null)throw Error(c(387));a=t.pendingProps,k=t.memoizedState,f=k.element,ss(e,t),Sa(t,a,null,i);var j=t.memoizedState;if(a=j.element,k.isDehydrated)if(k={element:a,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},t.updateQueue.baseState=k,t.memoizedState=k,t.flags&256){f=zo(Error(c(423)),t),t=pe(e,t,a,i,f);break e}else if(a!==f){f=zo(Error(c(424)),t),t=pe(e,t,a,i,f);break e}else for(Oe=si(t.stateNode.containerInfo.firstChild),xr=t,Tt=!0,Cr=null,i=wa(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Mo(),a===f){t=Ni(e,t,i);break e}ae(e,t,a,i)}t=t.child}return t;case 5:return fi(t),e===null&&va(t),a=t.type,f=t.pendingProps,k=e!==null?e.memoizedProps:null,j=f.children,Ql(a,f)?j=null:k!==null&&Ql(a,k)&&(t.flags|=32),Me(e,t),ae(e,t,j,i),t.child;case 6:return e===null&&va(t),null;case 13:return Ie(e,t,i);case 4:return ls(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$t(t,null,a,i):ae(e,t,a,i),t.child;case 11:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ot(a,f),ve(e,t,a,f,i);case 7:return ae(e,t,t.pendingProps,i),t.child;case 8:return ae(e,t,t.pendingProps.children,i),t.child;case 12:return ae(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,f=t.pendingProps,k=t.memoizedProps,j=f.value,At(sr,a._currentValue),a._currentValue=j,k!==null)if(ar(k.value,j)){if(k.children===f.children&&!Un.current){t=Ni(e,t,i);break e}}else for(k=t.child,k!==null&&(k.return=t);k!==null;){var J=k.dependencies;if(J!==null){j=k.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===a){if(k.tag===1){ne=Ur(-1,i&-i),ne.tag=2;var ge=k.updateQueue;if(ge!==null){ge=ge.shared;var Ce=ge.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),ge.pending=ne}}k.lanes|=i,ne=k.alternate,ne!==null&&(ne.lanes|=i),Dr(k.return,i,t),J.lanes|=i;break}ne=ne.next}}else if(k.tag===10)j=k.type===t.type?null:k.child;else if(k.tag===18){if(j=k.return,j===null)throw Error(c(341));j.lanes|=i,J=j.alternate,J!==null&&(J.lanes|=i),Dr(j,i,t),j=k.sibling}else j=k.child;if(j!==null)j.return=k;else for(j=k;j!==null;){if(j===t){j=null;break}if(k=j.sibling,k!==null){k.return=j.return,j=k;break}j=j.return}k=j}ae(e,t,f.children,i),t=t.child}return t;case 9:return f=t.type,a=t.pendingProps.children,ma(t,i),f=Pr(f),a=a(f),t.flags|=1,ae(e,t,a,i),t.child;case 14:return a=t.type,f=Ot(a,t.pendingProps),f=Ot(a.type,f),Pe(e,t,a,f,i);case 15:return ze(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,f=t.pendingProps,f=t.elementType===a?f:Ot(a,f),ti(e,t),t.tag=1,jn(a)?(e=!0,To(t)):e=!1,ma(t,i),Qt(t,a,f),on(t,a,f,i),Bn(null,t,a,!0,e,i);case 19:return Ct(e,t,i);case 22:return tt(e,t,i)}throw Error(c(156,t.tag))};function mh(e,t){return at(e,t)}function E1(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,i,a){return new E1(e,t,i,a)}function id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k1(e){if(typeof e=="function")return id(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===H)return 14}return 2}function Ma(e,t){var i=e.alternate;return i===null?(i=vi(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function gf(e,t,i,a,f,k){var j=2;if(a=e,typeof e=="function")id(e)&&(j=1);else if(typeof e=="string")j=5;else e:switch(e){case K:return _s(i.children,f,k,t);case U:j=8,f|=8;break;case q:return e=vi(12,i,t,f|2),e.elementType=q,e.lanes=k,e;case F:return e=vi(13,i,t,f),e.elementType=F,e.lanes=k,e;case G:return e=vi(19,i,t,f),e.elementType=G,e.lanes=k,e;case X:return vf(i,f,k,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:j=10;break e;case Y:j=9;break e;case ie:j=11;break e;case H:j=14;break e;case Q:j=16,a=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=vi(j,i,t,f),t.elementType=e,t.type=a,t.lanes=k,t}function _s(e,t,i,a){return e=vi(7,e,a,t),e.lanes=i,e}function vf(e,t,i,a){return e=vi(22,e,a,t),e.elementType=X,e.lanes=i,e.stateNode={isHidden:!1},e}function od(e,t,i){return e=vi(6,e,null,t),e.lanes=i,e}function ad(e,t,i){return t=vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P1(e,t,i,a,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gr(0),this.expirationTimes=gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.identifierPrefix=a,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function sd(e,t,i,a,f,k,j,J,ne){return e=new P1(e,t,i,J,ne),t===1?(t=1,k===!0&&(t|=8)):t=0,k=vi(3,null,null,t),e.current=k,k.stateNode=e,k.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(k),e}function R1(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function yh(e){if(!e)return ui;e=e._reactInternals;e:{if(Fe(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var i=e.type;if(jn(i))return nl(e,i,t)}return t}function _h(e,t,i,a,f,k,j,J,ne){return e=sd(i,a,!0,e,f,k,j,J,ne),e.context=yh(null),i=e.current,a=Ar(),f=Aa(i),k=Ur(a,f),k.callback=t??null,jr(i,k,f),e.current.lanes=f,Ba(e,f,a),Hr(e,a),e}function mf(e,t,i,a){var f=t.current,k=Ar(),j=Aa(f);return i=yh(i),t.context===null?t.context=i:t.pendingContext=i,t=Ur(k,j),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=jr(f,t,j),e!==null&&(Mi(e,f,j,k),_a(e,f,j)),j}function yf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ld(e,t){Sh(e,t),(e=e.alternate)&&Sh(e,t)}function T1(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ud(e){this._internalRoot=e}_f.prototype.render=ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));mf(e,t,null,null)},_f.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vs(function(){mf(null,e,null,null)}),t[li]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ai.length&&t!==0&&t<ai[i].priority;i++);ai.splice(i,0,e),i===0&&Os(e)}};function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xh(){}function N1(e,t,i,a,f){if(f){if(typeof a=="function"){var k=a;a=function(){var ge=yf(j);k.call(ge)}}var j=_h(t,a,e,0,null,!1,!1,"",xh);return e._reactRootContainer=j,e[li]=j.current,xo(e.nodeType===8?e.parentNode:e),vs(),j}for(;f=e.lastChild;)e.removeChild(f);if(typeof a=="function"){var J=a;a=function(){var ge=yf(ne);J.call(ge)}}var ne=sd(e,0,!1,null,null,!1,!1,"",xh);return e._reactRootContainer=ne,e[li]=ne.current,xo(e.nodeType===8?e.parentNode:e),vs(function(){mf(t,ne,i,a)}),ne}function wf(e,t,i,a,f){var k=i._reactRootContainer;if(k){var j=k;if(typeof f=="function"){var J=f;f=function(){var ne=yf(j);J.call(ne)}}mf(t,j,e,f)}else j=N1(i,t,e,f,a);return yf(j)}Jo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=xn(t.pendingLanes);i!==0&&(Rl(t,i|1),Hr(t,qe()),(kt&6)===0&&(Sl=qe()+500,Xi()))}break;case 13:vs(function(){var a=zr(e,1);if(a!==null){var f=Ar();Mi(a,e,1,f)}}),ld(e,1)}},Zo=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var i=Ar();Mi(t,e,134217728,i)}ld(e,134217728)}},Cc=function(e){if(e.tag===13){var t=Aa(e),i=zr(e,t);if(i!==null){var a=Ar();Mi(i,e,t,a)}ld(e,t)}},Ec=function(){return Et},Ns=function(e,t){var i=Et;try{return Et=e,t()}finally{Et=i}},lo=function(e,t,i){switch(t){case"input":if(Dt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var f=kn(a);if(!f)throw Error(c(90));Ye(a),Dt(a,f)}}}break;case"textarea":dn(e,i);break;case"select":t=i.value,t!=null&&pt(e,!!i.multiple,t,!1)}},Rs=td,Qo=vs;var A1={usingClientEntryPoint:!1,Events:[rs,gn,kn,ja,Yo,td]},_u={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},O1={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ct(e),e===null?null:e.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||T1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Zt=xf.inject(O1),yt=xf}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1,Vr.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(t))throw Error(c(200));return R1(e,t,null,i)},Vr.createRoot=function(e,t){if(!cd(e))throw Error(c(299));var i=!1,a="",f=wh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=sd(e,1,!1,null,null,i,!1,a,f),e[li]=t.current,xo(e.nodeType===8?e.parentNode:e),new ud(t)},Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=ct(t),e=e===null?null:e.stateNode,e},Vr.flushSync=function(e){return vs(e)},Vr.hydrate=function(e,t,i){if(!Sf(t))throw Error(c(200));return wf(null,e,t,!0,i)},Vr.hydrateRoot=function(e,t,i){if(!cd(e))throw Error(c(405));var a=i!=null&&i.hydratedSources||null,f=!1,k="",j=wh;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(k=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),t=_h(t,null,e,1,i??null,f,!1,k,j),e[li]=t.current,xo(e),a)for(e=0;e<a.length;e++)i=a[e],f=i._getVersion,f=f(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,f]:t.mutableSourceEagerHydrationData.push(i,f);return new _f(t)},Vr.render=function(e,t,i){if(!Sf(t))throw Error(c(200));return wf(null,e,t,!1,i)},Vr.unmountComponentAtNode=function(e){if(!Sf(e))throw Error(c(40));return e._reactRootContainer?(vs(function(){wf(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1},Vr.unstable_batchedUpdates=td,Vr.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Sf(i))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return wf(e,t,i,!1,a)},Vr.version="18.2.0-next-9e3b772b8-20220608",Vr}var Oh;function Tp(){if(Oh)return hd.exports;Oh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(u){console.error(u)}}return s(),hd.exports=G1(),hd.exports}var Mh;function B1(){if(Mh)return Cf;Mh=1;var s=Tp();return Cf.createRoot=s.createRoot,Cf.hydrateRoot=s.hydrateRoot,Cf}var H1=B1();const V1=Tf(H1);Tp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(s){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(s[E]=c[E])}return s},vc.apply(this,arguments)}var Da;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Da||(Da={}));const Ih="popstate";function $1(s){s===void 0&&(s={});function u(E,A){let{pathname:v,search:p,hash:S}=E.location;return Ld("",{pathname:v,search:p,hash:S},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function c(E,A){return typeof A=="string"?A:Ap(A)}return W1(u,c,null,s)}function zn(s,u){if(s===!1||s===null||typeof s>"u")throw new Error(u)}function Np(s,u){if(!s){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function b1(){return Math.random().toString(36).substr(2,8)}function Lh(s,u){return{usr:s.state,key:s.key,idx:u}}function Ld(s,u,c,E){return c===void 0&&(c=null),vc({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof u=="string"?Cl(u):u,{state:c,key:u&&u.key||E||b1()})}function Ap(s){let{pathname:u="/",search:c="",hash:E=""}=s;return c&&c!=="?"&&(u+=c.charAt(0)==="?"?c:"?"+c),E&&E!=="#"&&(u+=E.charAt(0)==="#"?E:"#"+E),u}function Cl(s){let u={};if(s){let c=s.indexOf("#");c>=0&&(u.hash=s.substr(c),s=s.substr(0,c));let E=s.indexOf("?");E>=0&&(u.search=s.substr(E),s=s.substr(0,E)),s&&(u.pathname=s)}return u}function W1(s,u,c,E){E===void 0&&(E={});let{window:A=document.defaultView,v5Compat:v=!1}=E,p=A.history,S=Da.Pop,C=null,w=T();w==null&&(w=0,p.replaceState(vc({},p.state,{idx:w}),""));function T(){return(p.state||{idx:null}).idx}function d(){S=Da.Pop;let R=T(),z=R==null?null:R-w;w=R,C&&C({action:S,location:N.location,delta:z})}function x(R,z){S=Da.Push;let P=Ld(N.location,R,z);w=T()+1;let y=Lh(P,w),I=N.createHref(P);try{p.pushState(y,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;A.location.assign(I)}v&&C&&C({action:S,location:N.location,delta:1})}function _(R,z){S=Da.Replace;let P=Ld(N.location,R,z);w=T();let y=Lh(P,w),I=N.createHref(P);p.replaceState(y,"",I),v&&C&&C({action:S,location:N.location,delta:0})}function m(R){let z=A.location.origin!=="null"?A.location.origin:A.location.href,P=typeof R=="string"?R:Ap(R);return P=P.replace(/ $/,"%20"),zn(z,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,z)}let N={get action(){return S},get location(){return s(A,p)},listen(R){if(C)throw new Error("A history only accepts one active listener");return A.addEventListener(Ih,d),C=R,()=>{A.removeEventListener(Ih,d),C=null}},createHref(R){return u(A,R)},createURL:m,encodeLocation(R){let z=m(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:_,go(R){return p.go(R)}};return N}var Fh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Fh||(Fh={}));function q1(s,u,c){return c===void 0&&(c="/"),K1(s,u,c)}function K1(s,u,c,E){let A=typeof u=="string"?Cl(u):u,v=Ip(A.pathname||"/",c);if(v==null)return null;let p=Op(s);Y1(p);let S=null;for(let C=0;S==null&&C<p.length;++C){let w=sg(v);S=ig(p[C],w)}return S}function Op(s,u,c,E){u===void 0&&(u=[]),c===void 0&&(c=[]),E===void 0&&(E="");let A=(v,p,S)=>{let C={relativePath:S===void 0?v.path||"":S,caseSensitive:v.caseSensitive===!0,childrenIndex:p,route:v};C.relativePath.startsWith("/")&&(zn(C.relativePath.startsWith(E),'Absolute route path "'+C.relativePath+'" nested under path '+('"'+E+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),C.relativePath=C.relativePath.slice(E.length));let w=Ps([E,C.relativePath]),T=c.concat(C);v.children&&v.children.length>0&&(zn(v.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Op(v.children,u,T,w)),!(v.path==null&&!v.index)&&u.push({path:w,score:ng(w,v.index),routesMeta:T})};return s.forEach((v,p)=>{var S;if(v.path===""||!((S=v.path)!=null&&S.includes("?")))A(v,p);else for(let C of Mp(v.path))A(v,p,C)}),u}function Mp(s){let u=s.split("/");if(u.length===0)return[];let[c,...E]=u,A=c.endsWith("?"),v=c.replace(/\?$/,"");if(E.length===0)return A?[v,""]:[v];let p=Mp(E.join("/")),S=[];return S.push(...p.map(C=>C===""?v:[v,C].join("/"))),A&&S.push(...p),S.map(C=>s.startsWith("/")&&C===""?"/":C)}function Y1(s){s.sort((u,c)=>u.score!==c.score?c.score-u.score:rg(u.routesMeta.map(E=>E.childrenIndex),c.routesMeta.map(E=>E.childrenIndex)))}const Q1=/^:[\w-]+$/,X1=3,J1=2,Z1=1,eg=10,tg=-2,Dh=s=>s==="*";function ng(s,u){let c=s.split("/"),E=c.length;return c.some(Dh)&&(E+=tg),u&&(E+=J1),c.filter(A=>!Dh(A)).reduce((A,v)=>A+(Q1.test(v)?X1:v===""?Z1:eg),E)}function rg(s,u){return s.length===u.length&&s.slice(0,-1).every((E,A)=>E===u[A])?s[s.length-1]-u[u.length-1]:0}function ig(s,u,c){let{routesMeta:E}=s,A={},v="/",p=[];for(let S=0;S<E.length;++S){let C=E[S],w=S===E.length-1,T=v==="/"?u:u.slice(v.length)||"/",d=og({path:C.relativePath,caseSensitive:C.caseSensitive,end:w},T),x=C.route;if(!d)return null;Object.assign(A,d.params),p.push({params:A,pathname:Ps([v,d.pathname]),pathnameBase:hg(Ps([v,d.pathnameBase])),route:x}),d.pathnameBase!=="/"&&(v=Ps([v,d.pathnameBase]))}return p}function og(s,u){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[c,E]=ag(s.path,s.caseSensitive,s.end),A=u.match(c);if(!A)return null;let v=A[0],p=v.replace(/(.)\/+$/,"$1"),S=A.slice(1);return{params:E.reduce((w,T,d)=>{let{paramName:x,isOptional:_}=T;if(x==="*"){let N=S[d]||"";p=v.slice(0,v.length-N.length).replace(/(.)\/+$/,"$1")}const m=S[d];return _&&!m?w[x]=void 0:w[x]=(m||"").replace(/%2F/g,"/"),w},{}),pathname:v,pathnameBase:p,pattern:s}}function ag(s,u,c){u===void 0&&(u=!1),c===void 0&&(c=!0),Np(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let E=[],A="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,S,C)=>(E.push({paramName:S,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(E.push({paramName:"*"}),A+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?A+="\\/*$":s!==""&&s!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,u?void 0:"i"),E]}function sg(s){try{return s.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return Np(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+u+").")),s}}function Ip(s,u){if(u==="/")return s;if(!s.toLowerCase().startsWith(u.toLowerCase()))return null;let c=u.endsWith("/")?u.length-1:u.length,E=s.charAt(c);return E&&E!=="/"?null:s.slice(c)||"/"}function lg(s,u){u===void 0&&(u="/");let{pathname:c,search:E="",hash:A=""}=typeof s=="string"?Cl(s):s;return{pathname:c?c.startsWith("/")?c:ug(c,u):u,search:pg(E),hash:gg(A)}}function ug(s,u){let c=u.replace(/\/+$/,"").split("/");return s.split("/").forEach(A=>{A===".."?c.length>1&&c.pop():A!=="."&&c.push(A)}),c.length>1?c.join("/"):"/"}function vd(s,u,c,E){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+u+"` field ["+JSON.stringify(E)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cg(s){return s.filter((u,c)=>c===0||u.route.path&&u.route.path.length>0)}function fg(s,u){let c=cg(s);return u?c.map((E,A)=>A===c.length-1?E.pathname:E.pathnameBase):c.map(E=>E.pathnameBase)}function dg(s,u,c,E){E===void 0&&(E=!1);let A;typeof s=="string"?A=Cl(s):(A=vc({},s),zn(!A.pathname||!A.pathname.includes("?"),vd("?","pathname","search",A)),zn(!A.pathname||!A.pathname.includes("#"),vd("#","pathname","hash",A)),zn(!A.search||!A.search.includes("#"),vd("#","search","hash",A)));let v=s===""||A.pathname==="",p=v?"/":A.pathname,S;if(p==null)S=c;else{let d=u.length-1;if(!E&&p.startsWith("..")){let x=p.split("/");for(;x[0]==="..";)x.shift(),d-=1;A.pathname=x.join("/")}S=d>=0?u[d]:"/"}let C=lg(A,S),w=p&&p!=="/"&&p.endsWith("/"),T=(v||p===".")&&c.endsWith("/");return!C.pathname.endsWith("/")&&(w||T)&&(C.pathname+="/"),C}const Ps=s=>s.join("/").replace(/\/\/+/g,"/"),hg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),pg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function vg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Lp=["post","put","patch","delete"];new Set(Lp);const mg=["get",...Lp];new Set(mg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(s){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(s[E]=c[E])}return s},mc.apply(this,arguments)}const jd=Ee.createContext(null),yg=Ee.createContext(null),Af=Ee.createContext(null),Of=Ee.createContext(null),El=Ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Fp=Ee.createContext(null);function Mf(){return Ee.useContext(Of)!=null}function Dp(){return Mf()||zn(!1),Ee.useContext(Of).location}function zp(s){Ee.useContext(Af).static||Ee.useLayoutEffect(s)}function Up(){let{isDataRoute:s}=Ee.useContext(El);return s?Og():_g()}function _g(){Mf()||zn(!1);let s=Ee.useContext(jd),{basename:u,future:c,navigator:E}=Ee.useContext(Af),{matches:A}=Ee.useContext(El),{pathname:v}=Dp(),p=JSON.stringify(fg(A,c.v7_relativeSplatPath)),S=Ee.useRef(!1);return zp(()=>{S.current=!0}),Ee.useCallback(function(w,T){if(T===void 0&&(T={}),!S.current)return;if(typeof w=="number"){E.go(w);return}let d=dg(w,JSON.parse(p),v,T.relative==="path");s==null&&u!=="/"&&(d.pathname=d.pathname==="/"?u:Ps([u,d.pathname])),(T.replace?E.replace:E.push)(d,T.state,T)},[u,E,p,v,s])}function Sg(s,u){return wg(s,u)}function wg(s,u,c,E){Mf()||zn(!1);let{navigator:A,static:v}=Ee.useContext(Af),{matches:p}=Ee.useContext(El),S=p[p.length-1],C=S?S.params:{};S&&S.pathname;let w=S?S.pathnameBase:"/";S&&S.route;let T=Dp(),d;if(u){var x;let z=typeof u=="string"?Cl(u):u;w==="/"||(x=z.pathname)!=null&&x.startsWith(w)||zn(!1),d=z}else d=T;let _=d.pathname||"/",m=_;if(w!=="/"){let z=w.replace(/^\//,"").split("/");m="/"+_.replace(/^\//,"").split("/").slice(z.length).join("/")}let N=q1(s,{pathname:m}),R=Pg(N&&N.map(z=>Object.assign({},z,{params:Object.assign({},C,z.params),pathname:Ps([w,A.encodeLocation?A.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:Ps([w,A.encodeLocation?A.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),p,c,E);return u&&R?Ee.createElement(Of.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Da.Pop}},R):R}function xg(){let s=Ag(),u=vg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),c=s instanceof Error?s.stack:null,A={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},u),c?Ee.createElement("pre",{style:A},c):null,null)}const Cg=Ee.createElement(xg,null);class Eg extends Ee.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,c){return c.location!==u.location||c.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:c.error,location:c.location,revalidation:u.revalidation||c.revalidation}}componentDidCatch(u,c){console.error("React Router caught the following error during render",u,c)}render(){return this.state.error!==void 0?Ee.createElement(El.Provider,{value:this.props.routeContext},Ee.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kg(s){let{routeContext:u,match:c,children:E}=s,A=Ee.useContext(jd);return A&&A.static&&A.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=c.route.id),Ee.createElement(El.Provider,{value:u},E)}function Pg(s,u,c,E){var A;if(u===void 0&&(u=[]),c===void 0&&(c=null),E===void 0&&(E=null),s==null){var v;if(!c)return null;if(c.errors)s=c.matches;else if((v=E)!=null&&v.v7_partialHydration&&u.length===0&&!c.initialized&&c.matches.length>0)s=c.matches;else return null}let p=s,S=(A=c)==null?void 0:A.errors;if(S!=null){let T=p.findIndex(d=>d.route.id&&(S==null?void 0:S[d.route.id])!==void 0);T>=0||zn(!1),p=p.slice(0,Math.min(p.length,T+1))}let C=!1,w=-1;if(c&&E&&E.v7_partialHydration)for(let T=0;T<p.length;T++){let d=p[T];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(w=T),d.route.id){let{loaderData:x,errors:_}=c,m=d.route.loader&&x[d.route.id]===void 0&&(!_||_[d.route.id]===void 0);if(d.route.lazy||m){C=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((T,d,x)=>{let _,m=!1,N=null,R=null;c&&(_=S&&d.route.id?S[d.route.id]:void 0,N=d.route.errorElement||Cg,C&&(w<0&&x===0?(Mg("route-fallback"),m=!0,R=null):w===x&&(m=!0,R=d.route.hydrateFallbackElement||null)));let z=u.concat(p.slice(0,x+1)),P=()=>{let y;return _?y=N:m?y=R:d.route.Component?y=Ee.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=T,Ee.createElement(kg,{match:d,routeContext:{outlet:T,matches:z,isDataRoute:c!=null},children:y})};return c&&(d.route.ErrorBoundary||d.route.errorElement||x===0)?Ee.createElement(Eg,{location:c.location,revalidation:c.revalidation,component:N,error:_,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}var jp=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(jp||{}),Gp=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Gp||{});function Rg(s){let u=Ee.useContext(jd);return u||zn(!1),u}function Tg(s){let u=Ee.useContext(yg);return u||zn(!1),u}function Ng(s){let u=Ee.useContext(El);return u||zn(!1),u}function Bp(s){let u=Ng(),c=u.matches[u.matches.length-1];return c.route.id||zn(!1),c.route.id}function Ag(){var s;let u=Ee.useContext(Fp),c=Tg(),E=Bp();return u!==void 0?u:(s=c.errors)==null?void 0:s[E]}function Og(){let{router:s}=Rg(jp.UseNavigateStable),u=Bp(Gp.UseNavigateStable),c=Ee.useRef(!1);return zp(()=>{c.current=!0}),Ee.useCallback(function(A,v){v===void 0&&(v={}),c.current&&(typeof A=="number"?s.navigate(A):s.navigate(A,mc({fromRouteId:u},v)))},[s,u])}const zh={};function Mg(s,u,c){zh[s]||(zh[s]=!0)}function Ig(s,u){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function kf(s){zn(!1)}function Lg(s){let{basename:u="/",children:c=null,location:E,navigationType:A=Da.Pop,navigator:v,static:p=!1,future:S}=s;Mf()&&zn(!1);let C=u.replace(/^\/*/,"/"),w=Ee.useMemo(()=>({basename:C,navigator:v,static:p,future:mc({v7_relativeSplatPath:!1},S)}),[C,S,v,p]);typeof E=="string"&&(E=Cl(E));let{pathname:T="/",search:d="",hash:x="",state:_=null,key:m="default"}=E,N=Ee.useMemo(()=>{let R=Ip(T,C);return R==null?null:{location:{pathname:R,search:d,hash:x,state:_,key:m},navigationType:A}},[C,T,d,x,_,m,A]);return N==null?null:Ee.createElement(Af.Provider,{value:w},Ee.createElement(Of.Provider,{children:c,value:N}))}function Fg(s){let{children:u,location:c}=s;return Sg(Fd(u),c)}new Promise(()=>{});function Fd(s,u){u===void 0&&(u=[]);let c=[];return Ee.Children.forEach(s,(E,A)=>{if(!Ee.isValidElement(E))return;let v=[...u,A];if(E.type===Ee.Fragment){c.push.apply(c,Fd(E.props.children,v));return}E.type!==kf&&zn(!1),!E.props.index||!E.props.children||zn(!1);let p={id:E.props.id||v.join("-"),caseSensitive:E.props.caseSensitive,element:E.props.element,Component:E.props.Component,index:E.props.index,path:E.props.path,loader:E.props.loader,action:E.props.action,errorElement:E.props.errorElement,ErrorBoundary:E.props.ErrorBoundary,hasErrorBoundary:E.props.ErrorBoundary!=null||E.props.errorElement!=null,shouldRevalidate:E.props.shouldRevalidate,handle:E.props.handle,lazy:E.props.lazy};E.props.children&&(p.children=Fd(E.props.children,v)),c.push(p)}),c}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Dg="6";try{window.__reactRouterVersion=Dg}catch{}const zg="startTransition",Uh=U1[zg];function Ug(s){let{basename:u,children:c,future:E,window:A}=s,v=Ee.useRef();v.current==null&&(v.current=$1({window:A,v5Compat:!0}));let p=v.current,[S,C]=Ee.useState({action:p.action,location:p.location}),{v7_startTransition:w}=E||{},T=Ee.useCallback(d=>{w&&Uh?Uh(()=>C(d)):C(d)},[C,w]);return Ee.useLayoutEffect(()=>p.listen(T),[p,T]),Ee.useEffect(()=>Ig(E),[E]),Ee.createElement(Lg,{basename:u,children:c,location:S.location,navigationType:S.action,navigator:p,future:E})}var jh;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(jh||(jh={}));var Gh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));function jg(){const[s,u]=Ee.useState(""),c=Up(),E=A=>{A.preventDefault(),s.trim()&&(sessionStorage.setItem("username",s.trim()),c("/tanki.io/controller"))};return fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:fe.jsxs("div",{className:"max-w-md w-full backdrop-blur-sm bg-white/10 rounded-xl shadow-2xl p-8 border border-white/20",children:[fe.jsxs("div",{className:"text-center mb-8",children:[fe.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 mb-2",children:"TANK.IO"}),fe.jsx("p",{className:"text-gray-300 text-lg",children:"Dominate the battlefield!"})]}),fe.jsxs("form",{onSubmit:E,className:"space-y-6",children:[fe.jsxs("div",{children:[fe.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-1",children:"COMMANDER NAME"}),fe.jsx("input",{type:"text",id:"username",value:s,onChange:A=>u(A.target.value),className:"w-full px-4 py-3 bg-gray-800/50 rounded-lg border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),fe.jsx("button",{type:"submit",className:"w-full py-3 px-4 rounded-lg font-bold text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transform transition hover:scale-105 shadow-lg",children:"DEPLOY TANK"})]}),fe.jsx("div",{className:"mt-8 text-center",children:fe.jsx("a",{href:"/game",className:"text-sm text-indigo-300 hover:text-indigo-200 underline",children:"Open Game Screen (Spectator Mode)"})}),fe.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[fe.jsx("h3",{className:"text-gray-300 font-semibold mb-2",children:"How to Play:"}),fe.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[fe.jsx("li",{children:" Enter your name and hit DEPLOY TANK"}),fe.jsx("li",{children:" Control your tank using the arrow buttons"}),fe.jsx("li",{children:" Press the SHOOT button to fire"}),fe.jsx("li",{children:" Hit enemy tanks to reduce their HP"}),fe.jsx("li",{children:" Last tank standing wins!"})]})]})]})})}var md={},Bh={},Hh;function Gg(){return Hh||(Hh=1,ArrayBuffer.isView||(ArrayBuffer.isView=s=>s!==null&&typeof s=="object"&&s.buffer instanceof ArrayBuffer),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window)),Bh}var jo={},yd={},Vh;function Gd(){return Vh||(Vh=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.ServerError=s.CloseCode=void 0,function(c){c[c.CONSENTED=4e3]="CONSENTED",c[c.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(s.CloseCode||(s.CloseCode={}));class u extends Error{constructor(E,A){super(A),this.name="ServerError",this.code=E}}s.ServerError=u}(yd)),yd}var Ii={},Ss={},$h;function Bg(){if($h)return Ss;$h=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.decode=Ss.encode=void 0;function s(w,T){if(this._offset=T,w instanceof ArrayBuffer)this._buffer=w,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(w))this._buffer=w.buffer,this._view=new DataView(this._buffer,w.byteOffset,w.byteLength);else throw new Error("Invalid argument")}function u(w,T,d){for(var x="",_=0,m=T,N=T+d;m<N;m++){var R=w.getUint8(m);if((R&128)===0){x+=String.fromCharCode(R);continue}if((R&224)===192){x+=String.fromCharCode((R&31)<<6|w.getUint8(++m)&63);continue}if((R&240)===224){x+=String.fromCharCode((R&15)<<12|(w.getUint8(++m)&63)<<6|(w.getUint8(++m)&63)<<0);continue}if((R&248)===240){_=(R&7)<<18|(w.getUint8(++m)&63)<<12|(w.getUint8(++m)&63)<<6|(w.getUint8(++m)&63)<<0,_>=65536?(_-=65536,x+=String.fromCharCode((_>>>10)+55296,(_&1023)+56320)):x+=String.fromCharCode(_);continue}throw new Error("Invalid byte "+R.toString(16))}return x}s.prototype._array=function(w){for(var T=new Array(w),d=0;d<w;d++)T[d]=this._parse();return T},s.prototype._map=function(w){for(var T="",d={},x=0;x<w;x++)T=this._parse(),d[T]=this._parse();return d},s.prototype._str=function(w){var T=u(this._view,this._offset,w);return this._offset+=w,T},s.prototype._bin=function(w){var T=this._buffer.slice(this._offset,this._offset+w);return this._offset+=w,T},s.prototype._parse=function(){var w=this._view.getUint8(this._offset++),T,d=0,x=0,_=0,m=0;if(w<192)return w<128?w:w<144?this._map(w&15):w<160?this._array(w&15):this._str(w&31);if(w>223)return(255-w+1)*-1;switch(w){case 192:return null;case 194:return!1;case 195:return!0;case 196:return d=this._view.getUint8(this._offset),this._offset+=1,this._bin(d);case 197:return d=this._view.getUint16(this._offset),this._offset+=2,this._bin(d);case 198:return d=this._view.getUint32(this._offset),this._offset+=4,this._bin(d);case 199:if(d=this._view.getUint8(this._offset),x=this._view.getInt8(this._offset+1),this._offset+=2,x===-1){var N=this._view.getUint32(this._offset);return _=this._view.getInt32(this._offset+4),m=this._view.getUint32(this._offset+8),this._offset+=12,new Date((_*4294967296+m)*1e3+N/1e6)}return[x,this._bin(d)];case 200:return d=this._view.getUint16(this._offset),x=this._view.getInt8(this._offset+2),this._offset+=3,[x,this._bin(d)];case 201:return d=this._view.getUint32(this._offset),x=this._view.getInt8(this._offset+4),this._offset+=5,[x,this._bin(d)];case 202:return T=this._view.getFloat32(this._offset),this._offset+=4,T;case 203:return T=this._view.getFloat64(this._offset),this._offset+=8,T;case 204:return T=this._view.getUint8(this._offset),this._offset+=1,T;case 205:return T=this._view.getUint16(this._offset),this._offset+=2,T;case 206:return T=this._view.getUint32(this._offset),this._offset+=4,T;case 207:return _=this._view.getUint32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,_+m;case 208:return T=this._view.getInt8(this._offset),this._offset+=1,T;case 209:return T=this._view.getInt16(this._offset),this._offset+=2,T;case 210:return T=this._view.getInt32(this._offset),this._offset+=4,T;case 211:return _=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,_+m;case 212:if(x=this._view.getInt8(this._offset),this._offset+=1,x===0){this._offset+=1;return}return[x,this._bin(1)];case 213:return x=this._view.getInt8(this._offset),this._offset+=1,[x,this._bin(2)];case 214:return x=this._view.getInt8(this._offset),this._offset+=1,x===-1?(T=this._view.getUint32(this._offset),this._offset+=4,new Date(T*1e3)):[x,this._bin(4)];case 215:if(x=this._view.getInt8(this._offset),this._offset+=1,x===0)return _=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,new Date(_+m);if(x===-1){_=this._view.getUint32(this._offset),m=this._view.getUint32(this._offset+4),this._offset+=8;var R=(_&3)*4294967296+m;return new Date(R*1e3+(_>>>2)/1e6)}return[x,this._bin(8)];case 216:return x=this._view.getInt8(this._offset),this._offset+=1,[x,this._bin(16)];case 217:return d=this._view.getUint8(this._offset),this._offset+=1,this._str(d);case 218:return d=this._view.getUint16(this._offset),this._offset+=2,this._str(d);case 219:return d=this._view.getUint32(this._offset),this._offset+=4,this._str(d);case 220:return d=this._view.getUint16(this._offset),this._offset+=2,this._array(d);case 221:return d=this._view.getUint32(this._offset),this._offset+=4,this._array(d);case 222:return d=this._view.getUint16(this._offset),this._offset+=2,this._map(d);case 223:return d=this._view.getUint32(this._offset),this._offset+=4,this._map(d)}throw new Error("Could not parse")};function c(w,T=0){var d=new s(w,T),x=d._parse();if(d._offset!==w.byteLength)throw new Error(w.byteLength-d._offset+" trailing bytes");return x}Ss.decode=c;var E=4294967296-1,A=17179869184-1;function v(w,T,d){for(var x=0,_=0,m=d.length;_<m;_++)x=d.charCodeAt(_),x<128?w.setUint8(T++,x):x<2048?(w.setUint8(T++,192|x>>6),w.setUint8(T++,128|x&63)):x<55296||x>=57344?(w.setUint8(T++,224|x>>12),w.setUint8(T++,128|x>>6&63),w.setUint8(T++,128|x&63)):(_++,x=65536+((x&1023)<<10|d.charCodeAt(_)&1023),w.setUint8(T++,240|x>>18),w.setUint8(T++,128|x>>12&63),w.setUint8(T++,128|x>>6&63),w.setUint8(T++,128|x&63))}function p(w){for(var T=0,d=0,x=0,_=w.length;x<_;x++)T=w.charCodeAt(x),T<128?d+=1:T<2048?d+=2:T<55296||T>=57344?d+=3:(x++,d+=4);return d}function S(w,T,d){var x=typeof d,_=0,m=0,N=0,R=0,z=0,P=0;if(x==="string"){if(z=p(d),z<32)w.push(z|160),P=1;else if(z<256)w.push(217,z),P=2;else if(z<65536)w.push(218,z>>8,z),P=3;else if(z<4294967296)w.push(219,z>>24,z>>16,z>>8,z),P=5;else throw new Error("String too long");return T.push({_str:d,_length:z,_offset:w.length}),P+z}if(x==="number")return Math.floor(d)!==d||!isFinite(d)?(w.push(203),T.push({_float:d,_length:8,_offset:w.length}),9):d>=0?d<128?(w.push(d),1):d<256?(w.push(204,d),2):d<65536?(w.push(205,d>>8,d),3):d<4294967296?(w.push(206,d>>24,d>>16,d>>8,d),5):(N=d/Math.pow(2,32)>>0,R=d>>>0,w.push(207,N>>24,N>>16,N>>8,N,R>>24,R>>16,R>>8,R),9):d>=-32?(w.push(d),1):d>=-128?(w.push(208,d),2):d>=-32768?(w.push(209,d>>8,d),3):d>=-2147483648?(w.push(210,d>>24,d>>16,d>>8,d),5):(N=Math.floor(d/Math.pow(2,32)),R=d>>>0,w.push(211,N>>24,N>>16,N>>8,N,R>>24,R>>16,R>>8,R),9);if(x==="object"){if(d===null)return w.push(192),1;if(Array.isArray(d)){if(z=d.length,z<16)w.push(z|144),P=1;else if(z<65536)w.push(220,z>>8,z),P=3;else if(z<4294967296)w.push(221,z>>24,z>>16,z>>8,z),P=5;else throw new Error("Array too large");for(_=0;_<z;_++)P+=S(w,T,d[_]);return P}if(d instanceof Date){var y=d.getTime(),I=Math.floor(y/1e3),D=(y-I*1e3)*1e6;return I>=0&&D>=0&&I<=A?D===0&&I<=E?(w.push(214,255,I>>24,I>>16,I>>8,I),6):(N=I/4294967296,R=I&4294967295,w.push(215,255,D>>22,D>>14,D>>6,N,R>>24,R>>16,R>>8,R),10):(N=Math.floor(I/4294967296),R=I>>>0,w.push(199,12,255,D>>24,D>>16,D>>8,D,N>>24,N>>16,N>>8,N,R>>24,R>>16,R>>8,R),15)}if(d instanceof ArrayBuffer){if(z=d.byteLength,z<256)w.push(196,z),P=2;else if(z<65536)w.push(197,z>>8,z),P=3;else if(z<4294967296)w.push(198,z>>24,z>>16,z>>8,z),P=5;else throw new Error("Buffer too large");return T.push({_bin:d,_length:z,_offset:w.length}),P+z}if(typeof d.toJSON=="function")return S(w,T,d.toJSON());var W=[],K="",U=Object.keys(d);for(_=0,m=U.length;_<m;_++)K=U[_],d[K]!==void 0&&typeof d[K]!="function"&&W.push(K);if(z=W.length,z<16)w.push(z|128),P=1;else if(z<65536)w.push(222,z>>8,z),P=3;else if(z<4294967296)w.push(223,z>>24,z>>16,z>>8,z),P=5;else throw new Error("Object too large");for(_=0;_<z;_++)K=W[_],P+=S(w,T,K),P+=S(w,T,d[K]);return P}if(x==="boolean")return w.push(d?195:194),1;if(x==="undefined")return w.push(192),1;if(typeof d.toJSON=="function")return S(w,T,d.toJSON());throw new Error("Could not encode")}function C(w){var T=[],d=[],x=S(T,d,w),_=new ArrayBuffer(x),m=new DataView(_),N=0,R=0,z=-1;d.length>0&&(z=d[0]._offset);for(var P,y=0,I=0,D=0,W=T.length;D<W;D++)if(m.setUint8(R+D,T[D]),D+1===z){if(P=d[N],y=P._length,I=R+z,P._bin)for(var K=new Uint8Array(P._bin),U=0;U<y;U++)m.setUint8(I+U,K[U]);else P._str?v(m,I,P._str):P._float!==void 0&&m.setFloat64(I,P._float);N++,R+=y,d[N]&&(z=d[N]._offset)}return _}return Ss.encode=C,Ss}var wu={},ws={},_d,bh;function Hg(){return bh||(bh=1,_d=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),_d}var Wh;function Vg(){if(Wh)return ws;Wh=1;var s=ws&&ws.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(ws,"__esModule",{value:!0}),ws.WebSocketTransport=void 0;const u=s(Hg()),c=globalThis.WebSocket||u.default;let E=class{constructor(v){this.events=v}send(v){v instanceof ArrayBuffer?this.ws.send(v):Array.isArray(v)&&this.ws.send(new Uint8Array(v).buffer)}connect(v){this.ws=new c(v,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(v,p){this.ws.close(v,p)}get isOpen(){return this.ws.readyState===c.OPEN}};return ws.WebSocketTransport=E,ws}var qh;function $g(){if(qh)return wu;qh=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.Connection=void 0;const s=Vg();let u=class{constructor(){this.events={},this.transport=new s.WebSocketTransport(this.events)}send(E){this.transport.send(E)}connect(E){this.transport.connect(E)}close(E,A){this.transport.close(E,A)}get isOpen(){return this.transport.isOpen}};return wu.Connection=u,wu}var Sd={},Kh;function Hp(){return Kh||(Kh=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.utf8Length=s.utf8Read=s.ErrorCode=s.Protocol=void 0,function(E){E[E.HANDSHAKE=9]="HANDSHAKE",E[E.JOIN_ROOM=10]="JOIN_ROOM",E[E.ERROR=11]="ERROR",E[E.LEAVE_ROOM=12]="LEAVE_ROOM",E[E.ROOM_DATA=13]="ROOM_DATA",E[E.ROOM_STATE=14]="ROOM_STATE",E[E.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",E[E.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",E[E.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(s.Protocol||(s.Protocol={})),function(E){E[E.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",E[E.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",E[E.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",E[E.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",E[E.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",E[E.AUTH_FAILED=4215]="AUTH_FAILED",E[E.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(s.ErrorCode||(s.ErrorCode={}));function u(E,A){const v=E[A++];for(var p="",S=0,C=A,w=A+v;C<w;C++){var T=E[C];if((T&128)===0){p+=String.fromCharCode(T);continue}if((T&224)===192){p+=String.fromCharCode((T&31)<<6|E[++C]&63);continue}if((T&240)===224){p+=String.fromCharCode((T&15)<<12|(E[++C]&63)<<6|(E[++C]&63)<<0);continue}if((T&248)===240){S=(T&7)<<18|(E[++C]&63)<<12|(E[++C]&63)<<6|(E[++C]&63)<<0,S>=65536?(S-=65536,p+=String.fromCharCode((S>>>10)+55296,(S&1023)+56320)):p+=String.fromCharCode(S);continue}throw new Error("Invalid byte "+T.toString(16))}return p}s.utf8Read=u;function c(E=""){let A=0,v=0;for(let p=0,S=E.length;p<S;p++)A=E.charCodeAt(p),A<128?v+=1:A<2048?v+=2:A<55296||A>=57344?v+=3:(p++,v+=4);return v+1}s.utf8Length=c}(Sd)),Sd}var xs={},Yh;function Vp(){if(Yh)return xs;Yh=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.getSerializer=xs.registerSerializer=void 0;const s={};function u(E,A){s[E]=A}xs.registerSerializer=u;function c(E){const A=s[E];if(!A)throw new Error("missing serializer: "+E);return A}return xs.getSerializer=c,xs}var xu={},Qh;function $p(){if(Qh)return xu;Qh=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.createNanoEvents=void 0;const s=()=>({emit(u,...c){let E=this.events[u]||[];for(let A=0,v=E.length;A<v;A++)E[A](...c)},events:{},on(u,c){var E;return!((E=this.events[u])===null||E===void 0)&&E.push(c)||(this.events[u]=[c]),()=>{var A;this.events[u]=(A=this.events[u])===null||A===void 0?void 0:A.filter(v=>c!==v)}}});return xu.createNanoEvents=s,xu}var Cs={},Xh;function bg(){if(Xh)return Cs;Xh=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.createSignal=Cs.EventEmitter=void 0;class s{constructor(){this.handlers=[]}register(E,A=!1){return this.handlers.push(E),this}invoke(...E){this.handlers.forEach(A=>A.apply(this,E))}invokeAsync(...E){return Promise.all(this.handlers.map(A=>A.apply(this,E)))}remove(E){const A=this.handlers.indexOf(E);this.handlers[A]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}Cs.EventEmitter=s;function u(){const c=new s;function E(A){return c.register(A,this===null)}return E.once=A=>{const v=function(...p){A.apply(this,p),c.remove(v)};c.register(v)},E.remove=A=>c.remove(A),E.invoke=(...A)=>c.invoke(...A),E.invokeAsync=(...A)=>c.invokeAsync(...A),E.clear=()=>c.clear(),E}return Cs.createSignal=u,Cs}var pc={exports:{}},Wg=pc.exports,Jh;function bp(){return Jh||(Jh=1,function(s,u){(function(c,E){E(u)})(Wg,function(c){var E=function(O,h){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,B){L.__proto__=B}||function(L,B){for(var le in B)Object.prototype.hasOwnProperty.call(B,le)&&(L[le]=B[le])},E(O,h)};function A(O,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");E(O,h);function L(){this.constructor=O}O.prototype=h===null?Object.create(h):(L.prototype=h.prototype,new L)}function v(O,h,L,B){var le=arguments.length,_e=le<3?h:B,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(O,h,L,B);else for(var Fe=O.length-1;Fe>=0;Fe--)(be=O[Fe])&&(_e=(le<3?be(_e):le>3?be(h,L,_e):be(h,L))||_e);return le>3&&_e&&Object.defineProperty(h,L,_e),_e}function p(O,h,L){if(arguments.length===2)for(var B=0,le=h.length,_e;B<le;B++)(_e||!(B in h))&&(_e||(_e=Array.prototype.slice.call(h,0,B)),_e[B]=h[B]);return O.concat(_e||Array.prototype.slice.call(h))}typeof SuppressedError=="function"&&SuppressedError;var S=255,C=213;c.OPERATION=void 0,function(O){O[O.ADD=128]="ADD",O[O.REPLACE=0]="REPLACE",O[O.DELETE=64]="DELETE",O[O.DELETE_AND_ADD=192]="DELETE_AND_ADD",O[O.TOUCH=1]="TOUCH",O[O.CLEAR=10]="CLEAR"}(c.OPERATION||(c.OPERATION={}));var w=function(){function O(h,L,B){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=h,this.setParent(L,B)}return O.prototype.setParent=function(h,L,B){var le=this;if(this.indexes||(this.indexes=this.ref instanceof Nn?this.ref._definition.indexes:{}),this.parent=h,this.parentIndex=B,!!L)if(this.root=L,this.ref instanceof Nn){var _e=this.ref._definition;for(var be in _e.schema){var Fe=this.ref[be];if(Fe&&Fe.$changes){var dt=_e.indexes[be];Fe.$changes.setParent(this.ref,L,dt)}}}else typeof this.ref=="object"&&this.ref.forEach(function(ut,We){if(ut instanceof Nn){var ct=ut.$changes,Ve=le.ref.$changes.indexes[We];ct.setParent(le.ref,le.root,Ve)}})},O.prototype.operation=function(h){this.changes.set(--this.currentCustomOperation,h)},O.prototype.change=function(h,L){L===void 0&&(L=c.OPERATION.ADD);var B=typeof h=="number"?h:this.indexes[h];this.assertValidIndex(B,h);var le=this.changes.get(B);(!le||le.op===c.OPERATION.DELETE||le.op===c.OPERATION.TOUCH)&&this.changes.set(B,{op:le&&le.op===c.OPERATION.DELETE?c.OPERATION.DELETE_AND_ADD:L,index:B}),this.allChanges.add(B),this.changed=!0,this.touchParents()},O.prototype.touch=function(h){var L=typeof h=="number"?h:this.indexes[h];this.assertValidIndex(L,h),this.changes.has(L)||this.changes.set(L,{op:c.OPERATION.TOUCH,index:L}),this.allChanges.add(L),this.touchParents()},O.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},O.prototype.getType=function(h){if(this.ref._definition){var L=this.ref._definition;return L.schema[L.fieldsByIndex[h]]}else{var L=this.parent._definition,B=L.schema[L.fieldsByIndex[this.parentIndex]];return Object.values(B)[0]}},O.prototype.getChildrenFilter=function(){var h=this.parent._definition.childFilters;return h&&h[this.parentIndex]},O.prototype.getValue=function(h){return this.ref.getByIndex(h)},O.prototype.delete=function(h){var L=typeof h=="number"?h:this.indexes[h];if(L===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(h," (").concat(L,")"));return}var B=this.getValue(L);this.changes.set(L,{op:c.OPERATION.DELETE,index:L}),this.allChanges.delete(L),delete this.caches[L],B&&B.$changes&&(B.$changes.parent=void 0),this.changed=!0,this.touchParents()},O.prototype.discard=function(h,L){var B=this;h===void 0&&(h=!1),L===void 0&&(L=!1),this.ref instanceof Nn||this.changes.forEach(function(le){if(le.op===c.OPERATION.DELETE){var _e=B.ref.getIndex(le.index);delete B.indexes[_e]}}),this.changes.clear(),this.changed=h,L&&this.allChanges.clear(),this.currentCustomOperation=0},O.prototype.discardAll=function(){var h=this;this.changes.forEach(function(L){var B=h.getValue(L.index);B&&B.$changes&&B.$changes.discardAll()}),this.discard()},O.prototype.cache=function(h,L){this.caches[h]=L},O.prototype.clone=function(){return new O(this.ref,this.parent,this.root)},O.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},O.prototype.assertValidIndex=function(h,L){if(h===void 0)throw new Error('ChangeTree: missing index for field "'.concat(L,'"'))},O}();function T(O,h,L,B){return O[h]||(O[h]=[]),O[h].push(L),B==null||B.forEach(function(le,_e){return L(le,_e)}),function(){return x(O[h],O[h].indexOf(L))}}function d(O){var h=this,L=typeof this.$changes.getType()!="string";this.$items.forEach(function(B,le){O.push({refId:h.$changes.refId,op:c.OPERATION.DELETE,field:le,value:void 0,previousValue:B}),L&&h.$changes.root.removeRef(B.$changes.refId)})}function x(O,h){if(h===-1||h>=O.length)return!1;for(var L=O.length-1,B=h;B<L;B++)O[B]=O[B+1];return O.length=L,!0}var _=function(O,h){var L=O.toString(),B=h.toString();return L<B?-1:L>B?1:0};function m(O){return O.$proxy=!0,O=new Proxy(O,{get:function(h,L){return typeof L!="symbol"&&!isNaN(L)?h.at(L):h[L]},set:function(h,L,B){if(typeof L!="symbol"&&!isNaN(L)){var le=Array.from(h.$items.keys()),_e=parseInt(le[L]||L);B==null?h.deleteAt(_e):h.setAt(_e,B)}else h[L]=B;return!0},deleteProperty:function(h,L){return typeof L=="number"?h.deleteAt(L):delete h[L],!0},has:function(h,L){return typeof L!="symbol"&&!isNaN(Number(L))?h.$items.has(Number(L)):Reflect.has(h,L)}}),O}var N=function(){function O(){for(var h=[],L=0;L<arguments.length;L++)h[L]=arguments[L];this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,h)}return O.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),T(this.$callbacks||(this.$callbacks={}),c.OPERATION.ADD,h,L?this.$items:void 0)},O.prototype.onRemove=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},O.prototype.onChange=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},O.is=function(h){return Array.isArray(h)||h.array!==void 0},Object.defineProperty(O.prototype,"length",{get:function(){return this.$items.size},set:function(h){h===0?this.clear():this.splice(h,this.length-h)},enumerable:!1,configurable:!0}),O.prototype.push=function(){for(var h=this,L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var le;return L.forEach(function(_e){le=h.$refId++,h.setAt(le,_e)}),le},O.prototype.pop=function(){var h=Array.from(this.$indexes.values()).pop();if(h!==void 0){this.$changes.delete(h),this.$indexes.delete(h);var L=this.$items.get(h);return this.$items.delete(h),L}},O.prototype.at=function(h){if(h=Math.trunc(h)||0,h<0&&(h+=this.length),!(h<0||h>=this.length)){var L=Array.from(this.$items.keys())[h];return this.$items.get(L)}},O.prototype.setAt=function(h,L){var B,le;if(L==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(h)!==L){L.$changes!==void 0&&L.$changes.setParent(this,this.$changes.root,h);var _e=(le=(B=this.$changes.indexes[h])===null||B===void 0?void 0:B.op)!==null&&le!==void 0?le:c.OPERATION.ADD;this.$changes.indexes[h]=h,this.$indexes.set(h,h),this.$items.set(h,L),this.$changes.change(h,_e)}},O.prototype.deleteAt=function(h){var L=Array.from(this.$items.keys())[h];return L===void 0?!1:this.$deleteAt(L)},O.prototype.$deleteAt=function(h){return this.$changes.delete(h),this.$indexes.delete(h),this.$items.delete(h)},O.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&d.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.concat=function(){for(var h,L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];return new(O.bind.apply(O,p([void 0],(h=Array.from(this.$items.values())).concat.apply(h,L),!1)))},O.prototype.join=function(h){return Array.from(this.$items.values()).join(h)},O.prototype.reverse=function(){var h=this,L=Array.from(this.$items.keys()),B=Array.from(this.$items.values()).reverse();return B.forEach(function(le,_e){h.setAt(L[_e],le)}),this},O.prototype.shift=function(){var h=Array.from(this.$items.keys()),L=h.shift();if(L!==void 0){var B=this.$items.get(L);return this.$deleteAt(L),B}},O.prototype.slice=function(h,L){var B=new O;return B.push.apply(B,Array.from(this.$items.values()).slice(h,L)),B},O.prototype.sort=function(h){var L=this;h===void 0&&(h=_);var B=Array.from(this.$items.keys()),le=Array.from(this.$items.values()).sort(h);return le.forEach(function(_e,be){L.setAt(B[be],_e)}),this},O.prototype.splice=function(h,L){L===void 0&&(L=this.length-h);for(var B=[],le=2;le<arguments.length;le++)B[le-2]=arguments[le];for(var _e=Array.from(this.$items.keys()),be=[],Fe=h;Fe<h+L;Fe++)be.push(this.$items.get(_e[Fe])),this.$deleteAt(_e[Fe]);for(var Fe=0;Fe<B.length;Fe++)this.setAt(h+Fe,B[Fe]);return be},O.prototype.unshift=function(){for(var h=this,L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var le=this.length,_e=L.length,be=Array.from(this.$items.values());return L.forEach(function(Fe,dt){h.setAt(dt,Fe)}),be.forEach(function(Fe,dt){h.setAt(_e+dt,Fe)}),le+_e},O.prototype.indexOf=function(h,L){return Array.from(this.$items.values()).indexOf(h,L)},O.prototype.lastIndexOf=function(h,L){return L===void 0&&(L=this.length-1),Array.from(this.$items.values()).lastIndexOf(h,L)},O.prototype.every=function(h,L){return Array.from(this.$items.values()).every(h,L)},O.prototype.some=function(h,L){return Array.from(this.$items.values()).some(h,L)},O.prototype.forEach=function(h,L){Array.from(this.$items.values()).forEach(h,L)},O.prototype.map=function(h,L){return Array.from(this.$items.values()).map(h,L)},O.prototype.filter=function(h,L){return Array.from(this.$items.values()).filter(h,L)},O.prototype.reduce=function(h,L){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},O.prototype.reduceRight=function(h,L){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},O.prototype.find=function(h,L){return Array.from(this.$items.values()).find(h,L)},O.prototype.findIndex=function(h,L){return Array.from(this.$items.values()).findIndex(h,L)},O.prototype.fill=function(h,L,B){throw new Error("ArraySchema#fill() not implemented")},O.prototype.copyWithin=function(h,L,B){throw new Error("ArraySchema#copyWithin() not implemented")},O.prototype.toString=function(){return this.$items.toString()},O.prototype.toLocaleString=function(){return this.$items.toLocaleString()},O.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(O,Symbol.species,{get:function(){return O},enumerable:!1,configurable:!0}),O.prototype.entries=function(){return this.$items.entries()},O.prototype.keys=function(){return this.$items.keys()},O.prototype.values=function(){return this.$items.values()},O.prototype.includes=function(h,L){return Array.from(this.$items.values()).includes(h,L)},O.prototype.flatMap=function(h,L){throw new Error("ArraySchema#flatMap() is not supported.")},O.prototype.flat=function(h){throw new Error("ArraySchema#flat() is not supported.")},O.prototype.findLast=function(){var h=Array.from(this.$items.values());return h.findLast.apply(h,arguments)},O.prototype.findLastIndex=function(){var h=Array.from(this.$items.values());return h.findLastIndex.apply(h,arguments)},O.prototype.with=function(h,L){var B=Array.from(this.$items.values());return B[h]=L,new(O.bind.apply(O,p([void 0],B,!1)))},O.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},O.prototype.toSorted=function(h){return Array.from(this.$items.values()).sort(h)},O.prototype.toSpliced=function(h,L){var B=Array.from(this.$items.values());return B.toSpliced.apply(B,arguments)},O.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},O.prototype.getIndex=function(h){return this.$indexes.get(h)},O.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},O.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){return this.toArray().map(function(h){return typeof h.toJSON=="function"?h.toJSON():h})},O.prototype.clone=function(h){var L;return h?L=new(O.bind.apply(O,p([void 0],Array.from(this.$items.values()),!1))):L=new(O.bind.apply(O,p([void 0],this.map(function(B){return B.$changes?B.clone():B}),!1))),L},O}();function R(O){return O.$proxy=!0,O=new Proxy(O,{get:function(h,L){return typeof L!="symbol"&&typeof h[L]>"u"?h.get(L):h[L]},set:function(h,L,B){return typeof L!="symbol"&&L.indexOf("$")===-1&&L!=="onAdd"&&L!=="onRemove"&&L!=="onChange"?h.set(L,B):h[L]=B,!0},deleteProperty:function(h,L){return h.delete(L),!0}}),O}var z=function(){function O(h){var L=this;if(this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h)if(h instanceof Map||h instanceof O)h.forEach(function(le,_e){return L.set(_e,le)});else for(var B in h)this.set(B,h[B])}return O.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),T(this.$callbacks||(this.$callbacks={}),c.OPERATION.ADD,h,L?this.$items:void 0)},O.prototype.onRemove=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},O.prototype.onChange=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},O.is=function(h){return h.map!==void 0},O.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(O.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(O,Symbol.species,{get:function(){return O},enumerable:!1,configurable:!0}),O.prototype.set=function(h,L){if(L==null)throw new Error("MapSchema#set('".concat(h,"', ").concat(L,"): trying to set ").concat(L," value on '").concat(h,"'."));h=h.toString();var B=typeof this.$changes.indexes[h]<"u",le=B?this.$changes.indexes[h]:this.$refId++,_e=B?c.OPERATION.REPLACE:c.OPERATION.ADD,be=L.$changes!==void 0;if(be&&L.$changes.setParent(this,this.$changes.root,le),!B)this.$changes.indexes[h]=le,this.$indexes.set(le,h);else{if(!be&&this.$items.get(h)===L)return;be&&this.$items.get(h)!==L&&(_e=c.OPERATION.ADD)}return this.$items.set(h,L),this.$changes.change(h,_e),this},O.prototype.get=function(h){return this.$items.get(h)},O.prototype.delete=function(h){return this.$changes.delete(h.toString()),this.$items.delete(h)},O.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&d.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(h){return this.$items.has(h)},O.prototype.forEach=function(h){this.$items.forEach(h)},O.prototype.entries=function(){return this.$items.entries()},O.prototype.keys=function(){return this.$items.keys()},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},O.prototype.getIndex=function(h){return this.$indexes.get(h)},O.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},O.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},O.prototype.toJSON=function(){var h={};return this.forEach(function(L,B){h[B]=typeof L.toJSON=="function"?L.toJSON():L}),h},O.prototype.clone=function(h){var L;return h?L=Object.assign(new O,this):(L=new O,this.forEach(function(B,le){B.$changes?L.set(le,B.clone()):L.set(le,B)})),L},O}(),P={};function y(O,h){P[O]=h}function I(O){return P[O]}var D=function(){function O(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return O.create=function(h){var L=new O;return L.schema=Object.assign({},h&&h.schema||{}),L.indexes=Object.assign({},h&&h.indexes||{}),L.fieldsByIndex=Object.assign({},h&&h.fieldsByIndex||{}),L.descriptors=Object.assign({},h&&h.descriptors||{}),L.deprecated=Object.assign({},h&&h.deprecated||{}),L},O.prototype.addField=function(h,L){var B=this.getNextFieldIndex();this.fieldsByIndex[B]=h,this.indexes[h]=B,this.schema[h]=Array.isArray(L)?{array:L[0]}:L},O.prototype.hasField=function(h){return this.indexes[h]!==void 0},O.prototype.addFilter=function(h,L){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[h]]=L,this.indexesWithFilters.push(this.indexes[h]),!0},O.prototype.addChildrenFilter=function(h,L){var B=this.indexes[h],le=this.schema[h];if(I(Object.keys(le)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[B]=L,!0;console.warn("@filterChildren: field '".concat(h,"' can't have children. Ignoring filter."))},O.prototype.getChildrenFilter=function(h){return this.childFilters&&this.childFilters[this.indexes[h]]},O.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},O}();function W(O){return O._context&&O._context.useFilters}var K=function(){function O(){this.types={},this.schemas=new Map,this.useFilters=!1}return O.prototype.has=function(h){return this.schemas.has(h)},O.prototype.get=function(h){return this.types[h]},O.prototype.add=function(h,L){L===void 0&&(L=this.schemas.size),h._definition=D.create(h._definition),h._typeid=L,this.types[L]=h,this.schemas.set(h,L)},O.create=function(h){return h===void 0&&(h={}),function(L){return h.context||(h.context=new O),q(L,h)}},O}(),U=new K;function q(O,h){return h===void 0&&(h={}),function(L,B){var le=h.context||U,_e=L.constructor;if(_e._context=le,!O)throw new Error("".concat(_e.name,': @type() reference provided for "').concat(B,`" is undefined. Make sure you don't have any circular dependencies.`));le.has(_e)||le.add(_e);var be=_e._definition;if(be.addField(B,O),be.descriptors[B]){if(be.deprecated[B])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(B,"' definition on '").concat(_e.name,`'.
Check @type() annotation`))}catch(Ve){var Fe=Ve.stack.split(`
`)[4].trim();throw new Error("".concat(Ve.message," ").concat(Fe))}}var dt=N.is(O),ut=!dt&&z.is(O);if(typeof O!="string"&&!Nn.is(O)){var We=Object.values(O)[0];typeof We!="string"&&!le.has(We)&&le.add(We)}if(h.manual){be.descriptors[B]={enumerable:!0,configurable:!0,writable:!0};return}var ct="_".concat(B);be.descriptors[ct]={enumerable:!1,configurable:!1,writable:!0},be.descriptors[B]={get:function(){return this[ct]},set:function(Ve){Ve!==this[ct]&&(Ve!=null?(dt&&!(Ve instanceof N)&&(Ve=new(N.bind.apply(N,p([void 0],Ve,!1)))),ut&&!(Ve instanceof z)&&(Ve=new z(Ve)),Ve.$proxy===void 0&&(ut?Ve=R(Ve):dt&&(Ve=m(Ve))),this.$changes.change(B),Ve.$changes&&Ve.$changes.setParent(this,this.$changes.root,this._definition.indexes[B])):this[ct]&&this.$changes.delete(B),this[ct]=Ve)},enumerable:!0,configurable:!0}}}function V(O){return function(h,L){var B=h.constructor,le=B._definition;le.addFilter(L,O)&&(B._context.useFilters=!0)}}function Y(O){return function(h,L){var B=h.constructor,le=B._definition;le.addChildrenFilter(L,O)&&(B._context.useFilters=!0)}}function ie(O){return O===void 0&&(O=!0),function(h,L){var B=h.constructor,le=B._definition;le.deprecated[L]=!0,O&&(le.descriptors[L]={get:function(){throw new Error("".concat(L," is deprecated."))},set:function(_e){},enumerable:!1,configurable:!0})}}function F(O,h,L){L===void 0&&(L={}),L.context||(L.context=O._context||L.context||U);for(var B in h)q(h[B],L)(O.prototype,B);return O}function G(O){for(var h=0,L=0,B=0,le=O.length;B<le;B++)h=O.charCodeAt(B),h<128?L+=1:h<2048?L+=2:h<55296||h>=57344?L+=3:(B++,L+=4);return L}function H(O,h,L){for(var B=0,le=0,_e=L.length;le<_e;le++)B=L.charCodeAt(le),B<128?O[h++]=B:B<2048?(O[h++]=192|B>>6,O[h++]=128|B&63):B<55296||B>=57344?(O[h++]=224|B>>12,O[h++]=128|B>>6&63,O[h++]=128|B&63):(le++,B=65536+((B&1023)<<10|L.charCodeAt(le)&1023),O[h++]=240|B>>18,O[h++]=128|B>>12&63,O[h++]=128|B>>6&63,O[h++]=128|B&63)}function Q(O,h){O.push(h&255)}function X(O,h){O.push(h&255)}function ee(O,h){O.push(h&255),O.push(h>>8&255)}function re(O,h){O.push(h&255),O.push(h>>8&255)}function $(O,h){O.push(h&255),O.push(h>>8&255),O.push(h>>16&255),O.push(h>>24&255)}function oe(O,h){var L=h>>24,B=h>>16,le=h>>8,_e=h;O.push(_e&255),O.push(le&255),O.push(B&255),O.push(L&255)}function te(O,h){var L=Math.floor(h/Math.pow(2,32)),B=h>>>0;oe(O,B),oe(O,L)}function Se(O,h){var L=h/Math.pow(2,32)>>0,B=h>>>0;oe(O,B),oe(O,L)}function ye(O,h){we(O,h)}function Ae(O,h){Be(O,h)}var Ne=new Int32Array(2),Z=new Float32Array(Ne.buffer),ce=new Float64Array(Ne.buffer);function we(O,h){Z[0]=h,$(O,Ne[0])}function Be(O,h){ce[0]=h,$(O,Ne[0]),$(O,Ne[1])}function Le(O,h){return X(O,h?1:0)}function Ye(O,h){h||(h="");var L=G(h),B=0;if(L<32)O.push(L|160),B=1;else if(L<256)O.push(217),X(O,L),B=2;else if(L<65536)O.push(218),re(O,L),B=3;else if(L<4294967296)O.push(219),oe(O,L),B=5;else throw new Error("String too long");return H(O,O.length,h),B+L}function He(O,h){if(isNaN(h))return He(O,0);if(isFinite(h)){if(h!==(h|0))return O.push(203),Be(O,h),9}else return He(O,h>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return h>=0?h<128?(X(O,h),1):h<256?(O.push(204),X(O,h),2):h<65536?(O.push(205),re(O,h),3):h<4294967296?(O.push(206),oe(O,h),5):(O.push(207),Se(O,h),9):h>=-32?(O.push(224|h+32),1):h>=-128?(O.push(208),Q(O,h),2):h>=-32768?(O.push(209),ee(O,h),3):h>=-2147483648?(O.push(210),$(O,h),5):(O.push(211),te(O,h),9)}var Gt=Object.freeze({__proto__:null,boolean:Le,float32:ye,float64:Ae,int16:ee,int32:$,int64:te,int8:Q,number:He,string:Ye,uint16:re,uint32:oe,uint64:Se,uint8:X,utf8Write:H,writeFloat32:we,writeFloat64:Be});function ht(O,h,L){for(var B="",le=0,_e=h,be=h+L;_e<be;_e++){var Fe=O[_e];if((Fe&128)===0){B+=String.fromCharCode(Fe);continue}if((Fe&224)===192){B+=String.fromCharCode((Fe&31)<<6|O[++_e]&63);continue}if((Fe&240)===224){B+=String.fromCharCode((Fe&15)<<12|(O[++_e]&63)<<6|(O[++_e]&63)<<0);continue}if((Fe&248)===240){le=(Fe&7)<<18|(O[++_e]&63)<<12|(O[++_e]&63)<<6|(O[++_e]&63)<<0,le>=65536?(le-=65536,B+=String.fromCharCode((le>>>10)+55296,(le&1023)+56320)):B+=String.fromCharCode(le);continue}console.error("Invalid byte "+Fe.toString(16))}return B}function fn(O,h){return Dt(O,h)<<24>>24}function Dt(O,h){return O[h.offset++]}function Jt(O,h){return bt(O,h)<<16>>16}function bt(O,h){return O[h.offset++]|O[h.offset++]<<8}function wt(O,h){return O[h.offset++]|O[h.offset++]<<8|O[h.offset++]<<16|O[h.offset++]<<24}function pt(O,h){return wt(O,h)>>>0}function bn(O,h){return Or(O,h)}function Tn(O,h){return _n(O,h)}function dn(O,h){var L=pt(O,h),B=wt(O,h)*Math.pow(2,32);return B+L}function Yt(O,h){var L=pt(O,h),B=pt(O,h)*Math.pow(2,32);return B+L}var tn=new Int32Array(2),dr=new Float32Array(tn.buffer),tr=new Float64Array(tn.buffer);function Or(O,h){return tn[0]=wt(O,h),dr[0]}function _n(O,h){return tn[0]=wt(O,h),tn[1]=wt(O,h),tr[0]}function nr(O,h){return Dt(O,h)>0}function bo(O,h){var L=O[h.offset++],B;L<192?B=L&31:L===217?B=Dt(O,h):L===218?B=bt(O,h):L===219&&(B=pt(O,h));var le=ht(O,h.offset,B);return h.offset+=B,le}function Wo(O,h){var L=O[h.offset];return L<192&&L>160||L===217||L===218||L===219}function rr(O,h){var L=O[h.offset++];if(L<128)return L;if(L===202)return Or(O,h);if(L===203)return _n(O,h);if(L===204)return Dt(O,h);if(L===205)return bt(O,h);if(L===206)return pt(O,h);if(L===207)return Yt(O,h);if(L===208)return fn(O,h);if(L===209)return Jt(O,h);if(L===210)return wt(O,h);if(L===211)return dn(O,h);if(L>223)return(255-L+1)*-1}function kl(O,h){var L=O[h.offset];return L<128||L>=202&&L<=211}function Ua(O,h){return O[h.offset]<160}function ao(O,h){return O[h.offset-1]===S&&(O[h.offset]<128||O[h.offset]>=202&&O[h.offset]<=211)}var qo=Object.freeze({__proto__:null,arrayCheck:Ua,boolean:nr,float32:bn,float64:Tn,int16:Jt,int32:wt,int64:dn,int8:fn,number:rr,numberCheck:kl,readFloat32:Or,readFloat64:_n,string:bo,stringCheck:Wo,switchStructureCheck:ao,uint16:bt,uint32:pt,uint64:Yt,uint8:Dt}),so=function(){function O(h){var L=this;this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h&&h.forEach(function(B){return L.add(B)})}return O.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.ADD,h,L?this.$items:void 0)},O.prototype.onRemove=function(h){return T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.DELETE,h)},O.prototype.onChange=function(h){return T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.REPLACE,h)},O.is=function(h){return h.collection!==void 0},O.prototype.add=function(h){var L=this.$refId++,B=h.$changes!==void 0;return B&&h.$changes.setParent(this,this.$changes.root,L),this.$changes.indexes[L]=L,this.$indexes.set(L,L),this.$items.set(L,h),this.$changes.change(L),L},O.prototype.at=function(h){var L=Array.from(this.$items.keys())[h];return this.$items.get(L)},O.prototype.entries=function(){return this.$items.entries()},O.prototype.delete=function(h){for(var L=this.$items.entries(),B,le;(le=L.next())&&!le.done;)if(h===le.value[1]){B=le.value[0];break}return B===void 0?!1:(this.$changes.delete(B),this.$indexes.delete(B),this.$items.delete(B))},O.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&d.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(h){return Array.from(this.$items.values()).some(function(L){return L===h})},O.prototype.forEach=function(h){var L=this;this.$items.forEach(function(B,le,_e){return h(B,le,L)})},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},O.prototype.getIndex=function(h){return this.$indexes.get(h)},O.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},O.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){var h=[];return this.forEach(function(L,B){h.push(typeof L.toJSON=="function"?L.toJSON():L)}),h},O.prototype.clone=function(h){var L;return h?L=Object.assign(new O,this):(L=new O,this.forEach(function(B){B.$changes?L.add(B.clone()):L.add(B)})),L},O}(),lo=function(){function O(h){var L=this;this.$changes=new w(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,h&&h.forEach(function(B){return L.add(B)})}return O.prototype.onAdd=function(h,L){return L===void 0&&(L=!0),T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.ADD,h,L?this.$items:void 0)},O.prototype.onRemove=function(h){return T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.DELETE,h)},O.prototype.onChange=function(h){return T(this.$callbacks||(this.$callbacks=[]),c.OPERATION.REPLACE,h)},O.is=function(h){return h.set!==void 0},O.prototype.add=function(h){var L,B;if(this.has(h))return!1;var le=this.$refId++;h.$changes!==void 0&&h.$changes.setParent(this,this.$changes.root,le);var _e=(B=(L=this.$changes.indexes[le])===null||L===void 0?void 0:L.op)!==null&&B!==void 0?B:c.OPERATION.ADD;return this.$changes.indexes[le]=le,this.$indexes.set(le,le),this.$items.set(le,h),this.$changes.change(le,_e),le},O.prototype.entries=function(){return this.$items.entries()},O.prototype.delete=function(h){for(var L=this.$items.entries(),B,le;(le=L.next())&&!le.done;)if(h===le.value[1]){B=le.value[0];break}return B===void 0?!1:(this.$changes.delete(B),this.$indexes.delete(B),this.$items.delete(B))},O.prototype.clear=function(h){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),h&&d.call(this,h),this.$items.clear(),this.$changes.operation({index:0,op:c.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(h){for(var L=this.$items.values(),B=!1,le;(le=L.next())&&!le.done;)if(h===le.value){B=!0;break}return B},O.prototype.forEach=function(h){var L=this;this.$items.forEach(function(B,le,_e){return h(B,le,L)})},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(h,L){this.$indexes.set(h,L)},O.prototype.getIndex=function(h){return this.$indexes.get(h)},O.prototype.getByIndex=function(h){return this.$items.get(this.$indexes.get(h))},O.prototype.deleteByIndex=function(h){var L=this.$indexes.get(h);this.$items.delete(L),this.$indexes.delete(h)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){var h=[];return this.forEach(function(L,B){h.push(typeof L.toJSON=="function"?L.toJSON():L)}),h},O.prototype.clone=function(h){var L;return h?L=Object.assign(new O,this):(L=new O,this.forEach(function(B){B.$changes?L.add(B.clone()):L.add(B)})),L},O}(),zi=function(){function O(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return O.prototype.addRefId=function(h){this.refIds.has(h)||(this.refIds.add(h),this.containerIndexes.set(h,new Set))},O.get=function(h){return h.$filterState===void 0&&(h.$filterState=new O),h.$filterState},O}(),Ui=function(){function O(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return O.prototype.getNextUniqueId=function(){return this.nextUniqueId++},O.prototype.addRef=function(h,L,B){B===void 0&&(B=!0),this.refs.set(h,L),B&&(this.refCounts[h]=(this.refCounts[h]||0)+1)},O.prototype.removeRef=function(h){var L=this.refCounts[h];if(L===void 0){console.warn("trying to remove reference ".concat(h," that doesn't exist"));return}if(L===0){console.warn("trying to remove reference ".concat(h," with 0 refCount"));return}this.refCounts[h]=L-1,this.deletedRefs.add(h)},O.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},O.prototype.garbageCollectDeletedRefs=function(){var h=this;this.deletedRefs.forEach(function(L){if(!(h.refCounts[L]>0)){var B=h.refs.get(L);if(B instanceof Nn)for(var le in B._definition.schema)typeof B._definition.schema[le]!="string"&&B[le]&&B[le].$changes&&h.removeRef(B[le].$changes.refId);else{var _e=B.$changes.parent._definition,be=_e.schema[_e.fieldsByIndex[B.$changes.parentIndex]];typeof Object.values(be)[0]=="function"&&Array.from(B.values()).forEach(function(Fe){return h.removeRef(Fe.$changes.refId)})}h.refs.delete(L),delete h.refCounts[L]}}),this.deletedRefs.clear()},O}(),Ko=function(O){A(h,O);function h(){return O!==null&&O.apply(this,arguments)||this}return h}(Error);function ja(O,h,L,B){var le,_e=!1;switch(h){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":le="number",isNaN(O)&&console.log('trying to encode "NaN" in '.concat(L.constructor.name,"#").concat(B));break;case"string":le="string",_e=!0;break;case"boolean":return}if(typeof O!==le&&(!_e||_e&&O!==null)){var be="'".concat(JSON.stringify(O),"'").concat(O&&O.constructor&&" (".concat(O.constructor.name,")")||"");throw new Ko("a '".concat(le,"' was expected, but ").concat(be," was provided in ").concat(L.constructor.name,"#").concat(B))}}function Yo(O,h,L,B){if(!(O instanceof h))throw new Ko("a '".concat(h.name,"' was expected, but '").concat(O.constructor.name,"' was provided in ").concat(L.constructor.name,"#").concat(B))}function Rs(O,h,L,B,le){ja(L,O,B,le);var _e=Gt[O];if(_e)_e(h,L);else throw new Ko("a '".concat(O,"' was expected, but ").concat(L," was provided in ").concat(B.constructor.name,"#").concat(le))}function Qo(O,h,L){return qo[O](h,L)}var Nn=function(){function O(){for(var h=[],L=0;L<arguments.length;L++)h[L]=arguments[L];Object.defineProperties(this,{$changes:{value:new w(this,void 0,new Ui),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var B=this._definition.descriptors;B&&Object.defineProperties(this,B),h[0]&&this.assign(h[0])}return O.onError=function(h){console.error(h)},O.is=function(h){return h._definition&&h._definition.schema!==void 0},O.prototype.onChange=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.REPLACE,h)},O.prototype.onRemove=function(h){return T(this.$callbacks||(this.$callbacks={}),c.OPERATION.DELETE,h)},O.prototype.assign=function(h){return Object.assign(this,h),this},Object.defineProperty(O.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),O.prototype.setDirty=function(h,L){this.$changes.change(h,L)},O.prototype.listen=function(h,L,B){var le=this;return B===void 0&&(B=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[h]||(this.$callbacks[h]=[]),this.$callbacks[h].push(L),B&&this[h]!==void 0&&L(this[h],void 0),function(){return x(le.$callbacks[h],le.$callbacks[h].indexOf(L))}},O.prototype.decode=function(h,L,B){L===void 0&&(L={offset:0}),B===void 0&&(B=this);var le=[],_e=this.$changes.root,be=h.length,Fe=0;for(_e.refs.set(Fe,this);L.offset<be;){var dt=h[L.offset++];if(dt==S){Fe=rr(h,L);var ut=_e.refs.get(Fe);if(!ut)throw new Error('"refId" not found: '.concat(Fe));B=ut;continue}var We=B.$changes,ct=B._definition!==void 0,Ve=ct?dt>>6<<6:dt;if(Ve===c.OPERATION.CLEAR){B.clear(le);continue}var at=ct?dt%(Ve||255):rr(h,L),Je=ct?B._definition.fieldsByIndex[at]:"",nt=We.getType(at),Te=void 0,qe=void 0,Sn=void 0;if(ct?qe=B["_".concat(Je)]:(qe=B.getByIndex(at),(Ve&c.OPERATION.ADD)===c.OPERATION.ADD?(Sn=B instanceof z?bo(h,L):at,B.setIndex(at,Sn)):Sn=B.getIndex(at)),(Ve&c.OPERATION.DELETE)===c.OPERATION.DELETE&&(Ve!==c.OPERATION.DELETE_AND_ADD&&B.deleteByIndex(at),qe&&qe.$changes&&_e.removeRef(qe.$changes.refId),Te=null),Je===void 0){console.warn("@colyseus/schema: definition mismatch");for(var Rt={offset:L.offset};L.offset<be&&!(ao(h,L)&&(Rt.offset=L.offset+1,_e.refs.has(rr(h,Rt))));)L.offset++;continue}else if(Ve!==c.OPERATION.DELETE)if(O.is(nt)){var ot=rr(h,L);if(Te=_e.refs.get(ot),Ve!==c.OPERATION.REPLACE){var st=this.getSchemaType(h,L,nt);Te||(Te=this.createTypeInstance(st),Te.$changes.refId=ot,qe&&(Te.$callbacks=qe.$callbacks,qe.$changes.refId&&ot!==qe.$changes.refId&&_e.removeRef(qe.$changes.refId))),_e.addRef(ot,Te,Te!==qe)}}else if(typeof nt=="string")Te=Qo(nt,h,L);else{var ii=I(Object.keys(nt)[0]),pr=rr(h,L),Zt=_e.refs.has(pr)?qe||_e.refs.get(pr):new ii.constructor;if(Te=Zt.clone(!0),Te.$changes.refId=pr,qe&&(Te.$callbacks=qe.$callbacks,qe.$changes.refId&&pr!==qe.$changes.refId)){_e.removeRef(qe.$changes.refId);for(var yt=qe.entries(),Ze=void 0;(Ze=yt.next())&&!Ze.done;){var lt=Ze.value,wn=lt[0],nn=lt[1];le.push({refId:pr,op:c.OPERATION.DELETE,field:wn,value:void 0,previousValue:nn})}}_e.addRef(pr,Te,Zt!==qe)}if(Te!=null){if(Te.$changes&&Te.$changes.setParent(We.ref,We.root,at),B instanceof O)B[Je]=Te;else if(B instanceof z){var wn=Sn;B.$items.set(wn,Te),B.$changes.allChanges.add(at)}else if(B instanceof N)B.setAt(at,Te);else if(B instanceof so){var Wt=B.add(Te);B.setIndex(at,Wt)}else if(B instanceof lo){var Wt=B.add(Te);Wt!==!1&&B.setIndex(at,Wt)}}qe!==Te&&le.push({refId:Fe,op:Ve,field:Je,dynamicIndex:Sn,value:Te,previousValue:qe})}return this._triggerChanges(le),_e.garbageCollectDeletedRefs(),le},O.prototype.encode=function(h,L,B){h===void 0&&(h=!1),L===void 0&&(L=[]),B===void 0&&(B=!1);for(var le=this.$changes,_e=new WeakSet,be=[le],Fe=1,dt=0;dt<Fe;dt++){var ut=be[dt],We=ut.ref,ct=We instanceof O;ut.ensureRefId(),_e.add(ut),ut!==le&&(ut.changed||h)&&(X(L,S),He(L,ut.refId));for(var Ve=h?Array.from(ut.allChanges):Array.from(ut.changes.values()),at=0,Je=Ve.length;at<Je;at++){var nt=h?{op:c.OPERATION.ADD,index:Ve[at]}:Ve[at],Te=nt.index,qe=ct?We._definition.fieldsByIndex&&We._definition.fieldsByIndex[Te]:Te,Sn=L.length;if(nt.op!==c.OPERATION.TOUCH)if(ct)X(L,Te|nt.op);else{if(X(L,nt.op),nt.op===c.OPERATION.CLEAR)continue;He(L,Te)}if(!ct&&(nt.op&c.OPERATION.ADD)==c.OPERATION.ADD&&We instanceof z){var Rt=ut.ref.$indexes.get(Te);Ye(L,Rt)}if(nt.op!==c.OPERATION.DELETE){var ot=ut.getType(Te),st=ut.getValue(Te);if(st&&st.$changes&&!_e.has(st.$changes)&&(be.push(st.$changes),st.$changes.ensureRefId(),Fe++),nt.op!==c.OPERATION.TOUCH){if(O.is(ot))Yo(st,ot,We,qe),He(L,st.$changes.refId),(nt.op&c.OPERATION.ADD)===c.OPERATION.ADD&&this.tryEncodeTypeId(L,ot,st.constructor);else if(typeof ot=="string")Rs(ot,L,st,We,qe);else{var ii=I(Object.keys(ot)[0]);Yo(We["_".concat(qe)],ii.constructor,We,qe),He(L,st.$changes.refId)}B&&ut.cache(Te,L.slice(Sn))}}}!h&&!B&&ut.discard()}return L},O.prototype.encodeAll=function(h){return this.encode(!0,[],h)},O.prototype.applyFilters=function(h,L){var B,le;L===void 0&&(L=!1);for(var _e=this,be=new Set,Fe=zi.get(h),dt=[this.$changes],ut=1,We=[],ct=function(at){var Je=dt[at];if(be.has(Je.refId))return"continue";var nt=Je.ref,Te=nt instanceof O;X(We,S),He(We,Je.refId);var qe=Fe.refIds.has(Je),Sn=L||!qe;Fe.addRefId(Je);var Rt=Fe.containerIndexes.get(Je),ot=Sn?Array.from(Je.allChanges):Array.from(Je.changes.values());if(!L&&Te&&nt._definition.indexesWithFilters){var st=nt._definition.indexesWithFilters;st.forEach(function(Wn){!Rt.has(Wn)&&Je.allChanges.has(Wn)&&(Sn?ot.push(Wn):ot.push({op:c.OPERATION.ADD,index:Wn}))})}for(var ii=0,pr=ot.length;ii<pr;ii++){var Zt=Sn?{op:c.OPERATION.ADD,index:ot[ii]}:ot[ii];if(Zt.op===c.OPERATION.CLEAR){X(We,Zt.op);continue}var yt=Zt.index;if(Zt.op===c.OPERATION.DELETE){Te?X(We,Zt.op|yt):(X(We,Zt.op),He(We,yt));continue}var Ze=Je.getValue(yt),lt=Je.getType(yt);if(Te){var wn=nt._definition.filters&&nt._definition.filters[yt];if(wn&&!wn.call(nt,h,Ze,_e)){Ze&&Ze.$changes&&be.add(Ze.$changes.refId);continue}}else{var nn=Je.parent,wn=Je.getChildrenFilter();if(wn&&!wn.call(nn,h,nt.$indexes.get(yt),Ze,_e)){Ze&&Ze.$changes&&be.add(Ze.$changes.refId);continue}}if(Ze.$changes&&(dt.push(Ze.$changes),ut++),Zt.op!==c.OPERATION.TOUCH)if(Zt.op===c.OPERATION.ADD||Te)We.push.apply(We,(B=Je.caches[yt])!==null&&B!==void 0?B:[]),Rt.add(yt);else if(Rt.has(yt))We.push.apply(We,(le=Je.caches[yt])!==null&&le!==void 0?le:[]);else{if(Rt.add(yt),X(We,c.OPERATION.ADD),He(We,yt),nt instanceof z){var Wt=Je.ref.$indexes.get(yt);Ye(We,Wt)}Ze.$changes?He(We,Ze.$changes.refId):Gt[lt](We,Ze)}else if(Ze.$changes&&!Te){if(X(We,c.OPERATION.ADD),He(We,yt),nt instanceof z){var Wt=Je.ref.$indexes.get(yt);Ye(We,Wt)}He(We,Ze.$changes.refId)}}},Ve=0;Ve<ut;Ve++)ct(Ve);return We},O.prototype.clone=function(){var h,L=new this.constructor,B=this._definition.schema;for(var le in B)typeof this[le]=="object"&&typeof((h=this[le])===null||h===void 0?void 0:h.clone)=="function"?L[le]=this[le].clone():L[le]=this[le];return L},O.prototype.toJSON=function(){var h=this._definition.schema,L=this._definition.deprecated,B={};for(var le in h)!L[le]&&this[le]!==null&&typeof this[le]<"u"&&(B[le]=typeof this[le].toJSON=="function"?this[le].toJSON():this["_".concat(le)]);return B},O.prototype.discardAllChanges=function(){this.$changes.discardAll()},O.prototype.getByIndex=function(h){return this[this._definition.fieldsByIndex[h]]},O.prototype.deleteByIndex=function(h){this[this._definition.fieldsByIndex[h]]=void 0},O.prototype.tryEncodeTypeId=function(h,L,B){L._typeid!==B._typeid&&(X(h,C),He(h,B._typeid))},O.prototype.getSchemaType=function(h,L,B){var le;return h[L.offset]===C&&(L.offset++,le=this.constructor._context.get(rr(h,L))),le||B},O.prototype.createTypeInstance=function(h){var L=new h;return L.$changes.root=this.$changes.root,L},O.prototype._triggerChanges=function(h){for(var L,B,le,_e,be,Fe,dt,ut,We,ct=new Set,Ve=this.$changes.root.refs,at=function(nt){var Te=h[nt],qe=Te.refId,Sn=Ve.get(qe),Rt=Sn.$callbacks;if((Te.op&c.OPERATION.DELETE)===c.OPERATION.DELETE&&Te.previousValue instanceof O&&((B=(L=Te.previousValue.$callbacks)===null||L===void 0?void 0:L[c.OPERATION.DELETE])===null||B===void 0||B.forEach(function(ot){return ot()})),!Rt)return"continue";if(Sn instanceof O){if(!ct.has(qe))try{(le=Rt==null?void 0:Rt[c.OPERATION.REPLACE])===null||le===void 0||le.forEach(function(ot){return ot()})}catch(ot){O.onError(ot)}try{Rt.hasOwnProperty(Te.field)&&((_e=Rt[Te.field])===null||_e===void 0||_e.forEach(function(ot){return ot(Te.value,Te.previousValue)}))}catch(ot){O.onError(ot)}}else Te.op===c.OPERATION.ADD&&Te.previousValue===void 0?(be=Rt[c.OPERATION.ADD])===null||be===void 0||be.forEach(function(ot){var st;return ot(Te.value,(st=Te.dynamicIndex)!==null&&st!==void 0?st:Te.field)}):Te.op===c.OPERATION.DELETE?Te.previousValue!==void 0&&((Fe=Rt[c.OPERATION.DELETE])===null||Fe===void 0||Fe.forEach(function(ot){var st;return ot(Te.previousValue,(st=Te.dynamicIndex)!==null&&st!==void 0?st:Te.field)})):Te.op===c.OPERATION.DELETE_AND_ADD&&(Te.previousValue!==void 0&&((dt=Rt[c.OPERATION.DELETE])===null||dt===void 0||dt.forEach(function(ot){var st;return ot(Te.previousValue,(st=Te.dynamicIndex)!==null&&st!==void 0?st:Te.field)})),(ut=Rt[c.OPERATION.ADD])===null||ut===void 0||ut.forEach(function(ot){var st;return ot(Te.value,(st=Te.dynamicIndex)!==null&&st!==void 0?st:Te.field)})),Te.value!==Te.previousValue&&((We=Rt[c.OPERATION.REPLACE])===null||We===void 0||We.forEach(function(ot){var st;return ot(Te.value,(st=Te.dynamicIndex)!==null&&st!==void 0?st:Te.field)}));ct.add(qe)},Je=0;Je<h.length;Je++)at(Je)},O._definition=D.create(),O}();function Ga(O){for(var h=[O.$changes],L=1,B={},le=B,_e=function(Fe){var dt=h[Fe];dt.changes.forEach(function(ut){var We=dt.ref,ct=ut.index,Ve=We._definition?We._definition.fieldsByIndex[ct]:We.$indexes.get(ct);le[Ve]=dt.getValue(ct)})},be=0;be<L;be++)_e(be);return B}var hr={context:new K},uo=function(O){A(h,O);function h(){return O!==null&&O.apply(this,arguments)||this}return v([q("string",hr)],h.prototype,"name",void 0),v([q("string",hr)],h.prototype,"type",void 0),v([q("number",hr)],h.prototype,"referencedType",void 0),h}(Nn),mi=function(O){A(h,O);function h(){var L=O!==null&&O.apply(this,arguments)||this;return L.fields=new N,L}return v([q("number",hr)],h.prototype,"id",void 0),v([q([uo],hr)],h.prototype,"fields",void 0),h}(Nn),Ts=function(O){A(h,O);function h(){var L=O!==null&&O.apply(this,arguments)||this;return L.types=new N,L}return h.encode=function(L){var B,le=L.constructor,_e=new h;_e.rootType=le._typeid;var be=function(We,ct){for(var Ve in ct){var at=new uo;at.name=Ve;var Je=void 0;if(typeof ct[Ve]=="string")Je=ct[Ve];else{var nt=ct[Ve],Te=void 0;Nn.is(nt)?(Je="ref",Te=ct[Ve]):(Je=Object.keys(nt)[0],typeof nt[Je]=="string"?Je+=":"+nt[Je]:Te=nt[Je]),at.referencedType=Te?Te._typeid:-1}at.type=Je,We.fields.push(at)}_e.types.push(We)},Fe=(B=le._context)===null||B===void 0?void 0:B.types;for(var dt in Fe){var ut=new mi;ut.id=Number(dt),be(ut,Fe[dt]._definition.schema)}return _e.encodeAll()},h.decode=function(L,B){var le=new K,_e=new h;_e.decode(L,B);var be=_e.types.reduce(function(ct,Ve){var at=function(nt){A(Te,nt);function Te(){return nt!==null&&nt.apply(this,arguments)||this}return Te}(Nn),Je=Ve.id;return ct[Je]=at,le.add(at,Je),ct},{});_e.types.forEach(function(ct){var Ve=be[ct.id];ct.fields.forEach(function(at){var Je;if(at.referencedType!==void 0){var nt=at.type,Te=be[at.referencedType];if(!Te){var qe=at.type.split(":");nt=qe[0],Te=qe[1]}nt==="ref"?q(Te,{context:le})(Ve.prototype,at.name):q((Je={},Je[nt]=Te,Je),{context:le})(Ve.prototype,at.name)}else q(at.type,{context:le})(Ve.prototype,at.name)})});var Fe=be[_e.rootType],dt=new Fe;for(var ut in Fe._definition.schema){var We=Fe._definition.schema[ut];typeof We!="string"&&(dt[ut]=typeof We=="function"?new We:new(I(Object.keys(We)[0])).constructor)}return dt},v([q([mi],hr)],h.prototype,"types",void 0),v([q("number",hr)],h.prototype,"rootType",void 0),h}(Nn);y("map",{constructor:z}),y("array",{constructor:N}),y("set",{constructor:lo}),y("collection",{constructor:so}),c.ArraySchema=N,c.CollectionSchema=so,c.Context=K,c.MapSchema=z,c.Reflection=Ts,c.ReflectionField=uo,c.ReflectionType=mi,c.Schema=Nn,c.SchemaDefinition=D,c.SetSchema=lo,c.decode=qo,c.defineTypes=F,c.deprecated=ie,c.dumpChanges=Ga,c.encode=Gt,c.filter=V,c.filterChildren=Y,c.hasFilter=W,c.registerType=y,c.type=q})}(pc,pc.exports)),pc.exports}var Zh;function qp(){if(Zh)return Ii;Zh=1;var s=Ii&&Ii.__createBinding||(Object.create?function(x,_,m,N){N===void 0&&(N=m);var R=Object.getOwnPropertyDescriptor(_,m);(!R||("get"in R?!_.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return _[m]}}),Object.defineProperty(x,N,R)}:function(x,_,m,N){N===void 0&&(N=m),x[N]=_[m]}),u=Ii&&Ii.__setModuleDefault||(Object.create?function(x,_){Object.defineProperty(x,"default",{enumerable:!0,value:_})}:function(x,_){x.default=_}),c=Ii&&Ii.__importStar||function(x){if(x&&x.__esModule)return x;var _={};if(x!=null)for(var m in x)m!=="default"&&Object.prototype.hasOwnProperty.call(x,m)&&s(_,x,m);return u(_,x),_};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.Room=void 0;const E=c(Bg()),A=$g(),v=Hp(),p=Vp(),S=$p(),C=bg(),w=bp(),T=Gd();let d=class Wp{constructor(_,m){this.onStateChange=(0,C.createSignal)(),this.onError=(0,C.createSignal)(),this.onLeave=(0,C.createSignal)(),this.onJoin=(0,C.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,S.createNanoEvents)(),this.roomId=null,this.name=_,m&&(this.serializer=new((0,p.getSerializer)("schema")),this.rootSchema=m,this.serializer.state=new m),this.onError((N,R)=>{var z;return(z=console.warn)===null||z===void 0?void 0:z.call(console,`colyseus.js - onError => (${N}) ${R}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(_,m,N=this){const R=new A.Connection;N.connection=R,R.events.onmessage=Wp.prototype.onMessageCallback.bind(N),R.events.onclose=function(z){var P;if(!N.hasJoined){(P=console.warn)===null||P===void 0||P.call(console,`Room connection was closed unexpectedly (${z.code}): ${z.reason}`),N.onError.invoke(z.code,z.reason);return}z.code===T.CloseCode.DEVMODE_RESTART&&m?m():(N.onLeave.invoke(z.code,z.reason),N.destroy())},R.events.onerror=function(z){var P;(P=console.warn)===null||P===void 0||P.call(console,`Room, onError (${z.code}): ${z.reason}`),N.onError.invoke(z.code,z.reason)},R.connect(_)}leave(_=!0){return new Promise(m=>{this.onLeave(N=>m(N)),this.connection?_?this.connection.send([v.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(T.CloseCode.CONSENTED)})}onMessage(_,m){return this.onMessageHandlers.on(this.getMessageHandlerKey(_),m)}send(_,m){const N=[v.Protocol.ROOM_DATA];typeof _=="string"?w.encode.string(N,_):w.encode.number(N,_);let R;if(m!==void 0){const z=E.encode(m);R=new Uint8Array(N.length+z.byteLength),R.set(new Uint8Array(N),0),R.set(new Uint8Array(z),N.length)}else R=new Uint8Array(N);this.connection.send(R.buffer)}sendBytes(_,m){const N=[v.Protocol.ROOM_DATA_BYTES];typeof _=="string"?w.encode.string(N,_):w.encode.number(N,_);let R;R=new Uint8Array(N.length+(m.byteLength||m.length)),R.set(new Uint8Array(N),0),R.set(new Uint8Array(m),N.length),this.connection.send(R.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(_){const m=Array.from(new Uint8Array(_.data)),N=m[0];if(N===v.Protocol.JOIN_ROOM){let R=1;const z=(0,v.utf8Read)(m,R);if(R+=(0,v.utf8Length)(z),this.serializerId=(0,v.utf8Read)(m,R),R+=(0,v.utf8Length)(this.serializerId),!this.serializer){const P=(0,p.getSerializer)(this.serializerId);this.serializer=new P}m.length>R&&this.serializer.handshake&&this.serializer.handshake(m,{offset:R}),this.reconnectionToken=`${this.roomId}:${z}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([v.Protocol.JOIN_ROOM])}else if(N===v.Protocol.ERROR){const R={offset:1},z=w.decode.number(m,R),P=w.decode.string(m,R);this.onError.invoke(z,P)}else if(N===v.Protocol.LEAVE_ROOM)this.leave();else if(N===v.Protocol.ROOM_DATA_SCHEMA){const R={offset:1},P=this.serializer.getState().constructor._context.get(w.decode.number(m,R)),y=new P;y.decode(m,R),this.dispatchMessage(P,y)}else if(N===v.Protocol.ROOM_STATE)m.shift(),this.setState(m);else if(N===v.Protocol.ROOM_STATE_PATCH)m.shift(),this.patch(m);else if(N===v.Protocol.ROOM_DATA){const R={offset:1},z=w.decode.stringCheck(m,R)?w.decode.string(m,R):w.decode.number(m,R),P=m.length>R.offset?E.decode(_.data,R.offset):void 0;this.dispatchMessage(z,P)}else if(N===v.Protocol.ROOM_DATA_BYTES){const R={offset:1},z=w.decode.stringCheck(m,R)?w.decode.string(m,R):w.decode.number(m,R);this.dispatchMessage(z,new Uint8Array(m.slice(R.offset)))}}setState(_){this.serializer.setState(_),this.onStateChange.invoke(this.serializer.getState())}patch(_){this.serializer.patch(_),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(_,m){var N;const R=this.getMessageHandlerKey(_);this.onMessageHandlers.events[R]?this.onMessageHandlers.emit(R,m):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",_,m):(N=console.warn)===null||N===void 0||N.call(console,`colyseus.js: onMessage() not registered for type '${_}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(_){switch(typeof _){case"function":return`$${_._typeid}`;case"string":return _;case"number":return`i${_}`;default:throw new Error("invalid message type.")}}};return Ii.Room=d,Ii}var Li={};function e0(s,u){u.headers=s.headers||{},u.statusMessage=s.statusText,u.statusCode=s.status,u.data=s.response}function Di(s,u,c){return new Promise(function(E,A){c=c||{};var v=new XMLHttpRequest,p,S,C,w=c.body,T=c.headers||{};c.timeout&&(v.timeout=c.timeout),v.ontimeout=v.onerror=function(d){d.timeout=d.type=="timeout",A(d)},v.open(s,u.href||u),v.onload=function(){for(C=v.getAllResponseHeaders().trim().split(/[\r\n]+/),e0(v,v);S=C.shift();)S=S.split(": "),v.headers[S.shift().toLowerCase()]=S.join(": ");if(S=v.headers["content-type"],S&&~S.indexOf("application/json"))try{v.data=JSON.parse(v.data,c.reviver)}catch(d){return e0(v,d),A(d)}(v.status>=400?A:E)(v)},typeof FormData<"u"&&w instanceof FormData||w&&typeof w=="object"&&(T["content-type"]="application/json",w=JSON.stringify(w)),v.withCredentials=!!c.withCredentials;for(p in T)v.setRequestHeader(p,T[p]);v.send(w)})}var qg=Di.bind(Di,"GET"),Kg=Di.bind(Di,"POST"),Yg=Di.bind(Di,"PATCH"),Qg=Di.bind(Di,"DELETE"),Xg=Di.bind(Di,"PUT");const Jg=Object.freeze(Object.defineProperty({__proto__:null,del:Qg,get:qg,patch:Yg,post:Kg,put:Xg,send:Di},Symbol.toStringTag,{value:"Module"})),Zg=L1(Jg);var t0;function ev(){if(t0)return Li;t0=1;var s=Li&&Li.__createBinding||(Object.create?function(p,S,C,w){w===void 0&&(w=C);var T=Object.getOwnPropertyDescriptor(S,C);(!T||("get"in T?!S.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(p,w,T)}:function(p,S,C,w){w===void 0&&(w=C),p[w]=S[C]}),u=Li&&Li.__setModuleDefault||(Object.create?function(p,S){Object.defineProperty(p,"default",{enumerable:!0,value:S})}:function(p,S){p.default=S}),c=Li&&Li.__importStar||function(p){if(p&&p.__esModule)return p;var S={};if(p!=null)for(var C in p)C!=="default"&&Object.prototype.hasOwnProperty.call(p,C)&&s(S,p,C);return u(S,p),S};Object.defineProperty(Li,"__esModule",{value:!0}),Li.HTTP=void 0;const E=Gd(),A=c(Zg);let v=class{constructor(S){this.client=S}get(S,C={}){return this.request("get",S,C)}post(S,C={}){return this.request("post",S,C)}del(S,C={}){return this.request("del",S,C)}put(S,C={}){return this.request("put",S,C)}request(S,C,w={}){return A[S](this.client.getHttpEndpoint(C),this.getOptions(w)).catch(T=>{var d;const x=T.statusCode,_=((d=T.data)===null||d===void 0?void 0:d.error)||T.statusMessage||T.message;throw!x&&!_?T:new E.ServerError(x,_)})}getOptions(S){return this.authToken&&(S.headers||(S.headers={}),S.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(S.withCredentials=!0),S}};return Li.HTTP=v,Li}var Fi={},Go={},n0;function tv(){if(n0)return Go;n0=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.getItem=Go.removeItem=Go.setItem=void 0;let s;function u(){if(!s)try{s=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return s||(s={cache:{},setItem:function(v,p){this.cache[v]=p},getItem:function(v){this.cache[v]},removeItem:function(v){delete this.cache[v]}}),s}function c(v,p){u().setItem(v,p)}Go.setItem=c;function E(v){u().removeItem(v)}Go.removeItem=E;function A(v,p){const S=u().getItem(v);typeof Promise>"u"||!(S instanceof Promise)?p(S):S.then(C=>p(C))}return Go.getItem=A,Go}var r0;function Kp(){if(r0)return Fi;r0=1;var s=Fi&&Fi.__awaiter||function(T,d,x,_){function m(N){return N instanceof x?N:new x(function(R){R(N)})}return new(x||(x=Promise))(function(N,R){function z(I){try{y(_.next(I))}catch(D){R(D)}}function P(I){try{y(_.throw(I))}catch(D){R(D)}}function y(I){I.done?N(I.value):m(I.value).then(z,P)}y((_=_.apply(T,d||[])).next())})},u=Fi&&Fi.__classPrivateFieldGet||function(T,d,x,_){if(x==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!_:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?_:x==="a"?_.call(T):_?_.value:d.get(T)},c=Fi&&Fi.__classPrivateFieldSet||function(T,d,x,_,m){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!m:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?m.call(T,x):m?m.value=x:d.set(T,x),x},E,A,v,p;Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Auth=void 0;const S=tv(),C=$p();let w=class{constructor(d){this.http=d,this.settings={path:"/auth",key:"colyseus-auth-token"},E.set(this,!1),A.set(this,void 0),v.set(this,void 0),p.set(this,(0,C.createNanoEvents)()),(0,S.getItem)(this.settings.key,x=>this.token=x)}set token(d){this.http.authToken=d}get token(){return this.http.authToken}onChange(d){const x=u(this,p,"f").on("change",d);return u(this,E,"f")||c(this,A,new Promise((_,m)=>{this.getUserData().then(N=>{this.emitChange(Object.assign(Object.assign({},N),{token:this.token}))}).catch(N=>{this.emitChange({user:null,token:void 0})}).finally(()=>{_()})}),"f"),c(this,E,!0,"f"),x}getUserData(){return s(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(d,x,_){return s(this,void 0,void 0,function*(){const m=(yield this.http.post(`${this.settings.path}/register`,{body:{email:d,password:x,options:_}})).data;return this.emitChange(m),m})}signInWithEmailAndPassword(d,x){return s(this,void 0,void 0,function*(){const _=(yield this.http.post(`${this.settings.path}/login`,{body:{email:d,password:x}})).data;return this.emitChange(_),_})}signInAnonymously(d){return s(this,void 0,void 0,function*(){const x=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:d}})).data;return this.emitChange(x),x})}sendPasswordResetEmail(d){return s(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:d}})).data})}signInWithProvider(d,x={}){return s(this,void 0,void 0,function*(){return new Promise((_,m)=>{const N=x.width||480,R=x.height||768,z=this.token?`?token=${this.token}`:"",P=`Login with ${d[0].toUpperCase()+d.substring(1)}`,y=this.http.client.getHttpEndpoint(`${x.prefix||`${this.settings.path}/provider`}/${d}${z}`),I=screen.width/2-N/2,D=screen.height/2-R/2;c(this,v,window.open(y,P,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+N+", height="+R+", top="+D+", left="+I),"f");const W=U=>{U.data.user===void 0&&U.data.token===void 0||(clearInterval(K),u(this,v,"f").close(),c(this,v,void 0,"f"),window.removeEventListener("message",W),U.data.error!==void 0?m(U.data.error):(_(U.data),this.emitChange(U.data)))},K=setInterval(()=>{(!u(this,v,"f")||u(this,v,"f").closed)&&(c(this,v,void 0,"f"),m("cancelled"),window.removeEventListener("message",W))},200);window.addEventListener("message",W)})})}signOut(){return s(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(d){d.token!==void 0&&(this.token=d.token,d.token===null?(0,S.removeItem)(this.settings.key):(0,S.setItem)(this.settings.key,d.token)),u(this,p,"f").emit("change",d)}};return Fi.Auth=w,E=new WeakMap,A=new WeakMap,v=new WeakMap,p=new WeakMap,Fi}var Cu={},i0;function nv(){if(i0)return Cu;i0=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.discordURLBuilder=void 0;function s(u){var c;const E=((c=window==null?void 0:window.location)===null||c===void 0?void 0:c.hostname)||"localhost",A=u.hostname.split("."),v=!u.hostname.includes("trycloudflare.com")&&!u.hostname.includes("discordsays.com")&&A.length>2?`/${A[0]}`:"";return u.pathname.startsWith("/.proxy")?`${u.protocol}//${E}${v}${u.pathname}${u.search}`:`${u.protocol}//${E}/.proxy/colyseus${v}${u.pathname}${u.search}`}return Cu.discordURLBuilder=s,Cu}var o0;function rv(){if(o0)return jo;o0=1;var s=jo&&jo.__awaiter||function(T,d,x,_){function m(N){return N instanceof x?N:new x(function(R){R(N)})}return new(x||(x=Promise))(function(N,R){function z(I){try{y(_.next(I))}catch(D){R(D)}}function P(I){try{y(_.throw(I))}catch(D){R(D)}}function y(I){I.done?N(I.value):m(I.value).then(z,P)}y((_=_.apply(T,d||[])).next())})},u;Object.defineProperty(jo,"__esModule",{value:!0}),jo.Client=jo.MatchMakeError=void 0;const c=Gd(),E=qp(),A=ev(),v=Kp(),p=nv();class S extends Error{constructor(d,x){super(d),this.code=x,Object.setPrototypeOf(this,S.prototype)}}jo.MatchMakeError=S;const C=typeof window<"u"&&typeof((u=window==null?void 0:window.location)===null||u===void 0?void 0:u.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";let w=class{constructor(d=C,x){var _,m;if(typeof d=="string"){const N=d.startsWith("/")?new URL(d,C):new URL(d),R=N.protocol==="https:"||N.protocol==="wss:",z=Number(N.port||(R?443:80));this.settings={hostname:N.hostname,pathname:N.pathname,port:z,secure:R}}else d.port===void 0&&(d.port=d.secure?443:80),d.pathname===void 0&&(d.pathname=""),this.settings=d;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new A.HTTP(this),this.auth=new v.Auth(this.http),this.urlBuilder=x,!this.urlBuilder&&typeof window<"u"&&(!((m=(_=window==null?void 0:window.location)===null||_===void 0?void 0:_.hostname)===null||m===void 0)&&m.includes("discordsays.com"))&&(this.urlBuilder=p.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(d,x={},_){return s(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",d,x,_)})}create(d,x={},_){return s(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",d,x,_)})}join(d,x={},_){return s(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",d,x,_)})}joinById(d,x={},_){return s(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",d,x,_)})}reconnect(d,x){return s(this,void 0,void 0,function*(){if(typeof d=="string"&&typeof x=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[_,m]=d.split(":");if(!_||!m)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",_,{reconnectionToken:m},x)})}getAvailableRooms(d=""){return s(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${d}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(d,x,_){return s(this,void 0,void 0,function*(){const m=this.createRoom(d.room.name,x);m.roomId=d.room.roomId,m.sessionId=d.sessionId;const N={sessionId:m.sessionId};d.reconnectionToken&&(N.reconnectionToken=d.reconnectionToken);const R=_||m;return m.connect(this.buildEndpoint(d.room,N),d.devMode&&(()=>s(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${m.roomId}'...`);let z=0,P=8;const y=()=>s(this,void 0,void 0,function*(){z++;try{yield this.consumeSeatReservation(d,x,R),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${m.roomId}'`)}catch{z<P?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${z} out of ${P})`),setTimeout(y,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(y,2e3)})),R),new Promise((z,P)=>{const y=(I,D)=>P(new c.ServerError(I,D));R.onError.once(y),R.onJoin.once(()=>{R.onError.remove(y),z(R)})})})}createMatchMakeRequest(d,x,_={},m,N){return s(this,void 0,void 0,function*(){const R=(yield this.http.post(`matchmake/${d}/${x}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(_)})).data;if(R.error)throw new S(R.error,R.code);return d==="reconnect"&&(R.reconnectionToken=_.reconnectionToken),yield this.consumeSeatReservation(R,m,N)})}createRoom(d,x){return new E.Room(d,x)}buildEndpoint(d,x={}){const _=[];for(const R in x)x.hasOwnProperty(R)&&_.push(`${R}=${x[R]}`);let m=this.settings.secure?"wss://":"ws://";d.publicAddress?m+=`${d.publicAddress}`:m+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const N=`${m}/${d.processId}/${d.roomId}?${_.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(N)):N}getHttpEndpoint(d=""){const x=d.startsWith("/")?d:`/${d}`,_=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${x}`;return this.urlBuilder?this.urlBuilder(new URL(_)):_}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};return jo.Client=w,jo}var Eu={},a0;function iv(){if(a0)return Eu;a0=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.SchemaSerializer=void 0;const s=bp();let u=class{setState(E){return this.state.decode(E)}getState(){return this.state}patch(E){return this.state.decode(E)}teardown(){var E,A;(A=(E=this.state)===null||E===void 0?void 0:E.$changes)===null||A===void 0||A.root.clearRefs()}handshake(E,A){this.state?new s.Reflection().decode(E,A):this.state=s.Reflection.decode(E,A)}};return Eu.SchemaSerializer=u,Eu}var ku={},s0;function ov(){if(s0)return ku;s0=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.NoneSerializer=void 0;let s=class{setState(c){}getState(){return null}patch(c){}teardown(){}handshake(c){}};return ku.NoneSerializer=s,ku}var l0;function av(){return l0||(l0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.SchemaSerializer=s.registerSerializer=s.Auth=s.Room=s.ErrorCode=s.Protocol=s.Client=void 0,Gg();var u=rv();Object.defineProperty(s,"Client",{enumerable:!0,get:function(){return u.Client}});var c=Hp();Object.defineProperty(s,"Protocol",{enumerable:!0,get:function(){return c.Protocol}}),Object.defineProperty(s,"ErrorCode",{enumerable:!0,get:function(){return c.ErrorCode}});var E=qp();Object.defineProperty(s,"Room",{enumerable:!0,get:function(){return E.Room}});var A=Kp();Object.defineProperty(s,"Auth",{enumerable:!0,get:function(){return A.Auth}});const v=iv();Object.defineProperty(s,"SchemaSerializer",{enumerable:!0,get:function(){return v.SchemaSerializer}});const p=ov(),S=Vp();Object.defineProperty(s,"registerSerializer",{enumerable:!0,get:function(){return S.registerSerializer}}),(0,S.registerSerializer)("schema",v.SchemaSerializer),(0,S.registerSerializer)("none",p.NoneSerializer)}(md)),md}var Yp=av(),Pf={exports:{}},Pu={},wd={},xd={},u0;function vt(){return u0||(u0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s._registerNode=s.Konva=s.glob=void 0;const u=Math.PI/180;function c(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}s.glob=typeof Ch<"u"?Ch:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},s.Konva={_global:s.glob,version:"9.2.3",isBrowser:c(),isUnminified:/param/.test((function(A){}).toString()),dblClickWindow:400,getAngle(A){return s.Konva.angleDeg?A*u:A},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return s.Konva.DD.isDragging},isDragReady(){return!!s.Konva.DD.node},releaseCanvasOnDestroy:!0,document:s.glob.document,_injectGlobal(A){s.glob.Konva=A}};const E=A=>{s.Konva[A.prototype.getClassName()]=A};s._registerNode=E,s.Konva._injectGlobal(s.Konva)}(xd)),xd}var Cd={},c0;function cn(){return c0||(c0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Util=s.Transform=void 0;const u=vt();class c{constructor(I=[1,0,0,1,0,0]){this.dirty=!1,this.m=I&&I.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new c(this.m)}copyInto(I){I.m[0]=this.m[0],I.m[1]=this.m[1],I.m[2]=this.m[2],I.m[3]=this.m[3],I.m[4]=this.m[4],I.m[5]=this.m[5]}point(I){var D=this.m;return{x:D[0]*I.x+D[2]*I.y+D[4],y:D[1]*I.x+D[3]*I.y+D[5]}}translate(I,D){return this.m[4]+=this.m[0]*I+this.m[2]*D,this.m[5]+=this.m[1]*I+this.m[3]*D,this}scale(I,D){return this.m[0]*=I,this.m[1]*=I,this.m[2]*=D,this.m[3]*=D,this}rotate(I){var D=Math.cos(I),W=Math.sin(I),K=this.m[0]*D+this.m[2]*W,U=this.m[1]*D+this.m[3]*W,q=this.m[0]*-W+this.m[2]*D,V=this.m[1]*-W+this.m[3]*D;return this.m[0]=K,this.m[1]=U,this.m[2]=q,this.m[3]=V,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(I,D){var W=this.m[0]+this.m[2]*D,K=this.m[1]+this.m[3]*D,U=this.m[2]+this.m[0]*I,q=this.m[3]+this.m[1]*I;return this.m[0]=W,this.m[1]=K,this.m[2]=U,this.m[3]=q,this}multiply(I){var D=this.m[0]*I.m[0]+this.m[2]*I.m[1],W=this.m[1]*I.m[0]+this.m[3]*I.m[1],K=this.m[0]*I.m[2]+this.m[2]*I.m[3],U=this.m[1]*I.m[2]+this.m[3]*I.m[3],q=this.m[0]*I.m[4]+this.m[2]*I.m[5]+this.m[4],V=this.m[1]*I.m[4]+this.m[3]*I.m[5]+this.m[5];return this.m[0]=D,this.m[1]=W,this.m[2]=K,this.m[3]=U,this.m[4]=q,this.m[5]=V,this}invert(){var I=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*I,W=-this.m[1]*I,K=-this.m[2]*I,U=this.m[0]*I,q=I*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),V=I*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=W,this.m[2]=K,this.m[3]=U,this.m[4]=q,this.m[5]=V,this}getMatrix(){return this.m}decompose(){var I=this.m[0],D=this.m[1],W=this.m[2],K=this.m[3],U=this.m[4],q=this.m[5],V=I*K-D*W;let Y={x:U,y:q,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(I!=0||D!=0){var ie=Math.sqrt(I*I+D*D);Y.rotation=D>0?Math.acos(I/ie):-Math.acos(I/ie),Y.scaleX=ie,Y.scaleY=V/ie,Y.skewX=(I*W+D*K)/V,Y.skewY=0}else if(W!=0||K!=0){var F=Math.sqrt(W*W+K*K);Y.rotation=Math.PI/2-(K>0?Math.acos(-W/F):-Math.acos(W/F)),Y.scaleX=V/F,Y.scaleY=F,Y.skewX=0,Y.skewY=(I*W+D*K)/V}return Y.rotation=s.Util._getRotation(Y.rotation),Y}}s.Transform=c;var E="[object Array]",A="[object Number]",v="[object String]",p="[object Boolean]",S=Math.PI/180,C=180/Math.PI,w="#",T="",d="0",x="Konva warning: ",_="Konva error: ",m="rgb(",N={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},R=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,z=[];const P=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(y){setTimeout(y,60)};s.Util={_isElement(y){return!!(y&&y.nodeType==1)},_isFunction(y){return!!(y&&y.constructor&&y.call&&y.apply)},_isPlainObject(y){return!!y&&y.constructor===Object},_isArray(y){return Object.prototype.toString.call(y)===E},_isNumber(y){return Object.prototype.toString.call(y)===A&&!isNaN(y)&&isFinite(y)},_isString(y){return Object.prototype.toString.call(y)===v},_isBoolean(y){return Object.prototype.toString.call(y)===p},isObject(y){return y instanceof Object},isValidSelector(y){if(typeof y!="string")return!1;var I=y[0];return I==="#"||I==="."||I===I.toUpperCase()},_sign(y){return y===0||y>0?1:-1},requestAnimFrame(y){z.push(y),z.length===1&&P(function(){const I=z;z=[],I.forEach(function(D){D()})})},createCanvasElement(){var y=document.createElement("canvas");try{y.style=y.style||{}}catch{}return y},createImageElement(){return document.createElement("img")},_isInDocument(y){for(;y=y.parentNode;)if(y==document)return!0;return!1},_urlToImage(y,I){var D=s.Util.createImageElement();D.onload=function(){I(D)},D.src=y},_rgbToHex(y,I,D){return((1<<24)+(y<<16)+(I<<8)+D).toString(16).slice(1)},_hexToRgb(y){y=y.replace(w,T);var I=parseInt(y,16);return{r:I>>16&255,g:I>>8&255,b:I&255}},getRandomColor(){for(var y=(Math.random()*16777215<<0).toString(16);y.length<6;)y=d+y;return w+y},getRGB(y){var I;return y in N?(I=N[y],{r:I[0],g:I[1],b:I[2]}):y[0]===w?this._hexToRgb(y.substring(1)):y.substr(0,4)===m?(I=R.exec(y.replace(/ /g,"")),{r:parseInt(I[1],10),g:parseInt(I[2],10),b:parseInt(I[3],10)}):{r:0,g:0,b:0}},colorToRGBA(y){return y=y||"black",s.Util._namedColorToRBA(y)||s.Util._hex3ColorToRGBA(y)||s.Util._hex4ColorToRGBA(y)||s.Util._hex6ColorToRGBA(y)||s.Util._hex8ColorToRGBA(y)||s.Util._rgbColorToRGBA(y)||s.Util._rgbaColorToRGBA(y)||s.Util._hslColorToRGBA(y)},_namedColorToRBA(y){var I=N[y.toLowerCase()];return I?{r:I[0],g:I[1],b:I[2],a:1}:null},_rgbColorToRGBA(y){if(y.indexOf("rgb(")===0){y=y.match(/rgb\(([^)]+)\)/)[1];var I=y.split(/ *, */).map(Number);return{r:I[0],g:I[1],b:I[2],a:1}}},_rgbaColorToRGBA(y){if(y.indexOf("rgba(")===0){y=y.match(/rgba\(([^)]+)\)/)[1];var I=y.split(/ *, */).map((D,W)=>D.slice(-1)==="%"?W===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:I[0],g:I[1],b:I[2],a:I[3]}}},_hex8ColorToRGBA(y){if(y[0]==="#"&&y.length===9)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:parseInt(y.slice(7,9),16)/255}},_hex6ColorToRGBA(y){if(y[0]==="#"&&y.length===7)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:1}},_hex4ColorToRGBA(y){if(y[0]==="#"&&y.length===5)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:parseInt(y[4]+y[4],16)/255}},_hex3ColorToRGBA(y){if(y[0]==="#"&&y.length===4)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:1}},_hslColorToRGBA(y){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(y)){const[I,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(y),W=Number(D[0])/360,K=Number(D[1])/100,U=Number(D[2])/100;let q,V,Y;if(K===0)return Y=U*255,{r:Math.round(Y),g:Math.round(Y),b:Math.round(Y),a:1};U<.5?q=U*(1+K):q=U+K-U*K;const ie=2*U-q,F=[0,0,0];for(let G=0;G<3;G++)V=W+1/3*-(G-1),V<0&&V++,V>1&&V--,6*V<1?Y=ie+(q-ie)*6*V:2*V<1?Y=q:3*V<2?Y=ie+(q-ie)*(2/3-V)*6:Y=ie,F[G]=Y*255;return{r:Math.round(F[0]),g:Math.round(F[1]),b:Math.round(F[2]),a:1}}},haveIntersection(y,I){return!(I.x>y.x+y.width||I.x+I.width<y.x||I.y>y.y+y.height||I.y+I.height<y.y)},cloneObject(y){var I={};for(var D in y)this._isPlainObject(y[D])?I[D]=this.cloneObject(y[D]):this._isArray(y[D])?I[D]=this.cloneArray(y[D]):I[D]=y[D];return I},cloneArray(y){return y.slice(0)},degToRad(y){return y*S},radToDeg(y){return y*C},_degToRad(y){return s.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),s.Util.degToRad(y)},_radToDeg(y){return s.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),s.Util.radToDeg(y)},_getRotation(y){return u.Konva.angleDeg?s.Util.radToDeg(y):y},_capitalize(y){return y.charAt(0).toUpperCase()+y.slice(1)},throw(y){throw new Error(_+y)},error(y){console.error(_+y)},warn(y){u.Konva.showWarnings&&console.warn(x+y)},each(y,I){for(var D in y)I(D,y[D])},_inRange(y,I,D){return I<=y&&y<D},_getProjectionToSegment(y,I,D,W,K,U){var q,V,Y,ie=(y-D)*(y-D)+(I-W)*(I-W);if(ie==0)q=y,V=I,Y=(K-D)*(K-D)+(U-W)*(U-W);else{var F=((K-y)*(D-y)+(U-I)*(W-I))/ie;F<0?(q=y,V=I,Y=(y-K)*(y-K)+(I-U)*(I-U)):F>1?(q=D,V=W,Y=(D-K)*(D-K)+(W-U)*(W-U)):(q=y+F*(D-y),V=I+F*(W-I),Y=(q-K)*(q-K)+(V-U)*(V-U))}return[q,V,Y]},_getProjectionToLine(y,I,D){var W=s.Util.cloneObject(y),K=Number.MAX_VALUE;return I.forEach(function(U,q){if(!(!D&&q===I.length-1)){var V=I[(q+1)%I.length],Y=s.Util._getProjectionToSegment(U.x,U.y,V.x,V.y,y.x,y.y),ie=Y[0],F=Y[1],G=Y[2];G<K&&(W.x=ie,W.y=F,K=G)}}),W},_prepareArrayForTween(y,I,D){var W,K=[],U=[];if(y.length>I.length){var q=I;I=y,y=q}for(W=0;W<y.length;W+=2)K.push({x:y[W],y:y[W+1]});for(W=0;W<I.length;W+=2)U.push({x:I[W],y:I[W+1]});var V=[];return U.forEach(function(Y){var ie=s.Util._getProjectionToLine(Y,K,D);V.push(ie.x),V.push(ie.y)}),V},_prepareToStringify(y){var I;y.visitedByCircularReferenceRemoval=!0;for(var D in y)if(y.hasOwnProperty(D)&&y[D]&&typeof y[D]=="object"){if(I=Object.getOwnPropertyDescriptor(y,D),y[D].visitedByCircularReferenceRemoval||s.Util._isElement(y[D]))if(I.configurable)delete y[D];else return null;else if(s.Util._prepareToStringify(y[D])===null)if(I.configurable)delete y[D];else return null}return delete y.visitedByCircularReferenceRemoval,y},_assign(y,I){for(var D in I)y[D]=I[D];return y},_getFirstPointerId(y){return y.touches?y.changedTouches[0].identifier:y.pointerId||999},releaseCanvas(...y){u.Konva.releaseCanvasOnDestroy&&y.forEach(I=>{I.width=0,I.height=0})},drawRoundedRectPath(y,I,D,W){let K=0,U=0,q=0,V=0;typeof W=="number"?K=U=q=V=Math.min(W,I/2,D/2):(K=Math.min(W[0]||0,I/2,D/2),U=Math.min(W[1]||0,I/2,D/2),V=Math.min(W[2]||0,I/2,D/2),q=Math.min(W[3]||0,I/2,D/2)),y.moveTo(K,0),y.lineTo(I-U,0),y.arc(I-U,U,U,Math.PI*3/2,0,!1),y.lineTo(I,D-V),y.arc(I-V,D-V,V,0,Math.PI/2,!1),y.lineTo(q,D),y.arc(q,D-q,q,Math.PI/2,Math.PI,!1),y.lineTo(0,K),y.arc(K,K,K,Math.PI,Math.PI*3/2,!1)}}}(Cd)),Cd}var Ru={},Ed={},Kt={},f0;function St(){if(f0)return Kt;f0=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.getComponentValidator=Kt.getBooleanValidator=Kt.getNumberArrayValidator=Kt.getFunctionValidator=Kt.getStringOrGradientValidator=Kt.getStringValidator=Kt.getNumberOrAutoValidator=Kt.getNumberOrArrayOfNumbersValidator=Kt.getNumberValidator=Kt.alphaComponent=Kt.RGBComponent=void 0;const s=vt(),u=cn();function c(m){return u.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||u.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function E(m){return m>255?255:m<0?0:Math.round(m)}Kt.RGBComponent=E;function A(m){return m>1?1:m<1e-4?1e-4:m}Kt.alphaComponent=A;function v(){if(s.Konva.isUnminified)return function(m,N){return u.Util._isNumber(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a number.'),m}}Kt.getNumberValidator=v;function p(m){if(s.Konva.isUnminified)return function(N,R){let z=u.Util._isNumber(N),P=u.Util._isArray(N)&&N.length==m;return!z&&!P&&u.Util.warn(c(N)+' is a not valid value for "'+R+'" attribute. The value should be a number or Array<number>('+m+")"),N}}Kt.getNumberOrArrayOfNumbersValidator=p;function S(){if(s.Konva.isUnminified)return function(m,N){var R=u.Util._isNumber(m),z=m==="auto";return R||z||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a number or "auto".'),m}}Kt.getNumberOrAutoValidator=S;function C(){if(s.Konva.isUnminified)return function(m,N){return u.Util._isString(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a string.'),m}}Kt.getStringValidator=C;function w(){if(s.Konva.isUnminified)return function(m,N){const R=u.Util._isString(m),z=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return R||z||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a string or a native gradient.'),m}}Kt.getStringOrGradientValidator=w;function T(){if(s.Konva.isUnminified)return function(m,N){return u.Util._isFunction(m)||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a function.'),m}}Kt.getFunctionValidator=T;function d(){if(s.Konva.isUnminified)return function(m,N){const R=Int8Array?Object.getPrototypeOf(Int8Array):null;return R&&m instanceof R||(u.Util._isArray(m)?m.forEach(function(z){u.Util._isNumber(z)||u.Util.warn('"'+N+'" attribute has non numeric element '+z+". Make sure that all elements are numbers.")}):u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a array of numbers.')),m}}Kt.getNumberArrayValidator=d;function x(){if(s.Konva.isUnminified)return function(m,N){var R=m===!0||m===!1;return R||u.Util.warn(c(m)+' is a not valid value for "'+N+'" attribute. The value should be a boolean.'),m}}Kt.getBooleanValidator=x;function _(m){if(s.Konva.isUnminified)return function(N,R){return N==null||u.Util.isObject(N)||u.Util.warn(c(N)+' is a not valid value for "'+R+'" attribute. The value should be an object with properties '+m),N}}return Kt.getComponentValidator=_,Kt}var d0;function mt(){return d0||(d0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Factory=void 0;const u=cn(),c=St();var E="get",A="set";s.Factory={addGetterSetter(v,p,S,C,w){s.Factory.addGetter(v,p,S),s.Factory.addSetter(v,p,C,w),s.Factory.addOverloadedGetterSetter(v,p)},addGetter(v,p,S){var C=E+u.Util._capitalize(p);v.prototype[C]=v.prototype[C]||function(){var w=this.attrs[p];return w===void 0?S:w}},addSetter(v,p,S,C){var w=A+u.Util._capitalize(p);v.prototype[w]||s.Factory.overWriteSetter(v,p,S,C)},overWriteSetter(v,p,S,C){var w=A+u.Util._capitalize(p);v.prototype[w]=function(T){return S&&T!==void 0&&T!==null&&(T=S.call(this,T,p)),this._setAttr(p,T),C&&C.call(this),this}},addComponentsGetterSetter(v,p,S,C,w){var T=S.length,d=u.Util._capitalize,x=E+d(p),_=A+d(p),m,N;v.prototype[x]=function(){var z={};for(m=0;m<T;m++)N=S[m],z[N]=this.getAttr(p+d(N));return z};var R=(0,c.getComponentValidator)(S);v.prototype[_]=function(z){var P=this.attrs[p],y;C&&(z=C.call(this,z)),R&&R.call(this,z,p);for(y in z)z.hasOwnProperty(y)&&this._setAttr(p+d(y),z[y]);return z||S.forEach(I=>{this._setAttr(p+d(I),void 0)}),this._fireChangeEvent(p,P,z),w&&w.call(this),this},s.Factory.addOverloadedGetterSetter(v,p)},addOverloadedGetterSetter(v,p){var S=u.Util._capitalize(p),C=A+S,w=E+S;v.prototype[p]=function(){return arguments.length?(this[C](arguments[0]),this):this[w]()}},addDeprecatedGetterSetter(v,p,S,C){u.Util.error("Adding deprecated "+p);var w=E+u.Util._capitalize(p),T=p+" property is deprecated and will be removed soon. Look at Konva change log for more information.";v.prototype[w]=function(){u.Util.error(T);var d=this.attrs[p];return d===void 0?S:d},s.Factory.addSetter(v,p,C,function(){u.Util.error(T)}),s.Factory.addOverloadedGetterSetter(v,p)},backCompat(v,p){u.Util.each(p,function(S,C){var w=v.prototype[C],T=E+u.Util._capitalize(S),d=A+u.Util._capitalize(S);function x(){w.apply(this,arguments),u.Util.error('"'+S+'" method is deprecated and will be removed soon. Use ""'+C+'" instead.')}v.prototype[S]=x,v.prototype[T]=x,v.prototype[d]=x})},afterSetFilter(){this._filterUpToDate=!1}}}(Ed)),Ed}var Bo={},Ho={},h0;function Qp(){if(h0)return Ho;h0=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.HitContext=Ho.SceneContext=Ho.Context=void 0;const s=cn(),u=vt();function c(z){var P=[],y=z.length,I=s.Util,D,W;for(D=0;D<y;D++)W=z[D],I._isNumber(W)?W=Math.round(W*1e3)/1e3:I._isString(W)||(W=W+""),P.push(W);return P}var E=",",A="(",v=")",p="([",S="])",C=";",w="()",T="=",d=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],x=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const _=100;let m=class{constructor(P){this.canvas=P,u.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(P){P.fillEnabled()&&this._fill(P)}_fill(P){}strokeShape(P){P.hasStroke()&&this._stroke(P)}_stroke(P){}fillStrokeShape(P){P.attrs.fillAfterStrokeEnabled?(this.strokeShape(P),this.fillShape(P)):(this.fillShape(P),this.strokeShape(P))}getTrace(P,y){var I=this.traceArr,D=I.length,W="",K,U,q,V;for(K=0;K<D;K++)U=I[K],q=U.method,q?(V=U.args,W+=q,P?W+=w:s.Util._isArray(V[0])?W+=p+V.join(E)+S:(y&&(V=V.map(Y=>typeof Y=="number"?Math.floor(Y):Y)),W+=A+V.join(E)+v)):(W+=U.property,P||(W+=T+U.val)),W+=C;return W}clearTrace(){this.traceArr=[]}_trace(P){var y=this.traceArr,I;y.push(P),I=y.length,I>=_&&y.shift()}reset(){var P=this.getCanvas().getPixelRatio();this.setTransform(1*P,0,0,1*P,0,0)}getCanvas(){return this.canvas}clear(P){var y=this.getCanvas();P?this.clearRect(P.x||0,P.y||0,P.width||0,P.height||0):this.clearRect(0,0,y.getWidth()/y.pixelRatio,y.getHeight()/y.pixelRatio)}_applyLineCap(P){const y=P.attrs.lineCap;y&&this.setAttr("lineCap",y)}_applyOpacity(P){var y=P.getAbsoluteOpacity();y!==1&&this.setAttr("globalAlpha",y)}_applyLineJoin(P){const y=P.attrs.lineJoin;y&&this.setAttr("lineJoin",y)}setAttr(P,y){this._context[P]=y}arc(P,y,I,D,W,K){this._context.arc(P,y,I,D,W,K)}arcTo(P,y,I,D,W){this._context.arcTo(P,y,I,D,W)}beginPath(){this._context.beginPath()}bezierCurveTo(P,y,I,D,W,K){this._context.bezierCurveTo(P,y,I,D,W,K)}clearRect(P,y,I,D){this._context.clearRect(P,y,I,D)}clip(...P){this._context.clip.apply(this._context,P)}closePath(){this._context.closePath()}createImageData(P,y){var I=arguments;if(I.length===2)return this._context.createImageData(P,y);if(I.length===1)return this._context.createImageData(P)}createLinearGradient(P,y,I,D){return this._context.createLinearGradient(P,y,I,D)}createPattern(P,y){return this._context.createPattern(P,y)}createRadialGradient(P,y,I,D,W,K){return this._context.createRadialGradient(P,y,I,D,W,K)}drawImage(P,y,I,D,W,K,U,q,V){var Y=arguments,ie=this._context;Y.length===3?ie.drawImage(P,y,I):Y.length===5?ie.drawImage(P,y,I,D,W):Y.length===9&&ie.drawImage(P,y,I,D,W,K,U,q,V)}ellipse(P,y,I,D,W,K,U,q){this._context.ellipse(P,y,I,D,W,K,U,q)}isPointInPath(P,y,I,D){return I?this._context.isPointInPath(I,P,y,D):this._context.isPointInPath(P,y,D)}fill(...P){this._context.fill.apply(this._context,P)}fillRect(P,y,I,D){this._context.fillRect(P,y,I,D)}strokeRect(P,y,I,D){this._context.strokeRect(P,y,I,D)}fillText(P,y,I,D){D?this._context.fillText(P,y,I,D):this._context.fillText(P,y,I)}measureText(P){return this._context.measureText(P)}getImageData(P,y,I,D){return this._context.getImageData(P,y,I,D)}lineTo(P,y){this._context.lineTo(P,y)}moveTo(P,y){this._context.moveTo(P,y)}rect(P,y,I,D){this._context.rect(P,y,I,D)}putImageData(P,y,I){this._context.putImageData(P,y,I)}quadraticCurveTo(P,y,I,D){this._context.quadraticCurveTo(P,y,I,D)}restore(){this._context.restore()}rotate(P){this._context.rotate(P)}save(){this._context.save()}scale(P,y){this._context.scale(P,y)}setLineDash(P){this._context.setLineDash?this._context.setLineDash(P):"mozDash"in this._context?this._context.mozDash=P:"webkitLineDash"in this._context&&(this._context.webkitLineDash=P)}getLineDash(){return this._context.getLineDash()}setTransform(P,y,I,D,W,K){this._context.setTransform(P,y,I,D,W,K)}stroke(P){P?this._context.stroke(P):this._context.stroke()}strokeText(P,y,I,D){this._context.strokeText(P,y,I,D)}transform(P,y,I,D,W,K){this._context.transform(P,y,I,D,W,K)}translate(P,y){this._context.translate(P,y)}_enableTrace(){var P=this,y=d.length,I=this.setAttr,D,W,K=function(U){var q=P[U],V;P[U]=function(){return W=c(Array.prototype.slice.call(arguments,0)),V=q.apply(P,arguments),P._trace({method:U,args:W}),V}};for(D=0;D<y;D++)K(d[D]);P.setAttr=function(){I.apply(P,arguments);var U=arguments[0],q=arguments[1];(U==="shadowOffsetX"||U==="shadowOffsetY"||U==="shadowBlur")&&(q=q/this.canvas.getPixelRatio()),P._trace({property:U,val:q})}}_applyGlobalCompositeOperation(P){const y=P.attrs.globalCompositeOperation;var I=!y||y==="source-over";I||this.setAttr("globalCompositeOperation",y)}};Ho.Context=m,x.forEach(function(z){Object.defineProperty(m.prototype,z,{get(){return this._context[z]},set(P){this._context[z]=P}})});class N extends m{constructor(P,{willReadFrequently:y=!1}={}){super(P),this._context=P._canvas.getContext("2d",{willReadFrequently:y})}_fillColor(P){var y=P.fill();this.setAttr("fillStyle",y),P._fillFunc(this)}_fillPattern(P){this.setAttr("fillStyle",P._getFillPattern()),P._fillFunc(this)}_fillLinearGradient(P){var y=P._getLinearGradient();y&&(this.setAttr("fillStyle",y),P._fillFunc(this))}_fillRadialGradient(P){const y=P._getRadialGradient();y&&(this.setAttr("fillStyle",y),P._fillFunc(this))}_fill(P){const y=P.fill(),I=P.getFillPriority();if(y&&I==="color"){this._fillColor(P);return}const D=P.getFillPatternImage();if(D&&I==="pattern"){this._fillPattern(P);return}const W=P.getFillLinearGradientColorStops();if(W&&I==="linear-gradient"){this._fillLinearGradient(P);return}const K=P.getFillRadialGradientColorStops();if(K&&I==="radial-gradient"){this._fillRadialGradient(P);return}y?this._fillColor(P):D?this._fillPattern(P):W?this._fillLinearGradient(P):K&&this._fillRadialGradient(P)}_strokeLinearGradient(P){const y=P.getStrokeLinearGradientStartPoint(),I=P.getStrokeLinearGradientEndPoint(),D=P.getStrokeLinearGradientColorStops(),W=this.createLinearGradient(y.x,y.y,I.x,I.y);if(D){for(var K=0;K<D.length;K+=2)W.addColorStop(D[K],D[K+1]);this.setAttr("strokeStyle",W)}}_stroke(P){var y=P.dash(),I=P.getStrokeScaleEnabled();if(P.hasStroke()){if(!I){this.save();var D=this.getCanvas().getPixelRatio();this.setTransform(D,0,0,D,0,0)}this._applyLineCap(P),y&&P.dashEnabled()&&(this.setLineDash(y),this.setAttr("lineDashOffset",P.dashOffset())),this.setAttr("lineWidth",P.strokeWidth()),P.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var W=P.getStrokeLinearGradientColorStops();W?this._strokeLinearGradient(P):this.setAttr("strokeStyle",P.stroke()),P._strokeFunc(this),I||this.restore()}}_applyShadow(P){var y,I,D,W=(y=P.getShadowRGBA())!==null&&y!==void 0?y:"black",K=(I=P.getShadowBlur())!==null&&I!==void 0?I:5,U=(D=P.getShadowOffset())!==null&&D!==void 0?D:{x:0,y:0},q=P.getAbsoluteScale(),V=this.canvas.getPixelRatio(),Y=q.x*V,ie=q.y*V;this.setAttr("shadowColor",W),this.setAttr("shadowBlur",K*Math.min(Math.abs(Y),Math.abs(ie))),this.setAttr("shadowOffsetX",U.x*Y),this.setAttr("shadowOffsetY",U.y*ie)}}Ho.SceneContext=N;class R extends m{constructor(P){super(P),this._context=P._canvas.getContext("2d",{willReadFrequently:!0})}_fill(P){this.save(),this.setAttr("fillStyle",P.colorKey),P._fillFuncHit(this),this.restore()}strokeShape(P){P.hasHitStroke()&&this._stroke(P)}_stroke(P){if(P.hasHitStroke()){const W=P.getStrokeScaleEnabled();if(!W){this.save();var y=this.getCanvas().getPixelRatio();this.setTransform(y,0,0,y,0,0)}this._applyLineCap(P);var I=P.hitStrokeWidth(),D=I==="auto"?P.strokeWidth():I;this.setAttr("lineWidth",D),this.setAttr("strokeStyle",P.colorKey),P._strokeFuncHit(this),W||this.restore()}}}return Ho.HitContext=R,Ho}var p0;function If(){if(p0)return Bo;p0=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.HitCanvas=Bo.SceneCanvas=Bo.Canvas=void 0;const s=cn(),u=Qp(),c=vt(),E=mt(),A=St();var v;function p(){if(v)return v;var T=s.Util.createCanvasElement(),d=T.getContext("2d");return v=function(){var x=c.Konva._global.devicePixelRatio||1,_=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return x/_}(),s.Util.releaseCanvas(T),v}let S=class{constructor(d){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var x=d||{},_=x.pixelRatio||c.Konva.pixelRatio||p();this.pixelRatio=_,this._canvas=s.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(d){var x=this.pixelRatio;this.pixelRatio=d,this.setSize(this.getWidth()/x,this.getHeight()/x)}setWidth(d){this.width=this._canvas.width=d*this.pixelRatio,this._canvas.style.width=d+"px";var x=this.pixelRatio,_=this.getContext()._context;_.scale(x,x)}setHeight(d){this.height=this._canvas.height=d*this.pixelRatio,this._canvas.style.height=d+"px";var x=this.pixelRatio,_=this.getContext()._context;_.scale(x,x)}getWidth(){return this.width}getHeight(){return this.height}setSize(d,x){this.setWidth(d||0),this.setHeight(x||0)}toDataURL(d,x){try{return this._canvas.toDataURL(d,x)}catch{try{return this._canvas.toDataURL()}catch(m){return s.Util.error("Unable to get data URL. "+m.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Bo.Canvas=S,E.Factory.addGetterSetter(S,"pixelRatio",void 0,(0,A.getNumberValidator)());class C extends S{constructor(d={width:0,height:0,willReadFrequently:!1}){super(d),this.context=new u.SceneContext(this,{willReadFrequently:d.willReadFrequently}),this.setSize(d.width,d.height)}}Bo.SceneCanvas=C;class w extends S{constructor(d={width:0,height:0}){super(d),this.hitCanvas=!0,this.context=new u.HitContext(this),this.setSize(d.width,d.height)}}return Bo.HitCanvas=w,Bo}var kd={},g0;function Bd(){return g0||(g0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.DD=void 0;const u=vt(),c=cn();s.DD={get isDragging(){var E=!1;return s.DD._dragElements.forEach(A=>{A.dragStatus==="dragging"&&(E=!0)}),E},justDragged:!1,get node(){var E;return s.DD._dragElements.forEach(A=>{E=A.node}),E},_dragElements:new Map,_drag(E){const A=[];s.DD._dragElements.forEach((v,p)=>{const{node:S}=v,C=S.getStage();C.setPointersPositions(E),v.pointerId===void 0&&(v.pointerId=c.Util._getFirstPointerId(E));const w=C._changedPointerPositions.find(x=>x.id===v.pointerId);if(w){if(v.dragStatus!=="dragging"){var T=S.dragDistance(),d=Math.max(Math.abs(w.x-v.startPointerPos.x),Math.abs(w.y-v.startPointerPos.y));if(d<T||(S.startDrag({evt:E}),!S.isDragging()))return}S._setDragPosition(E,v),A.push(S)}}),A.forEach(v=>{v.fire("dragmove",{type:"dragmove",target:v,evt:E},!0)})},_endDragBefore(E){const A=[];s.DD._dragElements.forEach(v=>{const{node:p}=v,S=p.getStage();if(E&&S.setPointersPositions(E),!S._changedPointerPositions.find(T=>T.id===v.pointerId))return;(v.dragStatus==="dragging"||v.dragStatus==="stopped")&&(s.DD.justDragged=!0,u.Konva._mouseListenClick=!1,u.Konva._touchListenClick=!1,u.Konva._pointerListenClick=!1,v.dragStatus="stopped");const w=v.node.getLayer()||v.node instanceof u.Konva.Stage&&v.node;w&&A.indexOf(w)===-1&&A.push(w)}),A.forEach(v=>{v.draw()})},_endDragAfter(E){s.DD._dragElements.forEach((A,v)=>{A.dragStatus==="stopped"&&A.node.fire("dragend",{type:"dragend",target:A.node,evt:E},!0),A.dragStatus!=="dragging"&&s.DD._dragElements.delete(v)})}},u.Konva.isBrowser&&(window.addEventListener("mouseup",s.DD._endDragBefore,!0),window.addEventListener("touchend",s.DD._endDragBefore,!0),window.addEventListener("mousemove",s.DD._drag),window.addEventListener("touchmove",s.DD._drag),window.addEventListener("mouseup",s.DD._endDragAfter,!1),window.addEventListener("touchend",s.DD._endDragAfter,!1))}(kd)),kd}var v0;function yn(){if(v0)return Ru;v0=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.Node=void 0;const s=cn(),u=mt(),c=If(),E=vt(),A=Bd(),v=St();var p="absoluteOpacity",S="allEventListeners",C="absoluteTransform",w="absoluteScale",T="canvas",d="Change",x="children",_="konva",m="listening",N="mouseenter",R="mouseleave",z="set",P="Shape",y=" ",I="stage",D="transform",W="Stage",K="visible",U=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y);let q=1,V=class Dd{constructor(F){this._id=q++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(F),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(F){(F===D||F===C)&&this._cache.get(F)?this._cache.get(F).dirty=!0:F?this._cache.delete(F):this._cache.clear()}_getCache(F,G){var H=this._cache.get(F),Q=F===D||F===C,X=H===void 0||Q&&H.dirty===!0;return X&&(H=G.call(this),this._cache.set(F,H)),H}_calculate(F,G,H){if(!this._attachedDepsListeners.get(F)){const Q=G.map(X=>X+"Change.konva").join(y);this.on(Q,()=>{this._clearCache(F)}),this._attachedDepsListeners.set(F,!0)}return this._getCache(F,H)}_getCanvasCache(){return this._cache.get(T)}_clearSelfAndDescendantCache(F){this._clearCache(F),F===C&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(T)){const{scene:F,filter:G,hit:H}=this._cache.get(T);s.Util.releaseCanvas(F,G,H),this._cache.delete(T)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(F){var G=F||{},H={};(G.x===void 0||G.y===void 0||G.width===void 0||G.height===void 0)&&(H=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var Q=Math.ceil(G.width||H.width),X=Math.ceil(G.height||H.height),ee=G.pixelRatio,re=G.x===void 0?Math.floor(H.x):G.x,$=G.y===void 0?Math.floor(H.y):G.y,oe=G.offset||0,te=G.drawBorder||!1,Se=G.hitCanvasPixelRatio||1;if(!Q||!X){s.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}Q+=oe*2+1,X+=oe*2+1,re-=oe,$-=oe;var ye=new c.SceneCanvas({pixelRatio:ee,width:Q,height:X}),Ae=new c.SceneCanvas({pixelRatio:ee,width:0,height:0,willReadFrequently:!0}),Ne=new c.HitCanvas({pixelRatio:Se,width:Q,height:X}),Z=ye.getContext(),ce=Ne.getContext();return Ne.isCache=!0,ye.isCache=!0,this._cache.delete(T),this._filterUpToDate=!1,G.imageSmoothingEnabled===!1&&(ye.getContext()._context.imageSmoothingEnabled=!1,Ae.getContext()._context.imageSmoothingEnabled=!1),Z.save(),ce.save(),Z.translate(-re,-$),ce.translate(-re,-$),this._isUnderCache=!0,this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(w),this.drawScene(ye,this),this.drawHit(Ne,this),this._isUnderCache=!1,Z.restore(),ce.restore(),te&&(Z.save(),Z.beginPath(),Z.rect(0,0,Q,X),Z.closePath(),Z.setAttr("strokeStyle","red"),Z.setAttr("lineWidth",5),Z.stroke(),Z.restore()),this._cache.set(T,{scene:ye,filter:Ae,hit:Ne,x:re,y:$}),this._requestDraw(),this}isCached(){return this._cache.has(T)}getClientRect(F){throw new Error('abstract "getClientRect" method call')}_transformedRect(F,G){var H=[{x:F.x,y:F.y},{x:F.x+F.width,y:F.y},{x:F.x+F.width,y:F.y+F.height},{x:F.x,y:F.y+F.height}],Q=1/0,X=1/0,ee=-1/0,re=-1/0,$=this.getAbsoluteTransform(G);return H.forEach(function(oe){var te=$.point(oe);Q===void 0&&(Q=ee=te.x,X=re=te.y),Q=Math.min(Q,te.x),X=Math.min(X,te.y),ee=Math.max(ee,te.x),re=Math.max(re,te.y)}),{x:Q,y:X,width:ee-Q,height:re-X}}_drawCachedSceneCanvas(F){F.save(),F._applyOpacity(this),F._applyGlobalCompositeOperation(this);const G=this._getCanvasCache();F.translate(G.x,G.y);var H=this._getCachedSceneCanvas(),Q=H.pixelRatio;F.drawImage(H._canvas,0,0,H.width/Q,H.height/Q),F.restore()}_drawCachedHitCanvas(F){var G=this._getCanvasCache(),H=G.hit;F.save(),F.translate(G.x,G.y),F.drawImage(H._canvas,0,0,H.width/H.pixelRatio,H.height/H.pixelRatio),F.restore()}_getCachedSceneCanvas(){var F=this.filters(),G=this._getCanvasCache(),H=G.scene,Q=G.filter,X=Q.getContext(),ee,re,$,oe;if(F){if(!this._filterUpToDate){var te=H.pixelRatio;Q.setSize(H.width/H.pixelRatio,H.height/H.pixelRatio);try{for(ee=F.length,X.clear(),X.drawImage(H._canvas,0,0,H.getWidth()/te,H.getHeight()/te),re=X.getImageData(0,0,Q.getWidth(),Q.getHeight()),$=0;$<ee;$++){if(oe=F[$],typeof oe!="function"){s.Util.error("Filter should be type of function, but got "+typeof oe+" instead. Please check correct filters");continue}oe.call(this,re),X.putImageData(re,0,0)}}catch(Se){s.Util.error("Unable to apply filter. "+Se.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return Q}return H}on(F,G){if(this._cache&&this._cache.delete(S),arguments.length===3)return this._delegate.apply(this,arguments);var H=F.split(y),Q=H.length,X,ee,re,$,oe;for(X=0;X<Q;X++)ee=H[X],re=ee.split("."),$=re[0],oe=re[1]||"",this.eventListeners[$]||(this.eventListeners[$]=[]),this.eventListeners[$].push({name:oe,handler:G});return this}off(F,G){var H=(F||"").split(y),Q=H.length,X,ee,re,$,oe,te;if(this._cache&&this._cache.delete(S),!F)for(ee in this.eventListeners)this._off(ee);for(X=0;X<Q;X++)if(re=H[X],$=re.split("."),oe=$[0],te=$[1],oe)this.eventListeners[oe]&&this._off(oe,te,G);else for(ee in this.eventListeners)this._off(ee,te,G);return this}dispatchEvent(F){var G={target:this,type:F.type,evt:F};return this.fire(F.type,G),this}addEventListener(F,G){return this.on(F,function(H){G.call(this,H.evt)}),this}removeEventListener(F){return this.off(F),this}_delegate(F,G,H){var Q=this;this.on(F,function(X){for(var ee=X.target.findAncestors(G,!0,Q),re=0;re<ee.length;re++)X=s.Util.cloneObject(X),X.currentTarget=ee[re],H.call(ee[re],X)})}remove(){return this.isDragging()&&this.stopDrag(),A.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(I),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();var F=this.getParent();F&&F.children&&(F.children.splice(this.index,1),F._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(F){var G="get"+s.Util._capitalize(F);return s.Util._isFunction(this[G])?this[G]():this.attrs[F]}getAncestors(){for(var F=this.getParent(),G=[];F;)G.push(F),F=F.getParent();return G}getAttrs(){return this.attrs||{}}setAttrs(F){return this._batchTransformChanges(()=>{var G,H;if(!F)return this;for(G in F)G!==x&&(H=z+s.Util._capitalize(G),s.Util._isFunction(this[H])?this[H](F[G]):this._setAttr(G,F[G]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(F){if(!this.listening())return!1;const H=this.getParent();return H&&H!==F&&this!==F?H._isListening(F):!0}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(F){if(!this.visible())return!1;const H=this.getParent();return H&&H!==F&&this!==F?H._isVisible(F):!0}shouldDrawHit(F,G=!1){if(F)return this._isVisible(F)&&this._isListening(F);var H=this.getLayer(),Q=!1;A.DD._dragElements.forEach(ee=>{ee.dragStatus==="dragging"&&(ee.node.nodeType==="Stage"||ee.node.getLayer()===H)&&(Q=!0)});var X=!G&&!E.Konva.hitOnDragEnabled&&Q;return this.isListening()&&this.isVisible()&&!X}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var F=this.getDepth(),G=this,H=0,Q,X,ee,re;function $(te){for(Q=[],X=te.length,ee=0;ee<X;ee++)re=te[ee],H++,re.nodeType!==P&&(Q=Q.concat(re.getChildren().slice())),re._id===G._id&&(ee=X);Q.length>0&&Q[0].getDepth()<=F&&$(Q)}const oe=this.getStage();return G.nodeType!==W&&oe&&$(oe.getChildren()),H}getDepth(){for(var F=0,G=this.parent;G;)F++,G=G.parent;return F}_batchTransformChanges(F){this._batchingTransformChange=!0,F(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(D),this._clearSelfAndDescendantCache(C)),this._needClearTransformCache=!1}setPosition(F){return this._batchTransformChanges(()=>{this.x(F.x),this.y(F.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const F=this.getStage();if(!F)return null;var G=F.getPointerPosition();if(!G)return null;var H=this.getAbsoluteTransform().copy();return H.invert(),H.point(G)}getAbsolutePosition(F){let G=!1,H=this.parent;for(;H;){if(H.isCached()){G=!0;break}H=H.parent}G&&!F&&(F=!0);var Q=this.getAbsoluteTransform(F).getMatrix(),X=new s.Transform,ee=this.offset();return X.m=Q.slice(),X.translate(ee.x,ee.y),X.getTranslation()}setAbsolutePosition(F){const{x:G,y:H,...Q}=this._clearTransform();this.attrs.x=G,this.attrs.y=H,this._clearCache(D);var X=this._getAbsoluteTransform().copy();return X.invert(),X.translate(F.x,F.y),F={x:this.attrs.x+X.getTranslation().x,y:this.attrs.y+X.getTranslation().y},this._setTransform(Q),this.setPosition({x:F.x,y:F.y}),this._clearCache(D),this._clearSelfAndDescendantCache(C),this}_setTransform(F){var G;for(G in F)this.attrs[G]=F[G]}_clearTransform(){var F={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,F}move(F){var G=F.x,H=F.y,Q=this.x(),X=this.y();return G!==void 0&&(Q+=G),H!==void 0&&(X+=H),this.setPosition({x:Q,y:X}),this}_eachAncestorReverse(F,G){var H=[],Q=this.getParent(),X,ee;if(!(G&&G._id===this._id)){for(H.unshift(this);Q&&(!G||Q._id!==G._id);)H.unshift(Q),Q=Q.parent;for(X=H.length,ee=0;ee<X;ee++)F(H[ee])}}rotate(F){return this.rotation(this.rotation()+F),this}moveToTop(){if(!this.parent)return s.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var F=this.index,G=this.parent.getChildren().length;return F<G-1?(this.parent.children.splice(F,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return s.Util.warn("Node has no parent. moveUp function is ignored."),!1;var F=this.index,G=this.parent.getChildren().length;return F<G-1?(this.parent.children.splice(F,1),this.parent.children.splice(F+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return s.Util.warn("Node has no parent. moveDown function is ignored."),!1;var F=this.index;return F>0?(this.parent.children.splice(F,1),this.parent.children.splice(F-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return s.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var F=this.index;return F>0?(this.parent.children.splice(F,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(F){if(!this.parent)return s.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(F<0||F>=this.parent.children.length)&&s.Util.warn("Unexpected value "+F+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var G=this.index;return this.parent.children.splice(G,1),this.parent.children.splice(F,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(p,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var F=this.opacity(),G=this.getParent();return G&&!G._isUnderCache&&(F*=G.getAbsoluteOpacity()),F}moveTo(F){return this.getParent()!==F&&(this._remove(),F.add(this)),this}toObject(){var F={},G=this.getAttrs(),H,Q,X,ee,re;F.attrs={};for(H in G)Q=G[H],re=s.Util.isObject(Q)&&!s.Util._isPlainObject(Q)&&!s.Util._isArray(Q),!re&&(X=typeof this[H]=="function"&&this[H],delete G[H],ee=X?X.call(this):null,G[H]=Q,ee!==Q&&(F.attrs[H]=Q));return F.className=this.getClassName(),s.Util._prepareToStringify(F)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(F,G,H){var Q=[];G&&this._isMatch(F)&&Q.push(this);for(var X=this.parent;X;){if(X===H)return Q;X._isMatch(F)&&Q.push(X),X=X.parent}return Q}isAncestorOf(F){return!1}findAncestor(F,G,H){return this.findAncestors(F,G,H)[0]}_isMatch(F){if(!F)return!1;if(typeof F=="function")return F(this);var G=F.replace(/ /g,"").split(","),H=G.length,Q,X;for(Q=0;Q<H;Q++)if(X=G[Q],s.Util.isValidSelector(X)||(s.Util.warn('Selector "'+X+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),s.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),s.Util.warn("Konva is awesome, right?")),X.charAt(0)==="#"){if(this.id()===X.slice(1))return!0}else if(X.charAt(0)==="."){if(this.hasName(X.slice(1)))return!0}else if(this.className===X||this.nodeType===X)return!0;return!1}getLayer(){var F=this.getParent();return F?F.getLayer():null}getStage(){return this._getCache(I,this._getStage)}_getStage(){var F=this.getParent();return F?F.getStage():null}fire(F,G={},H){return G.target=G.target||this,H?this._fireAndBubble(F,G):this._fire(F,G),this}getAbsoluteTransform(F){return F?this._getAbsoluteTransform(F):this._getCache(C,this._getAbsoluteTransform)}_getAbsoluteTransform(F){var G;if(F)return G=new s.Transform,this._eachAncestorReverse(function(Q){var X=Q.transformsEnabled();X==="all"?G.multiply(Q.getTransform()):X==="position"&&G.translate(Q.x()-Q.offsetX(),Q.y()-Q.offsetY())},F),G;G=this._cache.get(C)||new s.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(G):G.reset();var H=this.transformsEnabled();if(H==="all")G.multiply(this.getTransform());else if(H==="position"){const Q=this.attrs.x||0,X=this.attrs.y||0,ee=this.attrs.offsetX||0,re=this.attrs.offsetY||0;G.translate(Q-ee,X-re)}return G.dirty=!1,G}getAbsoluteScale(F){for(var G=this;G;)G._isUnderCache&&(F=G),G=G.getParent();const Q=this.getAbsoluteTransform(F).decompose();return{x:Q.scaleX,y:Q.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(D,this._getTransform)}_getTransform(){var F,G,H=this._cache.get(D)||new s.Transform;H.reset();var Q=this.x(),X=this.y(),ee=E.Konva.getAngle(this.rotation()),re=(F=this.attrs.scaleX)!==null&&F!==void 0?F:1,$=(G=this.attrs.scaleY)!==null&&G!==void 0?G:1,oe=this.attrs.skewX||0,te=this.attrs.skewY||0,Se=this.attrs.offsetX||0,ye=this.attrs.offsetY||0;return(Q!==0||X!==0)&&H.translate(Q,X),ee!==0&&H.rotate(ee),(oe!==0||te!==0)&&H.skew(oe,te),(re!==1||$!==1)&&H.scale(re,$),(Se!==0||ye!==0)&&H.translate(-1*Se,-1*ye),H.dirty=!1,H}clone(F){var G=s.Util.cloneObject(this.attrs),H,Q,X,ee,re;for(H in F)G[H]=F[H];var $=new this.constructor(G);for(H in this.eventListeners)for(Q=this.eventListeners[H],X=Q.length,ee=0;ee<X;ee++)re=Q[ee],re.name.indexOf(_)<0&&($.eventListeners[H]||($.eventListeners[H]=[]),$.eventListeners[H].push(re));return $}_toKonvaCanvas(F){F=F||{};var G=this.getClientRect(),H=this.getStage(),Q=F.x!==void 0?F.x:Math.floor(G.x),X=F.y!==void 0?F.y:Math.floor(G.y),ee=F.pixelRatio||1,re=new c.SceneCanvas({width:F.width||Math.ceil(G.width)||(H?H.width():0),height:F.height||Math.ceil(G.height)||(H?H.height():0),pixelRatio:ee}),$=re.getContext();return F.imageSmoothingEnabled===!1&&($._context.imageSmoothingEnabled=!1),$.save(),(Q||X)&&$.translate(-1*Q,-1*X),this.drawScene(re),$.restore(),re}toCanvas(F){return this._toKonvaCanvas(F)._canvas}toDataURL(F){F=F||{};var G=F.mimeType||null,H=F.quality||null,Q=this._toKonvaCanvas(F).toDataURL(G,H);return F.callback&&F.callback(Q),Q}toImage(F){return new Promise((G,H)=>{try{const Q=F==null?void 0:F.callback;Q&&delete F.callback,s.Util._urlToImage(this.toDataURL(F),function(X){G(X),Q==null||Q(X)})}catch(Q){H(Q)}})}toBlob(F){return new Promise((G,H)=>{try{const Q=F==null?void 0:F.callback;Q&&delete F.callback,this.toCanvas(F).toBlob(X=>{G(X),Q==null||Q(X)})}catch(Q){H(Q)}})}setSize(F){return this.width(F.width),this.height(F.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():E.Konva.dragDistance}_off(F,G,H){var Q=this.eventListeners[F],X,ee,re;for(X=0;X<Q.length;X++)if(ee=Q[X].name,re=Q[X].handler,(ee!=="konva"||G==="konva")&&(!G||ee===G)&&(!H||H===re)){if(Q.splice(X,1),Q.length===0){delete this.eventListeners[F];break}X--}}_fireChangeEvent(F,G,H){this._fire(F+d,{oldVal:G,newVal:H})}addName(F){if(!this.hasName(F)){var G=this.name(),H=G?G+" "+F:F;this.name(H)}return this}hasName(F){if(!F)return!1;const G=this.name();if(!G)return!1;var H=(G||"").split(/\s/g);return H.indexOf(F)!==-1}removeName(F){var G=(this.name()||"").split(/\s/g),H=G.indexOf(F);return H!==-1&&(G.splice(H,1),this.name(G.join(" "))),this}setAttr(F,G){var H=this[z+s.Util._capitalize(F)];return s.Util._isFunction(H)?H.call(this,G):this._setAttr(F,G),this}_requestDraw(){if(E.Konva.autoDrawEnabled){const F=this.getLayer()||this.getStage();F==null||F.batchDraw()}}_setAttr(F,G){var H=this.attrs[F];H===G&&!s.Util.isObject(G)||(G==null?delete this.attrs[F]:this.attrs[F]=G,this._shouldFireChangeEvents&&this._fireChangeEvent(F,H,G),this._requestDraw())}_setComponentAttr(F,G,H){var Q;H!==void 0&&(Q=this.attrs[F],Q||(this.attrs[F]=this.getAttr(F)),this.attrs[F][G]=H,this._fireChangeEvent(F,Q,H))}_fireAndBubble(F,G,H){G&&this.nodeType===P&&(G.target=this);var Q=(F===N||F===R)&&(H&&(this===H||this.isAncestorOf&&this.isAncestorOf(H))||this.nodeType==="Stage"&&!H);if(!Q){this._fire(F,G);var X=(F===N||F===R)&&H&&H.isAncestorOf&&H.isAncestorOf(this)&&!H.isAncestorOf(this.parent);(G&&!G.cancelBubble||!G)&&this.parent&&this.parent.isListening()&&!X&&(H&&H.parent?this._fireAndBubble.call(this.parent,F,G,H):this._fireAndBubble.call(this.parent,F,G))}}_getProtoListeners(F){var G,H,Q;const X=(G=this._cache.get(S))!==null&&G!==void 0?G:{};let ee=X==null?void 0:X[F];if(ee===void 0){ee=[];let re=Object.getPrototypeOf(this);for(;re;){const $=(Q=(H=re.eventListeners)===null||H===void 0?void 0:H[F])!==null&&Q!==void 0?Q:[];ee.push(...$),re=Object.getPrototypeOf(re)}X[F]=ee,this._cache.set(S,X)}return ee}_fire(F,G){G=G||{},G.currentTarget=this,G.type=F;const H=this._getProtoListeners(F);if(H)for(var Q=0;Q<H.length;Q++)H[Q].handler.call(this,G);const X=this.eventListeners[F];if(X)for(var Q=0;Q<X.length;Q++)X[Q].handler.call(this,G)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(F){var G=F?F.pointerId:void 0,H=this.getStage(),Q=this.getAbsolutePosition();if(H){var X=H._getPointerById(G)||H._changedPointerPositions[0]||Q;A.DD._dragElements.set(this._id,{node:this,startPointerPos:X,offset:{x:X.x-Q.x,y:X.y-Q.y},dragStatus:"ready",pointerId:G})}}startDrag(F,G=!0){A.DD._dragElements.has(this._id)||this._createDragElement(F);const H=A.DD._dragElements.get(this._id);H.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:F&&F.evt},G)}_setDragPosition(F,G){const H=this.getStage()._getPointerById(G.pointerId);if(H){var Q={x:H.x-G.offset.x,y:H.y-G.offset.y},X=this.dragBoundFunc();if(X!==void 0){const ee=X.call(this,Q,F);ee?Q=ee:s.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==Q.x||this._lastPos.y!==Q.y)&&(this.setAbsolutePosition(Q),this._requestDraw()),this._lastPos=Q}}stopDrag(F){const G=A.DD._dragElements.get(this._id);G&&(G.dragStatus="stopped"),A.DD._endDragBefore(F),A.DD._endDragAfter(F)}setDraggable(F){this._setAttr("draggable",F),this._dragChange()}isDragging(){const F=A.DD._dragElements.get(this._id);return F?F.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(F){var G=F.evt.button!==void 0,H=!G||E.Konva.dragButtons.indexOf(F.evt.button)>=0;if(H&&!this.isDragging()){var Q=!1;A.DD._dragElements.forEach(X=>{this.isAncestorOf(X.node)&&(Q=!0)}),Q||this._createDragElement(F)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var F=this.getStage();if(!F)return;const G=A.DD._dragElements.get(this._id),H=G&&G.dragStatus==="dragging",Q=G&&G.dragStatus==="ready";H?this.stopDrag():Q&&A.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(F={x:0,y:0}){const G=this.getStage();if(!G)return!1;const H={x:-F.x,y:-F.y,width:G.width()+2*F.x,height:G.height()+2*F.y};return s.Util.haveIntersection(H,this.getClientRect())}static create(F,G){return s.Util._isString(F)&&(F=JSON.parse(F)),this._createNode(F,G)}static _createNode(F,G){var H=Dd.prototype.getClassName.call(F),Q=F.children,X,ee,re;G&&(F.attrs.container=G),E.Konva[H]||(s.Util.warn('Can not find a node with class name "'+H+'". Fallback to "Shape".'),H="Shape");const $=E.Konva[H];if(X=new $(F.attrs),Q)for(ee=Q.length,re=0;re<ee;re++)X.add(Dd._createNode(Q[re]));return X}};Ru.Node=V,V.prototype.nodeType="Node",V.prototype._attrsAffectingSize=[],V.prototype.eventListeners={},V.prototype.on.call(V.prototype,U,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(D),this._clearSelfAndDescendantCache(C)}),V.prototype.on.call(V.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(K)}),V.prototype.on.call(V.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),V.prototype.on.call(V.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(p)});const Y=u.Factory.addGetterSetter;return Y(V,"zIndex"),Y(V,"absolutePosition"),Y(V,"position"),Y(V,"x",0,(0,v.getNumberValidator)()),Y(V,"y",0,(0,v.getNumberValidator)()),Y(V,"globalCompositeOperation","source-over",(0,v.getStringValidator)()),Y(V,"opacity",1,(0,v.getNumberValidator)()),Y(V,"name","",(0,v.getStringValidator)()),Y(V,"id","",(0,v.getStringValidator)()),Y(V,"rotation",0,(0,v.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"scale",["x","y"]),Y(V,"scaleX",1,(0,v.getNumberValidator)()),Y(V,"scaleY",1,(0,v.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"skew",["x","y"]),Y(V,"skewX",0,(0,v.getNumberValidator)()),Y(V,"skewY",0,(0,v.getNumberValidator)()),u.Factory.addComponentsGetterSetter(V,"offset",["x","y"]),Y(V,"offsetX",0,(0,v.getNumberValidator)()),Y(V,"offsetY",0,(0,v.getNumberValidator)()),Y(V,"dragDistance",null,(0,v.getNumberValidator)()),Y(V,"width",0,(0,v.getNumberValidator)()),Y(V,"height",0,(0,v.getNumberValidator)()),Y(V,"listening",!0,(0,v.getBooleanValidator)()),Y(V,"preventDefault",!0,(0,v.getBooleanValidator)()),Y(V,"filters",null,function(ie){return this._filterUpToDate=!1,ie}),Y(V,"visible",!0,(0,v.getBooleanValidator)()),Y(V,"transformsEnabled","all",(0,v.getStringValidator)()),Y(V,"size"),Y(V,"dragBoundFunc"),Y(V,"draggable",!1,(0,v.getBooleanValidator)()),u.Factory.backCompat(V,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ru}var Tu={},m0;function Lf(){if(m0)return Tu;m0=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Container=void 0;const s=mt(),u=yn(),c=St();let E=class extends u.Node{constructor(){super(...arguments),this.children=[]}getChildren(v){if(!v)return this.children||[];const p=this.children||[];var S=[];return p.forEach(function(C){v(C)&&S.push(C)}),S}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(v=>{v.parent=null,v.index=0,v.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(v=>{v.parent=null,v.index=0,v.destroy()}),this.children=[],this._requestDraw(),this}add(...v){if(v.length===0)return this;if(v.length>1){for(var p=0;p<v.length;p++)this.add(v[p]);return this}const S=v[0];return S.getParent()?(S.moveTo(this),this):(this._validateAdd(S),S.index=this.getChildren().length,S.parent=this,S._clearCaches(),this.getChildren().push(S),this._fire("add",{child:S}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(v){return this._generalFind(v,!1)}findOne(v){var p=this._generalFind(v,!0);return p.length>0?p[0]:void 0}_generalFind(v,p){var S=[];return this._descendants(C=>{const w=C._isMatch(v);return w&&S.push(C),!!(w&&p)}),S}_descendants(v){let p=!1;const S=this.getChildren();for(const C of S){if(p=v(C),p)return!0;if(C.hasChildren()&&(p=C._descendants(v),p))return!0}return!1}toObject(){var v=u.Node.prototype.toObject.call(this);return v.children=[],this.getChildren().forEach(p=>{v.children.push(p.toObject())}),v}isAncestorOf(v){for(var p=v.getParent();p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(v){var p=u.Node.prototype.clone.call(this,v);return this.getChildren().forEach(function(S){p.add(S.clone())}),p}getAllIntersections(v){var p=[];return this.find("Shape").forEach(S=>{S.isVisible()&&S.intersects(v)&&p.push(S)}),p}_clearSelfAndDescendantCache(v){var p;super._clearSelfAndDescendantCache(v),!this.isCached()&&((p=this.children)===null||p===void 0||p.forEach(function(S){S._clearSelfAndDescendantCache(v)}))}_setChildrenIndices(){var v;(v=this.children)===null||v===void 0||v.forEach(function(p,S){p.index=S}),this._requestDraw()}drawScene(v,p){var S=this.getLayer(),C=v||S&&S.getCanvas(),w=C&&C.getContext(),T=this._getCanvasCache(),d=T&&T.scene,x=C&&C.isCache;if(!this.isVisible()&&!x)return this;if(d){w.save();var _=this.getAbsoluteTransform(p).getMatrix();w.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(w),w.restore()}else this._drawChildren("drawScene",C,p);return this}drawHit(v,p){if(!this.shouldDrawHit(p))return this;var S=this.getLayer(),C=v||S&&S.hitCanvas,w=C&&C.getContext(),T=this._getCanvasCache(),d=T&&T.hit;if(d){w.save();var x=this.getAbsoluteTransform(p).getMatrix();w.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedHitCanvas(w),w.restore()}else this._drawChildren("drawHit",C,p);return this}_drawChildren(v,p,S){var C,w=p&&p.getContext(),T=this.clipWidth(),d=this.clipHeight(),x=this.clipFunc(),_=T&&d||x;const m=S===this;if(_){w.save();var N=this.getAbsoluteTransform(S),R=N.getMatrix();w.transform(R[0],R[1],R[2],R[3],R[4],R[5]),w.beginPath();let I;if(x)I=x.call(this,w,this);else{var z=this.clipX(),P=this.clipY();w.rect(z,P,T,d)}w.clip.apply(w,I),R=N.copy().invert().getMatrix(),w.transform(R[0],R[1],R[2],R[3],R[4],R[5])}var y=!m&&this.globalCompositeOperation()!=="source-over"&&v==="drawScene";y&&(w.save(),w._applyGlobalCompositeOperation(this)),(C=this.children)===null||C===void 0||C.forEach(function(I){I[v](p,S)}),y&&w.restore(),_&&w.restore()}getClientRect(v={}){var p,S=v.skipTransform,C=v.relativeTo,w,T,d,x,_={x:1/0,y:1/0,width:0,height:0},m=this;(p=this.children)===null||p===void 0||p.forEach(function(y){if(y.visible()){var I=y.getClientRect({relativeTo:m,skipShadow:v.skipShadow,skipStroke:v.skipStroke});I.width===0&&I.height===0||(w===void 0?(w=I.x,T=I.y,d=I.x+I.width,x=I.y+I.height):(w=Math.min(w,I.x),T=Math.min(T,I.y),d=Math.max(d,I.x+I.width),x=Math.max(x,I.y+I.height)))}});for(var N=this.find("Shape"),R=!1,z=0;z<N.length;z++){var P=N[z];if(P._isVisible(this)){R=!0;break}}return R&&w!==void 0?_={x:w,y:T,width:d-w,height:x-T}:_={x:0,y:0,width:0,height:0},S?_:this._transformedRect(_,C)}};return Tu.Container=E,s.Factory.addComponentsGetterSetter(E,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(E,"clipX",void 0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(E,"clipY",void 0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(E,"clipWidth",void 0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(E,"clipHeight",void 0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(E,"clipFunc"),Tu}var Pd={},ri={},y0;function Xp(){if(y0)return ri;y0=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.releaseCapture=ri.setPointerCapture=ri.hasPointerCapture=ri.createEvent=ri.getCapturedShape=void 0;const s=vt(),u=new Map,c=s.Konva._global.PointerEvent!==void 0;function E(C){return u.get(C)}ri.getCapturedShape=E;function A(C){return{evt:C,pointerId:C.pointerId}}ri.createEvent=A;function v(C,w){return u.get(C)===w}ri.hasPointerCapture=v;function p(C,w){S(C),w.getStage()&&(u.set(C,w),c&&w._fire("gotpointercapture",A(new PointerEvent("gotpointercapture"))))}ri.setPointerCapture=p;function S(C,w){const T=u.get(C);if(!T)return;const d=T.getStage();d&&d.content,u.delete(C),c&&T._fire("lostpointercapture",A(new PointerEvent("lostpointercapture")))}return ri.releaseCapture=S,ri}var _0;function sv(){return _0||(_0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Stage=s.stages=void 0;const u=cn(),c=mt(),E=Lf(),A=vt(),v=If(),p=Bd(),S=vt(),C=Xp();var w="Stage",T="string",d="px",x="mouseout",_="mouseleave",m="mouseover",N="mouseenter",R="mousemove",z="mousedown",P="mouseup",y="pointermove",I="pointerdown",D="pointerup",W="pointercancel",K="lostpointercapture",U="pointerout",q="pointerleave",V="pointerover",Y="pointerenter",ie="contextmenu",F="touchstart",G="touchend",H="touchmove",Q="touchcancel",X="wheel",ee=5,re=[[N,"_pointerenter"],[z,"_pointerdown"],[R,"_pointermove"],[P,"_pointerup"],[_,"_pointerleave"],[F,"_pointerdown"],[H,"_pointermove"],[G,"_pointerup"],[Q,"_pointercancel"],[m,"_pointerover"],[X,"_wheel"],[ie,"_contextmenu"],[I,"_pointerdown"],[y,"_pointermove"],[D,"_pointerup"],[W,"_pointercancel"],[K,"_lostpointercapture"]];const $={mouse:{[U]:x,[q]:_,[V]:m,[Y]:N,[y]:R,[I]:z,[D]:P,[W]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[U]:"touchout",[q]:"touchleave",[V]:"touchover",[Y]:"touchenter",[y]:H,[I]:F,[D]:G,[W]:Q,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[U]:U,[q]:q,[V]:V,[Y]:Y,[y]:y,[I]:I,[D]:D,[W]:W,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},oe=Ne=>Ne.indexOf("pointer")>=0?"pointer":Ne.indexOf("touch")>=0?"touch":"mouse",te=Ne=>{const Z=oe(Ne);if(Z==="pointer")return A.Konva.pointerEventsEnabled&&$.pointer;if(Z==="touch")return $.touch;if(Z==="mouse")return $.mouse};function Se(Ne={}){return(Ne.clipFunc||Ne.clipWidth||Ne.clipHeight)&&u.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ne}const ye="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";s.stages=[];class Ae extends E.Container{constructor(Z){super(Se(Z)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),s.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Se(this.attrs)}),this._checkVisibility()}_validateAdd(Z){const ce=Z.getType()==="Layer",we=Z.getType()==="FastLayer";ce||we||u.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Z=this.visible()?"":"none";this.content.style.display=Z}setContainer(Z){if(typeof Z===T){if(Z.charAt(0)==="."){var ce=Z.slice(1);Z=document.getElementsByClassName(ce)[0]}else{var we;Z.charAt(0)!=="#"?we=Z:we=Z.slice(1),Z=document.getElementById(we)}if(!Z)throw"Can not find container in document with id "+we}return this._setAttr("container",Z),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Z.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var Z=this.children,ce=Z.length,we;for(we=0;we<ce;we++)Z[we].clear();return this}clone(Z){return Z||(Z={}),Z.container=typeof document<"u"&&document.createElement("div"),E.Container.prototype.clone.call(this,Z)}destroy(){super.destroy();var Z=this.content;Z&&u.Util._isInDocument(Z)&&this.container().removeChild(Z);var ce=s.stages.indexOf(this);return ce>-1&&s.stages.splice(ce,1),u.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Z=this._pointerPositions[0]||this._changedPointerPositions[0];return Z?{x:Z.x,y:Z.y}:(u.Util.warn(ye),null)}_getPointerById(Z){return this._pointerPositions.find(ce=>ce.id===Z)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Z){Z=Z||{},Z.x=Z.x||0,Z.y=Z.y||0,Z.width=Z.width||this.width(),Z.height=Z.height||this.height();var ce=new v.SceneCanvas({width:Z.width,height:Z.height,pixelRatio:Z.pixelRatio||1}),we=ce.getContext()._context,Be=this.children;return(Z.x||Z.y)&&we.translate(-1*Z.x,-1*Z.y),Be.forEach(function(Le){if(Le.isVisible()){var Ye=Le._toKonvaCanvas(Z);we.drawImage(Ye._canvas,Z.x,Z.y,Ye.getWidth()/Ye.getPixelRatio(),Ye.getHeight()/Ye.getPixelRatio())}}),ce}getIntersection(Z){if(!Z)return null;var ce=this.children,we=ce.length,Be=we-1,Le;for(Le=Be;Le>=0;Le--){const Ye=ce[Le].getIntersection(Z);if(Ye)return Ye}return null}_resizeDOM(){var Z=this.width(),ce=this.height();this.content&&(this.content.style.width=Z+d,this.content.style.height=ce+d),this.bufferCanvas.setSize(Z,ce),this.bufferHitCanvas.setSize(Z,ce),this.children.forEach(we=>{we.setSize({width:Z,height:ce}),we.draw()})}add(Z,...ce){if(arguments.length>1){for(var we=0;we<arguments.length;we++)this.add(arguments[we]);return this}super.add(Z);var Be=this.children.length;return Be>ee&&u.Util.warn("The stage has "+Be+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Z.setSize({width:this.width(),height:this.height()}),Z.draw(),A.Konva.isBrowser&&this.content.appendChild(Z.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Z){return C.hasPointerCapture(Z,this)}setPointerCapture(Z){C.setPointerCapture(Z,this)}releaseCapture(Z){C.releaseCapture(Z,this)}getLayers(){return this.children}_bindContentEvents(){A.Konva.isBrowser&&re.forEach(([Z,ce])=>{this.content.addEventListener(Z,we=>{this[ce](we)},{passive:!1})})}_pointerenter(Z){this.setPointersPositions(Z);const ce=te(Z.type);ce&&this._fire(ce.pointerenter,{evt:Z,target:this,currentTarget:this})}_pointerover(Z){this.setPointersPositions(Z);const ce=te(Z.type);ce&&this._fire(ce.pointerover,{evt:Z,target:this,currentTarget:this})}_getTargetShape(Z){let ce=this[Z+"targetShape"];return ce&&!ce.getStage()&&(ce=null),ce}_pointerleave(Z){const ce=te(Z.type),we=oe(Z.type);if(ce){this.setPointersPositions(Z);var Be=this._getTargetShape(we),Le=!p.DD.isDragging||A.Konva.hitOnDragEnabled;Be&&Le?(Be._fireAndBubble(ce.pointerout,{evt:Z}),Be._fireAndBubble(ce.pointerleave,{evt:Z}),this._fire(ce.pointerleave,{evt:Z,target:this,currentTarget:this}),this[we+"targetShape"]=null):Le&&(this._fire(ce.pointerleave,{evt:Z,target:this,currentTarget:this}),this._fire(ce.pointerout,{evt:Z,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(Z){const ce=te(Z.type),we=oe(Z.type);if(ce){this.setPointersPositions(Z);var Be=!1;this._changedPointerPositions.forEach(Le=>{var Ye=this.getIntersection(Le);if(p.DD.justDragged=!1,A.Konva["_"+we+"ListenClick"]=!0,!Ye||!Ye.isListening())return;A.Konva.capturePointerEventsEnabled&&Ye.setPointerCapture(Le.id),this[we+"ClickStartShape"]=Ye,Ye._fireAndBubble(ce.pointerdown,{evt:Z,pointerId:Le.id}),Be=!0;const He=Z.type.indexOf("touch")>=0;Ye.preventDefault()&&Z.cancelable&&He&&Z.preventDefault()}),Be||this._fire(ce.pointerdown,{evt:Z,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(Z){const ce=te(Z.type),we=oe(Z.type);if(!ce)return;p.DD.isDragging&&p.DD.node.preventDefault()&&Z.cancelable&&Z.preventDefault(),this.setPointersPositions(Z);var Be=!p.DD.isDragging||A.Konva.hitOnDragEnabled;if(!Be)return;var Le={};let Ye=!1;var He=this._getTargetShape(we);this._changedPointerPositions.forEach(Gt=>{const ht=C.getCapturedShape(Gt.id)||this.getIntersection(Gt),fn=Gt.id,Dt={evt:Z,pointerId:fn};var Jt=He!==ht;if(Jt&&He&&(He._fireAndBubble(ce.pointerout,{...Dt},ht),He._fireAndBubble(ce.pointerleave,{...Dt},ht)),ht){if(Le[ht._id])return;Le[ht._id]=!0}ht&&ht.isListening()?(Ye=!0,Jt&&(ht._fireAndBubble(ce.pointerover,{...Dt},He),ht._fireAndBubble(ce.pointerenter,{...Dt},He),this[we+"targetShape"]=ht),ht._fireAndBubble(ce.pointermove,{...Dt})):He&&(this._fire(ce.pointerover,{evt:Z,target:this,currentTarget:this,pointerId:fn}),this[we+"targetShape"]=null)}),Ye||this._fire(ce.pointermove,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Z){const ce=te(Z.type),we=oe(Z.type);if(!ce)return;this.setPointersPositions(Z);const Be=this[we+"ClickStartShape"],Le=this[we+"ClickEndShape"];var Ye={};let He=!1;this._changedPointerPositions.forEach(Gt=>{const ht=C.getCapturedShape(Gt.id)||this.getIntersection(Gt);if(ht){if(ht.releaseCapture(Gt.id),Ye[ht._id])return;Ye[ht._id]=!0}const fn=Gt.id,Dt={evt:Z,pointerId:fn};let Jt=!1;A.Konva["_"+we+"InDblClickWindow"]?(Jt=!0,clearTimeout(this[we+"DblTimeout"])):p.DD.justDragged||(A.Konva["_"+we+"InDblClickWindow"]=!0,clearTimeout(this[we+"DblTimeout"])),this[we+"DblTimeout"]=setTimeout(function(){A.Konva["_"+we+"InDblClickWindow"]=!1},A.Konva.dblClickWindow),ht&&ht.isListening()?(He=!0,this[we+"ClickEndShape"]=ht,ht._fireAndBubble(ce.pointerup,{...Dt}),A.Konva["_"+we+"ListenClick"]&&Be&&Be===ht&&(ht._fireAndBubble(ce.pointerclick,{...Dt}),Jt&&Le&&Le===ht&&ht._fireAndBubble(ce.pointerdblclick,{...Dt}))):(this[we+"ClickEndShape"]=null,A.Konva["_"+we+"ListenClick"]&&this._fire(ce.pointerclick,{evt:Z,target:this,currentTarget:this,pointerId:fn}),Jt&&this._fire(ce.pointerdblclick,{evt:Z,target:this,currentTarget:this,pointerId:fn}))}),He||this._fire(ce.pointerup,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),A.Konva["_"+we+"ListenClick"]=!1,Z.cancelable&&we!=="touch"&&Z.preventDefault()}_contextmenu(Z){this.setPointersPositions(Z);var ce=this.getIntersection(this.getPointerPosition());ce&&ce.isListening()?ce._fireAndBubble(ie,{evt:Z}):this._fire(ie,{evt:Z,target:this,currentTarget:this})}_wheel(Z){this.setPointersPositions(Z);var ce=this.getIntersection(this.getPointerPosition());ce&&ce.isListening()?ce._fireAndBubble(X,{evt:Z}):this._fire(X,{evt:Z,target:this,currentTarget:this})}_pointercancel(Z){this.setPointersPositions(Z);const ce=C.getCapturedShape(Z.pointerId)||this.getIntersection(this.getPointerPosition());ce&&ce._fireAndBubble(D,C.createEvent(Z)),C.releaseCapture(Z.pointerId)}_lostpointercapture(Z){C.releaseCapture(Z.pointerId)}setPointersPositions(Z){var ce=this._getContentPosition(),we=null,Be=null;Z=Z||window.event,Z.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Z.touches,Le=>{this._pointerPositions.push({id:Le.identifier,x:(Le.clientX-ce.left)/ce.scaleX,y:(Le.clientY-ce.top)/ce.scaleY})}),Array.prototype.forEach.call(Z.changedTouches||Z.touches,Le=>{this._changedPointerPositions.push({id:Le.identifier,x:(Le.clientX-ce.left)/ce.scaleX,y:(Le.clientY-ce.top)/ce.scaleY})})):(we=(Z.clientX-ce.left)/ce.scaleX,Be=(Z.clientY-ce.top)/ce.scaleY,this.pointerPos={x:we,y:Be},this._pointerPositions=[{x:we,y:Be,id:u.Util._getFirstPointerId(Z)}],this._changedPointerPositions=[{x:we,y:Be,id:u.Util._getFirstPointerId(Z)}])}_setPointerPosition(Z){u.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Z)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var Z=this.content.getBoundingClientRect();return{top:Z.top,left:Z.left,scaleX:Z.width/this.content.clientWidth||1,scaleY:Z.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new v.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new v.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!A.Konva.isBrowser){var Z=this.container();if(!Z)throw"Stage has no container. A container is required.";Z.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Z.appendChild(this.content),this._resizeDOM()}}cache(){return u.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Z){Z.batchDraw()}),this}}s.Stage=Ae,Ae.prototype.nodeType=w,(0,S._registerNode)(Ae),c.Factory.addGetterSetter(Ae,"container")}(Pd)),Pd}var Nu={},Rd={},S0;function $n(){return S0||(S0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Shape=s.shapes=void 0;const u=vt(),c=cn(),E=mt(),A=yn(),v=St(),p=vt(),S=Xp();var C="hasShadow",w="shadowRGBA",T="patternImage",d="linearGradient",x="radialGradient";let _;function m(){return _||(_=c.Util.createCanvasElement().getContext("2d"),_)}s.shapes={};function N(q){const V=this.attrs.fillRule;V?q.fill(V):q.fill()}function R(q){q.stroke()}function z(q){q.fill()}function P(q){q.stroke()}function y(){this._clearCache(C)}function I(){this._clearCache(w)}function D(){this._clearCache(T)}function W(){this._clearCache(d)}function K(){this._clearCache(x)}class U extends A.Node{constructor(V){super(V);let Y;for(;Y=c.Util.getRandomColor(),!(Y&&!(Y in s.shapes)););this.colorKey=Y,s.shapes[Y]=this}getContext(){return c.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return c.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(C,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(T,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var V=m();const Y=V.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Y&&Y.setTransform){const ie=new c.Transform;ie.translate(this.fillPatternX(),this.fillPatternY()),ie.rotate(u.Konva.getAngle(this.fillPatternRotation())),ie.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),ie.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const F=ie.getMatrix(),G=typeof DOMMatrix>"u"?{a:F[0],b:F[1],c:F[2],d:F[3],e:F[4],f:F[5]}:new DOMMatrix(F);Y.setTransform(G)}return Y}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){var V=this.fillLinearGradientColorStops();if(V){for(var Y=m(),ie=this.fillLinearGradientStartPoint(),F=this.fillLinearGradientEndPoint(),G=Y.createLinearGradient(ie.x,ie.y,F.x,F.y),H=0;H<V.length;H+=2)G.addColorStop(V[H],V[H+1]);return G}}_getRadialGradient(){return this._getCache(x,this.__getRadialGradient)}__getRadialGradient(){var V=this.fillRadialGradientColorStops();if(V){for(var Y=m(),ie=this.fillRadialGradientStartPoint(),F=this.fillRadialGradientEndPoint(),G=Y.createRadialGradient(ie.x,ie.y,this.fillRadialGradientStartRadius(),F.x,F.y,this.fillRadialGradientEndRadius()),H=0;H<V.length;H+=2)G.addColorStop(V[H],V[H+1]);return G}}getShadowRGBA(){return this._getCache(w,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var V=c.Util.colorToRGBA(this.shadowColor());if(V)return"rgba("+V.r+","+V.g+","+V.b+","+V.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const V=this.hitStrokeWidth();return V==="auto"?this.hasStroke():this.strokeEnabled()&&!!V}intersects(V){var Y=this.getStage();if(!Y)return!1;const ie=Y.bufferHitCanvas;return ie.getContext().clear(),this.drawHit(ie,void 0,!0),ie.context.getImageData(Math.round(V.x),Math.round(V.y),1,1).data[3]>0}destroy(){return A.Node.prototype.destroy.call(this),delete s.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(V){var Y;if(!this.getStage()||!((Y=this.attrs.perfectDrawEnabled)!==null&&Y!==void 0?Y:!0))return!1;const F=V||this.hasFill(),G=this.hasStroke(),H=this.getAbsoluteOpacity()!==1;if(F&&G&&H)return!0;const Q=this.hasShadow(),X=this.shadowForStrokeEnabled();return!!(F&&G&&Q&&X)}setStrokeHitEnabled(V){c.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),V?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var V=this.size();return{x:this._centroid?-V.width/2:0,y:this._centroid?-V.height/2:0,width:V.width,height:V.height}}getClientRect(V={}){const Y=V.skipTransform,ie=V.relativeTo,F=this.getSelfRect(),H=!V.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Q=F.width+H,X=F.height+H,ee=!V.skipShadow&&this.hasShadow(),re=ee?this.shadowOffsetX():0,$=ee?this.shadowOffsetY():0,oe=Q+Math.abs(re),te=X+Math.abs($),Se=ee&&this.shadowBlur()||0,ye=oe+Se*2,Ae=te+Se*2,Ne={width:ye,height:Ae,x:-(H/2+Se)+Math.min(re,0)+F.x,y:-(H/2+Se)+Math.min($,0)+F.y};return Y?Ne:this._transformedRect(Ne,ie)}drawScene(V,Y){var ie=this.getLayer(),F=V||ie.getCanvas(),G=F.getContext(),H=this._getCanvasCache(),Q=this.getSceneFunc(),X=this.hasShadow(),ee,re,$,oe=F.isCache,te=Y===this;if(!this.isVisible()&&!te)return this;if(H){G.save();var Se=this.getAbsoluteTransform(Y).getMatrix();return G.transform(Se[0],Se[1],Se[2],Se[3],Se[4],Se[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!Q)return this;if(G.save(),this._useBufferCanvas()&&!oe){ee=this.getStage(),re=ee.bufferCanvas,$=re.getContext(),$.clear(),$.save(),$._applyLineJoin(this);var ye=this.getAbsoluteTransform(Y).getMatrix();$.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),Q.call(this,$,this),$.restore();var Ae=re.pixelRatio;X&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(re._canvas,0,0,re.width/Ae,re.height/Ae)}else{if(G._applyLineJoin(this),!te){var ye=this.getAbsoluteTransform(Y).getMatrix();G.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}X&&G._applyShadow(this),Q.call(this,G,this)}return G.restore(),this}drawHit(V,Y,ie=!1){if(!this.shouldDrawHit(Y,ie))return this;var F=this.getLayer(),G=V||F.hitCanvas,H=G&&G.getContext(),Q=this.hitFunc()||this.sceneFunc(),X=this._getCanvasCache(),ee=X&&X.hit;if(this.colorKey||c.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),ee){H.save();var re=this.getAbsoluteTransform(Y).getMatrix();return H.transform(re[0],re[1],re[2],re[3],re[4],re[5]),this._drawCachedHitCanvas(H),H.restore(),this}if(!Q)return this;if(H.save(),H._applyLineJoin(this),!(this===Y)){var oe=this.getAbsoluteTransform(Y).getMatrix();H.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5])}return Q.call(this,H,this),H.restore(),this}drawHitFromCache(V=0){var Y=this._getCanvasCache(),ie=this._getCachedSceneCanvas(),F=Y.hit,G=F.getContext(),H=F.getWidth(),Q=F.getHeight(),X,ee,re,$,oe,te;G.clear(),G.drawImage(ie._canvas,0,0,H,Q);try{for(X=G.getImageData(0,0,H,Q),ee=X.data,re=ee.length,$=c.Util._hexToRgb(this.colorKey),oe=0;oe<re;oe+=4)te=ee[oe+3],te>V?(ee[oe]=$.r,ee[oe+1]=$.g,ee[oe+2]=$.b,ee[oe+3]=255):ee[oe+3]=0;G.putImageData(X,0,0)}catch(Se){c.Util.error("Unable to draw hit graph from cached scene canvas. "+Se.message)}return this}hasPointerCapture(V){return S.hasPointerCapture(V,this)}setPointerCapture(V){S.setPointerCapture(V,this)}releaseCapture(V){S.releaseCapture(V,this)}}s.Shape=U,U.prototype._fillFunc=N,U.prototype._strokeFunc=R,U.prototype._fillFuncHit=z,U.prototype._strokeFuncHit=P,U.prototype._centroid=!1,U.prototype.nodeType="Shape",(0,p._registerNode)(U),U.prototype.eventListeners={},U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",I),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",W),U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",K),E.Factory.addGetterSetter(U,"stroke",void 0,(0,v.getStringOrGradientValidator)()),E.Factory.addGetterSetter(U,"strokeWidth",2,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillAfterStrokeEnabled",!1),E.Factory.addGetterSetter(U,"hitStrokeWidth","auto",(0,v.getNumberOrAutoValidator)()),E.Factory.addGetterSetter(U,"strokeHitEnabled",!0,(0,v.getBooleanValidator)()),E.Factory.addGetterSetter(U,"perfectDrawEnabled",!0,(0,v.getBooleanValidator)()),E.Factory.addGetterSetter(U,"shadowForStrokeEnabled",!0,(0,v.getBooleanValidator)()),E.Factory.addGetterSetter(U,"lineJoin"),E.Factory.addGetterSetter(U,"lineCap"),E.Factory.addGetterSetter(U,"sceneFunc"),E.Factory.addGetterSetter(U,"hitFunc"),E.Factory.addGetterSetter(U,"dash"),E.Factory.addGetterSetter(U,"dashOffset",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"shadowColor",void 0,(0,v.getStringValidator)()),E.Factory.addGetterSetter(U,"shadowBlur",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"shadowOpacity",1,(0,v.getNumberValidator)()),E.Factory.addComponentsGetterSetter(U,"shadowOffset",["x","y"]),E.Factory.addGetterSetter(U,"shadowOffsetX",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"shadowOffsetY",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillPatternImage"),E.Factory.addGetterSetter(U,"fill",void 0,(0,v.getStringOrGradientValidator)()),E.Factory.addGetterSetter(U,"fillPatternX",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillPatternY",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillLinearGradientColorStops"),E.Factory.addGetterSetter(U,"strokeLinearGradientColorStops"),E.Factory.addGetterSetter(U,"fillRadialGradientStartRadius",0),E.Factory.addGetterSetter(U,"fillRadialGradientEndRadius",0),E.Factory.addGetterSetter(U,"fillRadialGradientColorStops"),E.Factory.addGetterSetter(U,"fillPatternRepeat","repeat"),E.Factory.addGetterSetter(U,"fillEnabled",!0),E.Factory.addGetterSetter(U,"strokeEnabled",!0),E.Factory.addGetterSetter(U,"shadowEnabled",!0),E.Factory.addGetterSetter(U,"dashEnabled",!0),E.Factory.addGetterSetter(U,"strokeScaleEnabled",!0),E.Factory.addGetterSetter(U,"fillPriority","color"),E.Factory.addComponentsGetterSetter(U,"fillPatternOffset",["x","y"]),E.Factory.addGetterSetter(U,"fillPatternOffsetX",0,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillPatternOffsetY",0,(0,v.getNumberValidator)()),E.Factory.addComponentsGetterSetter(U,"fillPatternScale",["x","y"]),E.Factory.addGetterSetter(U,"fillPatternScaleX",1,(0,v.getNumberValidator)()),E.Factory.addGetterSetter(U,"fillPatternScaleY",1,(0,v.getNumberValidator)()),E.Factory.addComponentsGetterSetter(U,"fillLinearGradientStartPoint",["x","y"]),E.Factory.addComponentsGetterSetter(U,"strokeLinearGradientStartPoint",["x","y"]),E.Factory.addGetterSetter(U,"fillLinearGradientStartPointX",0),E.Factory.addGetterSetter(U,"strokeLinearGradientStartPointX",0),E.Factory.addGetterSetter(U,"fillLinearGradientStartPointY",0),E.Factory.addGetterSetter(U,"strokeLinearGradientStartPointY",0),E.Factory.addComponentsGetterSetter(U,"fillLinearGradientEndPoint",["x","y"]),E.Factory.addComponentsGetterSetter(U,"strokeLinearGradientEndPoint",["x","y"]),E.Factory.addGetterSetter(U,"fillLinearGradientEndPointX",0),E.Factory.addGetterSetter(U,"strokeLinearGradientEndPointX",0),E.Factory.addGetterSetter(U,"fillLinearGradientEndPointY",0),E.Factory.addGetterSetter(U,"strokeLinearGradientEndPointY",0),E.Factory.addComponentsGetterSetter(U,"fillRadialGradientStartPoint",["x","y"]),E.Factory.addGetterSetter(U,"fillRadialGradientStartPointX",0),E.Factory.addGetterSetter(U,"fillRadialGradientStartPointY",0),E.Factory.addComponentsGetterSetter(U,"fillRadialGradientEndPoint",["x","y"]),E.Factory.addGetterSetter(U,"fillRadialGradientEndPointX",0),E.Factory.addGetterSetter(U,"fillRadialGradientEndPointY",0),E.Factory.addGetterSetter(U,"fillPatternRotation",0),E.Factory.addGetterSetter(U,"fillRule",void 0,(0,v.getStringValidator)()),E.Factory.backCompat(U,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Rd)),Rd}var w0;function Jp(){if(w0)return Nu;w0=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Layer=void 0;const s=cn(),u=Lf(),c=yn(),E=mt(),A=If(),v=St(),p=$n(),S=vt();var C="#",w="beforeDraw",T="draw",d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],x=d.length;class _ extends u.Container{constructor(N){super(N),this.canvas=new A.SceneCanvas,this.hitCanvas=new A.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(N){return this.getContext().clear(N),this.getHitCanvas().getContext().clear(N),this}setZIndex(N){super.setZIndex(N);var R=this.getStage();return R&&R.content&&(R.content.removeChild(this.getNativeCanvasElement()),N<R.children.length-1?R.content.insertBefore(this.getNativeCanvasElement(),R.children[N+1].getCanvas()._canvas):R.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){c.Node.prototype.moveToTop.call(this);var N=this.getStage();return N&&N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var N=c.Node.prototype.moveUp.call(this);if(!N)return!1;var R=this.getStage();return!R||!R.content?!1:(R.content.removeChild(this.getNativeCanvasElement()),this.index<R.children.length-1?R.content.insertBefore(this.getNativeCanvasElement(),R.children[this.index+1].getCanvas()._canvas):R.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(c.Node.prototype.moveDown.call(this)){var N=this.getStage();if(N){var R=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),R[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(c.Node.prototype.moveToBottom.call(this)){var N=this.getStage();if(N){var R=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),R[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var N=this.getNativeCanvasElement();return c.Node.prototype.remove.call(this),N&&N.parentNode&&s.Util._isInDocument(N)&&N.parentNode.removeChild(N),this}getStage(){return this.parent}setSize({width:N,height:R}){return this.canvas.setSize(N,R),this.hitCanvas.setSize(N,R),this._setSmoothEnabled(),this}_validateAdd(N){var R=N.getType();R!=="Group"&&R!=="Shape"&&s.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(N){return N=N||{},N.width=N.width||this.getWidth(),N.height=N.height||this.getHeight(),N.x=N.x!==void 0?N.x:this.x(),N.y=N.y!==void 0?N.y:this.y(),c.Node.prototype._toKonvaCanvas.call(this,N)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){s.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){s.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,s.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(N){if(!this.isListening()||!this.isVisible())return null;for(var R=1,z=!1;;){for(let P=0;P<x;P++){const y=d[P],I=this._getIntersection({x:N.x+y.x*R,y:N.y+y.y*R}),D=I.shape;if(D)return D;if(z=!!I.antialiased,!I.antialiased)break}if(z)R+=1;else return null}}_getIntersection(N){const R=this.hitCanvas.pixelRatio,z=this.hitCanvas.context.getImageData(Math.round(N.x*R),Math.round(N.y*R),1,1).data,P=z[3];if(P===255){const y=s.Util._rgbToHex(z[0],z[1],z[2]),I=p.shapes[C+y];return I?{shape:I}:{antialiased:!0}}else if(P>0)return{antialiased:!0};return{}}drawScene(N,R){var z=this.getLayer(),P=N||z&&z.getCanvas();return this._fire(w,{node:this}),this.clearBeforeDraw()&&P.getContext().clear(),u.Container.prototype.drawScene.call(this,P,R),this._fire(T,{node:this}),this}drawHit(N,R){var z=this.getLayer(),P=N||z&&z.hitCanvas;return z&&z.clearBeforeDraw()&&z.getHitCanvas().getContext().clear(),u.Container.prototype.drawHit.call(this,P,R),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(N){s.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(N)}getHitGraphEnabled(N){return s.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var N=this.parent,R=!!this.hitCanvas._canvas.parentNode;R?N.content.removeChild(this.hitCanvas._canvas):N.content.appendChild(this.hitCanvas._canvas)}}destroy(){return s.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Nu.Layer=_,_.prototype.nodeType="Layer",(0,S._registerNode)(_),E.Factory.addGetterSetter(_,"imageSmoothingEnabled",!0),E.Factory.addGetterSetter(_,"clearBeforeDraw",!0),E.Factory.addGetterSetter(_,"hitGraphEnabled",!0,(0,v.getBooleanValidator)()),Nu}var Au={},x0;function lv(){if(x0)return Au;x0=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.FastLayer=void 0;const s=cn(),u=Jp(),c=vt();let E=class extends u.Layer{constructor(v){super(v),this.listening(!1),s.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Au.FastLayer=E,E.prototype.nodeType="FastLayer",(0,c._registerNode)(E),Au}var Ou={},C0;function Hd(){if(C0)return Ou;C0=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.Group=void 0;const s=cn(),u=Lf(),c=vt();class E extends u.Container{_validateAdd(v){var p=v.getType();p!=="Group"&&p!=="Shape"&&s.Util.throw("You may only add groups and shapes to groups.")}}return Ou.Group=E,E.prototype.nodeType="Group",(0,c._registerNode)(E),Ou}var Mu={},E0;function Vd(){if(E0)return Mu;E0=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Animation=void 0;const s=vt(),u=cn(),c=function(){return s.glob.performance&&s.glob.performance.now?function(){return s.glob.performance.now()}:function(){return new Date().getTime()}}();let E=class xl{constructor(v,p){this.id=xl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:c(),frameRate:0},this.func=v,this.setLayers(p)}setLayers(v){let p=[];return v&&(p=Array.isArray(v)?v:[v]),this.layers=p,this}getLayers(){return this.layers}addLayer(v){const p=this.layers,S=p.length;for(let C=0;C<S;C++)if(p[C]._id===v._id)return!1;return this.layers.push(v),!0}isRunning(){const p=xl.animations,S=p.length;for(let C=0;C<S;C++)if(p[C].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=c(),xl._addAnimation(this),this}stop(){return xl._removeAnimation(this),this}_updateFrameObject(v){this.frame.timeDiff=v-this.frame.lastTime,this.frame.lastTime=v,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(v){this.animations.push(v),this._handleAnimation()}static _removeAnimation(v){const p=v.id,S=this.animations,C=S.length;for(let w=0;w<C;w++)if(S[w].id===p){this.animations.splice(w,1);break}}static _runFrames(){const v={},p=this.animations;for(let S=0;S<p.length;S++){const C=p[S],w=C.layers,T=C.func;C._updateFrameObject(c());const d=w.length;let x;if(T?x=T.call(C,C.frame)!==!1:x=!0,!!x)for(let _=0;_<d;_++){const m=w[_];m._id!==void 0&&(v[m._id]=m)}}for(let S in v)v.hasOwnProperty(S)&&v[S].batchDraw()}static _animationLoop(){const v=xl;v.animations.length?(v._runFrames(),u.Util.requestAnimFrame(v._animationLoop)):v.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,u.Util.requestAnimFrame(this._animationLoop))}};return Mu.Animation=E,E.animations=[],E.animIdCounter=0,E.animRunning=!1,Mu}var Td={},k0;function uv(){return k0||(k0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Easings=s.Tween=void 0;const u=cn(),c=Vd(),E=yn(),A=vt();var v={node:1,duration:1,easing:1,onFinish:1,yoyo:1},p=1,S=2,C=3,w=0,T=["fill","stroke","shadowColor"];class d{constructor(m,N,R,z,P,y,I){this.prop=m,this.propFunc=N,this.begin=z,this._pos=z,this.duration=y,this._change=0,this.prevPos=0,this.yoyo=I,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=R,this._change=P-this.begin,this.pause()}fire(m){var N=this[m];N&&N()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=S,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=C,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;this.state===S?this.setTime(m):this.state===C&&this.setTime(this.duration-m)}pause(){this.state=p,this.fire("onPause")}getTimer(){return new Date().getTime()}}class x{constructor(m){var N=this,R=m.node,z=R._id,P,y=m.easing||s.Easings.Linear,I=!!m.yoyo,D;typeof m.duration>"u"?P=.3:m.duration===0?P=.001:P=m.duration,this.node=R,this._id=w++;var W=R.getLayer()||(R instanceof A.Konva.Stage?R.getLayers():null);W||u.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new c.Animation(function(){N.tween.onEnterFrame()},W),this.tween=new d(D,function(K){N._tweenFunc(K)},y,0,1,P*1e3,I),this._addListeners(),x.attrs[z]||(x.attrs[z]={}),x.attrs[z][this._id]||(x.attrs[z][this._id]={}),x.tweens[z]||(x.tweens[z]={});for(D in m)v[D]===void 0&&this._addAttr(D,m[D]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,N){var R=this.node,z=R._id,P,y,I,D,W,K,U,q;if(I=x.tweens[z][m],I&&delete x.attrs[z][I][m],P=R.getAttr(m),u.Util._isArray(N))if(y=[],W=Math.max(N.length,P.length),m==="points"&&N.length!==P.length&&(N.length>P.length?(U=P,P=u.Util._prepareArrayForTween(P,N,R.closed())):(K=N,N=u.Util._prepareArrayForTween(N,P,R.closed()))),m.indexOf("fill")===0)for(D=0;D<W;D++)if(D%2===0)y.push(N[D]-P[D]);else{var V=u.Util.colorToRGBA(P[D]);q=u.Util.colorToRGBA(N[D]),P[D]=V,y.push({r:q.r-V.r,g:q.g-V.g,b:q.b-V.b,a:q.a-V.a})}else for(D=0;D<W;D++)y.push(N[D]-P[D]);else T.indexOf(m)!==-1?(P=u.Util.colorToRGBA(P),q=u.Util.colorToRGBA(N),y={r:q.r-P.r,g:q.g-P.g,b:q.b-P.b,a:q.a-P.a}):y=N-P;x.attrs[z][this._id][m]={start:P,diff:y,end:N,trueEnd:K,trueStart:U},x.tweens[z][m]=this._id}_tweenFunc(m){var N=this.node,R=x.attrs[N._id][this._id],z,P,y,I,D,W,K,U;for(z in R){if(P=R[z],y=P.start,I=P.diff,U=P.end,u.Util._isArray(y))if(D=[],K=Math.max(y.length,U.length),z.indexOf("fill")===0)for(W=0;W<K;W++)W%2===0?D.push((y[W]||0)+I[W]*m):D.push("rgba("+Math.round(y[W].r+I[W].r*m)+","+Math.round(y[W].g+I[W].g*m)+","+Math.round(y[W].b+I[W].b*m)+","+(y[W].a+I[W].a*m)+")");else for(W=0;W<K;W++)D.push((y[W]||0)+I[W]*m);else T.indexOf(z)!==-1?D="rgba("+Math.round(y.r+I.r*m)+","+Math.round(y.g+I.g*m)+","+Math.round(y.b+I.b*m)+","+(y.a+I.a*m)+")":D=y+I*m;N.setAttr(z,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,N=x.attrs[m._id][this._id];N.points&&N.points.trueEnd&&m.setAttr("points",N.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,N=x.attrs[m._id][this._id];N.points&&N.points.trueStart&&m.points(N.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var m=this.node._id,N=this._id,R=x.tweens[m],z;this.pause();for(z in R)delete x.tweens[m][z];delete x.attrs[m][N]}}s.Tween=x,x.attrs={},x.tweens={},E.Node.prototype.to=function(_){var m=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),m&&m()};var N=new x(_);N.play()},s.Easings={BackEaseIn(_,m,N,R){var z=1.70158;return N*(_/=R)*_*((z+1)*_-z)+m},BackEaseOut(_,m,N,R){var z=1.70158;return N*((_=_/R-1)*_*((z+1)*_+z)+1)+m},BackEaseInOut(_,m,N,R){var z=1.70158;return(_/=R/2)<1?N/2*(_*_*(((z*=1.525)+1)*_-z))+m:N/2*((_-=2)*_*(((z*=1.525)+1)*_+z)+2)+m},ElasticEaseIn(_,m,N,R,z,P){var y=0;return _===0?m:(_/=R)===1?m+N:(P||(P=R*.3),!z||z<Math.abs(N)?(z=N,y=P/4):y=P/(2*Math.PI)*Math.asin(N/z),-(z*Math.pow(2,10*(_-=1))*Math.sin((_*R-y)*(2*Math.PI)/P))+m)},ElasticEaseOut(_,m,N,R,z,P){var y=0;return _===0?m:(_/=R)===1?m+N:(P||(P=R*.3),!z||z<Math.abs(N)?(z=N,y=P/4):y=P/(2*Math.PI)*Math.asin(N/z),z*Math.pow(2,-10*_)*Math.sin((_*R-y)*(2*Math.PI)/P)+N+m)},ElasticEaseInOut(_,m,N,R,z,P){var y=0;return _===0?m:(_/=R/2)===2?m+N:(P||(P=R*(.3*1.5)),!z||z<Math.abs(N)?(z=N,y=P/4):y=P/(2*Math.PI)*Math.asin(N/z),_<1?-.5*(z*Math.pow(2,10*(_-=1))*Math.sin((_*R-y)*(2*Math.PI)/P))+m:z*Math.pow(2,-10*(_-=1))*Math.sin((_*R-y)*(2*Math.PI)/P)*.5+N+m)},BounceEaseOut(_,m,N,R){return(_/=R)<1/2.75?N*(7.5625*_*_)+m:_<2/2.75?N*(7.5625*(_-=1.5/2.75)*_+.75)+m:_<2.5/2.75?N*(7.5625*(_-=2.25/2.75)*_+.9375)+m:N*(7.5625*(_-=2.625/2.75)*_+.984375)+m},BounceEaseIn(_,m,N,R){return N-s.Easings.BounceEaseOut(R-_,0,N,R)+m},BounceEaseInOut(_,m,N,R){return _<R/2?s.Easings.BounceEaseIn(_*2,0,N,R)*.5+m:s.Easings.BounceEaseOut(_*2-R,0,N,R)*.5+N*.5+m},EaseIn(_,m,N,R){return N*(_/=R)*_+m},EaseOut(_,m,N,R){return-N*(_/=R)*(_-2)+m},EaseInOut(_,m,N,R){return(_/=R/2)<1?N/2*_*_+m:-N/2*(--_*(_-2)-1)+m},StrongEaseIn(_,m,N,R){return N*(_/=R)*_*_*_*_+m},StrongEaseOut(_,m,N,R){return N*((_=_/R-1)*_*_*_*_+1)+m},StrongEaseInOut(_,m,N,R){return(_/=R/2)<1?N/2*_*_*_*_*_+m:N/2*((_-=2)*_*_*_*_+2)+m},Linear(_,m,N,R){return N*_/R+m}}}(Td)),Td}var P0;function zd(){return P0||(P0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Konva=void 0;const u=vt(),c=cn(),E=yn(),A=Lf(),v=sv(),p=Jp(),S=lv(),C=Hd(),w=Bd(),T=$n(),d=Vd(),x=uv(),_=Qp(),m=If();s.Konva=c.Util._assign(u.Konva,{Util:c.Util,Transform:c.Transform,Node:E.Node,Container:A.Container,Stage:v.Stage,stages:v.stages,Layer:p.Layer,FastLayer:S.FastLayer,Group:C.Group,DD:w.DD,Shape:T.Shape,shapes:T.shapes,Animation:d.Animation,Tween:x.Tween,Easings:x.Easings,Context:_.Context,Canvas:m.Canvas}),s.default=s.Konva}(wd)),wd}var Iu={},R0;function cv(){if(R0)return Iu;R0=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.Arc=void 0;const s=mt(),u=$n(),c=vt(),E=St(),A=vt();let v=class extends u.Shape{_sceneFunc(S){var C=c.Konva.getAngle(this.angle()),w=this.clockwise();S.beginPath(),S.arc(0,0,this.outerRadius(),0,C,w),S.arc(0,0,this.innerRadius(),C,0,!w),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}getSelfRect(){const S=this.innerRadius(),C=this.outerRadius(),w=this.clockwise(),T=c.Konva.getAngle(w?360-this.angle():this.angle()),d=Math.cos(Math.min(T,Math.PI)),x=1,_=Math.sin(Math.min(Math.max(Math.PI,T),3*Math.PI/2)),m=Math.sin(Math.min(T,Math.PI/2)),N=d*(d>0?S:C),R=x*C,z=_*(_>0?S:C),P=m*(m>0?C:S);return{x:N,y:w?-1*P:z,width:R-N,height:P-z}}};return Iu.Arc=v,v.prototype._centroid=!0,v.prototype.className="Arc",v.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,A._registerNode)(v),s.Factory.addGetterSetter(v,"innerRadius",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"outerRadius",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"angle",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"clockwise",!1,(0,E.getBooleanValidator)()),Iu}var Lu={},Fu={},T0;function Zp(){if(T0)return Fu;T0=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.Line=void 0;const s=mt(),u=$n(),c=St(),E=vt();function A(S,C,w,T,d,x,_){var m=Math.sqrt(Math.pow(w-S,2)+Math.pow(T-C,2)),N=Math.sqrt(Math.pow(d-w,2)+Math.pow(x-T,2)),R=_*m/(m+N),z=_*N/(m+N),P=w-R*(d-S),y=T-R*(x-C),I=w+z*(d-S),D=T+z*(x-C);return[P,y,I,D]}function v(S,C){var w=S.length,T=[],d,x;for(d=2;d<w-2;d+=2)x=A(S[d-2],S[d-1],S[d],S[d+1],S[d+2],S[d+3],C),!isNaN(x[0])&&(T.push(x[0]),T.push(x[1]),T.push(S[d]),T.push(S[d+1]),T.push(x[2]),T.push(x[3]));return T}class p extends u.Shape{constructor(C){super(C),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(C){var w=this.points(),T=w.length,d=this.tension(),x=this.closed(),_=this.bezier(),m,N,R;if(T){if(C.beginPath(),C.moveTo(w[0],w[1]),d!==0&&T>4){for(m=this.getTensionPoints(),N=m.length,R=x?0:4,x||C.quadraticCurveTo(m[0],m[1],m[2],m[3]);R<N-2;)C.bezierCurveTo(m[R++],m[R++],m[R++],m[R++],m[R++],m[R++]);x||C.quadraticCurveTo(m[N-2],m[N-1],w[T-2],w[T-1])}else if(_)for(R=2;R<T;)C.bezierCurveTo(w[R++],w[R++],w[R++],w[R++],w[R++],w[R++]);else for(R=2;R<T;R+=2)C.lineTo(w[R],w[R+1]);x?(C.closePath(),C.fillStrokeShape(this)):C.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():v(this.points(),this.tension())}_getTensionPointsClosed(){var C=this.points(),w=C.length,T=this.tension(),d=A(C[w-2],C[w-1],C[0],C[1],C[2],C[3],T),x=A(C[w-4],C[w-3],C[w-2],C[w-1],C[0],C[1],T),_=v(C,T),m=[d[2],d[3]].concat(_).concat([x[0],x[1],C[w-2],C[w-1],x[2],x[3],d[0],d[1],C[0],C[1]]);return m}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var C=this.points();if(C.length<4)return{x:C[0]||0,y:C[1]||0,width:0,height:0};this.tension()!==0?C=[C[0],C[1],...this._getTensionPoints(),C[C.length-2],C[C.length-1]]:C=this.points();for(var w=C[0],T=C[0],d=C[1],x=C[1],_,m,N=0;N<C.length/2;N++)_=C[N*2],m=C[N*2+1],w=Math.min(w,_),T=Math.max(T,_),d=Math.min(d,m),x=Math.max(x,m);return{x:w,y:d,width:T-w,height:x-d}}}return Fu.Line=p,p.prototype.className="Line",p.prototype._attrsAffectingSize=["points","bezier","tension"],(0,E._registerNode)(p),s.Factory.addGetterSetter(p,"closed",!1),s.Factory.addGetterSetter(p,"bezier",!1),s.Factory.addGetterSetter(p,"tension",0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(p,"points",[],(0,c.getNumberArrayValidator)()),Fu}var Du={},Nd={},N0;function fv(){return N0||(N0=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.t2length=s.getQuadraticArcLength=s.getCubicArcLength=s.binomialCoefficients=s.cValues=s.tValues=void 0,s.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],s.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],s.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const u=(p,S,C)=>{let w,T,d;w=C/2,T=0;for(let _=0;_<20;_++)d=w*s.tValues[20][_]+w,T+=s.cValues[20][_]*E(p,S,d);return w*T};s.getCubicArcLength=u;const c=(p,S,C)=>{C===void 0&&(C=1);const w=p[0]-2*p[1]+p[2],T=S[0]-2*S[1]+S[2],d=2*p[1]-2*p[0],x=2*S[1]-2*S[0],_=4*(w*w+T*T),m=4*(w*d+T*x),N=d*d+x*x;if(_===0)return C*Math.sqrt(Math.pow(p[2]-p[0],2)+Math.pow(S[2]-S[0],2));const R=m/(2*_),z=N/_,P=C+R,y=z-R*R,I=P*P+y>0?Math.sqrt(P*P+y):0,D=R*R+y>0?Math.sqrt(R*R+y):0,W=R+Math.sqrt(R*R+y)!==0?y*Math.log(Math.abs((P+I)/(R+D))):0;return Math.sqrt(_)/2*(P*I-R*D+W)};s.getQuadraticArcLength=c;function E(p,S,C){const w=A(1,C,p),T=A(1,C,S),d=w*w+T*T;return Math.sqrt(d)}const A=(p,S,C)=>{const w=C.length-1;let T,d;if(w===0)return 0;if(p===0){d=0;for(let x=0;x<=w;x++)d+=s.binomialCoefficients[w][x]*Math.pow(1-S,w-x)*Math.pow(S,x)*C[x];return d}else{T=new Array(w);for(let x=0;x<w;x++)T[x]=w*(C[x+1]-C[x]);return A(p-1,S,T)}},v=(p,S,C)=>{let w=1,T=p/S,d=(p-C(T))/S,x=0;for(;w>.001;){const _=C(T+d),m=Math.abs(p-_)/S;if(m<w)w=m,T+=d;else{const N=C(T-d),R=Math.abs(p-N)/S;R<w?(w=R,T-=d):d/=2}if(x++,x>500)break}return T};s.t2length=v}(Nd)),Nd}var A0;function $d(){if(A0)return Du;A0=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.Path=void 0;const s=mt(),u=$n(),c=vt(),E=fv();let A=class $r extends u.Shape{constructor(p){super(p),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=$r.parsePathData(this.data()),this.pathLength=$r.getPathLength(this.dataArray)}_sceneFunc(p){var S=this.dataArray;p.beginPath();for(var C=!1,w=0;w<S.length;w++){var T=S[w].command,d=S[w].points;switch(T){case"L":p.lineTo(d[0],d[1]);break;case"M":p.moveTo(d[0],d[1]);break;case"C":p.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case"Q":p.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;case"A":var x=d[0],_=d[1],m=d[2],N=d[3],R=d[4],z=d[5],P=d[6],y=d[7],I=m>N?m:N,D=m>N?1:m/N,W=m>N?N/m:1;p.translate(x,_),p.rotate(P),p.scale(D,W),p.arc(0,0,I,R,R+z,1-y),p.scale(1/D,1/W),p.rotate(-P),p.translate(-x,-_);break;case"z":C=!0,p.closePath();break}}!C&&!this.hasFill()?p.strokeShape(this):p.fillStrokeShape(this)}getSelfRect(){var p=[];this.dataArray.forEach(function(m){if(m.command==="A"){var N=m.points[4],R=m.points[5],z=m.points[4]+R,P=Math.PI/180;if(Math.abs(N-z)<P&&(P=Math.abs(N-z)),R<0)for(let y=N-P;y>z;y-=P){const I=$r.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],y,0);p.push(I.x,I.y)}else for(let y=N+P;y<z;y+=P){const I=$r.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],y,0);p.push(I.x,I.y)}}else if(m.command==="C")for(let y=0;y<=1;y+=.01){const I=$r.getPointOnCubicBezier(y,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);p.push(I.x,I.y)}else p=p.concat(m.points)});for(var S=p[0],C=p[0],w=p[1],T=p[1],d,x,_=0;_<p.length/2;_++)d=p[_*2],x=p[_*2+1],isNaN(d)||(S=Math.min(S,d),C=Math.max(C,d)),isNaN(x)||(w=Math.min(w,x),T=Math.max(T,x));return{x:S,y:w,width:C-S,height:T-w}}getLength(){return this.pathLength}getPointAtLength(p){return $r.getPointAtLengthOfDataArray(p,this.dataArray)}static getLineLength(p,S,C,w){return Math.sqrt((C-p)*(C-p)+(w-S)*(w-S))}static getPathLength(p){let S=0;for(var C=0;C<p.length;++C)S+=p[C].pathLength;return S}static getPointAtLengthOfDataArray(p,S){var C,w=0,T=S.length;if(!T)return null;for(;w<T&&p>S[w].pathLength;)p-=S[w].pathLength,++w;if(w===T)return C=S[w-1].points.slice(-2),{x:C[0],y:C[1]};if(p<.01)return C=S[w].points.slice(0,2),{x:C[0],y:C[1]};var d=S[w],x=d.points;switch(d.command){case"L":return $r.getPointOnLine(p,d.start.x,d.start.y,x[0],x[1]);case"C":return $r.getPointOnCubicBezier((0,E.t2length)(p,$r.getPathLength(S),I=>(0,E.getCubicArcLength)([d.start.x,x[0],x[2],x[4]],[d.start.y,x[1],x[3],x[5]],I)),d.start.x,d.start.y,x[0],x[1],x[2],x[3],x[4],x[5]);case"Q":return $r.getPointOnQuadraticBezier((0,E.t2length)(p,$r.getPathLength(S),I=>(0,E.getQuadraticArcLength)([d.start.x,x[0],x[2]],[d.start.y,x[1],x[3]],I)),d.start.x,d.start.y,x[0],x[1],x[2],x[3]);case"A":var _=x[0],m=x[1],N=x[2],R=x[3],z=x[4],P=x[5],y=x[6];return z+=P*p/d.pathLength,$r.getPointOnEllipticalArc(_,m,N,R,z,y)}return null}static getPointOnLine(p,S,C,w,T,d,x){d===void 0&&(d=S),x===void 0&&(x=C);var _=(T-C)/(w-S+1e-8),m=Math.sqrt(p*p/(1+_*_));w<S&&(m*=-1);var N=_*m,R;if(w===S)R={x:d,y:x+N};else if((x-C)/(d-S+1e-8)===_)R={x:d+m,y:x+N};else{var z,P,y=this.getLineLength(S,C,w,T),I=(d-S)*(w-S)+(x-C)*(T-C);I=I/(y*y),z=S+I*(w-S),P=C+I*(T-C);var D=this.getLineLength(d,x,z,P),W=Math.sqrt(p*p-D*D);m=Math.sqrt(W*W/(1+_*_)),w<S&&(m*=-1),N=_*m,R={x:z+m,y:P+N}}return R}static getPointOnCubicBezier(p,S,C,w,T,d,x,_,m){function N(D){return D*D*D}function R(D){return 3*D*D*(1-D)}function z(D){return 3*D*(1-D)*(1-D)}function P(D){return(1-D)*(1-D)*(1-D)}var y=_*N(p)+d*R(p)+w*z(p)+S*P(p),I=m*N(p)+x*R(p)+T*z(p)+C*P(p);return{x:y,y:I}}static getPointOnQuadraticBezier(p,S,C,w,T,d,x){function _(P){return P*P}function m(P){return 2*P*(1-P)}function N(P){return(1-P)*(1-P)}var R=d*_(p)+w*m(p)+S*N(p),z=x*_(p)+T*m(p)+C*N(p);return{x:R,y:z}}static getPointOnEllipticalArc(p,S,C,w,T,d){var x=Math.cos(d),_=Math.sin(d),m={x:C*Math.cos(T),y:w*Math.sin(T)};return{x:p+(m.x*x-m.y*_),y:S+(m.x*_+m.y*x)}}static parsePathData(p){if(!p)return[];var S=p,C=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];S=S.replace(new RegExp(" ","g"),",");for(var w=0;w<C.length;w++)S=S.replace(new RegExp(C[w],"g"),"|"+C[w]);var T=S.split("|"),d=[],x=[],_=0,m=0,N=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,R;for(w=1;w<T.length;w++){var z=T[w],P=z.charAt(0);for(z=z.slice(1),x.length=0;R=N.exec(z);)x.push(R[0]);for(var y=[],I=0,D=x.length;I<D;I++){if(x[I]==="00"){y.push(0,0);continue}var W=parseFloat(x[I]);isNaN(W)?y.push(0):y.push(W)}for(;y.length>0&&!isNaN(y[0]);){var K="",U=[],q=_,V=m,Y,ie,F,G,H,Q,X,ee,re,$;switch(P){case"l":_+=y.shift(),m+=y.shift(),K="L",U.push(_,m);break;case"L":_=y.shift(),m=y.shift(),U.push(_,m);break;case"m":var oe=y.shift(),te=y.shift();if(_+=oe,m+=te,K="M",d.length>2&&d[d.length-1].command==="z"){for(var Se=d.length-2;Se>=0;Se--)if(d[Se].command==="M"){_=d[Se].points[0]+oe,m=d[Se].points[1]+te;break}}U.push(_,m),P="l";break;case"M":_=y.shift(),m=y.shift(),K="M",U.push(_,m),P="L";break;case"h":_+=y.shift(),K="L",U.push(_,m);break;case"H":_=y.shift(),K="L",U.push(_,m);break;case"v":m+=y.shift(),K="L",U.push(_,m);break;case"V":m=y.shift(),K="L",U.push(_,m);break;case"C":U.push(y.shift(),y.shift(),y.shift(),y.shift()),_=y.shift(),m=y.shift(),U.push(_,m);break;case"c":U.push(_+y.shift(),m+y.shift(),_+y.shift(),m+y.shift()),_+=y.shift(),m+=y.shift(),K="C",U.push(_,m);break;case"S":ie=_,F=m,Y=d[d.length-1],Y.command==="C"&&(ie=_+(_-Y.points[2]),F=m+(m-Y.points[3])),U.push(ie,F,y.shift(),y.shift()),_=y.shift(),m=y.shift(),K="C",U.push(_,m);break;case"s":ie=_,F=m,Y=d[d.length-1],Y.command==="C"&&(ie=_+(_-Y.points[2]),F=m+(m-Y.points[3])),U.push(ie,F,_+y.shift(),m+y.shift()),_+=y.shift(),m+=y.shift(),K="C",U.push(_,m);break;case"Q":U.push(y.shift(),y.shift()),_=y.shift(),m=y.shift(),U.push(_,m);break;case"q":U.push(_+y.shift(),m+y.shift()),_+=y.shift(),m+=y.shift(),K="Q",U.push(_,m);break;case"T":ie=_,F=m,Y=d[d.length-1],Y.command==="Q"&&(ie=_+(_-Y.points[0]),F=m+(m-Y.points[1])),_=y.shift(),m=y.shift(),K="Q",U.push(ie,F,_,m);break;case"t":ie=_,F=m,Y=d[d.length-1],Y.command==="Q"&&(ie=_+(_-Y.points[0]),F=m+(m-Y.points[1])),_+=y.shift(),m+=y.shift(),K="Q",U.push(ie,F,_,m);break;case"A":G=y.shift(),H=y.shift(),Q=y.shift(),X=y.shift(),ee=y.shift(),re=_,$=m,_=y.shift(),m=y.shift(),K="A",U=this.convertEndpointToCenterParameterization(re,$,_,m,X,ee,G,H,Q);break;case"a":G=y.shift(),H=y.shift(),Q=y.shift(),X=y.shift(),ee=y.shift(),re=_,$=m,_+=y.shift(),m+=y.shift(),K="A",U=this.convertEndpointToCenterParameterization(re,$,_,m,X,ee,G,H,Q);break}d.push({command:K||P,points:U,start:{x:q,y:V},pathLength:this.calcLength(q,V,K||P,U)})}(P==="z"||P==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(p,S,C,w){var T,d,x,_,m=$r;switch(C){case"L":return m.getLineLength(p,S,w[0],w[1]);case"C":return(0,E.getCubicArcLength)([p,w[0],w[2],w[4]],[S,w[1],w[3],w[5]],1);case"Q":return(0,E.getQuadraticArcLength)([p,w[0],w[2]],[S,w[1],w[3]],1);case"A":T=0;var N=w[4],R=w[5],z=w[4]+R,P=Math.PI/180;if(Math.abs(N-z)<P&&(P=Math.abs(N-z)),d=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],N,0),R<0)for(_=N-P;_>z;_-=P)x=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],_,0),T+=m.getLineLength(d.x,d.y,x.x,x.y),d=x;else for(_=N+P;_<z;_+=P)x=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],_,0),T+=m.getLineLength(d.x,d.y,x.x,x.y),d=x;return x=m.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],z,0),T+=m.getLineLength(d.x,d.y,x.x,x.y),T}return 0}static convertEndpointToCenterParameterization(p,S,C,w,T,d,x,_,m){var N=m*(Math.PI/180),R=Math.cos(N)*(p-C)/2+Math.sin(N)*(S-w)/2,z=-1*Math.sin(N)*(p-C)/2+Math.cos(N)*(S-w)/2,P=R*R/(x*x)+z*z/(_*_);P>1&&(x*=Math.sqrt(P),_*=Math.sqrt(P));var y=Math.sqrt((x*x*(_*_)-x*x*(z*z)-_*_*(R*R))/(x*x*(z*z)+_*_*(R*R)));T===d&&(y*=-1),isNaN(y)&&(y=0);var I=y*x*z/_,D=y*-_*R/x,W=(p+C)/2+Math.cos(N)*I-Math.sin(N)*D,K=(S+w)/2+Math.sin(N)*I+Math.cos(N)*D,U=function(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])},q=function(H,Q){return(H[0]*Q[0]+H[1]*Q[1])/(U(H)*U(Q))},V=function(H,Q){return(H[0]*Q[1]<H[1]*Q[0]?-1:1)*Math.acos(q(H,Q))},Y=V([1,0],[(R-I)/x,(z-D)/_]),ie=[(R-I)/x,(z-D)/_],F=[(-1*R-I)/x,(-1*z-D)/_],G=V(ie,F);return q(ie,F)<=-1&&(G=Math.PI),q(ie,F)>=1&&(G=0),d===0&&G>0&&(G=G-2*Math.PI),d===1&&G<0&&(G=G+2*Math.PI),[W,K,x,_,Y,G,N,d]}};return Du.Path=A,A.prototype.className="Path",A.prototype._attrsAffectingSize=["data"],(0,c._registerNode)(A),s.Factory.addGetterSetter(A,"data"),Du}var O0;function dv(){if(O0)return Lu;O0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.Arrow=void 0;const s=mt(),u=Zp(),c=St(),E=vt(),A=$d();let v=class extends u.Line{_sceneFunc(S){super._sceneFunc(S);var C=Math.PI*2,w=this.points(),T=w,d=this.tension()!==0&&w.length>4;d&&(T=this.getTensionPoints());var x=this.pointerLength(),_=w.length,m,N;if(d){const P=[T[T.length-4],T[T.length-3],T[T.length-2],T[T.length-1],w[_-2],w[_-1]],y=A.Path.calcLength(T[T.length-4],T[T.length-3],"C",P),I=A.Path.getPointOnQuadraticBezier(Math.min(1,1-x/y),P[0],P[1],P[2],P[3],P[4],P[5]);m=w[_-2]-I.x,N=w[_-1]-I.y}else m=w[_-2]-w[_-4],N=w[_-1]-w[_-3];var R=(Math.atan2(N,m)+C)%C,z=this.pointerWidth();this.pointerAtEnding()&&(S.save(),S.beginPath(),S.translate(w[_-2],w[_-1]),S.rotate(R),S.moveTo(0,0),S.lineTo(-x,z/2),S.lineTo(-x,-z/2),S.closePath(),S.restore(),this.__fillStroke(S)),this.pointerAtBeginning()&&(S.save(),S.beginPath(),S.translate(w[0],w[1]),d?(m=(T[0]+T[2])/2-w[0],N=(T[1]+T[3])/2-w[1]):(m=w[2]-w[0],N=w[3]-w[1]),S.rotate((Math.atan2(-N,-m)+C)%C),S.moveTo(0,0),S.lineTo(-x,z/2),S.lineTo(-x,-z/2),S.closePath(),S.restore(),this.__fillStroke(S))}__fillStroke(S){var C=this.dashEnabled();C&&(this.attrs.dashEnabled=!1,S.setLineDash([])),S.fillStrokeShape(this),C&&(this.attrs.dashEnabled=!0)}getSelfRect(){const S=super.getSelfRect(),C=this.pointerWidth()/2;return{x:S.x-C,y:S.y-C,width:S.width+C*2,height:S.height+C*2}}};return Lu.Arrow=v,v.prototype.className="Arrow",(0,E._registerNode)(v),s.Factory.addGetterSetter(v,"pointerLength",10,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(v,"pointerWidth",10,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(v,"pointerAtBeginning",!1),s.Factory.addGetterSetter(v,"pointerAtEnding",!0),Lu}var zu={},M0;function hv(){if(M0)return zu;M0=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.Circle=void 0;const s=mt(),u=$n(),c=St(),E=vt();class A extends u.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius()!==p/2&&this.radius(p/2)}setHeight(p){this.radius()!==p/2&&this.radius(p/2)}}return zu.Circle=A,A.prototype._centroid=!0,A.prototype.className="Circle",A.prototype._attrsAffectingSize=["radius"],(0,E._registerNode)(A),s.Factory.addGetterSetter(A,"radius",0,(0,c.getNumberValidator)()),zu}var Uu={},I0;function pv(){if(I0)return Uu;I0=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.Ellipse=void 0;const s=mt(),u=$n(),c=St(),E=vt();let A=class extends u.Shape{_sceneFunc(p){var S=this.radiusX(),C=this.radiusY();p.beginPath(),p.save(),S!==C&&p.scale(1,C/S),p.arc(0,0,S,0,Math.PI*2,!1),p.restore(),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(p){this.radiusX(p/2)}setHeight(p){this.radiusY(p/2)}};return Uu.Ellipse=A,A.prototype.className="Ellipse",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,E._registerNode)(A),s.Factory.addComponentsGetterSetter(A,"radius",["x","y"]),s.Factory.addGetterSetter(A,"radiusX",0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(A,"radiusY",0,(0,c.getNumberValidator)()),Uu}var ju={},L0;function gv(){if(L0)return ju;L0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Image=void 0;const s=cn(),u=mt(),c=$n(),E=vt(),A=St();let v=class e1 extends c.Shape{constructor(S){super(S),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const S=this.image();S&&S.complete||S&&S.readyState===4||S&&S.addEventListener&&S.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(S){const C=this.getWidth(),w=this.getHeight(),T=this.cornerRadius(),d=this.attrs.image;let x;if(d){const _=this.attrs.cropWidth,m=this.attrs.cropHeight;_&&m?x=[d,this.cropX(),this.cropY(),_,m,0,0,C,w]:x=[d,0,0,C,w]}(this.hasFill()||this.hasStroke()||T)&&(S.beginPath(),T?s.Util.drawRoundedRectPath(S,C,w,T):S.rect(0,0,C,w),S.closePath(),S.fillStrokeShape(this)),d&&(T&&S.clip(),S.drawImage.apply(S,x))}_hitFunc(S){var C=this.width(),w=this.height(),T=this.cornerRadius();S.beginPath(),T?s.Util.drawRoundedRectPath(S,C,w,T):S.rect(0,0,C,w),S.closePath(),S.fillStrokeShape(this)}getWidth(){var S,C;return(S=this.attrs.width)!==null&&S!==void 0?S:(C=this.image())===null||C===void 0?void 0:C.width}getHeight(){var S,C;return(S=this.attrs.height)!==null&&S!==void 0?S:(C=this.image())===null||C===void 0?void 0:C.height}static fromURL(S,C,w=null){var T=s.Util.createImageElement();T.onload=function(){var d=new e1({image:T});C(d)},T.onerror=w,T.crossOrigin="Anonymous",T.src=S}};return ju.Image=v,v.prototype.className="Image",(0,E._registerNode)(v),u.Factory.addGetterSetter(v,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),u.Factory.addGetterSetter(v,"image"),u.Factory.addComponentsGetterSetter(v,"crop",["x","y","width","height"]),u.Factory.addGetterSetter(v,"cropX",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(v,"cropY",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(v,"cropWidth",0,(0,A.getNumberValidator)()),u.Factory.addGetterSetter(v,"cropHeight",0,(0,A.getNumberValidator)()),ju}var Es={},F0;function vv(){if(F0)return Es;F0=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.Tag=Es.Label=void 0;const s=mt(),u=$n(),c=Hd(),E=St(),A=vt();var v=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],p="Change.konva",S="none",C="up",w="right",T="down",d="left",x=v.length;let _=class extends c.Group{constructor(R){super(R),this.on("add.konva",function(z){this._addListeners(z.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(R){var z=this,P,y=function(){z._sync()};for(P=0;P<x;P++)R.on(v[P]+p,y)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var R=this.getText(),z=this.getTag(),P,y,I,D,W,K,U;if(R&&z){switch(P=R.width(),y=R.height(),I=z.pointerDirection(),D=z.pointerWidth(),U=z.pointerHeight(),W=0,K=0,I){case C:W=P/2,K=-1*U;break;case w:W=P+D,K=y/2;break;case T:W=P/2,K=y+U;break;case d:W=-1*D,K=y/2;break}z.setAttrs({x:-1*W,y:-1*K,width:P,height:y}),R.setAttrs({x:-1*W,y:-1*K})}}};Es.Label=_,_.prototype.className="Label",(0,A._registerNode)(_);class m extends u.Shape{_sceneFunc(R){var z=this.width(),P=this.height(),y=this.pointerDirection(),I=this.pointerWidth(),D=this.pointerHeight(),W=this.cornerRadius();let K=0,U=0,q=0,V=0;typeof W=="number"?K=U=q=V=Math.min(W,z/2,P/2):(K=Math.min(W[0]||0,z/2,P/2),U=Math.min(W[1]||0,z/2,P/2),V=Math.min(W[2]||0,z/2,P/2),q=Math.min(W[3]||0,z/2,P/2)),R.beginPath(),R.moveTo(K,0),y===C&&(R.lineTo((z-I)/2,0),R.lineTo(z/2,-1*D),R.lineTo((z+I)/2,0)),R.lineTo(z-U,0),R.arc(z-U,U,U,Math.PI*3/2,0,!1),y===w&&(R.lineTo(z,(P-D)/2),R.lineTo(z+I,P/2),R.lineTo(z,(P+D)/2)),R.lineTo(z,P-V),R.arc(z-V,P-V,V,0,Math.PI/2,!1),y===T&&(R.lineTo((z+I)/2,P),R.lineTo(z/2,P+D),R.lineTo((z-I)/2,P)),R.lineTo(q,P),R.arc(q,P-q,q,Math.PI/2,Math.PI,!1),y===d&&(R.lineTo(0,(P+D)/2),R.lineTo(-1*I,P/2),R.lineTo(0,(P-D)/2)),R.lineTo(0,K),R.arc(K,K,K,Math.PI,Math.PI*3/2,!1),R.closePath(),R.fillStrokeShape(this)}getSelfRect(){var R=0,z=0,P=this.pointerWidth(),y=this.pointerHeight(),I=this.pointerDirection(),D=this.width(),W=this.height();return I===C?(z-=y,W+=y):I===T?W+=y:I===d?(R-=P*1.5,D+=P):I===w&&(D+=P*1.5),{x:R,y:z,width:D,height:W}}}return Es.Tag=m,m.prototype.className="Tag",(0,A._registerNode)(m),s.Factory.addGetterSetter(m,"pointerDirection",S),s.Factory.addGetterSetter(m,"pointerWidth",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(m,"pointerHeight",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(m,"cornerRadius",0,(0,E.getNumberOrArrayOfNumbersValidator)(4)),Es}var Gu={},D0;function t1(){if(D0)return Gu;D0=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Rect=void 0;const s=mt(),u=$n(),c=vt(),E=cn(),A=St();class v extends u.Shape{_sceneFunc(S){var C=this.cornerRadius(),w=this.width(),T=this.height();S.beginPath(),C?E.Util.drawRoundedRectPath(S,w,T,C):S.rect(0,0,w,T),S.closePath(),S.fillStrokeShape(this)}}return Gu.Rect=v,v.prototype.className="Rect",(0,c._registerNode)(v),s.Factory.addGetterSetter(v,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),Gu}var Bu={},z0;function mv(){if(z0)return Bu;z0=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.RegularPolygon=void 0;const s=mt(),u=$n(),c=St(),E=vt();let A=class extends u.Shape{_sceneFunc(p){const S=this._getPoints();p.beginPath(),p.moveTo(S[0].x,S[0].y);for(var C=1;C<S.length;C++)p.lineTo(S[C].x,S[C].y);p.closePath(),p.fillStrokeShape(this)}_getPoints(){const p=this.attrs.sides,S=this.attrs.radius||0,C=[];for(var w=0;w<p;w++)C.push({x:S*Math.sin(w*2*Math.PI/p),y:-1*S*Math.cos(w*2*Math.PI/p)});return C}getSelfRect(){const p=this._getPoints();var S=p[0].x,C=p[0].y,w=p[0].x,T=p[0].y;return p.forEach(d=>{S=Math.min(S,d.x),C=Math.max(C,d.x),w=Math.min(w,d.y),T=Math.max(T,d.y)}),{x:S,y:w,width:C-S,height:T-w}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return Bu.RegularPolygon=A,A.prototype.className="RegularPolygon",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radius"],(0,E._registerNode)(A),s.Factory.addGetterSetter(A,"radius",0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(A,"sides",0,(0,c.getNumberValidator)()),Bu}var Hu={},U0;function yv(){if(U0)return Hu;U0=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.Ring=void 0;const s=mt(),u=$n(),c=St(),E=vt();var A=Math.PI*2;let v=class extends u.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.innerRadius(),0,A,!1),S.moveTo(this.outerRadius(),0),S.arc(0,0,this.outerRadius(),A,0,!0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}};return Hu.Ring=v,v.prototype.className="Ring",v.prototype._centroid=!0,v.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,E._registerNode)(v),s.Factory.addGetterSetter(v,"innerRadius",0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(v,"outerRadius",0,(0,c.getNumberValidator)()),Hu}var Vu={},j0;function _v(){if(j0)return Vu;j0=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.Sprite=void 0;const s=mt(),u=$n(),c=Vd(),E=St(),A=vt();let v=class extends u.Shape{constructor(S){super(S),this._updated=!0,this.anim=new c.Animation(()=>{var C=this._updated;return this._updated=!1,C}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(S){var C=this.animation(),w=this.frameIndex(),T=w*4,d=this.animations()[C],x=this.frameOffsets(),_=d[T+0],m=d[T+1],N=d[T+2],R=d[T+3],z=this.image();if((this.hasFill()||this.hasStroke())&&(S.beginPath(),S.rect(0,0,N,R),S.closePath(),S.fillStrokeShape(this)),z)if(x){var P=x[C],y=w*2;S.drawImage(z,_,m,N,R,P[y+0],P[y+1],N,R)}else S.drawImage(z,_,m,N,R,0,0,N,R)}_hitFunc(S){var C=this.animation(),w=this.frameIndex(),T=w*4,d=this.animations()[C],x=this.frameOffsets(),_=d[T+2],m=d[T+3];if(S.beginPath(),x){var N=x[C],R=w*2;S.rect(N[R+0],N[R+1],_,m)}else S.rect(0,0,_,m);S.closePath(),S.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var S=this;this.interval=setInterval(function(){S._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var S=this.getLayer();this.anim.setLayers(S),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var S=this.frameIndex(),C=this.animation(),w=this.animations(),T=w[C],d=T.length/4;S<d-1?this.frameIndex(S+1):this.frameIndex(0)}};return Vu.Sprite=v,v.prototype.className="Sprite",(0,A._registerNode)(v),s.Factory.addGetterSetter(v,"animation"),s.Factory.addGetterSetter(v,"animations"),s.Factory.addGetterSetter(v,"frameOffsets"),s.Factory.addGetterSetter(v,"image"),s.Factory.addGetterSetter(v,"frameIndex",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"frameRate",17,(0,E.getNumberValidator)()),s.Factory.backCompat(v,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Vu}var $u={},G0;function Sv(){if(G0)return $u;G0=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.Star=void 0;const s=mt(),u=$n(),c=St(),E=vt();let A=class extends u.Shape{_sceneFunc(p){var S=this.innerRadius(),C=this.outerRadius(),w=this.numPoints();p.beginPath(),p.moveTo(0,0-C);for(var T=1;T<w*2;T++){var d=T%2===0?C:S,x=d*Math.sin(T*Math.PI/w),_=-1*d*Math.cos(T*Math.PI/w);p.lineTo(x,_)}p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return $u.Star=A,A.prototype.className="Star",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,E._registerNode)(A),s.Factory.addGetterSetter(A,"numPoints",5,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(A,"innerRadius",0,(0,c.getNumberValidator)()),s.Factory.addGetterSetter(A,"outerRadius",0,(0,c.getNumberValidator)()),$u}var ks={},B0;function n1(){if(B0)return ks;B0=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.Text=ks.stringToArray=void 0;const s=cn(),u=mt(),c=$n(),E=St(),A=vt();function v(oe){return Array.from(oe)}ks.stringToArray=v;var p="auto",S="center",C="inherit",w="justify",T="Change.konva",d="2d",x="-",_="left",m="text",N="Text",R="top",z="bottom",P="middle",y="normal",I="px ",D=" ",W="right",K="rtl",U="word",q="char",V="none",Y="",ie=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],F=ie.length;function G(oe){return oe.split(",").map(te=>{te=te.trim();const Se=te.indexOf(" ")>=0,ye=te.indexOf('"')>=0||te.indexOf("'")>=0;return Se&&!ye&&(te=`"${te}"`),te}).join(", ")}var H;function Q(){return H||(H=s.Util.createCanvasElement().getContext(d),H)}function X(oe){oe.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ee(oe){oe.setAttr("miterLimit",2),oe.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function re(oe){return oe=oe||{},!oe.fillLinearGradientColorStops&&!oe.fillRadialGradientColorStops&&!oe.fillPatternImage&&(oe.fill=oe.fill||"black"),oe}class $ extends c.Shape{constructor(te){super(re(te)),this._partialTextX=0,this._partialTextY=0;for(var Se=0;Se<F;Se++)this.on(ie[Se]+T,this._setTextData);this._setTextData()}_sceneFunc(te){var Se=this.textArr,ye=Se.length;if(this.text()){var Ae=this.padding(),Ne=this.fontSize(),Z=this.lineHeight()*Ne,ce=this.verticalAlign(),we=this.direction(),Be=0,Le=this.align(),Ye=this.getWidth(),He=this.letterSpacing(),Gt=this.fill(),ht=this.textDecoration(),fn=ht.indexOf("underline")!==-1,Dt=ht.indexOf("line-through")!==-1,Jt;we=we===C?te.direction:we;var bt=0,bt=Z/2,wt=0,pt=0;for(we===K&&te.setAttr("direction",we),te.setAttr("font",this._getContextFont()),te.setAttr("textBaseline",P),te.setAttr("textAlign",_),ce===P?Be=(this.getHeight()-ye*Z-Ae*2)/2:ce===z&&(Be=this.getHeight()-ye*Z-Ae*2),te.translate(Ae,Be+Ae),Jt=0;Jt<ye;Jt++){var wt=0,pt=0,bn=Se[Jt],Tn=bn.text,dn=bn.width,Yt=bn.lastInParagraph,tn,dr,tr;if(te.save(),Le===W?wt+=Ye-dn-Ae*2:Le===S&&(wt+=(Ye-dn-Ae*2)/2),fn){te.save(),te.beginPath(),te.moveTo(wt,bt+pt+Math.round(Ne/2)),tn=Tn.split(" ").length-1,dr=tn===0,tr=Le===w&&!Yt?Ye-Ae*2:dn,te.lineTo(wt+Math.round(tr),bt+pt+Math.round(Ne/2)),te.lineWidth=Ne/15;const rr=this._getLinearGradient();te.strokeStyle=rr||Gt,te.stroke(),te.restore()}if(Dt){te.save(),te.beginPath(),te.moveTo(wt,bt+pt),tn=Tn.split(" ").length-1,dr=tn===0,tr=Le===w&&Yt&&!dr?Ye-Ae*2:dn,te.lineTo(wt+Math.round(tr),bt+pt),te.lineWidth=Ne/15;const rr=this._getLinearGradient();te.strokeStyle=rr||Gt,te.stroke(),te.restore()}if(we!==K&&(He!==0||Le===w)){tn=Tn.split(" ").length-1;for(var Or=v(Tn),_n=0;_n<Or.length;_n++){var nr=Or[_n];nr===" "&&!Yt&&Le===w&&(wt+=(Ye-Ae*2-dn)/tn),this._partialTextX=wt,this._partialTextY=bt+pt,this._partialText=nr,te.fillStrokeShape(this),wt+=this.measureSize(nr).width+He}}else He!==0&&te.setAttr("letterSpacing",`${He}px`),this._partialTextX=wt,this._partialTextY=bt+pt,this._partialText=Tn,te.fillStrokeShape(this);te.restore(),ye>1&&(bt+=Z)}}}_hitFunc(te){var Se=this.getWidth(),ye=this.getHeight();te.beginPath(),te.rect(0,0,Se,ye),te.closePath(),te.fillStrokeShape(this)}setText(te){var Se=s.Util._isString(te)?te:te==null?"":te+"";return this._setAttr(m,Se),this}getWidth(){var te=this.attrs.width===p||this.attrs.width===void 0;return te?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var te=this.attrs.height===p||this.attrs.height===void 0;return te?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(te){var Se=Q(),ye=this.fontSize(),Ae;return Se.save(),Se.font=this._getContextFont(),Ae=Se.measureText(te),Se.restore(),{width:Ae.width,height:ye}}_getContextFont(){return this.fontStyle()+D+this.fontVariant()+D+(this.fontSize()+I)+G(this.fontFamily())}_addTextLine(te){this.align()===w&&(te=te.trim());var ye=this._getTextWidth(te);return this.textArr.push({text:te,width:ye,lastInParagraph:!1})}_getTextWidth(te){var Se=this.letterSpacing(),ye=te.length;return Q().measureText(te).width+(ye?Se*(ye-1):0)}_setTextData(){var te=this.text().split(`
`),Se=+this.fontSize(),ye=0,Ae=this.lineHeight()*Se,Ne=this.attrs.width,Z=this.attrs.height,ce=Ne!==p&&Ne!==void 0,we=Z!==p&&Z!==void 0,Be=this.padding(),Le=Ne-Be*2,Ye=Z-Be*2,He=0,Gt=this.wrap(),ht=Gt!==V,fn=Gt!==q&&ht,Dt=this.ellipsis();this.textArr=[],Q().font=this._getContextFont();for(var Jt=Dt?this._getTextWidth(Y):0,bt=0,wt=te.length;bt<wt;++bt){var pt=te[bt],bn=this._getTextWidth(pt);if(ce&&bn>Le)for(;pt.length>0;){for(var Tn=0,dn=pt.length,Yt="",tn=0;Tn<dn;){var dr=Tn+dn>>>1,tr=pt.slice(0,dr+1),Or=this._getTextWidth(tr)+Jt;Or<=Le?(Tn=dr+1,Yt=tr,tn=Or):dn=dr}if(Yt){if(fn){var _n,nr=pt[Yt.length],bo=nr===D||nr===x;bo&&tn<=Le?_n=Yt.length:_n=Math.max(Yt.lastIndexOf(D),Yt.lastIndexOf(x))+1,_n>0&&(Tn=_n,Yt=Yt.slice(0,Tn),tn=this._getTextWidth(Yt))}Yt=Yt.trimRight(),this._addTextLine(Yt),ye=Math.max(ye,tn),He+=Ae;var Wo=this._shouldHandleEllipsis(He);if(Wo){this._tryToAddEllipsisToLastLine();break}if(pt=pt.slice(Tn),pt=pt.trimLeft(),pt.length>0&&(bn=this._getTextWidth(pt),bn<=Le)){this._addTextLine(pt),He+=Ae,ye=Math.max(ye,bn);break}}else break}else this._addTextLine(pt),He+=Ae,ye=Math.max(ye,bn),this._shouldHandleEllipsis(He)&&bt<wt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),we&&He+Ae>Ye)break}this.textHeight=Se,this.textWidth=ye}_shouldHandleEllipsis(te){var Se=+this.fontSize(),ye=this.lineHeight()*Se,Ae=this.attrs.height,Ne=Ae!==p&&Ae!==void 0,Z=this.padding(),ce=Ae-Z*2,we=this.wrap(),Be=we!==V;return!Be||Ne&&te+ye>ce}_tryToAddEllipsisToLastLine(){var te=this.attrs.width,Se=te!==p&&te!==void 0,ye=this.padding(),Ae=te-ye*2,Ne=this.ellipsis(),Z=this.textArr[this.textArr.length-1];if(!(!Z||!Ne)){if(Se){var ce=this._getTextWidth(Z.text+Y)<Ae;ce||(Z.text=Z.text.slice(0,Z.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Z.text+Y)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const te=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,Se=this.hasShadow();return te&&Se?!0:super._useBufferCanvas()}}return ks.Text=$,$.prototype._fillFunc=X,$.prototype._strokeFunc=ee,$.prototype.className=N,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,A._registerNode)($),u.Factory.overWriteSetter($,"width",(0,E.getNumberOrAutoValidator)()),u.Factory.overWriteSetter($,"height",(0,E.getNumberOrAutoValidator)()),u.Factory.addGetterSetter($,"direction",C),u.Factory.addGetterSetter($,"fontFamily","Arial"),u.Factory.addGetterSetter($,"fontSize",12,(0,E.getNumberValidator)()),u.Factory.addGetterSetter($,"fontStyle",y),u.Factory.addGetterSetter($,"fontVariant",y),u.Factory.addGetterSetter($,"padding",0,(0,E.getNumberValidator)()),u.Factory.addGetterSetter($,"align",_),u.Factory.addGetterSetter($,"verticalAlign",R),u.Factory.addGetterSetter($,"lineHeight",1,(0,E.getNumberValidator)()),u.Factory.addGetterSetter($,"wrap",U),u.Factory.addGetterSetter($,"ellipsis",!1,(0,E.getBooleanValidator)()),u.Factory.addGetterSetter($,"letterSpacing",0,(0,E.getNumberValidator)()),u.Factory.addGetterSetter($,"text","",(0,E.getStringValidator)()),u.Factory.addGetterSetter($,"textDecoration",""),ks}var bu={},H0;function wv(){if(H0)return bu;H0=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.TextPath=void 0;const s=cn(),u=mt(),c=$n(),E=$d(),A=n1(),v=St(),p=vt();var S="",C="normal";function w(x){x.fillText(this.partialText,0,0)}function T(x){x.strokeText(this.partialText,0,0)}let d=class extends c.Shape{constructor(_){super(_),this.dummyCanvas=s.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return E.Path.getPathLength(this.dataArray)}_getPointAtLength(_){if(!this.attrs.data)return null;const m=this.pathLength;return _-1>m?null:E.Path.getPointAtLengthOfDataArray(_,this.dataArray)}_readDataAttribute(){this.dataArray=E.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(_){_.setAttr("font",this._getContextFont()),_.setAttr("textBaseline",this.textBaseline()),_.setAttr("textAlign","left"),_.save();var m=this.textDecoration(),N=this.fill(),R=this.fontSize(),z=this.glyphInfo;m==="underline"&&_.beginPath();for(var P=0;P<z.length;P++){_.save();var y=z[P].p0;_.translate(y.x,y.y),_.rotate(z[P].rotation),this.partialText=z[P].text,_.fillStrokeShape(this),m==="underline"&&(P===0&&_.moveTo(0,R/2+1),_.lineTo(R,R/2+1)),_.restore()}m==="underline"&&(_.strokeStyle=N,_.lineWidth=R/20,_.stroke()),_.restore()}_hitFunc(_){_.beginPath();var m=this.glyphInfo;if(m.length>=1){var N=m[0].p0;_.moveTo(N.x,N.y)}for(var R=0;R<m.length;R++){var z=m[R].p1;_.lineTo(z.x,z.y)}_.setAttr("lineWidth",this.fontSize()),_.setAttr("strokeStyle",this.colorKey),_.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(_){return A.Text.prototype.setText.call(this,_)}_getContextFont(){return A.Text.prototype._getContextFont.call(this)}_getTextSize(_){var m=this.dummyCanvas,N=m.getContext("2d");N.save(),N.font=this._getContextFont();var R=N.measureText(_);return N.restore(),{width:R.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:_,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=_,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const N=this.letterSpacing(),R=this.align(),z=this.kerningFunc(),P=Math.max(this.textWidth+((this.attrs.text||"").length-1)*N,0);let y=0;R==="center"&&(y=Math.max(0,this.pathLength/2-P/2)),R==="right"&&(y=Math.max(0,this.pathLength-P));const I=(0,A.stringToArray)(this.text());let D=y;for(var W=0;W<I.length;W++){const K=this._getPointAtLength(D);if(!K)return;let U=this._getTextSize(I[W]).width+N;if(I[W]===" "&&R==="justify"){const G=this.text().split(" ").length-1;U+=(this.pathLength-P)/G}const q=this._getPointAtLength(D+U);if(!q)return;const V=E.Path.getLineLength(K.x,K.y,q.x,q.y);let Y=0;if(z)try{Y=z(I[W-1],I[W])*this.fontSize()}catch{Y=0}K.x+=Y,q.x+=Y,this.textWidth+=Y;const ie=E.Path.getPointOnLine(Y+V/2,K.x,K.y,q.x,q.y),F=Math.atan2(q.y-K.y,q.x-K.x);this.glyphInfo.push({transposeX:ie.x,transposeY:ie.y,text:I[W],rotation:F,p0:K,p1:q}),D+=U}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var _=[];this.glyphInfo.forEach(function(W){_.push(W.p0.x),_.push(W.p0.y),_.push(W.p1.x),_.push(W.p1.y)});for(var m=_[0]||0,N=_[0]||0,R=_[1]||0,z=_[1]||0,P,y,I=0;I<_.length/2;I++)P=_[I*2],y=_[I*2+1],m=Math.min(m,P),N=Math.max(N,P),R=Math.min(R,y),z=Math.max(z,y);var D=this.fontSize();return{x:m-D/2,y:R-D/2,width:N-m+D,height:z-R+D}}destroy(){return s.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return bu.TextPath=d,d.prototype._fillFunc=w,d.prototype._strokeFunc=T,d.prototype._fillFuncHit=w,d.prototype._strokeFuncHit=T,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],(0,p._registerNode)(d),u.Factory.addGetterSetter(d,"data"),u.Factory.addGetterSetter(d,"fontFamily","Arial"),u.Factory.addGetterSetter(d,"fontSize",12,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(d,"fontStyle",C),u.Factory.addGetterSetter(d,"align","left"),u.Factory.addGetterSetter(d,"letterSpacing",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(d,"textBaseline","middle"),u.Factory.addGetterSetter(d,"fontVariant",C),u.Factory.addGetterSetter(d,"text",S),u.Factory.addGetterSetter(d,"textDecoration",null),u.Factory.addGetterSetter(d,"kerningFunc",null),bu}var Wu={},V0;function xv(){if(V0)return Wu;V0=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.Transformer=void 0;const s=cn(),u=mt(),c=yn(),E=$n(),A=t1(),v=Hd(),p=vt(),S=St(),C=vt();var w="tr-konva",T=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(K=>K+`.${w}`).join(" "),d="nodesRect",x=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],_={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const m="ontouchstart"in p.Konva._global;function N(K,U,q){if(K==="rotater")return q;U+=s.Util.degToRad(_[K]||0);var V=(s.Util.radToDeg(U)%360+360)%360;return s.Util._inRange(V,315+22.5,360)||s.Util._inRange(V,0,22.5)?"ns-resize":s.Util._inRange(V,45-22.5,45+22.5)?"nesw-resize":s.Util._inRange(V,90-22.5,90+22.5)?"ew-resize":s.Util._inRange(V,135-22.5,135+22.5)?"nwse-resize":s.Util._inRange(V,180-22.5,180+22.5)?"ns-resize":s.Util._inRange(V,225-22.5,225+22.5)?"nesw-resize":s.Util._inRange(V,270-22.5,270+22.5)?"ew-resize":s.Util._inRange(V,315-22.5,315+22.5)?"nwse-resize":(s.Util.error("Transformer has unknown angle for cursor detection: "+V),"pointer")}var R=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function z(K){return{x:K.x+K.width/2*Math.cos(K.rotation)+K.height/2*Math.sin(-K.rotation),y:K.y+K.height/2*Math.cos(K.rotation)+K.width/2*Math.sin(K.rotation)}}function P(K,U,q){const V=q.x+(K.x-q.x)*Math.cos(U)-(K.y-q.y)*Math.sin(U),Y=q.y+(K.x-q.x)*Math.sin(U)+(K.y-q.y)*Math.cos(U);return{...K,rotation:K.rotation+U,x:V,y:Y}}function y(K,U){const q=z(K);return P(K,U,q)}function I(K,U,q){let V=U;for(let Y=0;Y<K.length;Y++){const ie=p.Konva.getAngle(K[Y]),F=Math.abs(ie-U)%(Math.PI*2);Math.min(F,Math.PI*2-F)<q&&(V=ie)}return V}let D=class extends v.Group{constructor(U){super(U),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(T,this.update),this.getNode()&&this.update()}attachTo(U){return this.setNode(U),this}setNode(U){return s.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([U])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return w+this._id}setNodes(U=[]){this._nodes&&this._nodes.length&&this.detach();const q=U.filter(Y=>Y.isAncestorOf(this)?(s.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=U=q,U.length===1&&this.useSingleNodeRotation()?this.rotation(U[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Y=>{const ie=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},F=Y._attrsAffectingSize.map(G=>G+"Change."+this._getEventNamespace()).join(" ");Y.on(F,ie),Y.on(x.map(G=>G+`.${this._getEventNamespace()}`).join(" "),ie),Y.on(`absoluteTransformChange.${this._getEventNamespace()}`,ie),this._proxyDrag(Y)}),this._resetTransformCache();var V=!!this.findOne(".top-left");return V&&this.update(),this}_proxyDrag(U){let q;U.on(`dragstart.${this._getEventNamespace()}`,V=>{q=U.getAbsolutePosition(),!this.isDragging()&&U!==this.findOne(".back")&&this.startDrag(V,!1)}),U.on(`dragmove.${this._getEventNamespace()}`,V=>{if(!q)return;const Y=U.getAbsolutePosition(),ie=Y.x-q.x,F=Y.y-q.y;this.nodes().forEach(G=>{if(G===U||G.isDragging())return;const H=G.getAbsolutePosition();G.setAbsolutePosition({x:H.x+ie,y:H.y+F}),G.startDrag(V)}),q=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(U=>{U.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d,this.__getNodeRect)}__getNodeShape(U,q=this.rotation(),V){var Y=U.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ie=U.getAbsoluteScale(V),F=U.getAbsolutePosition(V),G=Y.x*ie.x-U.offsetX()*ie.x,H=Y.y*ie.y-U.offsetY()*ie.y;const Q=(p.Konva.getAngle(U.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),X={x:F.x+G*Math.cos(Q)+H*Math.sin(-Q),y:F.y+H*Math.cos(Q)+G*Math.sin(Q),width:Y.width*ie.x,height:Y.height*ie.y,rotation:Q};return P(X,-p.Konva.getAngle(q),{x:0,y:0})}__getNodeRect(){var U=this.getNode();if(!U)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const q=[];this.nodes().map(Q=>{const X=Q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var ee=[{x:X.x,y:X.y},{x:X.x+X.width,y:X.y},{x:X.x+X.width,y:X.y+X.height},{x:X.x,y:X.y+X.height}],re=Q.getAbsoluteTransform();ee.forEach(function($){var oe=re.point($);q.push(oe)})});const V=new s.Transform;V.rotate(-p.Konva.getAngle(this.rotation()));var Y=1/0,ie=1/0,F=-1/0,G=-1/0;q.forEach(function(Q){var X=V.point(Q);Y===void 0&&(Y=F=X.x,ie=G=X.y),Y=Math.min(Y,X.x),ie=Math.min(ie,X.y),F=Math.max(F,X.x),G=Math.max(G,X.y)}),V.invert();const H=V.point({x:Y,y:ie});return{x:H.x,y:H.y,width:F-Y,height:G-ie,rotation:p.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),R.forEach(U=>{this._createAnchor(U)}),this._createAnchor("rotater")}_createAnchor(U){var q=new A.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:U+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),V=this;q.on("mousedown touchstart",function(Y){V._handleMouseDown(Y)}),q.on("dragstart",Y=>{q.stopDrag(),Y.cancelBubble=!0}),q.on("dragend",Y=>{Y.cancelBubble=!0}),q.on("mouseenter",()=>{var Y=p.Konva.getAngle(this.rotation()),ie=this.rotateAnchorCursor(),F=N(U,Y,ie);q.getStage().content&&(q.getStage().content.style.cursor=F),this._cursorChange=!0}),q.on("mouseout",()=>{q.getStage().content&&(q.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(q)}_createBack(){var U=new E.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(q,V){var Y=V.getParent(),ie=Y.padding();q.beginPath(),q.rect(-ie,-ie,V.width()+ie*2,V.height()+ie*2),q.moveTo(V.width()/2,-ie),Y.rotateEnabled()&&q.lineTo(V.width()/2,-Y.rotateAnchorOffset()*s.Util._sign(V.height())-ie),q.fillStrokeShape(V)},hitFunc:(q,V)=>{if(this.shouldOverdrawWholeArea()){var Y=this.padding();q.beginPath(),q.rect(-Y,-Y,V.width()+Y*2,V.height()+Y*2),q.fillStrokeShape(V)}}});this.add(U),this._proxyDrag(U),U.on("dragstart",q=>{q.cancelBubble=!0}),U.on("dragmove",q=>{q.cancelBubble=!0}),U.on("dragend",q=>{q.cancelBubble=!0}),this.on("dragmove",q=>{this.update()})}_handleMouseDown(U){this._movingAnchorName=U.target.name().split(" ")[0];var q=this._getNodeRect(),V=q.width,Y=q.height,ie=Math.sqrt(Math.pow(V,2)+Math.pow(Y,2));this.sin=Math.abs(Y/ie),this.cos=Math.abs(V/ie),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var F=U.target.getAbsolutePosition(),G=U.target.getStage().getPointerPosition();this._anchorDragOffset={x:G.x-F.x,y:G.y-F.y},this._fire("transformstart",{evt:U.evt,target:this.getNode()}),this._nodes.forEach(H=>{H._fire("transformstart",{evt:U.evt,target:H})})}_handleMouseMove(U){var q,V,Y,ie=this.findOne("."+this._movingAnchorName),F=ie.getStage();F.setPointersPositions(U);const G=F.getPointerPosition();let H={x:G.x-this._anchorDragOffset.x,y:G.y-this._anchorDragOffset.y};const Q=ie.getAbsolutePosition();this.anchorDragBoundFunc()&&(H=this.anchorDragBoundFunc()(Q,H,U)),ie.setAbsolutePosition(H);const X=ie.getAbsolutePosition();if(!(Q.x===X.x&&Q.y===X.y)){if(this._movingAnchorName==="rotater"){var ee=this._getNodeRect();q=ie.x()-ee.width/2,V=-ie.y()+ee.height/2;let fn=Math.atan2(-V,q)+Math.PI/2;ee.height<0&&(fn-=Math.PI);var re=p.Konva.getAngle(this.rotation());const Dt=re+fn,Jt=p.Konva.getAngle(this.rotationSnapTolerance()),wt=I(this.rotationSnaps(),Dt,Jt)-ee.rotation,pt=y(ee,wt);this._fitNodesInto(pt,U);return}var $=this.shiftBehavior(),oe;$==="inverted"?oe=this.keepRatio()&&!U.shiftKey:$==="none"?oe=this.keepRatio():oe=this.keepRatio()||U.shiftKey;var Ne=this.centeredScaling()||U.altKey;if(this._movingAnchorName==="top-left"){if(oe){var te=Ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Y=Math.sqrt(Math.pow(te.x-ie.x(),2)+Math.pow(te.y-ie.y(),2));var Se=this.findOne(".top-left").x()>te.x?-1:1,ye=this.findOne(".top-left").y()>te.y?-1:1;q=Y*this.cos*Se,V=Y*this.sin*ye,this.findOne(".top-left").x(te.x-q),this.findOne(".top-left").y(te.y-V)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(ie.y());else if(this._movingAnchorName==="top-right"){if(oe){var te=Ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Y=Math.sqrt(Math.pow(ie.x()-te.x,2)+Math.pow(te.y-ie.y(),2));var Se=this.findOne(".top-right").x()<te.x?-1:1,ye=this.findOne(".top-right").y()>te.y?-1:1;q=Y*this.cos*Se,V=Y*this.sin*ye,this.findOne(".top-right").x(te.x+q),this.findOne(".top-right").y(te.y-V)}var Ae=ie.position();this.findOne(".top-left").y(Ae.y),this.findOne(".bottom-right").x(Ae.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(ie.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(ie.x());else if(this._movingAnchorName==="bottom-left"){if(oe){var te=Ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Y=Math.sqrt(Math.pow(te.x-ie.x(),2)+Math.pow(ie.y()-te.y,2));var Se=te.x<ie.x()?-1:1,ye=ie.y()<te.y?-1:1;q=Y*this.cos*Se,V=Y*this.sin*ye,ie.x(te.x-q),ie.y(te.y+V)}Ae=ie.position(),this.findOne(".top-left").x(Ae.x),this.findOne(".bottom-right").y(Ae.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(ie.y());else if(this._movingAnchorName==="bottom-right"){if(oe){var te=Ne?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Y=Math.sqrt(Math.pow(ie.x()-te.x,2)+Math.pow(ie.y()-te.y,2));var Se=this.findOne(".bottom-right").x()<te.x?-1:1,ye=this.findOne(".bottom-right").y()<te.y?-1:1;q=Y*this.cos*Se,V=Y*this.sin*ye,this.findOne(".bottom-right").x(te.x+q),this.findOne(".bottom-right").y(te.y+V)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Ne=this.centeredScaling()||U.altKey;if(Ne){var Z=this.findOne(".top-left"),ce=this.findOne(".bottom-right"),we=Z.x(),Be=Z.y(),Le=this.getWidth()-ce.x(),Ye=this.getHeight()-ce.y();ce.move({x:-we,y:-Be}),Z.move({x:Le,y:Ye})}var He=this.findOne(".top-left").getAbsolutePosition();q=He.x,V=He.y;var Gt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ht=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:q,y:V,width:Gt,height:ht,rotation:p.Konva.getAngle(this.rotation())},U)}}_handleMouseUp(U){this._removeEvents(U)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(U){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var q=this.getNode();this._fire("transformend",{evt:U,target:q}),q&&this._nodes.forEach(V=>{V._fire("transformend",{evt:U,target:V})}),this._movingAnchorName=null}}_fitNodesInto(U,q){var V=this._getNodeRect();const Y=1;if(s.Util._inRange(U.width,-this.padding()*2-Y,Y)){this.update();return}if(s.Util._inRange(U.height,-this.padding()*2-Y,Y)){this.update();return}var ie=new s.Transform;if(ie.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("left")>=0){const re=ie.point({x:-this.padding()*2,y:0});U.x+=re.x,U.y+=re.y,U.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y}else if(this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("right")>=0){const re=ie.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,U.width+=this.padding()*2}if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("top")>=0){const re=ie.point({x:0,y:-this.padding()*2});U.x+=re.x,U.y+=re.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,U.height+=this.padding()*2}else if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const re=ie.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,U.height+=this.padding()*2}if(this.boundBoxFunc()){const re=this.boundBoxFunc()(V,U);re?U=re:s.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const F=1e7,G=new s.Transform;G.translate(V.x,V.y),G.rotate(V.rotation),G.scale(V.width/F,V.height/F);const H=new s.Transform,Q=U.width/F,X=U.height/F;this.flipEnabled()===!1?(H.translate(U.x,U.y),H.rotate(U.rotation),H.translate(U.width<0?U.width:0,U.height<0?U.height:0),H.scale(Math.abs(Q),Math.abs(X))):(H.translate(U.x,U.y),H.rotate(U.rotation),H.scale(Q,X));const ee=H.multiply(G.invert());this._nodes.forEach(re=>{var $;const oe=re.getParent().getAbsoluteTransform(),te=re.getTransform().copy();te.translate(re.offsetX(),re.offsetY());const Se=new s.Transform;Se.multiply(oe.copy().invert()).multiply(ee).multiply(oe).multiply(te);const ye=Se.decompose();re.setAttrs(ye),this._fire("transform",{evt:q,target:re}),re._fire("transform",{evt:q,target:re}),($=re.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(s.Util._getRotation(U.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(U,q){this.findOne(U).setAttrs(q)}update(){var U,q=this._getNodeRect();this.rotation(s.Util._getRotation(q.rotation));var V=q.width,Y=q.height,ie=this.enabledAnchors(),F=this.resizeEnabled(),G=this.padding(),H=this.anchorSize();const Q=this.find("._anchor");Q.forEach(ee=>{ee.setAttrs({width:H,height:H,offsetX:H/2,offsetY:H/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:H/2+G,offsetY:H/2+G,visible:F&&ie.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:V/2,y:0,offsetY:H/2+G,visible:F&&ie.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:V,y:0,offsetX:H/2-G,offsetY:H/2+G,visible:F&&ie.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Y/2,offsetX:H/2+G,visible:F&&ie.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:V,y:Y/2,offsetX:H/2-G,visible:F&&ie.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Y,offsetX:H/2+G,offsetY:H/2-G,visible:F&&ie.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:V/2,y:Y,offsetY:H/2-G,visible:F&&ie.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:V,y:Y,offsetX:H/2-G,offsetY:H/2-G,visible:F&&ie.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:V/2,y:-this.rotateAnchorOffset()*s.Util._sign(Y)-G,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:V,height:Y,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const X=this.anchorStyleFunc();X&&Q.forEach(ee=>{X(ee)}),(U=this.getLayer())===null||U===void 0||U.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var U=this.findOne("."+this._movingAnchorName);U&&U.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),v.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return c.Node.prototype.toObject.call(this)}clone(U){var q=c.Node.prototype.clone.call(this,U);return q}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Wu.Transformer=D;function W(K){return K instanceof Array||s.Util.warn("enabledAnchors value should be an array"),K instanceof Array&&K.forEach(function(U){R.indexOf(U)===-1&&s.Util.warn("Unknown anchor name: "+U+". Available names are: "+R.join(", "))}),K||[]}return D.prototype.className="Transformer",(0,C._registerNode)(D),u.Factory.addGetterSetter(D,"enabledAnchors",R,W),u.Factory.addGetterSetter(D,"flipEnabled",!0,(0,S.getBooleanValidator)()),u.Factory.addGetterSetter(D,"resizeEnabled",!0),u.Factory.addGetterSetter(D,"anchorSize",10,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"rotateEnabled",!0),u.Factory.addGetterSetter(D,"rotationSnaps",[]),u.Factory.addGetterSetter(D,"rotateAnchorOffset",50,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"rotateAnchorCursor","crosshair"),u.Factory.addGetterSetter(D,"rotationSnapTolerance",5,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"borderEnabled",!0),u.Factory.addGetterSetter(D,"anchorStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(D,"anchorStrokeWidth",1,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"anchorFill","white"),u.Factory.addGetterSetter(D,"anchorCornerRadius",0,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"borderStroke","rgb(0, 161, 255)"),u.Factory.addGetterSetter(D,"borderStrokeWidth",1,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"borderDash"),u.Factory.addGetterSetter(D,"keepRatio",!0),u.Factory.addGetterSetter(D,"shiftBehavior","default"),u.Factory.addGetterSetter(D,"centeredScaling",!1),u.Factory.addGetterSetter(D,"ignoreStroke",!1),u.Factory.addGetterSetter(D,"padding",0,(0,S.getNumberValidator)()),u.Factory.addGetterSetter(D,"node"),u.Factory.addGetterSetter(D,"nodes"),u.Factory.addGetterSetter(D,"boundBoxFunc"),u.Factory.addGetterSetter(D,"anchorDragBoundFunc"),u.Factory.addGetterSetter(D,"anchorStyleFunc"),u.Factory.addGetterSetter(D,"shouldOverdrawWholeArea",!1),u.Factory.addGetterSetter(D,"useSingleNodeRotation",!0),u.Factory.backCompat(D,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Wu}var qu={},$0;function Cv(){if($0)return qu;$0=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.Wedge=void 0;const s=mt(),u=$n(),c=vt(),E=St(),A=vt();let v=class extends u.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.radius(),0,c.Konva.getAngle(this.angle()),this.clockwise()),S.lineTo(0,0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(S){this.radius(S/2)}setHeight(S){this.radius(S/2)}};return qu.Wedge=v,v.prototype.className="Wedge",v.prototype._centroid=!0,v.prototype._attrsAffectingSize=["radius"],(0,A._registerNode)(v),s.Factory.addGetterSetter(v,"radius",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"angle",0,(0,E.getNumberValidator)()),s.Factory.addGetterSetter(v,"clockwise",!1),s.Factory.backCompat(v,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),qu}var Ku={},b0;function Ev(){if(b0)return Ku;b0=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.Blur=void 0;const s=mt(),u=yn(),c=St();function E(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],v=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function p(C,w){var T=C.data,d=C.width,x=C.height,_,m,N,R,z,P,y,I,D,W,K,U,q,V,Y,ie,F,G,H,Q,X,ee,re,$,oe=w+w+1,te=d-1,Se=x-1,ye=w+1,Ae=ye*(ye+1)/2,Ne=new E,Z=null,ce=Ne,we=null,Be=null,Le=A[w],Ye=v[w];for(N=1;N<oe;N++)ce=ce.next=new E,N===ye&&(Z=ce);for(ce.next=Ne,y=P=0,m=0;m<x;m++){for(ie=F=G=H=I=D=W=K=0,U=ye*(Q=T[P]),q=ye*(X=T[P+1]),V=ye*(ee=T[P+2]),Y=ye*(re=T[P+3]),I+=Ae*Q,D+=Ae*X,W+=Ae*ee,K+=Ae*re,ce=Ne,N=0;N<ye;N++)ce.r=Q,ce.g=X,ce.b=ee,ce.a=re,ce=ce.next;for(N=1;N<ye;N++)R=P+((te<N?te:N)<<2),I+=(ce.r=Q=T[R])*($=ye-N),D+=(ce.g=X=T[R+1])*$,W+=(ce.b=ee=T[R+2])*$,K+=(ce.a=re=T[R+3])*$,ie+=Q,F+=X,G+=ee,H+=re,ce=ce.next;for(we=Ne,Be=Z,_=0;_<d;_++)T[P+3]=re=K*Le>>Ye,re!==0?(re=255/re,T[P]=(I*Le>>Ye)*re,T[P+1]=(D*Le>>Ye)*re,T[P+2]=(W*Le>>Ye)*re):T[P]=T[P+1]=T[P+2]=0,I-=U,D-=q,W-=V,K-=Y,U-=we.r,q-=we.g,V-=we.b,Y-=we.a,R=y+((R=_+w+1)<te?R:te)<<2,ie+=we.r=T[R],F+=we.g=T[R+1],G+=we.b=T[R+2],H+=we.a=T[R+3],I+=ie,D+=F,W+=G,K+=H,we=we.next,U+=Q=Be.r,q+=X=Be.g,V+=ee=Be.b,Y+=re=Be.a,ie-=Q,F-=X,G-=ee,H-=re,Be=Be.next,P+=4;y+=d}for(_=0;_<d;_++){for(F=G=H=ie=D=W=K=I=0,P=_<<2,U=ye*(Q=T[P]),q=ye*(X=T[P+1]),V=ye*(ee=T[P+2]),Y=ye*(re=T[P+3]),I+=Ae*Q,D+=Ae*X,W+=Ae*ee,K+=Ae*re,ce=Ne,N=0;N<ye;N++)ce.r=Q,ce.g=X,ce.b=ee,ce.a=re,ce=ce.next;for(z=d,N=1;N<=w;N++)P=z+_<<2,I+=(ce.r=Q=T[P])*($=ye-N),D+=(ce.g=X=T[P+1])*$,W+=(ce.b=ee=T[P+2])*$,K+=(ce.a=re=T[P+3])*$,ie+=Q,F+=X,G+=ee,H+=re,ce=ce.next,N<Se&&(z+=d);for(P=_,we=Ne,Be=Z,m=0;m<x;m++)R=P<<2,T[R+3]=re=K*Le>>Ye,re>0?(re=255/re,T[R]=(I*Le>>Ye)*re,T[R+1]=(D*Le>>Ye)*re,T[R+2]=(W*Le>>Ye)*re):T[R]=T[R+1]=T[R+2]=0,I-=U,D-=q,W-=V,K-=Y,U-=we.r,q-=we.g,V-=we.b,Y-=we.a,R=_+((R=m+ye)<Se?R:Se)*d<<2,I+=ie+=we.r=T[R],D+=F+=we.g=T[R+1],W+=G+=we.b=T[R+2],K+=H+=we.a=T[R+3],we=we.next,U+=Q=Be.r,q+=X=Be.g,V+=ee=Be.b,Y+=re=Be.a,ie-=Q,F-=X,G-=ee,H-=re,Be=Be.next,P+=d}}const S=function(w){var T=Math.round(this.blurRadius());T>0&&p(w,T)};return Ku.Blur=S,s.Factory.addGetterSetter(u.Node,"blurRadius",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),Ku}var Yu={},W0;function kv(){if(W0)return Yu;W0=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.Brighten=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=this.brightness()*255,p=A.data,S=p.length,C;for(C=0;C<S;C+=4)p[C]+=v,p[C+1]+=v,p[C+2]+=v};return Yu.Brighten=E,s.Factory.addGetterSetter(u.Node,"brightness",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),Yu}var Qu={},q0;function Pv(){if(q0)return Qu;q0=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.Contrast=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=Math.pow((this.contrast()+100)/100,2),p=A.data,S=p.length,C=150,w=150,T=150,d;for(d=0;d<S;d+=4)C=p[d],w=p[d+1],T=p[d+2],C/=255,C-=.5,C*=v,C+=.5,C*=255,w/=255,w-=.5,w*=v,w+=.5,w*=255,T/=255,T-=.5,T*=v,T+=.5,T*=255,C=C<0?0:C>255?255:C,w=w<0?0:w>255?255:w,T=T<0?0:T>255?255:T,p[d]=C,p[d+1]=w,p[d+2]=T};return Qu.Contrast=E,s.Factory.addGetterSetter(u.Node,"contrast",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),Qu}var Xu={},K0;function Rv(){if(K0)return Xu;K0=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.Emboss=void 0;const s=mt(),u=yn(),c=cn(),E=St(),A=function(v){var p=this.embossStrength()*10,S=this.embossWhiteLevel()*255,C=this.embossDirection(),w=this.embossBlend(),T=0,d=0,x=v.data,_=v.width,m=v.height,N=_*4,R=m;switch(C){case"top-left":T=-1,d=-1;break;case"top":T=-1,d=0;break;case"top-right":T=-1,d=1;break;case"right":T=0,d=1;break;case"bottom-right":T=1,d=1;break;case"bottom":T=1,d=0;break;case"bottom-left":T=1,d=-1;break;case"left":T=0,d=-1;break;default:c.Util.error("Unknown emboss direction: "+C)}do{var z=(R-1)*N,P=T;R+P<1&&(P=0),R+P>m&&(P=0);var y=(R-1+P)*_*4,I=_;do{var D=z+(I-1)*4,W=d;I+W<1&&(W=0),I+W>_&&(W=0);var K=y+(I-1+W)*4,U=x[D]-x[K],q=x[D+1]-x[K+1],V=x[D+2]-x[K+2],Y=U,ie=Y>0?Y:-Y,F=q>0?q:-q,G=V>0?V:-V;if(F>ie&&(Y=q),G>ie&&(Y=V),Y*=p,w){var H=x[D]+Y,Q=x[D+1]+Y,X=x[D+2]+Y;x[D]=H>255?255:H<0?0:H,x[D+1]=Q>255?255:Q<0?0:Q,x[D+2]=X>255?255:X<0?0:X}else{var ee=S-Y;ee<0?ee=0:ee>255&&(ee=255),x[D]=x[D+1]=x[D+2]=ee}}while(--I)}while(--R)};return Xu.Emboss=A,s.Factory.addGetterSetter(u.Node,"embossStrength",.5,(0,E.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"embossWhiteLevel",.5,(0,E.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"embossDirection","top-left",null,s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"embossBlend",!1,null,s.Factory.afterSetFilter),Xu}var Ju={},Y0;function Tv(){if(Y0)return Ju;Y0=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Enhance=void 0;const s=mt(),u=yn(),c=St();function E(v,p,S,C,w){var T=S-p,d=w-C,x;return T===0?C+d/2:d===0?C:(x=(v-p)/T,x=d*x+C,x)}const A=function(v){var p=v.data,S=p.length,C=p[0],w=C,T,d=p[1],x=d,_,m=p[2],N=m,R,z,P=this.enhance();if(P!==0){for(z=0;z<S;z+=4)T=p[z+0],T<C?C=T:T>w&&(w=T),_=p[z+1],_<d?d=_:_>x&&(x=_),R=p[z+2],R<m?m=R:R>N&&(N=R);w===C&&(w=255,C=0),x===d&&(x=255,d=0),N===m&&(N=255,m=0);var y,I,D,W,K,U,q,V,Y;for(P>0?(I=w+P*(255-w),D=C-P*(C-0),K=x+P*(255-x),U=d-P*(d-0),V=N+P*(255-N),Y=m-P*(m-0)):(y=(w+C)*.5,I=w+P*(w-y),D=C+P*(C-y),W=(x+d)*.5,K=x+P*(x-W),U=d+P*(d-W),q=(N+m)*.5,V=N+P*(N-q),Y=m+P*(m-q)),z=0;z<S;z+=4)p[z+0]=E(p[z+0],C,w,D,I),p[z+1]=E(p[z+1],d,x,U,K),p[z+2]=E(p[z+2],m,N,Y,V)}};return Ju.Enhance=A,s.Factory.addGetterSetter(u.Node,"enhance",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),Ju}var Zu={},Q0;function Nv(){if(Q0)return Zu;Q0=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Grayscale=void 0;const s=function(u){var c=u.data,E=c.length,A,v;for(A=0;A<E;A+=4)v=.34*c[A]+.5*c[A+1]+.16*c[A+2],c[A]=v,c[A+1]=v,c[A+2]=v};return Zu.Grayscale=s,Zu}var ec={},X0;function Av(){if(X0)return ec;X0=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.HSL=void 0;const s=mt(),u=yn(),c=St();s.Factory.addGetterSetter(u.Node,"hue",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"saturation",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"luminance",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter);const E=function(A){var v=A.data,p=v.length,S=1,C=Math.pow(2,this.saturation()),w=Math.abs(this.hue()+360)%360,T=this.luminance()*127,d,x=S*C*Math.cos(w*Math.PI/180),_=S*C*Math.sin(w*Math.PI/180),m=.299*S+.701*x+.167*_,N=.587*S-.587*x+.33*_,R=.114*S-.114*x-.497*_,z=.299*S-.299*x-.328*_,P=.587*S+.413*x+.035*_,y=.114*S-.114*x+.293*_,I=.299*S-.3*x+1.25*_,D=.587*S-.586*x-1.05*_,W=.114*S+.886*x-.2*_,K,U,q,V;for(d=0;d<p;d+=4)K=v[d+0],U=v[d+1],q=v[d+2],V=v[d+3],v[d+0]=m*K+N*U+R*q+T,v[d+1]=z*K+P*U+y*q+T,v[d+2]=I*K+D*U+W*q+T,v[d+3]=V};return ec.HSL=E,ec}var tc={},J0;function Ov(){if(J0)return tc;J0=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.HSV=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=A.data,p=v.length,S=Math.pow(2,this.value()),C=Math.pow(2,this.saturation()),w=Math.abs(this.hue()+360)%360,T,d=S*C*Math.cos(w*Math.PI/180),x=S*C*Math.sin(w*Math.PI/180),_=.299*S+.701*d+.167*x,m=.587*S-.587*d+.33*x,N=.114*S-.114*d-.497*x,R=.299*S-.299*d-.328*x,z=.587*S+.413*d+.035*x,P=.114*S-.114*d+.293*x,y=.299*S-.3*d+1.25*x,I=.587*S-.586*d-1.05*x,D=.114*S+.886*d-.2*x,W,K,U,q;for(T=0;T<p;T+=4)W=v[T+0],K=v[T+1],U=v[T+2],q=v[T+3],v[T+0]=_*W+m*K+N*U,v[T+1]=R*W+z*K+P*U,v[T+2]=y*W+I*K+D*U,v[T+3]=q};return tc.HSV=E,s.Factory.addGetterSetter(u.Node,"hue",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"saturation",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"value",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),tc}var nc={},Z0;function Mv(){if(Z0)return nc;Z0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Invert=void 0;const s=function(u){var c=u.data,E=c.length,A;for(A=0;A<E;A+=4)c[A]=255-c[A],c[A+1]=255-c[A+1],c[A+2]=255-c[A+2]};return nc.Invert=s,nc}var rc={},ep;function Iv(){if(ep)return rc;ep=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Kaleidoscope=void 0;const s=mt(),u=yn(),c=cn(),E=St();var A=function(S,C,w){var T=S.data,d=C.data,x=S.width,_=S.height,m=w.polarCenterX||x/2,N=w.polarCenterY||_/2,R,z,P,y=0,I=0,D=0,W=0,K,U=Math.sqrt(m*m+N*N);z=x-m,P=_-N,K=Math.sqrt(z*z+P*P),U=K>U?K:U;var q=_,V=x,Y,ie,F=360/V*Math.PI/180,G,H;for(ie=0;ie<V;ie+=1)for(G=Math.sin(ie*F),H=Math.cos(ie*F),Y=0;Y<q;Y+=1)z=Math.floor(m+U*Y/q*H),P=Math.floor(N+U*Y/q*G),R=(P*x+z)*4,y=T[R+0],I=T[R+1],D=T[R+2],W=T[R+3],R=(ie+Y*x)*4,d[R+0]=y,d[R+1]=I,d[R+2]=D,d[R+3]=W},v=function(S,C,w){var T=S.data,d=C.data,x=S.width,_=S.height,m=w.polarCenterX||x/2,N=w.polarCenterY||_/2,R,z,P,y,I,D=0,W=0,K=0,U=0,q,V=Math.sqrt(m*m+N*N);z=x-m,P=_-N,q=Math.sqrt(z*z+P*P),V=q>V?q:V;var Y=_,ie=x,F,G,H=0,Q,X;for(z=0;z<x;z+=1)for(P=0;P<_;P+=1)y=z-m,I=P-N,F=Math.sqrt(y*y+I*I)*Y/V,G=(Math.atan2(I,y)*180/Math.PI+360+H)%360,G=G*ie/360,Q=Math.floor(G),X=Math.floor(F),R=(X*x+Q)*4,D=T[R+0],W=T[R+1],K=T[R+2],U=T[R+3],R=(P*x+z)*4,d[R+0]=D,d[R+1]=W,d[R+2]=K,d[R+3]=U};const p=function(S){var C=S.width,w=S.height,T,d,x,_,m,N,R,z,P,y,I=Math.round(this.kaleidoscopePower()),D=Math.round(this.kaleidoscopeAngle()),W=Math.floor(C*(D%360)/360);if(!(I<1)){var K=c.Util.createCanvasElement();K.width=C,K.height=w;var U=K.getContext("2d").getImageData(0,0,C,w);c.Util.releaseCanvas(K),A(S,U,{polarCenterX:C/2,polarCenterY:w/2});for(var q=C/Math.pow(2,I);q<=8;)q=q*2,I-=1;q=Math.ceil(q);var V=q,Y=0,ie=V,F=1;for(W+q>C&&(Y=V,ie=0,F=-1),d=0;d<w;d+=1)for(T=Y;T!==ie;T+=F)x=Math.round(T+W)%C,P=(C*d+x)*4,m=U.data[P+0],N=U.data[P+1],R=U.data[P+2],z=U.data[P+3],y=(C*d+T)*4,U.data[y+0]=m,U.data[y+1]=N,U.data[y+2]=R,U.data[y+3]=z;for(d=0;d<w;d+=1)for(V=Math.floor(q),_=0;_<I;_+=1){for(T=0;T<V+1;T+=1)P=(C*d+T)*4,m=U.data[P+0],N=U.data[P+1],R=U.data[P+2],z=U.data[P+3],y=(C*d+V*2-T-1)*4,U.data[y+0]=m,U.data[y+1]=N,U.data[y+2]=R,U.data[y+3]=z;V*=2}v(U,S,{})}};return rc.Kaleidoscope=p,s.Factory.addGetterSetter(u.Node,"kaleidoscopePower",2,(0,E.getNumberValidator)(),s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"kaleidoscopeAngle",0,(0,E.getNumberValidator)(),s.Factory.afterSetFilter),rc}var ic={},tp;function Lv(){if(tp)return ic;tp=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.Mask=void 0;const s=mt(),u=yn(),c=St();function E(x,_,m){var N=(m*x.width+_)*4,R=[];return R.push(x.data[N++],x.data[N++],x.data[N++],x.data[N++]),R}function A(x,_){return Math.sqrt(Math.pow(x[0]-_[0],2)+Math.pow(x[1]-_[1],2)+Math.pow(x[2]-_[2],2))}function v(x){for(var _=[0,0,0],m=0;m<x.length;m++)_[0]+=x[m][0],_[1]+=x[m][1],_[2]+=x[m][2];return _[0]/=x.length,_[1]/=x.length,_[2]/=x.length,_}function p(x,_){var m=E(x,0,0),N=E(x,x.width-1,0),R=E(x,0,x.height-1),z=E(x,x.width-1,x.height-1),P=_||10;if(A(m,N)<P&&A(N,z)<P&&A(z,R)<P&&A(R,m)<P){for(var y=v([N,m,z,R]),I=[],D=0;D<x.width*x.height;D++){var W=A(y,[x.data[D*4],x.data[D*4+1],x.data[D*4+2]]);I[D]=W<P?0:255}return I}}function S(x,_){for(var m=0;m<x.width*x.height;m++)x.data[4*m+3]=_[m]}function C(x,_,m){for(var N=[1,1,1,1,0,1,1,1,1],R=Math.round(Math.sqrt(N.length)),z=Math.floor(R/2),P=[],y=0;y<m;y++)for(var I=0;I<_;I++){for(var D=y*_+I,W=0,K=0;K<R;K++)for(var U=0;U<R;U++){var q=y+K-z,V=I+U-z;if(q>=0&&q<m&&V>=0&&V<_){var Y=q*_+V,ie=N[K*R+U];W+=x[Y]*ie}}P[D]=W===255*8?255:0}return P}function w(x,_,m){for(var N=[1,1,1,1,1,1,1,1,1],R=Math.round(Math.sqrt(N.length)),z=Math.floor(R/2),P=[],y=0;y<m;y++)for(var I=0;I<_;I++){for(var D=y*_+I,W=0,K=0;K<R;K++)for(var U=0;U<R;U++){var q=y+K-z,V=I+U-z;if(q>=0&&q<m&&V>=0&&V<_){var Y=q*_+V,ie=N[K*R+U];W+=x[Y]*ie}}P[D]=W>=255*4?255:0}return P}function T(x,_,m){for(var N=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],R=Math.round(Math.sqrt(N.length)),z=Math.floor(R/2),P=[],y=0;y<m;y++)for(var I=0;I<_;I++){for(var D=y*_+I,W=0,K=0;K<R;K++)for(var U=0;U<R;U++){var q=y+K-z,V=I+U-z;if(q>=0&&q<m&&V>=0&&V<_){var Y=q*_+V,ie=N[K*R+U];W+=x[Y]*ie}}P[D]=W}return P}const d=function(x){var _=this.threshold(),m=p(x,_);return m&&(m=C(m,x.width,x.height),m=w(m,x.width,x.height),m=T(m,x.width,x.height),S(x,m)),x};return ic.Mask=d,s.Factory.addGetterSetter(u.Node,"threshold",0,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),ic}var oc={},np;function Fv(){if(np)return oc;np=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Noise=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=this.noise()*255,p=A.data,S=p.length,C=v/2,w;for(w=0;w<S;w+=4)p[w+0]+=C-2*C*Math.random(),p[w+1]+=C-2*C*Math.random(),p[w+2]+=C-2*C*Math.random()};return oc.Noise=E,s.Factory.addGetterSetter(u.Node,"noise",.2,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),oc}var ac={},rp;function Dv(){if(rp)return ac;rp=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Pixelate=void 0;const s=mt(),u=cn(),c=yn(),E=St(),A=function(v){var p=Math.ceil(this.pixelSize()),S=v.width,C=v.height,w,T,d,x,_,m,N,R=Math.ceil(S/p),z=Math.ceil(C/p),P,y,I,D,W,K,U,q=v.data;if(p<=0){u.Util.error("pixelSize value can not be <= 0");return}for(W=0;W<R;W+=1)for(K=0;K<z;K+=1){for(x=0,_=0,m=0,N=0,P=W*p,y=P+p,I=K*p,D=I+p,U=0,w=P;w<y;w+=1)if(!(w>=S))for(T=I;T<D;T+=1)T>=C||(d=(S*T+w)*4,x+=q[d+0],_+=q[d+1],m+=q[d+2],N+=q[d+3],U+=1);for(x=x/U,_=_/U,m=m/U,N=N/U,w=P;w<y;w+=1)if(!(w>=S))for(T=I;T<D;T+=1)T>=C||(d=(S*T+w)*4,q[d+0]=x,q[d+1]=_,q[d+2]=m,q[d+3]=N)}};return ac.Pixelate=A,s.Factory.addGetterSetter(c.Node,"pixelSize",8,(0,E.getNumberValidator)(),s.Factory.afterSetFilter),ac}var sc={},ip;function zv(){if(ip)return sc;ip=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Posterize=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=Math.round(this.levels()*254)+1,p=A.data,S=p.length,C=255/v,w;for(w=0;w<S;w+=1)p[w]=Math.floor(p[w]/C)*C};return sc.Posterize=E,s.Factory.addGetterSetter(u.Node,"levels",.5,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),sc}var lc={},op;function Uv(){if(op)return lc;op=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.RGB=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=A.data,p=v.length,S=this.red(),C=this.green(),w=this.blue(),T,d;for(T=0;T<p;T+=4)d=(.34*v[T]+.5*v[T+1]+.16*v[T+2])/255,v[T]=d*S,v[T+1]=d*C,v[T+2]=d*w,v[T+3]=v[T+3]};return lc.RGB=E,s.Factory.addGetterSetter(u.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),s.Factory.addGetterSetter(u.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),s.Factory.addGetterSetter(u.Node,"blue",0,c.RGBComponent,s.Factory.afterSetFilter),lc}var uc={},ap;function jv(){if(ap)return uc;ap=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.RGBA=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=A.data,p=v.length,S=this.red(),C=this.green(),w=this.blue(),T=this.alpha(),d,x;for(d=0;d<p;d+=4)x=1-T,v[d]=S*T+v[d]*x,v[d+1]=C*T+v[d+1]*x,v[d+2]=w*T+v[d+2]*x};return uc.RGBA=E,s.Factory.addGetterSetter(u.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),s.Factory.addGetterSetter(u.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),s.Factory.addGetterSetter(u.Node,"blue",0,c.RGBComponent,s.Factory.afterSetFilter),s.Factory.addGetterSetter(u.Node,"alpha",1,function(A){return this._filterUpToDate=!1,A>1?1:A<0?0:A}),uc}var fc={},sp;function Gv(){if(sp)return fc;sp=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.Sepia=void 0;const s=function(u){var c=u.data,E=c.length,A,v,p,S;for(A=0;A<E;A+=4)v=c[A+0],p=c[A+1],S=c[A+2],c[A+0]=Math.min(255,v*.393+p*.769+S*.189),c[A+1]=Math.min(255,v*.349+p*.686+S*.168),c[A+2]=Math.min(255,v*.272+p*.534+S*.131)};return fc.Sepia=s,fc}var dc={},lp;function Bv(){if(lp)return dc;lp=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Solarize=void 0;const s=function(u){var c=u.data,E=u.width,A=u.height,v=E*4,p=A;do{var S=(p-1)*v,C=E;do{var w=S+(C-1)*4,T=c[w],d=c[w+1],x=c[w+2];T>127&&(T=255-T),d>127&&(d=255-d),x>127&&(x=255-x),c[w]=T,c[w+1]=d,c[w+2]=x}while(--C)}while(--p)};return dc.Solarize=s,dc}var hc={},up;function Hv(){if(up)return hc;up=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.Threshold=void 0;const s=mt(),u=yn(),c=St(),E=function(A){var v=this.threshold()*255,p=A.data,S=p.length,C;for(C=0;C<S;C+=1)p[C]=p[C]<v?0:255};return hc.Threshold=E,s.Factory.addGetterSetter(u.Node,"threshold",.5,(0,c.getNumberValidator)(),s.Factory.afterSetFilter),hc}var cp;function Vv(){if(cp)return Pu;cp=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.Konva=void 0;const s=zd(),u=cv(),c=dv(),E=hv(),A=pv(),v=gv(),p=vv(),S=Zp(),C=$d(),w=t1(),T=mv(),d=yv(),x=_v(),_=Sv(),m=n1(),N=wv(),R=xv(),z=Cv(),P=Ev(),y=kv(),I=Pv(),D=Rv(),W=Tv(),K=Nv(),U=Av(),q=Ov(),V=Mv(),Y=Iv(),ie=Lv(),F=Fv(),G=Dv(),H=zv(),Q=Uv(),X=jv(),ee=Gv(),re=Bv(),$=Hv();return Pu.Konva=s.Konva.Util._assign(s.Konva,{Arc:u.Arc,Arrow:c.Arrow,Circle:E.Circle,Ellipse:A.Ellipse,Image:v.Image,Label:p.Label,Tag:p.Tag,Line:S.Line,Path:C.Path,Rect:w.Rect,RegularPolygon:T.RegularPolygon,Ring:d.Ring,Sprite:x.Sprite,Star:_.Star,Text:m.Text,TextPath:N.TextPath,Transformer:R.Transformer,Wedge:z.Wedge,Filters:{Blur:P.Blur,Brighten:y.Brighten,Contrast:I.Contrast,Emboss:D.Emboss,Enhance:W.Enhance,Grayscale:K.Grayscale,HSL:U.HSL,HSV:q.HSV,Invert:V.Invert,Kaleidoscope:Y.Kaleidoscope,Mask:ie.Mask,Noise:F.Noise,Pixelate:G.Pixelate,Posterize:H.Posterize,RGB:Q.RGB,RGBA:X.RGBA,Sepia:ee.Sepia,Solarize:re.Solarize,Threshold:$.Threshold}}),Pu}var $v=Pf.exports,fp;function bv(){if(fp)return Pf.exports;fp=1,Object.defineProperty($v,"__esModule",{value:!0});const s=Vv();return Pf.exports=s.Konva,Pf.exports}bv();var Ef={exports:{}},dp;function Wv(){return dp||(dp=1,function(s,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Konva=void 0;var c=zd();Object.defineProperty(u,"Konva",{enumerable:!0,get:function(){return c.Konva}});const E=zd();s.exports=E.Konva}(Ef,Ef.exports)),Ef.exports}var qv=Wv();const yc=Tf(qv);var Ad={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od,hp;function Kv(){return hp||(hp=1,Od=function(u){var c={},E=Nf(),A=Ud(),v=Object.assign;function p(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),m=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}function K(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case w:return"Portal";case x:return"Profiler";case d:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m:return(n.displayName||"Context")+".Consumer";case _:return(n._context.displayName||"Context")+".Provider";case N:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:K(n.type)||"Memo";case y:r=n._payload,n=n._init;try{return K(n(r))}catch{}}return null}function U(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(r);case 8:return r===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function q(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function V(n){if(q(n)!==n)throw Error(p(188))}function Y(n){var r=n.alternate;if(!r){if(r=q(n),r===null)throw Error(p(188));return r!==n?null:n}for(var o=n,l=r;;){var g=o.return;if(g===null)break;var M=g.alternate;if(M===null){if(l=g.return,l!==null){o=l;continue}break}if(g.child===M.child){for(M=g.child;M;){if(M===o)return V(g),n;if(M===l)return V(g),r;M=M.sibling}throw Error(p(188))}if(o.return!==l.return)o=g,l=M;else{for(var b=!1,ae=g.child;ae;){if(ae===o){b=!0,o=g,l=M;break}if(ae===l){b=!0,l=g,o=M;break}ae=ae.sibling}if(!b){for(ae=M.child;ae;){if(ae===o){b=!0,o=M,l=g;break}if(ae===l){b=!0,l=M,o=g;break}ae=ae.sibling}if(!b)throw Error(p(189))}}if(o.alternate!==l)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?n:r}function ie(n){return n=Y(n),n!==null?F(n):null}function F(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=F(n);if(r!==null)return r;n=n.sibling}return null}function G(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=G(n);if(r!==null)return r}n=n.sibling}return null}var H=Array.isArray,Q=u.getPublicInstance,X=u.getRootHostContext,ee=u.getChildHostContext,re=u.prepareForCommit,$=u.resetAfterCommit,oe=u.createInstance,te=u.appendInitialChild,Se=u.finalizeInitialChildren,ye=u.prepareUpdate,Ae=u.shouldSetTextContent,Ne=u.createTextInstance,Z=u.scheduleTimeout,ce=u.cancelTimeout,we=u.noTimeout,Be=u.isPrimaryRenderer,Le=u.supportsMutation,Ye=u.supportsPersistence,He=u.supportsHydration,Gt=u.getInstanceFromNode,ht=u.preparePortalMount,fn=u.getCurrentEventPriority,Dt=u.detachDeletedInstance,Jt=u.supportsMicrotasks,bt=u.scheduleMicrotask,wt=u.supportsTestSelectors,pt=u.findFiberRoot,bn=u.getBoundingRect,Tn=u.getTextContent,dn=u.isHiddenSubtree,Yt=u.matchAccessibilityRole,tn=u.setFocusIfFocusable,dr=u.setupIntersectionObserver,tr=u.appendChild,Or=u.appendChildToContainer,_n=u.commitTextUpdate,nr=u.commitMount,bo=u.commitUpdate,Wo=u.insertBefore,rr=u.insertInContainerBefore,kl=u.removeChild,Ua=u.removeChildFromContainer,ao=u.resetTextContent,qo=u.hideInstance,so=u.hideTextInstance,lo=u.unhideInstance,zi=u.unhideTextInstance,Ui=u.clearContainer,Ko=u.cloneInstance,ja=u.createContainerChildSet,Yo=u.appendChildToContainerChildSet,Rs=u.finalizeContainerChildren,Qo=u.replaceContainerChildren,Nn=u.cloneHiddenInstance,Ga=u.cloneHiddenTextInstance,hr=u.canHydrateInstance,uo=u.canHydrateTextInstance,mi=u.canHydrateSuspenseInstance,Ts=u.isSuspenseInstancePending,O=u.isSuspenseInstanceFallback,h=u.getSuspenseInstanceFallbackErrorDetails,L=u.registerSuspenseInstanceRetry,B=u.getNextHydratableSibling,le=u.getFirstHydratableChild,_e=u.getFirstHydratableChildWithinContainer,be=u.getFirstHydratableChildWithinSuspenseInstance,Fe=u.hydrateInstance,dt=u.hydrateTextInstance,ut=u.hydrateSuspenseInstance,We=u.getNextHydratableInstanceAfterSuspenseInstance,ct=u.commitHydratedContainer,Ve=u.commitHydratedSuspenseInstance,at=u.clearSuspenseBoundary,Je=u.clearSuspenseBoundaryFromContainer,nt=u.shouldDeleteUnhydratedTailInstances,Te=u.didNotMatchHydratedContainerTextInstance,qe=u.didNotMatchHydratedTextInstance,Sn;function Rt(n){if(Sn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Sn=r&&r[1]||""}return`
`+Sn+n}var ot=!1;function st(n,r){if(!n||ot)return"";ot=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Pe){var l=Pe}Reflect.construct(n,[],r)}else{try{r.call()}catch(Pe){l=Pe}n.call(r.prototype)}else{try{throw Error()}catch(Pe){l=Pe}n()}}catch(Pe){if(Pe&&l&&typeof Pe.stack=="string"){for(var g=Pe.stack.split(`
`),M=l.stack.split(`
`),b=g.length-1,ae=M.length-1;1<=b&&0<=ae&&g[b]!==M[ae];)ae--;for(;1<=b&&0<=ae;b--,ae--)if(g[b]!==M[ae]){if(b!==1||ae!==1)do if(b--,ae--,0>ae||g[b]!==M[ae]){var ve=`
`+g[b].replace(" at new "," at ");return n.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",n.displayName)),ve}while(1<=b&&0<=ae);break}}}finally{ot=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Rt(n):""}var ii=Object.prototype.hasOwnProperty,pr=[],Zt=-1;function yt(n){return{current:n}}function Ze(n){0>Zt||(n.current=pr[Zt],pr[Zt]=null,Zt--)}function lt(n,r){Zt++,pr[Zt]=n.current,n.current=r}var wn={},nn=yt(wn),Wt=yt(!1),Wn=wn;function yi(n,r){var o=n.type.contextTypes;if(!o)return wn;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var g={},M;for(M in o)g[M]=r[M];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=g),g}function xn(n){return n=n.childContextTypes,n!=null}function co(){Ze(Wt),Ze(nn)}function wc(n,r,o){if(nn.current!==wn)throw Error(p(168));lt(nn,r),lt(Wt,o)}function xc(n,r,o){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var g in l)if(!(g in r))throw Error(p(108,U(n)||"Unknown",g));return v({},o,l)}function Xo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wn,Wn=nn.current,lt(nn,n),lt(Wt,Wt.current),!0}function Pl(n,r,o){var l=n.stateNode;if(!l)throw Error(p(169));o?(n=xc(n,r,Wn),l.__reactInternalMemoizedMergedChildContext=n,Ze(Wt),Ze(nn),lt(nn,n)):Ze(Wt),lt(Wt,o)}var gr=Math.clz32?Math.clz32:Rl,Ba=Math.log,Df=Math.LN2;function Rl(n){return n>>>=0,n===0?32:31-(Ba(n)/Df|0)|0}var Et=64,Ha=4194304;function Jo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zo(n,r){var o=n.pendingLanes;if(o===0)return 0;var l=0,g=n.suspendedLanes,M=n.pingedLanes,b=o&268435455;if(b!==0){var ae=b&~g;ae!==0?l=Jo(ae):(M&=b,M!==0&&(l=Jo(M)))}else b=o&~g,b!==0?l=Jo(b):M!==0&&(l=Jo(M));if(l===0)return 0;if(r!==0&&r!==l&&(r&g)===0&&(g=l&-l,M=r&-r,g>=M||g===16&&(M&4194240)!==0))return r;if((l&4)!==0&&(l|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)o=31-gr(r),g=1<<o,l|=n[o],r&=~g;return l}function Cc(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(n,r){for(var o=n.suspendedLanes,l=n.pingedLanes,g=n.expirationTimes,M=n.pendingLanes;0<M;){var b=31-gr(M),ae=1<<b,ve=g[b];ve===-1?((ae&o)===0||(ae&l)!==0)&&(g[b]=Cc(ae,r)):ve<=r&&(n.expiredLanes|=ae),M&=~ae}}function Ns(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function As(){var n=Et;return Et<<=1,(Et&4194240)===0&&(Et=64),n}function ea(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Mr(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-gr(r),n[r]=o}function ji(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var g=31-gr(o),M=1<<g;r[g]=0,l[g]=-1,n[g]=-1,o&=~M}}function oi(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var l=31-gr(o),g=1<<l;g&r|n[l]&r&&(n[l]|=r),o&=~g}}var gt=0;function ta(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ai=A.unstable_scheduleCallback,kc=A.unstable_cancelCallback,Pc=A.unstable_shouldYield,Va=A.unstable_requestPaint,Cn=A.unstable_now,Os=A.unstable_ImmediatePriority,Ms=A.unstable_UserBlockingPriority,Is=A.unstable_NormalPriority,zf=A.unstable_IdlePriority,Gi=null,ir=null;function na(n){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Gi,n,void 0,(n.current.flags&128)===128)}catch{}}function Ls(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var br=typeof Object.is=="function"?Object.is:Ls,_i=null,ra=!1,ia=!1;function Fs(n){_i===null?_i=[n]:_i.push(n)}function Rc(n){ra=!0,Fs(n)}function An(){if(!ia&&_i!==null){ia=!0;var n=0,r=gt;try{var o=_i;for(gt=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}_i=null,ra=!1}catch(g){throw _i!==null&&(_i=_i.slice(n+1)),ai(Os,An),g}finally{gt=r,ia=!1}}return null}var Bi=[],Si=0,$a=null,fo=0,qn=[],vr=0,hn=null,or=1,Wr="";function qr(n,r){Bi[Si++]=fo,Bi[Si++]=$a,$a=n,fo=r}function Tc(n,r,o){qn[vr++]=or,qn[vr++]=Wr,qn[vr++]=hn,hn=n;var l=or;n=Wr;var g=32-gr(l)-1;l&=~(1<<g),o+=1;var M=32-gr(r)+g;if(30<M){var b=g-g%5;M=(l&(1<<b)-1).toString(32),l>>=b,g-=b,or=1<<32-gr(r)+g|o<<g|l,Wr=M+n}else or=1<<M|o<<g|l,Wr=n}function ba(n){n.return!==null&&(qr(n,1),Tc(n,1,0))}function Wa(n){for(;n===$a;)$a=Bi[--Si],Bi[Si]=null,fo=Bi[--Si],Bi[Si]=null;for(;n===hn;)hn=qn[--vr],qn[vr]=null,Wr=qn[--vr],qn[vr]=null,or=qn[--vr],qn[vr]=null}var On=null,Kn=null,zt=!1,qa=!1,Kr=null;function Nc(n,r){var o=Nr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function Ds(n,r){switch(n.tag){case 5:return r=hr(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,On=n,Kn=le(r),!0):!1;case 6:return r=uo(r,n.pendingProps),r!==null?(n.stateNode=r,On=n,Kn=null,!0):!1;case 13:if(r=mi(r),r!==null){var o=hn!==null?{id:or,overflow:Wr}:null;return n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Nr(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,On=n,Kn=null,!0}return!1;default:return!1}}function Tl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nl(n){if(zt){var r=Kn;if(r){var o=r;if(!Ds(n,r)){if(Tl(n))throw Error(p(418));r=B(o);var l=On;r&&Ds(n,r)?Nc(l,o):(n.flags=n.flags&-4097|2,zt=!1,On=n)}}else{if(Tl(n))throw Error(p(418));n.flags=n.flags&-4097|2,zt=!1,On=n}}}function Ac(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;On=n}function zs(n){if(!He||n!==On)return!1;if(!zt)return Ac(n),zt=!0,!1;if(n.tag!==3&&(n.tag!==5||nt(n.type)&&!Ae(n.type,n.memoizedProps))){var r=Kn;if(r){if(Tl(n))throw Oc(),Error(p(418));for(;r;)Nc(n,r),r=B(r)}}if(Ac(n),n.tag===13){if(!He)throw Error(p(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(p(317));Kn=We(n)}else Kn=On?B(n.stateNode):null;return!0}function Oc(){for(var n=Kn;n;)n=B(n)}function ho(){He&&(Kn=On=null,qa=zt=!1)}function Al(n){Kr===null?Kr=[n]:Kr.push(n)}var Uf=S.ReactCurrentBatchConfig;function Us(n,r){if(br(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var g=o[l];if(!ii.call(r,g)||!br(n[g],r[g]))return!1}return!0}function jf(n){switch(n.tag){case 5:return Rt(n.type);case 16:return Rt("Lazy");case 13:return Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 2:case 15:return n=st(n.type,!1),n;case 11:return n=st(n.type.render,!1),n;case 1:return n=st(n.type,!0),n;default:return""}}function po(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var l=o.stateNode}if(!l)throw Error(p(147,n));var g=l,M=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===M?r.ref:(r=function(b){var ae=g.refs;b===null?delete ae[M]:ae[M]=b},r._stringRef=M,r)}if(typeof n!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,n))}return n}function js(n,r){throw n=Object.prototype.toString.call(r),Error(p(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Mc(n){var r=n._init;return r(n._payload)}function Ic(n){function r(pe,ue){if(n){var me=pe.deletions;me===null?(pe.deletions=[ue],pe.flags|=16):me.push(ue)}}function o(pe,ue){if(!n)return null;for(;ue!==null;)r(pe,ue),ue=ue.sibling;return null}function l(pe,ue){for(pe=new Map;ue!==null;)ue.key!==null?pe.set(ue.key,ue):pe.set(ue.index,ue),ue=ue.sibling;return pe}function g(pe,ue){return pe=Ti(pe,ue),pe.index=0,pe.sibling=null,pe}function M(pe,ue,me){return pe.index=me,n?(me=pe.alternate,me!==null?(me=me.index,me<ue?(pe.flags|=2,ue):me):(pe.flags|=2,ue)):(pe.flags|=1048576,ue)}function b(pe){return n&&pe.alternate===null&&(pe.flags|=2),pe}function ae(pe,ue,me,Ie){return ue===null||ue.tag!==6?(ue=gl(me,pe.mode,Ie),ue.return=pe,ue):(ue=g(ue,me),ue.return=pe,ue)}function ve(pe,ue,me,Ie){var Ke=me.type;return Ke===T?ze(pe,ue,me.props.children,Ie,me.key):ue!==null&&(ue.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===y&&Mc(Ke)===ue.type)?(Ie=g(ue,me.props),Ie.ref=po(pe,ue,me),Ie.return=pe,Ie):(Ie=pl(me.type,me.key,me.props,null,pe.mode,Ie),Ie.ref=po(pe,ue,me),Ie.return=pe,Ie)}function Pe(pe,ue,me,Ie){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==me.containerInfo||ue.stateNode.implementation!==me.implementation?(ue=vl(me,pe.mode,Ie),ue.return=pe,ue):(ue=g(ue,me.children||[]),ue.return=pe,ue)}function ze(pe,ue,me,Ie,Ke){return ue===null||ue.tag!==7?(ue=Do(me,pe.mode,Ie,Ke),ue.return=pe,ue):(ue=g(ue,me),ue.return=pe,ue)}function tt(pe,ue,me){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=gl(""+ue,pe.mode,me),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return me=pl(ue.type,ue.key,ue.props,null,pe.mode,me),me.ref=po(pe,null,ue),me.return=pe,me;case w:return ue=vl(ue,pe.mode,me),ue.return=pe,ue;case y:var Ie=ue._init;return tt(pe,Ie(ue._payload),me)}if(H(ue)||W(ue))return ue=Do(ue,pe.mode,me,null),ue.return=pe,ue;js(pe,ue)}return null}function Me(pe,ue,me,Ie){var Ke=ue!==null?ue.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ke!==null?null:ae(pe,ue,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return me.key===Ke?ve(pe,ue,me,Ie):null;case w:return me.key===Ke?Pe(pe,ue,me,Ie):null;case y:return Ke=me._init,Me(pe,ue,Ke(me._payload),Ie)}if(H(me)||W(me))return Ke!==null?null:ze(pe,ue,me,Ie,null);js(pe,me)}return null}function Mt(pe,ue,me,Ie,Ke){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return pe=pe.get(me)||null,ae(ue,pe,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return pe=pe.get(Ie.key===null?me:Ie.key)||null,ve(ue,pe,Ie,Ke);case w:return pe=pe.get(Ie.key===null?me:Ie.key)||null,Pe(ue,pe,Ie,Ke);case y:var rt=Ie._init;return Mt(pe,ue,me,rt(Ie._payload),Ke)}if(H(Ie)||W(Ie))return pe=pe.get(me)||null,ze(ue,pe,Ie,Ke,null);js(ue,Ie)}return null}function Nt(pe,ue,me,Ie){for(var Ke=null,rt=null,it=ue,xt=ue=0,ln=null;it!==null&&xt<me.length;xt++){it.index>xt?(ln=it,it=null):ln=it.sibling;var Ct=Me(pe,it,me[xt],Ie);if(Ct===null){it===null&&(it=ln);break}n&&it&&Ct.alternate===null&&r(pe,it),ue=M(Ct,ue,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct,it=ln}if(xt===me.length)return o(pe,it),zt&&qr(pe,xt),Ke;if(it===null){for(;xt<me.length;xt++)it=tt(pe,me[xt],Ie),it!==null&&(ue=M(it,ue,xt),rt===null?Ke=it:rt.sibling=it,rt=it);return zt&&qr(pe,xt),Ke}for(it=l(pe,it);xt<me.length;xt++)ln=Mt(it,pe,xt,me[xt],Ie),ln!==null&&(n&&ln.alternate!==null&&it.delete(ln.key===null?xt:ln.key),ue=M(ln,ue,xt),rt===null?Ke=ln:rt.sibling=ln,rt=ln);return n&&it.forEach(function(ti){return r(pe,ti)}),zt&&qr(pe,xt),Ke}function Bn(pe,ue,me,Ie){var Ke=W(me);if(typeof Ke!="function")throw Error(p(150));if(me=Ke.call(me),me==null)throw Error(p(151));for(var rt=Ke=null,it=ue,xt=ue=0,ln=null,Ct=me.next();it!==null&&!Ct.done;xt++,Ct=me.next()){it.index>xt?(ln=it,it=null):ln=it.sibling;var ti=Me(pe,it,Ct.value,Ie);if(ti===null){it===null&&(it=ln);break}n&&it&&ti.alternate===null&&r(pe,it),ue=M(ti,ue,xt),rt===null?Ke=ti:rt.sibling=ti,rt=ti,it=ln}if(Ct.done)return o(pe,it),zt&&qr(pe,xt),Ke;if(it===null){for(;!Ct.done;xt++,Ct=me.next())Ct=tt(pe,Ct.value,Ie),Ct!==null&&(ue=M(Ct,ue,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct);return zt&&qr(pe,xt),Ke}for(it=l(pe,it);!Ct.done;xt++,Ct=me.next())Ct=Mt(it,pe,xt,Ct.value,Ie),Ct!==null&&(n&&Ct.alternate!==null&&it.delete(Ct.key===null?xt:Ct.key),ue=M(Ct,ue,xt),rt===null?Ke=Ct:rt.sibling=Ct,rt=Ct);return n&&it.forEach(function(Ni){return r(pe,Ni)}),zt&&qr(pe,xt),Ke}function pi(pe,ue,me,Ie){if(typeof me=="object"&&me!==null&&me.type===T&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case C:e:{for(var Ke=me.key,rt=ue;rt!==null;){if(rt.key===Ke){if(Ke=me.type,Ke===T){if(rt.tag===7){o(pe,rt.sibling),ue=g(rt,me.props.children),ue.return=pe,pe=ue;break e}}else if(rt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===y&&Mc(Ke)===rt.type){o(pe,rt.sibling),ue=g(rt,me.props),ue.ref=po(pe,rt,me),ue.return=pe,pe=ue;break e}o(pe,rt);break}else r(pe,rt);rt=rt.sibling}me.type===T?(ue=Do(me.props.children,pe.mode,Ie,me.key),ue.return=pe,pe=ue):(Ie=pl(me.type,me.key,me.props,null,pe.mode,Ie),Ie.ref=po(pe,ue,me),Ie.return=pe,pe=Ie)}return b(pe);case w:e:{for(rt=me.key;ue!==null;){if(ue.key===rt)if(ue.tag===4&&ue.stateNode.containerInfo===me.containerInfo&&ue.stateNode.implementation===me.implementation){o(pe,ue.sibling),ue=g(ue,me.children||[]),ue.return=pe,pe=ue;break e}else{o(pe,ue);break}else r(pe,ue);ue=ue.sibling}ue=vl(me,pe.mode,Ie),ue.return=pe,pe=ue}return b(pe);case y:return rt=me._init,pi(pe,ue,rt(me._payload),Ie)}if(H(me))return Nt(pe,ue,me,Ie);if(W(me))return Bn(pe,ue,me,Ie);js(pe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ue!==null&&ue.tag===6?(o(pe,ue.sibling),ue=g(ue,me),ue.return=pe,pe=ue):(o(pe,ue),ue=gl(me,pe.mode,Ie),ue.return=pe,pe=ue),b(pe)):o(pe,ue)}return pi}var go=Ic(!0),Lc=Ic(!1),Gs=yt(null),Bs=null,oa=null,Ol=null;function Ml(){Ol=oa=Bs=null}function Fc(n,r,o){Be?(lt(Gs,r._currentValue),r._currentValue=o):(lt(Gs,r._currentValue2),r._currentValue2=o)}function Ka(n){var r=Gs.current;Ze(Gs),Be?n._currentValue=r:n._currentValue2=r}function vo(n,r,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===o)break;n=n.return}}function aa(n,r){Bs=n,Ol=oa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(gn=!0),n.firstContext=null)}function mr(n){var r=Be?n._currentValue:n._currentValue2;if(Ol!==n)if(n={context:n,memoizedValue:r,next:null},oa===null){if(Bs===null)throw Error(p(308));oa=n,Bs.dependencies={lanes:0,firstContext:n}}else oa=oa.next=n;return r}var Hi=null;function Hs(n){Hi===null?Hi=[n]:Hi.push(n)}function Il(n,r,o,l){var g=r.interleaved;return g===null?(o.next=o,Hs(r)):(o.next=g.next,g.next=o),r.interleaved=o,Yr(n,l)}function Yr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var yr=!1;function Ll(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wi(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function xi(n,r,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var g=l.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),l.pending=r,Yr(n,o)}return g=l.interleaved,g===null?(r.next=r,Hs(l)):(r.next=g.next,g.next=r),l.interleaved=r,Yr(n,o)}function Ya(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,oi(n,o)}}function sa(n,r){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var g=null,M=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};M===null?g=M=b:M=M.next=b,o=o.next}while(o!==null);M===null?g=M=r:M=M.next=r}else g=M=r;o={baseState:l.baseState,firstBaseUpdate:g,lastBaseUpdate:M,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Vi(n,r,o,l){var g=n.updateQueue;yr=!1;var M=g.firstBaseUpdate,b=g.lastBaseUpdate,ae=g.shared.pending;if(ae!==null){g.shared.pending=null;var ve=ae,Pe=ve.next;ve.next=null,b===null?M=Pe:b.next=Pe,b=ve;var ze=n.alternate;ze!==null&&(ze=ze.updateQueue,ae=ze.lastBaseUpdate,ae!==b&&(ae===null?ze.firstBaseUpdate=Pe:ae.next=Pe,ze.lastBaseUpdate=ve))}if(M!==null){var tt=g.baseState;b=0,ze=Pe=ve=null,ae=M;do{var Me=ae.lane,Mt=ae.eventTime;if((l&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Mt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Nt=n,Bn=ae;switch(Me=r,Mt=o,Bn.tag){case 1:if(Nt=Bn.payload,typeof Nt=="function"){tt=Nt.call(Mt,tt,Me);break e}tt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Bn.payload,Me=typeof Nt=="function"?Nt.call(Mt,tt,Me):Nt,Me==null)break e;tt=v({},tt,Me);break e;case 2:yr=!0}}ae.callback!==null&&ae.lane!==0&&(n.flags|=64,Me=g.effects,Me===null?g.effects=[ae]:Me.push(ae))}else Mt={eventTime:Mt,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ze===null?(Pe=ze=Mt,ve=tt):ze=ze.next=Mt,b|=Me;if(ae=ae.next,ae===null){if(ae=g.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,g.lastBaseUpdate=Me,g.shared.pending=null}}while(!0);if(ze===null&&(ve=tt),g.baseState=ve,g.firstBaseUpdate=Pe,g.lastBaseUpdate=ze,r=g.shared.interleaved,r!==null){g=r;do b|=g.lane,g=g.next;while(g!==r)}else M===null&&(g.shared.lanes=0);Xr|=b,n.lanes=b,n.memoizedState=tt}}function zc(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],g=l.callback;if(g!==null){if(l.callback=null,l=o,typeof g!="function")throw Error(p(191,g));g.call(l)}}}var $i={},Ir=yt($i),la=yt($i),bi=yt($i);function Lr(n){if(n===$i)throw Error(p(174));return n}function Vs(n,r){lt(bi,r),lt(la,n),lt(Ir,$i),n=X(r),Ze(Ir),lt(Ir,n)}function mo(){Ze(Ir),Ze(la),Ze(bi)}function Fl(n){var r=Lr(bi.current),o=Lr(Ir.current);r=ee(o,n.type,r),o!==r&&(lt(la,n),lt(Ir,r))}function Dl(n){la.current===n&&(Ze(Ir),Ze(la))}var qt=yt(0);function $s(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ts(o)||O(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zl=[];function Ul(){for(var n=0;n<zl.length;n++){var r=zl[n];Be?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}zl.length=0}var ar=S.ReactCurrentDispatcher,yo=S.ReactCurrentBatchConfig,Wi=0,Bt=null,rn=null,pn=null,ua=!1,Qa=!1,Xa=0,ca=0;function En(){throw Error(p(321))}function _o(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!br(n[o],r[o]))return!1;return!0}function Ja(n,r,o,l,g,M){if(Wi=M,Bt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ar.current=n===null||n.memoizedState===null?Kl:Yl,n=o(l,g),Qa){M=0;do{if(Qa=!1,Xa=0,25<=M)throw Error(p(301));M+=1,pn=rn=null,r.updateQueue=null,ar.current=Ql,n=o(l,g)}while(Qa)}if(ar.current=Eo,r=rn!==null&&rn.next!==null,Wi=0,pn=rn=Bt=null,ua=!1,r)throw Error(p(300));return n}function bs(){var n=Xa!==0;return Xa=0,n}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Bt.memoizedState=pn=n:pn=pn.next=n,pn}function Mn(){if(rn===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=rn.next;var r=pn===null?Bt.memoizedState:pn.next;if(r!==null)pn=r,rn=n;else{if(n===null)throw Error(p(310));rn=n,n={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},pn===null?Bt.memoizedState=pn=n:pn=pn.next=n}return pn}function So(n,r){return typeof r=="function"?r(n):r}function Ws(n){var r=Mn(),o=r.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=n;var l=rn,g=l.baseQueue,M=o.pending;if(M!==null){if(g!==null){var b=g.next;g.next=M.next,M.next=b}l.baseQueue=g=M,o.pending=null}if(g!==null){M=g.next,l=l.baseState;var ae=b=null,ve=null,Pe=M;do{var ze=Pe.lane;if((Wi&ze)===ze)ve!==null&&(ve=ve.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),l=Pe.hasEagerState?Pe.eagerState:n(l,Pe.action);else{var tt={lane:ze,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};ve===null?(ae=ve=tt,b=l):ve=ve.next=tt,Bt.lanes|=ze,Xr|=ze}Pe=Pe.next}while(Pe!==null&&Pe!==M);ve===null?b=l:ve.next=ae,br(l,r.memoizedState)||(gn=!0),r.memoizedState=l,r.baseState=b,r.baseQueue=ve,o.lastRenderedState=l}if(n=o.interleaved,n!==null){g=n;do M=g.lane,Bt.lanes|=M,Xr|=M,g=g.next;while(g!==n)}else g===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function fa(n){var r=Mn(),o=r.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=n;var l=o.dispatch,g=o.pending,M=r.memoizedState;if(g!==null){o.pending=null;var b=g=g.next;do M=n(M,b.action),b=b.next;while(b!==g);br(M,r.memoizedState)||(gn=!0),r.memoizedState=M,r.baseQueue===null&&(r.baseState=M),o.lastRenderedState=M}return[M,l]}function jl(){}function Gl(n,r){var o=Bt,l=Mn(),g=r(),M=!br(l.memoizedState,g);if(M&&(l.memoizedState=g,gn=!0),l=l.queue,Ys(Vl.bind(null,o,l,n),[n]),l.getSnapshot!==r||M||pn!==null&&pn.memoizedState.tag&1){if(o.flags|=2048,wo(9,Hl.bind(null,o,l,g,r),void 0,null),on===null)throw Error(p(349));(Wi&30)!==0||Bl(o,r,g)}return g}function Bl(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Bt.updateQueue,r===null?(r={lastEffect:null,stores:null},Bt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Hl(n,r,o,l){r.value=o,r.getSnapshot=l,$l(r)&&Ci(n)}function Vl(n,r,o){return o(function(){$l(r)&&Ci(n)})}function $l(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!br(n,o)}catch{return!0}}function Ci(n){var r=Yr(n,1);r!==null&&Gn(r,n,1,-1)}function qs(n){var r=_r();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:n},r.queue=n,n=n.dispatch=Gf.bind(null,Bt,n),[r.memoizedState,n]}function wo(n,r,o,l){return n={tag:n,create:r,destroy:o,deps:l,next:null},r=Bt.updateQueue,r===null?(r={lastEffect:null,stores:null},Bt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,r.lastEffect=n)),n}function Uc(){return Mn().memoizedState}function Ks(n,r,o,l){var g=_r();Bt.flags|=n,g.memoizedState=wo(1|r,o,void 0,l===void 0?null:l)}function qi(n,r,o,l){var g=Mn();l=l===void 0?null:l;var M=void 0;if(rn!==null){var b=rn.memoizedState;if(M=b.destroy,l!==null&&_o(l,b.deps)){g.memoizedState=wo(r,o,M,l);return}}Bt.flags|=n,g.memoizedState=wo(1|r,o,M,l)}function jc(n,r){return Ks(8390656,8,n,r)}function Ys(n,r){return qi(2048,8,n,r)}function bl(n,r){return qi(4,2,n,r)}function It(n,r){return qi(4,4,n,r)}function Qs(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Za(n,r,o){return o=o!=null?o.concat([n]):null,qi(4,4,Qs.bind(null,r,n),o)}function xo(){}function Wl(n,r){var o=Mn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&_o(r,l[1])?l[0]:(o.memoizedState=[n,r],n)}function Xs(n,r){var o=Mn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&_o(r,l[1])?l[0]:(n=n(),o.memoizedState=[n,r],n)}function da(n,r,o){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=o):(br(o,r)||(o=As(),Bt.lanes|=o,Xr|=o,n.baseState=!0),r)}function Js(n,r){var o=gt;gt=o!==0&&4>o?o:4,n(!0);var l=yo.transition;yo.transition={};try{n(!1),r()}finally{gt=o,yo.transition=l}}function Co(){return Mn().memoizedState}function Gc(n,r,o){var l=Gr(n);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Bc(n))ql(r,o);else if(o=Il(n,r,o,l),o!==null){var g=vn();Gn(o,n,l,g),es(o,r,l)}}function Gf(n,r,o){var l=Gr(n),g={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bc(n))ql(r,g);else{var M=n.alternate;if(n.lanes===0&&(M===null||M.lanes===0)&&(M=r.lastRenderedReducer,M!==null))try{var b=r.lastRenderedState,ae=M(b,o);if(g.hasEagerState=!0,g.eagerState=ae,br(ae,b)){var ve=r.interleaved;ve===null?(g.next=g,Hs(r)):(g.next=ve.next,ve.next=g),r.interleaved=g;return}}catch{}finally{}o=Il(n,r,g,l),o!==null&&(g=vn(),Gn(o,n,l,g),es(o,r,l))}}function Bc(n){var r=n.alternate;return n===Bt||r!==null&&r===Bt}function ql(n,r){Qa=ua=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function es(n,r,o){if((o&4194240)!==0){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,oi(n,o)}}var Eo={readContext:mr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},Kl={readContext:mr,useCallback:function(n,r){return _r().memoizedState=[n,r===void 0?null:r],n},useContext:mr,useEffect:jc,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Ks(4194308,4,Qs.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Ks(4194308,4,n,r)},useInsertionEffect:function(n,r){return Ks(4,2,n,r)},useMemo:function(n,r){var o=_r();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var l=_r();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=Gc.bind(null,Bt,n),[l.memoizedState,n]},useRef:function(n){var r=_r();return n={current:n},r.memoizedState=n},useState:qs,useDebugValue:xo,useDeferredValue:function(n){return _r().memoizedState=n},useTransition:function(){var n=qs(!1),r=n[0];return n=Js.bind(null,n[1]),_r().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var l=Bt,g=_r();if(zt){if(o===void 0)throw Error(p(407));o=o()}else{if(o=r(),on===null)throw Error(p(349));(Wi&30)!==0||Bl(l,r,o)}g.memoizedState=o;var M={value:o,getSnapshot:r};return g.queue=M,jc(Vl.bind(null,l,M,n),[n]),l.flags|=2048,wo(9,Hl.bind(null,l,M,o,r),void 0,null),o},useId:function(){var n=_r(),r=on.identifierPrefix;if(zt){var o=Wr,l=or;o=(l&~(1<<32-gr(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=Xa++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=ca++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Yl={readContext:mr,useCallback:Wl,useContext:mr,useEffect:Ys,useImperativeHandle:Za,useInsertionEffect:bl,useLayoutEffect:It,useMemo:Xs,useReducer:Ws,useRef:Uc,useState:function(){return Ws(So)},useDebugValue:xo,useDeferredValue:function(n){var r=Mn();return da(r,rn.memoizedState,n)},useTransition:function(){var n=Ws(So)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:jl,useSyncExternalStore:Gl,useId:Co,unstable_isNewReconciler:!1},Ql={readContext:mr,useCallback:Wl,useContext:mr,useEffect:Ys,useImperativeHandle:Za,useInsertionEffect:bl,useLayoutEffect:It,useMemo:Xs,useReducer:fa,useRef:Uc,useState:function(){return fa(So)},useDebugValue:xo,useDeferredValue:function(n){var r=Mn();return rn===null?r.memoizedState=n:da(r,rn.memoizedState,n)},useTransition:function(){var n=fa(So)[0],r=Mn().memoizedState;return[n,r]},useMutableSource:jl,useSyncExternalStore:Gl,useId:Co,unstable_isNewReconciler:!1};function Sr(n,r){if(n&&n.defaultProps){r=v({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function Xl(n,r,o,l){r=n.memoizedState,o=o(l,r),o=o==null?r:v({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ts={isMounted:function(n){return(n=n._reactInternals)?q(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var l=vn(),g=Gr(n),M=wi(l,g);M.payload=r,o!=null&&(M.callback=o),r=xi(n,M,g),r!==null&&(Gn(r,n,g,l),Ya(r,n,g))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var l=vn(),g=Gr(n),M=wi(l,g);M.tag=1,M.payload=r,o!=null&&(M.callback=o),r=xi(n,M,g),r!==null&&(Gn(r,n,g,l),Ya(r,n,g))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=vn(),l=Gr(n),g=wi(o,l);g.tag=2,r!=null&&(g.callback=r),r=xi(n,g,l),r!==null&&(Gn(r,n,l,o),Ya(r,n,l))}};function Hc(n,r,o,l,g,M,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,M,b):r.prototype&&r.prototype.isPureReactComponent?!Us(o,l)||!Us(g,M):!0}function Vc(n,r,o){var l=!1,g=wn,M=r.contextType;return typeof M=="object"&&M!==null?M=mr(M):(g=xn(r)?Wn:nn.current,l=r.contextTypes,M=(l=l!=null)?yi(n,g):wn),r=new r(o,M),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ts,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=M),r}function Zs(n,r,o,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==n&&ts.enqueueReplaceState(r,r.state,null)}function si(n,r,o,l){var g=n.stateNode;g.props=o,g.state=n.memoizedState,g.refs={},Ll(n);var M=r.contextType;typeof M=="object"&&M!==null?g.context=mr(M):(M=xn(r)?Wn:nn.current,g.context=yi(n,M)),g.state=n.memoizedState,M=r.getDerivedStateFromProps,typeof M=="function"&&(Xl(n,r,M,o),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(r=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),r!==g.state&&ts.enqueueReplaceState(g,g.state,null),Vi(n,o,g,l),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function ko(n,r){try{var o="",l=r;do o+=jf(l),l=l.return;while(l);var g=o}catch(M){g=`
Error generating stack: `+M.message+`
`+M.stack}return{value:n,source:r,stack:g,digest:null}}function Ki(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function Fr(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var ns=typeof WeakMap=="function"?WeakMap:Map;function li(n,r,o){o=wi(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Ft||(Ft=!0,xa=l),Fr(n,r)},o}function el(n,r,o){o=wi(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var g=r.value;o.payload=function(){return l(g)},o.callback=function(){Fr(n,r)}}var M=n.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){Fr(n,r),typeof l!="function"&&(di===null?di=new Set([this]):di.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),o}function $c(n,r,o){var l=n.pingCache;if(l===null){l=n.pingCache=new ns;var g=new Set;l.set(r,g)}else g=l.get(r),g===void 0&&(g=new Set,l.set(r,g));g.has(o)||(g.add(o),n=cu.bind(null,n,r,o),r.then(n,n))}function bc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Yi(n,r,o,l,g){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=wi(-1,1),r.tag=2,xi(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var rs=S.ReactCurrentOwner,gn=!1;function kn(n,r,o,l){r.child=n===null?Lc(r,null,o,l):go(r,n.child,o,l)}function tl(n,r,o,l,g){o=o.render;var M=r.ref;return aa(r,g),l=Ja(n,r,o,l,M,g),o=bs(),n!==null&&!gn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ki(n,r,g)):(zt&&o&&ba(r),r.flags|=1,kn(n,r,l,g),r.child)}function Po(n,r,o,l,g){if(n===null){var M=o.type;return typeof M=="function"&&!hl(M)&&M.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=M,Ei(n,r,M,l,g)):(n=pl(o.type,null,l,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(M=n.child,(n.lanes&g)===0){var b=M.memoizedProps;if(o=o.compare,o=o!==null?o:Us,o(b,l)&&n.ref===r.ref)return ki(n,r,g)}return r.flags|=1,n=Ti(M,l),n.ref=r.ref,n.return=r,r.child=n}function Ei(n,r,o,l,g){if(n!==null){var M=n.memoizedProps;if(Us(M,l)&&n.ref===r.ref)if(gn=!1,r.pendingProps=l=M,(n.lanes&g)!==0)(n.flags&131072)!==0&&(gn=!0);else return r.lanes=n.lanes,ki(n,r,g)}return ui(n,r,o,l,g)}function Lt(n,r,o){var l=r.pendingProps,g=l.children,M=n!==null?n.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Lo,lr),lr|=o;else{if((o&1073741824)===0)return n=M!==null?M.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,lt(Lo,lr),lr|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=M!==null?M.baseLanes:o,lt(Lo,lr),lr|=l}else M!==null?(l=M.baseLanes|o,r.memoizedState=null):l=o,lt(Lo,lr),lr|=l;return kn(n,r,g,o),r.child}function At(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ui(n,r,o,l,g){var M=xn(o)?Wn:nn.current;return M=yi(r,M),aa(r,g),o=Ja(n,r,o,l,M,g),l=bs(),n!==null&&!gn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,ki(n,r,g)):(zt&&l&&ba(r),r.flags|=1,kn(n,r,o,g),r.child)}function In(n,r,o,l,g){if(xn(o)){var M=!0;Xo(r)}else M=!1;if(aa(r,g),r.stateNode===null)is(n,r),Vc(r,o,l),si(r,o,l,g),l=!0;else if(n===null){var b=r.stateNode,ae=r.memoizedProps;b.props=ae;var ve=b.context,Pe=o.contextType;typeof Pe=="object"&&Pe!==null?Pe=mr(Pe):(Pe=xn(o)?Wn:nn.current,Pe=yi(r,Pe));var ze=o.getDerivedStateFromProps,tt=typeof ze=="function"||typeof b.getSnapshotBeforeUpdate=="function";tt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(ae!==l||ve!==Pe)&&Zs(r,b,l,Pe),yr=!1;var Me=r.memoizedState;b.state=Me,Vi(r,l,b,g),ve=r.memoizedState,ae!==l||Me!==ve||Wt.current||yr?(typeof ze=="function"&&(Xl(r,o,ze,l),ve=r.memoizedState),(ae=yr||Hc(r,o,ae,l,Me,ve,Pe))?(tt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ve),b.props=l,b.state=ve,b.context=Pe,l=ae):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{b=r.stateNode,Dc(n,r),ae=r.memoizedProps,Pe=r.type===r.elementType?ae:Sr(r.type,ae),b.props=Pe,tt=r.pendingProps,Me=b.context,ve=o.contextType,typeof ve=="object"&&ve!==null?ve=mr(ve):(ve=xn(o)?Wn:nn.current,ve=yi(r,ve));var Mt=o.getDerivedStateFromProps;(ze=typeof Mt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(ae!==tt||Me!==ve)&&Zs(r,b,l,ve),yr=!1,Me=r.memoizedState,b.state=Me,Vi(r,l,b,g);var Nt=r.memoizedState;ae!==tt||Me!==Nt||Wt.current||yr?(typeof Mt=="function"&&(Xl(r,o,Mt,l),Nt=r.memoizedState),(Pe=yr||Hc(r,o,Pe,l,Me,Nt,ve)||!1)?(ze||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,Nt,ve),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,Nt,ve)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||ae===n.memoizedProps&&Me===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||ae===n.memoizedProps&&Me===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Nt),b.props=l,b.state=Nt,b.context=ve,l=Pe):(typeof b.componentDidUpdate!="function"||ae===n.memoizedProps&&Me===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||ae===n.memoizedProps&&Me===n.memoizedState||(r.flags|=1024),l=!1)}return Un(n,r,o,l,M,g)}function Un(n,r,o,l,g,M){At(n,r);var b=(r.flags&128)!==0;if(!l&&!b)return g&&Pl(r,o,!1),ki(n,r,M);l=r.stateNode,rs.current=r;var ae=b&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&b?(r.child=go(r,n.child,null,M),r.child=go(r,null,ae,M)):kn(n,r,ae,M),r.memoizedState=l.state,g&&Pl(r,o,!0),r.child}function Qi(n){var r=n.stateNode;r.pendingContext?wc(n,r.pendingContext,r.pendingContext!==r.context):r.context&&wc(n,r.context,!1),Vs(n,r.containerInfo)}function Ro(n,r,o,l,g){return ho(),Al(g),r.flags|=256,kn(n,r,o,l),r.child}var jn={dehydrated:null,treeContext:null,retryLane:0};function ha(n){return{baseLanes:n,cachePool:null,transitions:null}}function Jl(n,r,o){var l=r.pendingProps,g=qt.current,M=!1,b=(r.flags&128)!==0,ae;if((ae=b)||(ae=n!==null&&n.memoizedState===null?!1:(g&2)!==0),ae?(M=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),lt(qt,g&1),n===null)return Nl(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:O(n)?r.lanes=8:r.lanes=1073741824,null):(b=l.children,n=l.fallback,M?(l=r.mode,M=r.child,b={mode:"hidden",children:b},(l&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=b):M=ps(b,l,0,null),n=Do(n,l,o,null),M.return=r,n.return=r,M.sibling=n,r.child=M,r.child.memoizedState=ha(o),r.memoizedState=jn,n):nl(r,b));if(g=n.memoizedState,g!==null&&(ae=g.dehydrated,ae!==null))return Wc(n,r,b,l,ae,g,o);if(M){M=l.fallback,b=r.mode,g=n.child,ae=g.sibling;var ve={mode:"hidden",children:l.children};return(b&1)===0&&r.child!==g?(l=r.child,l.childLanes=0,l.pendingProps=ve,r.deletions=null):(l=Ti(g,ve),l.subtreeFlags=g.subtreeFlags&14680064),ae!==null?M=Ti(ae,M):(M=Do(M,b,o,null),M.flags|=2),M.return=r,l.return=r,l.sibling=M,r.child=l,l=M,M=r.child,b=n.child.memoizedState,b=b===null?ha(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},M.memoizedState=b,M.childLanes=n.childLanes&~o,r.memoizedState=jn,l}return M=n.child,n=M.sibling,l=Ti(M,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=o),l.return=r,l.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=l,r.memoizedState=null,l}function nl(n,r){return r=ps({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function To(n,r,o,l){return l!==null&&Al(l),go(r,n.child,null,o),n=nl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Wc(n,r,o,l,g,M,b){if(o)return r.flags&256?(r.flags&=-257,l=Ki(Error(p(422))),To(n,r,b,l)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(M=l.fallback,g=r.mode,l=ps({mode:"visible",children:l.children},g,0,null),M=Do(M,g,b,null),M.flags|=2,l.return=r,M.return=r,l.sibling=M,r.child=l,(r.mode&1)!==0&&go(r,n.child,null,b),r.child.memoizedState=ha(b),r.memoizedState=jn,M);if((r.mode&1)===0)return To(n,r,b,null);if(O(g))return l=h(g).digest,M=Error(p(419)),l=Ki(M,l,void 0),To(n,r,b,l);if(o=(b&n.childLanes)!==0,gn||o){if(l=on,l!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(l.suspendedLanes|b))!==0?0:g,g!==0&&g!==M.retryLane&&(M.retryLane=g,Yr(n,g),Gn(l,n,g,-1))}return fl(),l=Ki(Error(p(421))),To(n,r,b,l)}return Ts(g)?(r.flags|=128,r.child=n.child,r=Jc.bind(null,n),L(g,r),null):(n=M.treeContext,He&&(Kn=be(g),On=r,zt=!0,Kr=null,qa=!1,n!==null&&(qn[vr++]=or,qn[vr++]=Wr,qn[vr++]=hn,or=n.id,Wr=n.overflow,hn=r)),r=nl(r,l.children),r.flags|=4096,r)}function ci(n,r,o){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),vo(n.return,r,o)}function pa(n,r,o,l,g){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:g}:(M.isBackwards=r,M.rendering=null,M.renderingStartTime=0,M.last=l,M.tail=o,M.tailMode=g)}function rl(n,r,o){var l=r.pendingProps,g=l.revealOrder,M=l.tail;if(kn(n,r,l.children,o),l=qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ci(n,o,r);else if(n.tag===19)ci(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(lt(qt,l),(r.mode&1)===0)r.memoizedState=null;else switch(g){case"forwards":for(o=r.child,g=null;o!==null;)n=o.alternate,n!==null&&$s(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),pa(r,!1,g,o,M);break;case"backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&$s(n)===null){r.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}pa(r,!0,o,null,M);break;case"together":pa(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function is(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function ki(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(p(153));if(r.child!==null){for(n=r.child,o=Ti(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Ti(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Xi(n,r,o){switch(r.tag){case 3:Qi(r),ho();break;case 5:Fl(r);break;case 1:xn(r.type)&&Xo(r);break;case 4:Vs(r,r.stateNode.containerInfo);break;case 10:Fc(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(lt(qt,qt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Jl(n,r,o):(lt(qt,qt.current&1),n=ki(n,r,o),n!==null?n.sibling:null);lt(qt,qt.current&1);break;case 19:if(l=(o&r.childLanes)!==0,(n.flags&128)!==0){if(l)return rl(n,r,o);r.flags|=128}var g=r.memoizedState;if(g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(qt,qt.current),l)break;return null;case 22:case 23:return r.lanes=0,Lt(n,r,o)}return ki(n,r,o)}function Yn(n){n.flags|=4}function No(n,r){if(n!==null&&n.child===r.child)return!0;if((r.flags&16)!==0)return!1;for(n=r.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}var Ji,Zi,Qn,Xn;if(Le)Ji=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)te(n,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Zi=function(){},Qn=function(n,r,o,l,g){if(n=n.memoizedProps,n!==l){var M=r.stateNode,b=Lr(Ir.current);o=ye(M,o,n,l,g,b),(r.updateQueue=o)&&Yn(r)}},Xn=function(n,r,o,l){o!==l&&Yn(r)};else if(Ye){Ji=function(n,r,o,l){for(var g=r.child;g!==null;){if(g.tag===5){var M=g.stateNode;o&&l&&(M=Nn(M,g.type,g.memoizedProps,g)),te(n,M)}else if(g.tag===6)M=g.stateNode,o&&l&&(M=Ga(M,g.memoizedProps,g)),te(n,M);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)M=g.child,M!==null&&(M.return=g),Ji(n,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===r)break;for(;g.sibling===null;){if(g.return===null||g.return===r)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var eo=function(n,r,o,l){for(var g=r.child;g!==null;){if(g.tag===5){var M=g.stateNode;o&&l&&(M=Nn(M,g.type,g.memoizedProps,g)),Yo(n,M)}else if(g.tag===6)M=g.stateNode,o&&l&&(M=Ga(M,g.memoizedProps,g)),Yo(n,M);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)M=g.child,M!==null&&(M.return=g),eo(n,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===r)break;for(;g.sibling===null;){if(g.return===null||g.return===r)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};Zi=function(n,r){var o=r.stateNode;if(!No(n,r)){n=o.containerInfo;var l=ja(n);eo(l,r,!1,!1),o.pendingChildren=l,Yn(r),Rs(n,l)}},Qn=function(n,r,o,l,g){var M=n.stateNode,b=n.memoizedProps;if((n=No(n,r))&&b===l)r.stateNode=M;else{var ae=r.stateNode,ve=Lr(Ir.current),Pe=null;b!==l&&(Pe=ye(ae,o,b,l,g,ve)),n&&Pe===null?r.stateNode=M:(M=Ko(M,Pe,o,b,l,r,n,ae),Se(M,o,l,g,ve)&&Yn(r),r.stateNode=M,n?Yn(r):Ji(M,r,!1,!1))}},Xn=function(n,r,o,l){o!==l?(n=Lr(bi.current),o=Lr(Ir.current),r.stateNode=Ne(l,n,o,r),Yn(r)):r.stateNode=n.stateNode}}else Zi=function(){},Qn=function(){},Xn=function(){};function wr(n,r){if(!zt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(r)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,l|=g.subtreeFlags&14680064,l|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,l|=g.subtreeFlags,l|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=l,n.childLanes=o,r}function Ao(n,r,o){var l=r.pendingProps;switch(Wa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(r),null;case 1:return xn(r.type)&&co(),Ht(r),null;case 3:return o=r.stateNode,mo(),Ze(Wt),Ze(nn),Ul(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(zs(r)?Yn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kr!==null&&(cs(Kr),Kr=null))),Zi(n,r),Ht(r),null;case 5:Dl(r),o=Lr(bi.current);var g=r.type;if(n!==null&&r.stateNode!=null)Qn(n,r,g,l,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(p(166));return Ht(r),null}if(n=Lr(Ir.current),zs(r)){if(!He)throw Error(p(175));n=Fe(r.stateNode,r.type,r.memoizedProps,o,n,r,!qa),r.updateQueue=n,n!==null&&Yn(r)}else{var M=oe(g,l,o,n,r);Ji(M,r,!1,!1),r.stateNode=M,Se(M,g,l,o,n)&&Yn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ht(r),null;case 6:if(n&&r.stateNode!=null)Xn(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(p(166));if(n=Lr(bi.current),o=Lr(Ir.current),zs(r)){if(!He)throw Error(p(176));if(n=r.stateNode,o=r.memoizedProps,(l=dt(n,o,r,!qa))&&(g=On,g!==null))switch(g.tag){case 3:Te(g.stateNode.containerInfo,n,o,(g.mode&1)!==0);break;case 5:qe(g.type,g.memoizedProps,g.stateNode,n,o,(g.mode&1)!==0)}l&&Yn(r)}else r.stateNode=Ne(l,n,o,r)}return Ht(r),null;case 13:if(Ze(qt),l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zt&&Kn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Oc(),ho(),r.flags|=98560,g=!1;else if(g=zs(r),l!==null&&l.dehydrated!==null){if(n===null){if(!g)throw Error(p(318));if(!He)throw Error(p(344));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p(317));ut(g,r)}else ho(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ht(r),g=!1}else Kr!==null&&(cs(Kr),Kr=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(o=l!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(qt.current&1)!==0?$t===0&&($t=3):fl())),r.updateQueue!==null&&(r.flags|=4),Ht(r),null);case 4:return mo(),Zi(n,r),n===null&&ht(r.stateNode.containerInfo),Ht(r),null;case 10:return Ka(r.type._context),Ht(r),null;case 17:return xn(r.type)&&co(),Ht(r),null;case 19:if(Ze(qt),g=r.memoizedState,g===null)return Ht(r),null;if(l=(r.flags&128)!==0,M=g.rendering,M===null)if(l)wr(g,!1);else{if($t!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(M=$s(n),M!==null){for(r.flags|=128,wr(g,!1),n=M.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=o,o=r.child;o!==null;)l=o,g=n,l.flags&=14680066,M=l.alternate,M===null?(l.childLanes=0,l.lanes=g,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=M.childLanes,l.lanes=M.lanes,l.child=M.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=M.memoizedProps,l.memoizedState=M.memoizedState,l.updateQueue=M.updateQueue,l.type=M.type,g=M.dependencies,l.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),o=o.sibling;return lt(qt,qt.current&1|2),r.child}n=n.sibling}g.tail!==null&&Cn()>ro&&(r.flags|=128,l=!0,wr(g,!1),r.lanes=4194304)}else{if(!l)if(n=$s(M),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),wr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!M.alternate&&!zt)return Ht(r),null}else 2*Cn()-g.renderingStartTime>ro&&o!==1073741824&&(r.flags|=128,l=!0,wr(g,!1),r.lanes=4194304);g.isBackwards?(M.sibling=r.child,r.child=M):(n=g.last,n!==null?n.sibling=M:r.child=M,g.last=M)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Cn(),r.sibling=null,n=qt.current,lt(qt,l?n&1|2:n&1),r):(Ht(r),null);case 22:case 23:return fs(),o=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(lr&1073741824)!==0&&(Ht(r),Le&&r.subtreeFlags&6&&(r.flags|=8192)):Ht(r),null;case 24:return null;case 25:return null}throw Error(p(156,r.tag))}function qc(n,r){switch(Wa(r),r.tag){case 1:return xn(r.type)&&co(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mo(),Ze(Wt),Ze(nn),Ul(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Dl(r),null;case 13:if(Ze(qt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(p(340));ho()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ze(qt),null;case 4:return mo(),null;case 10:return Ka(r.type._context),null;case 22:case 23:return fs(),null;case 24:return null;default:return null}}var ga=!1,Pn=!1,xr=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Tt(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){jt(n,r,l)}else o.current=null}function Cr(n,r,o){try{o()}catch(l){jt(n,r,l)}}var Zl=!1;function Kc(n,r){for(re(n.containerInfo),Oe=r;Oe!==null;)if(n=Oe,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Oe=r;else for(;Oe!==null;){n=Oe;try{var o=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,g=o.memoizedState,M=n.stateNode,b=M.getSnapshotBeforeUpdate(n.elementType===n.type?l:Sr(n.type,l),g);M.__reactInternalSnapshotBeforeUpdate=b}break;case 3:Le&&Ui(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ae){jt(n,n.return,ae)}if(r=n.sibling,r!==null){r.return=n.return,Oe=r;break}Oe=n.return}return o=Zl,Zl=!1,o}function Oo(n,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&n)===n){var M=g.destroy;g.destroy=void 0,M!==void 0&&Cr(r,o,M)}g=g.next}while(g!==l)}}function va(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function il(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=Q(o);break;default:n=o}typeof r=="function"?r(n):r.current=n}}function os(n){var r=n.alternate;r!==null&&(n.alternate=null,os(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Dt(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function eu(n){return n.tag===5||n.tag===3||n.tag===4}function Mo(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eu(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function as(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?rr(o,n,r):Or(o,n);else if(l!==4&&(n=n.child,n!==null))for(as(n,r,o),n=n.sibling;n!==null;)as(n,r,o),n=n.sibling}function tu(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?Wo(o,n,r):tr(o,n);else if(l!==4&&(n=n.child,n!==null))for(tu(n,r,o),n=n.sibling;n!==null;)tu(n,r,o),n=n.sibling}var Ot=null,sr=!1;function Er(n,r,o){for(o=o.child;o!==null;)to(n,r,o),o=o.sibling}function to(n,r,o){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Gi,o)}catch{}switch(o.tag){case 5:Pn||Tt(o,r);case 6:if(Le){var l=Ot,g=sr;Ot=null,Er(n,r,o),Ot=l,sr=g,Ot!==null&&(sr?Ua(Ot,o.stateNode):kl(Ot,o.stateNode))}else Er(n,r,o);break;case 18:Le&&Ot!==null&&(sr?Je(Ot,o.stateNode):at(Ot,o.stateNode));break;case 4:Le?(l=Ot,g=sr,Ot=o.stateNode.containerInfo,sr=!0,Er(n,r,o),Ot=l,sr=g):(Ye&&(l=o.stateNode.containerInfo,g=ja(l),Qo(l,g)),Er(n,r,o));break;case 0:case 11:case 14:case 15:if(!Pn&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){g=l=l.next;do{var M=g,b=M.destroy;M=M.tag,b!==void 0&&((M&2)!==0||(M&4)!==0)&&Cr(o,r,b),g=g.next}while(g!==l)}Er(n,r,o);break;case 1:if(!Pn&&(Tt(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(ae){jt(o,r,ae)}Er(n,r,o);break;case 21:Er(n,r,o);break;case 22:o.mode&1?(Pn=(l=Pn)||o.memoizedState!==null,Er(n,r,o),Pn=l):Er(n,r,o);break;default:Er(n,r,o)}}function ol(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new xr),r.forEach(function(l){var g=Zc.bind(null,n,l);o.has(l)||(o.add(l),l.then(g,g))})}}function kr(n,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var g=o[l];try{var M=n,b=r;if(Le){var ae=b;e:for(;ae!==null;){switch(ae.tag){case 5:Ot=ae.stateNode,sr=!1;break e;case 3:Ot=ae.stateNode.containerInfo,sr=!0;break e;case 4:Ot=ae.stateNode.containerInfo,sr=!0;break e}ae=ae.return}if(Ot===null)throw Error(p(160));to(M,b,g),Ot=null,sr=!1}else to(M,b,g);var ve=g.alternate;ve!==null&&(ve.return=null),g.return=null}catch(Pe){jt(g,r,Pe)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)al(r,n),r=r.sibling}function al(n,r){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kr(r,n),Dr(n),l&4){try{Oo(3,n,n.return),va(3,n)}catch(Me){jt(n,n.return,Me)}try{Oo(5,n,n.return)}catch(Me){jt(n,n.return,Me)}}break;case 1:kr(r,n),Dr(n),l&512&&o!==null&&Tt(o,o.return);break;case 5:if(kr(r,n),Dr(n),l&512&&o!==null&&Tt(o,o.return),Le){if(n.flags&32){var g=n.stateNode;try{ao(g)}catch(Me){jt(n,n.return,Me)}}if(l&4&&(g=n.stateNode,g!=null)){var M=n.memoizedProps;if(o=o!==null?o.memoizedProps:M,l=n.type,r=n.updateQueue,n.updateQueue=null,r!==null)try{bo(g,r,l,o,M,n)}catch(Me){jt(n,n.return,Me)}}}break;case 6:if(kr(r,n),Dr(n),l&4&&Le){if(n.stateNode===null)throw Error(p(162));g=n.stateNode,M=n.memoizedProps,o=o!==null?o.memoizedProps:M;try{_n(g,o,M)}catch(Me){jt(n,n.return,Me)}}break;case 3:if(kr(r,n),Dr(n),l&4){if(Le&&He&&o!==null&&o.memoizedState.isDehydrated)try{ct(r.containerInfo)}catch(Me){jt(n,n.return,Me)}if(Ye){g=r.containerInfo,M=r.pendingChildren;try{Qo(g,M)}catch(Me){jt(n,n.return,Me)}}}break;case 4:if(kr(r,n),Dr(n),l&4&&Ye){M=n.stateNode,g=M.containerInfo,M=M.pendingChildren;try{Qo(g,M)}catch(Me){jt(n,n.return,Me)}}break;case 13:kr(r,n),Dr(n),g=n.child,g.flags&8192&&(M=g.memoizedState!==null,g.stateNode.isHidden=M,!M||g.alternate!==null&&g.alternate.memoizedState!==null||(ls=Cn())),l&4&&ol(n);break;case 22:var b=o!==null&&o.memoizedState!==null;if(n.mode&1?(Pn=(o=Pn)||b,kr(r,n),Pn=o):kr(r,n),Dr(n),l&8192){if(o=n.memoizedState!==null,(n.stateNode.isHidden=o)&&!b&&(n.mode&1)!==0)for(Oe=n,l=n.child;l!==null;){for(r=Oe=l;Oe!==null;){b=Oe;var ae=b.child;switch(b.tag){case 0:case 11:case 14:case 15:Oo(4,b,b.return);break;case 1:Tt(b,b.return);var ve=b.stateNode;if(typeof ve.componentWillUnmount=="function"){var Pe=b,ze=b.return;try{var tt=Pe;ve.props=tt.memoizedProps,ve.state=tt.memoizedState,ve.componentWillUnmount()}catch(Me){jt(Pe,ze,Me)}}break;case 5:Tt(b,b.return);break;case 22:if(b.memoizedState!==null){sl(r);continue}}ae!==null?(ae.return=b,Oe=ae):sl(r)}l=l.sibling}if(Le){e:if(l=null,Le)for(r=n;;){if(r.tag===5){if(l===null){l=r;try{g=r.stateNode,o?qo(g):lo(r.stateNode,r.memoizedProps)}catch(Me){jt(n,n.return,Me)}}}else if(r.tag===6){if(l===null)try{M=r.stateNode,o?so(M):zi(M,r.memoizedProps)}catch(Me){jt(n,n.return,Me)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:kr(r,n),Dr(n),l&4&&ol(n);break;case 21:break;default:kr(r,n),Dr(n)}}function Dr(n){var r=n.flags;if(r&2){try{if(Le){e:{for(var o=n.return;o!==null;){if(eu(o)){var l=o;break e}o=o.return}throw Error(p(160))}switch(l.tag){case 5:var g=l.stateNode;l.flags&32&&(ao(g),l.flags&=-33);var M=Mo(n);tu(n,M,g);break;case 3:case 4:var b=l.stateNode.containerInfo,ae=Mo(n);as(n,ae,b);break;default:throw Error(p(161))}}}catch(ve){jt(n,n.return,ve)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ma(n,r,o){Oe=n,Pr(n)}function Pr(n,r,o){for(var l=(n.mode&1)!==0;Oe!==null;){var g=Oe,M=g.child;if(g.tag===22&&l){var b=g.memoizedState!==null||ga;if(!b){var ae=g.alternate,ve=ae!==null&&ae.memoizedState!==null||Pn;ae=ga;var Pe=Pn;if(ga=b,(Pn=ve)&&!Pe)for(Oe=g;Oe!==null;)b=Oe,ve=b.child,b.tag===22&&b.memoizedState!==null?nu(g):ve!==null?(ve.return=b,Oe=ve):nu(g);for(;M!==null;)Oe=M,Pr(M),M=M.sibling;Oe=g,ga=ae,Pn=Pe}no(n)}else(g.subtreeFlags&8772)!==0&&M!==null?(M.return=g,Oe=M):no(n)}}function no(n){for(;Oe!==null;){var r=Oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Pn||va(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Pn)if(o===null)l.componentDidMount();else{var g=r.elementType===r.type?o.memoizedProps:Sr(r.type,o.memoizedProps);l.componentDidUpdate(g,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var M=r.updateQueue;M!==null&&zc(r,M,l);break;case 3:var b=r.updateQueue;if(b!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=Q(r.child.stateNode);break;case 1:o=r.child.stateNode}zc(r,b,o)}break;case 5:var ae=r.stateNode;o===null&&r.flags&4&&nr(ae,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&r.memoizedState===null){var ve=r.alternate;if(ve!==null){var Pe=ve.memoizedState;if(Pe!==null){var ze=Pe.dehydrated;ze!==null&&Ve(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}Pn||r.flags&512&&il(r)}catch(tt){jt(r,r.return,tt)}}if(r===n){Oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,Oe=o;break}Oe=r.return}}function sl(n){for(;Oe!==null;){var r=Oe;if(r===n){Oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Oe=o;break}Oe=r.return}}function nu(n){for(;Oe!==null;){var r=Oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{va(4,r)}catch(ve){jt(r,o,ve)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var g=r.return;try{l.componentDidMount()}catch(ve){jt(r,g,ve)}}var M=r.return;try{il(r)}catch(ve){jt(r,M,ve)}break;case 5:var b=r.return;try{il(r)}catch(ve){jt(r,b,ve)}}}catch(ve){jt(r,r.return,ve)}if(r===n){Oe=null;break}var ae=r.sibling;if(ae!==null){ae.return=r.return,Oe=ae;break}Oe=r.return}}var zr=0,Qr=1,ya=2,ss=3,Ur=4;if(typeof Symbol=="function"&&Symbol.for){var jr=Symbol.for;zr=jr("selector.component"),Qr=jr("selector.has_pseudo_class"),ya=jr("selector.role"),ss=jr("selector.test_id"),Ur=jr("selector.text")}function _a(n){var r=Gt(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(p(364));return r}if(n=pt(n),n===null)throw Error(p(362));return n.stateNode.current}function ll(n,r){switch(r.$$typeof){case zr:if(n.type===r.value)return!0;break;case Qr:e:{r=r.value,n=[n,0];for(var o=0;o<n.length;){var l=n[o++],g=n[o++],M=r[g];if(l.tag!==5||!dn(l)){for(;M!=null&&ll(l,M);)g++,M=r[g];if(g===r.length){r=!0;break e}else for(l=l.child;l!==null;)n.push(l,g),l=l.sibling}}r=!1}return r;case ya:if(n.tag===5&&Yt(n.stateNode,r.value))return!0;break;case Ur:if((n.tag===5||n.tag===6)&&(n=Tn(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case ss:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(p(365))}return!1}function Sa(n){switch(n.$$typeof){case zr:return"<"+(K(n.value)||"Unknown")+">";case Qr:return":has("+(Sa(n)||"")+")";case ya:return'[role="'+n.value+'"]';case Ur:return'"'+n.value+'"';case ss:return'[data-testname="'+n.value+'"]';default:throw Error(p(365))}}function ru(n,r){var o=[];n=[n,0];for(var l=0;l<n.length;){var g=n[l++],M=n[l++],b=r[M];if(g.tag!==5||!dn(g)){for(;b!=null&&ll(g,b);)M++,b=r[M];if(M===r.length)o.push(g);else for(g=g.child;g!==null;)n.push(g,M),g=g.sibling}}return o}function ul(n,r){if(!wt)throw Error(p(363));n=_a(n),n=ru(n,r),r=[],n=Array.from(n);for(var o=0;o<n.length;){var l=n[o++];if(l.tag===5)dn(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)n.push(l),l=l.sibling}return r}var iu=Math.ceil,Io=S.ReactCurrentDispatcher,cl=S.ReactCurrentOwner,Qt=S.ReactCurrentBatchConfig,ft=0,on=null,Vt=null,an=0,lr=0,Lo=yt(0),$t=0,wa=null,Xr=0,Rr=0,Fo=0,Pi=null,sn=null,ls=0,ro=1/0,fi=null;function io(){ro=Cn()+500}var Ft=!1,xa=null,di=null,Ca=!1,Jr=null,Ea=0,Zr=0,Ut=null,Xt=-1,en=0;function vn(){return(ft&6)!==0?Cn():Xt!==-1?Xt:Xt=Cn()}function Gr(n){return(n.mode&1)===0?1:(ft&2)!==0&&an!==0?an&-an:Uf.transition!==null?(en===0&&(en=As()),en):(n=gt,n!==0?n:fn())}function Gn(n,r,o,l){if(50<Zr)throw Zr=0,Ut=null,Error(p(185));Mr(n,o,l),((ft&2)===0||n!==on)&&(n===on&&((ft&2)===0&&(Rr|=o),$t===4&&Fn(n,an)),ur(n,l),o===1&&ft===0&&(r.mode&1)===0&&(io(),ra&&An()))}function ur(n,r){var o=n.callbackNode;Ec(n,r);var l=Zo(n,n===on?an:0);if(l===0)o!==null&&kc(o),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(o!=null&&kc(o),r===1)n.tag===0?Rc(Tr.bind(null,n)):Fs(Tr.bind(null,n)),Jt?bt(function(){(ft&6)===0&&An()}):ai(Os,An),o=null;else{switch(ta(l)){case 1:o=Os;break;case 4:o=Ms;break;case 16:o=Is;break;case 536870912:o=zf;break;default:o=Is}o=dl(o,Ln.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Ln(n,r){if(Xt=-1,en=0,(ft&6)!==0)throw Error(p(327));var o=n.callbackNode;if(hi()&&n.callbackNode!==o)return null;var l=Zo(n,n===on?an:0);if(l===0)return null;if((l&30)!==0||(l&n.expiredLanes)!==0||r)r=ds(n,l);else{r=l;var g=ft;ft|=2;var M=su();(on!==n||an!==r)&&(fi=null,io(),Ri(n,r));do try{Qc();break}catch(ae){au(n,ae)}while(!0);Ml(),Io.current=M,ft=g,Vt!==null?r=0:(on=null,an=0,r=$t)}if(r!==0){if(r===2&&(g=Ns(n),g!==0&&(l=g,r=us(n,g))),r===1)throw o=wa,Ri(n,0),Fn(n,l),ur(n,Cn()),o;if(r===6)Fn(n,l);else{if(g=n.current.alternate,(l&30)===0&&!ou(g)&&(r=ds(n,l),r===2&&(M=Ns(n),M!==0&&(l=M,r=us(n,M))),r===1))throw o=wa,Ri(n,0),Fn(n,l),ur(n,Cn()),o;switch(n.finishedWork=g,n.finishedLanes=l,r){case 0:case 1:throw Error(p(345));case 2:ei(n,sn,fi);break;case 3:if(Fn(n,l),(l&130023424)===l&&(r=ls+500-Cn(),10<r)){if(Zo(n,0)!==0)break;if(g=n.suspendedLanes,(g&l)!==l){vn(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Z(ei.bind(null,n,sn,fi),r);break}ei(n,sn,fi);break;case 4:if(Fn(n,l),(l&4194240)===l)break;for(r=n.eventTimes,g=-1;0<l;){var b=31-gr(l);M=1<<b,b=r[b],b>g&&(g=b),l&=~M}if(l=g,l=Cn()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*iu(l/1960))-l,10<l){n.timeoutHandle=Z(ei.bind(null,n,sn,fi),l);break}ei(n,sn,fi);break;case 5:ei(n,sn,fi);break;default:throw Error(p(329))}}}return ur(n,Cn()),n.callbackNode===o?Ln.bind(null,n):null}function us(n,r){var o=Pi;return n.current.memoizedState.isDehydrated&&(Ri(n,r).flags|=256),n=ds(n,r),n!==2&&(r=sn,sn=o,r!==null&&cs(r)),n}function cs(n){sn===null?sn=n:sn.push.apply(sn,n)}function ou(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var g=o[l],M=g.getSnapshot;g=g.value;try{if(!br(M(),g))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fn(n,r){for(r&=~Fo,r&=~Rr,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-gr(r),l=1<<o;n[o]=-1,r&=~l}}function Tr(n){if((ft&6)!==0)throw Error(p(327));hi();var r=Zo(n,0);if((r&1)===0)return ur(n,Cn()),null;var o=ds(n,r);if(n.tag!==0&&o===2){var l=Ns(n);l!==0&&(r=l,o=us(n,l))}if(o===1)throw o=wa,Ri(n,0),Fn(n,r),ur(n,Cn()),o;if(o===6)throw Error(p(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ei(n,sn,fi),ur(n,Cn()),null}function ka(n){Jr!==null&&Jr.tag===0&&(ft&6)===0&&hi();var r=ft;ft|=1;var o=Qt.transition,l=gt;try{if(Qt.transition=null,gt=1,n)return n()}finally{gt=l,Qt.transition=o,ft=r,(ft&6)===0&&An()}}function fs(){lr=Lo.current,Ze(Lo)}function Ri(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==we&&(n.timeoutHandle=we,ce(o)),Vt!==null)for(o=Vt.return;o!==null;){var l=o;switch(Wa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&co();break;case 3:mo(),Ze(Wt),Ze(nn),Ul();break;case 5:Dl(l);break;case 4:mo();break;case 13:Ze(qt);break;case 19:Ze(qt);break;case 10:Ka(l.type._context);break;case 22:case 23:fs()}o=o.return}if(on=n,Vt=n=Ti(n.current,null),an=lr=r,$t=0,wa=null,Fo=Rr=Xr=0,sn=Pi=null,Hi!==null){for(r=0;r<Hi.length;r++)if(o=Hi[r],l=o.interleaved,l!==null){o.interleaved=null;var g=l.next,M=o.pending;if(M!==null){var b=M.next;M.next=g,l.next=b}o.pending=l}Hi=null}return n}function au(n,r){do{var o=Vt;try{if(Ml(),ar.current=Eo,ua){for(var l=Bt.memoizedState;l!==null;){var g=l.queue;g!==null&&(g.pending=null),l=l.next}ua=!1}if(Wi=0,pn=rn=Bt=null,Qa=!1,Xa=0,cl.current=null,o===null||o.return===null){$t=1,wa=r,Vt=null;break}e:{var M=n,b=o.return,ae=o,ve=r;if(r=an,ae.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Pe=ve,ze=ae,tt=ze.tag;if((ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Mt=bc(b);if(Mt!==null){Mt.flags&=-257,Yi(Mt,b,ae,M,r),Mt.mode&1&&$c(M,Pe,r),r=Mt,ve=Pe;var Nt=r.updateQueue;if(Nt===null){var Bn=new Set;Bn.add(ve),r.updateQueue=Bn}else Nt.add(ve);break e}else{if((r&1)===0){$c(M,Pe,r),fl();break e}ve=Error(p(426))}}else if(zt&&ae.mode&1){var pi=bc(b);if(pi!==null){(pi.flags&65536)===0&&(pi.flags|=256),Yi(pi,b,ae,M,r),Al(ko(ve,ae));break e}}M=ve=ko(ve,ae),$t!==4&&($t=2),Pi===null?Pi=[M]:Pi.push(M),M=b;do{switch(M.tag){case 3:M.flags|=65536,r&=-r,M.lanes|=r;var pe=li(M,ve,r);sa(M,pe);break e;case 1:ae=ve;var ue=M.type,me=M.stateNode;if((M.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(di===null||!di.has(me)))){M.flags|=65536,r&=-r,M.lanes|=r;var Ie=el(M,ae,r);sa(M,Ie);break e}}M=M.return}while(M!==null)}uu(o)}catch(Ke){r=Ke,Vt===o&&o!==null&&(Vt=o=o.return);continue}break}while(!0)}function su(){var n=Io.current;return Io.current=Eo,n===null?Eo:n}function fl(){($t===0||$t===3||$t===2)&&($t=4),on===null||(Xr&268435455)===0&&(Rr&268435455)===0||Fn(on,an)}function ds(n,r){var o=ft;ft|=2;var l=su();(on!==n||an!==r)&&(fi=null,Ri(n,r));do try{Yc();break}catch(g){au(n,g)}while(!0);if(Ml(),ft=o,Io.current=l,Vt!==null)throw Error(p(261));return on=null,an=0,$t}function Yc(){for(;Vt!==null;)lu(Vt)}function Qc(){for(;Vt!==null&&!Pc();)lu(Vt)}function lu(n){var r=du(n.alternate,n,lr);n.memoizedProps=n.pendingProps,r===null?uu(n):Vt=r,cl.current=null}function uu(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=Ao(o,r,lr),o!==null){Vt=o;return}}else{if(o=qc(o,r),o!==null){o.flags&=32767,Vt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{$t=6,Vt=null;return}}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=n}while(r!==null);$t===0&&($t=5)}function ei(n,r,o){var l=gt,g=Qt.transition;try{Qt.transition=null,gt=1,Xc(n,r,o,l)}finally{Qt.transition=g,gt=l}return null}function Xc(n,r,o,l){do hi();while(Jr!==null);if((ft&6)!==0)throw Error(p(327));o=n.finishedWork;var g=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(p(177));n.callbackNode=null,n.callbackPriority=0;var M=o.lanes|o.childLanes;if(ji(n,M),n===on&&(Vt=on=null,an=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ca||(Ca=!0,dl(Is,function(){return hi(),null})),M=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||M){M=Qt.transition,Qt.transition=null;var b=gt;gt=1;var ae=ft;ft|=4,cl.current=null,Kc(n,o),al(o,n),$(n.containerInfo),n.current=o,ma(o),Va(),ft=ae,gt=b,Qt.transition=M}else n.current=o;if(Ca&&(Ca=!1,Jr=n,Ea=g),M=n.pendingLanes,M===0&&(di=null),na(o.stateNode),ur(n,Cn()),r!==null)for(l=n.onRecoverableError,o=0;o<r.length;o++)g=r[o],l(g.value,{componentStack:g.stack,digest:g.digest});if(Ft)throw Ft=!1,n=xa,xa=null,n;return(Ea&1)!==0&&n.tag!==0&&hi(),M=n.pendingLanes,(M&1)!==0?n===Ut?Zr++:(Zr=0,Ut=n):Zr=0,An(),null}function hi(){if(Jr!==null){var n=ta(Ea),r=Qt.transition,o=gt;try{if(Qt.transition=null,gt=16>n?16:n,Jr===null)var l=!1;else{if(n=Jr,Jr=null,Ea=0,(ft&6)!==0)throw Error(p(331));var g=ft;for(ft|=4,Oe=n.current;Oe!==null;){var M=Oe,b=M.child;if((Oe.flags&16)!==0){var ae=M.deletions;if(ae!==null){for(var ve=0;ve<ae.length;ve++){var Pe=ae[ve];for(Oe=Pe;Oe!==null;){var ze=Oe;switch(ze.tag){case 0:case 11:case 15:Oo(8,ze,M)}var tt=ze.child;if(tt!==null)tt.return=ze,Oe=tt;else for(;Oe!==null;){ze=Oe;var Me=ze.sibling,Mt=ze.return;if(os(ze),ze===Pe){Oe=null;break}if(Me!==null){Me.return=Mt,Oe=Me;break}Oe=Mt}}}var Nt=M.alternate;if(Nt!==null){var Bn=Nt.child;if(Bn!==null){Nt.child=null;do{var pi=Bn.sibling;Bn.sibling=null,Bn=pi}while(Bn!==null)}}Oe=M}}if((M.subtreeFlags&2064)!==0&&b!==null)b.return=M,Oe=b;else e:for(;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Oo(9,M,M.return)}var pe=M.sibling;if(pe!==null){pe.return=M.return,Oe=pe;break e}Oe=M.return}}var ue=n.current;for(Oe=ue;Oe!==null;){b=Oe;var me=b.child;if((b.subtreeFlags&2064)!==0&&me!==null)me.return=b,Oe=me;else e:for(b=ue;Oe!==null;){if(ae=Oe,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:va(9,ae)}}catch(Ke){jt(ae,ae.return,Ke)}if(ae===b){Oe=null;break e}var Ie=ae.sibling;if(Ie!==null){Ie.return=ae.return,Oe=Ie;break e}Oe=ae.return}}if(ft=g,An(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Gi,n)}catch{}l=!0}return l}finally{gt=o,Qt.transition=r}}return!1}function hs(n,r,o){r=ko(o,r),r=li(n,r,1),n=xi(n,r,1),r=vn(),n!==null&&(Mr(n,1,r),ur(n,r))}function jt(n,r,o){if(n.tag===3)hs(n,n,o);else for(;r!==null;){if(r.tag===3){hs(r,n,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(di===null||!di.has(l))){n=ko(o,n),n=el(r,n,1),r=xi(r,n,1),n=vn(),r!==null&&(Mr(r,1,n),ur(r,n));break}}r=r.return}}function cu(n,r,o){var l=n.pingCache;l!==null&&l.delete(r),r=vn(),n.pingedLanes|=n.suspendedLanes&o,on===n&&(an&o)===o&&($t===4||$t===3&&(an&130023424)===an&&500>Cn()-ls?Ri(n,0):Fo|=o),ur(n,r)}function fu(n,r){r===0&&((n.mode&1)===0?r=1:(r=Ha,Ha<<=1,(Ha&130023424)===0&&(Ha=4194304)));var o=vn();n=Yr(n,r),n!==null&&(Mr(n,r,o),ur(n,o))}function Jc(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),fu(n,o)}function Zc(n,r){var o=0;switch(n.tag){case 13:var l=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(p(314))}l!==null&&l.delete(r),fu(n,o)}var du;du=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Wt.current)gn=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return gn=!1,Xi(n,r,o);gn=(n.flags&131072)!==0}else gn=!1,zt&&(r.flags&1048576)!==0&&Tc(r,fo,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;is(n,r),n=r.pendingProps;var g=yi(r,nn.current);aa(r,o),g=Ja(null,r,l,n,g,o);var M=bs();return r.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,xn(l)?(M=!0,Xo(r)):M=!1,r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ll(r),g.updater=ts,r.stateNode=g,g._reactInternals=r,si(r,l,n,o),r=Un(null,r,l,!0,M,o)):(r.tag=0,zt&&M&&ba(r),kn(null,r,g,o),r=r.child),r;case 16:l=r.elementType;e:{switch(is(n,r),n=r.pendingProps,g=l._init,l=g(l._payload),r.type=l,g=r.tag=Bf(l),n=Sr(l,n),g){case 0:r=ui(null,r,l,n,o);break e;case 1:r=In(null,r,l,n,o);break e;case 11:r=tl(null,r,l,n,o);break e;case 14:r=Po(null,r,l,Sr(l.type,n),o);break e}throw Error(p(306,l,""))}return r;case 0:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),ui(n,r,l,g,o);case 1:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),In(n,r,l,g,o);case 3:e:{if(Qi(r),n===null)throw Error(p(387));l=r.pendingProps,M=r.memoizedState,g=M.element,Dc(n,r),Vi(r,l,null,o);var b=r.memoizedState;if(l=b.element,He&&M.isDehydrated)if(M={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=M,r.memoizedState=M,r.flags&256){g=ko(Error(p(423)),r),r=Ro(n,r,l,o,g);break e}else if(l!==g){g=ko(Error(p(424)),r),r=Ro(n,r,l,o,g);break e}else for(He&&(Kn=_e(r.stateNode.containerInfo),On=r,zt=!0,Kr=null,qa=!1),o=Lc(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ho(),l===g){r=ki(n,r,o);break e}kn(n,r,l,o)}r=r.child}return r;case 5:return Fl(r),n===null&&Nl(r),l=r.type,g=r.pendingProps,M=n!==null?n.memoizedProps:null,b=g.children,Ae(l,g)?b=null:M!==null&&Ae(l,M)&&(r.flags|=32),At(n,r),kn(n,r,b,o),r.child;case 6:return n===null&&Nl(r),null;case 13:return Jl(n,r,o);case 4:return Vs(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=go(r,null,l,o):kn(n,r,l,o),r.child;case 11:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),tl(n,r,l,g,o);case 7:return kn(n,r,r.pendingProps,o),r.child;case 8:return kn(n,r,r.pendingProps.children,o),r.child;case 12:return kn(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,g=r.pendingProps,M=r.memoizedProps,b=g.value,Fc(r,l,b),M!==null)if(br(M.value,b)){if(M.children===g.children&&!Wt.current){r=ki(n,r,o);break e}}else for(M=r.child,M!==null&&(M.return=r);M!==null;){var ae=M.dependencies;if(ae!==null){b=M.child;for(var ve=ae.firstContext;ve!==null;){if(ve.context===l){if(M.tag===1){ve=wi(-1,o&-o),ve.tag=2;var Pe=M.updateQueue;if(Pe!==null){Pe=Pe.shared;var ze=Pe.pending;ze===null?ve.next=ve:(ve.next=ze.next,ze.next=ve),Pe.pending=ve}}M.lanes|=o,ve=M.alternate,ve!==null&&(ve.lanes|=o),vo(M.return,o,r),ae.lanes|=o;break}ve=ve.next}}else if(M.tag===10)b=M.type===r.type?null:M.child;else if(M.tag===18){if(b=M.return,b===null)throw Error(p(341));b.lanes|=o,ae=b.alternate,ae!==null&&(ae.lanes|=o),vo(b,o,r),b=M.sibling}else b=M.child;if(b!==null)b.return=M;else for(b=M;b!==null;){if(b===r){b=null;break}if(M=b.sibling,M!==null){M.return=b.return,b=M;break}b=b.return}M=b}kn(n,r,g.children,o),r=r.child}return r;case 9:return g=r.type,l=r.pendingProps.children,aa(r,o),g=mr(g),l=l(g),r.flags|=1,kn(n,r,l,o),r.child;case 14:return l=r.type,g=Sr(l,r.pendingProps),g=Sr(l.type,g),Po(n,r,l,g,o);case 15:return Ei(n,r,r.type,r.pendingProps,o);case 17:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:Sr(l,g),is(n,r),r.tag=1,xn(l)?(n=!0,Xo(r)):n=!1,aa(r,o),Vc(r,l,g),si(r,l,g,o),Un(null,r,l,!0,n,o);case 19:return rl(n,r,o);case 22:return Lt(n,r,o)}throw Error(p(156,r.tag))};function dl(n,r){return ai(n,r)}function ef(n,r,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(n,r,o,l){return new ef(n,r,o,l)}function hl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bf(n){if(typeof n=="function")return hl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N)return 11;if(n===P)return 14}return 2}function Ti(n,r){var o=n.alternate;return o===null?(o=Nr(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function pl(n,r,o,l,g,M){var b=2;if(l=n,typeof n=="function")hl(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case T:return Do(o.children,g,M,r);case d:b=8,g|=8;break;case x:return n=Nr(12,o,r,g|2),n.elementType=x,n.lanes=M,n;case R:return n=Nr(13,o,r,g),n.elementType=R,n.lanes=M,n;case z:return n=Nr(19,o,r,g),n.elementType=z,n.lanes=M,n;case I:return ps(o,g,M,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:b=10;break e;case m:b=9;break e;case N:b=11;break e;case P:b=14;break e;case y:b=16,l=null;break e}throw Error(p(130,n==null?n:typeof n,""))}return r=Nr(b,o,r,g),r.elementType=n,r.type=l,r.lanes=M,r}function Do(n,r,o,l){return n=Nr(7,n,l,r),n.lanes=o,n}function ps(n,r,o,l){return n=Nr(22,n,l,r),n.elementType=I,n.lanes=o,n.stateNode={isHidden:!1},n}function gl(n,r,o){return n=Nr(6,n,null,r),n.lanes=o,n}function vl(n,r,o){return r=Nr(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ml(n,r,o,l,g){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=we,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=l,this.onRecoverableError=g,He&&(this.mutableSourceEagerHydrationData=null)}function tf(n,r,o,l,g,M,b,ae,ve){return n=new ml(n,r,o,ae,ve),r===1?(r=1,M===!0&&(r|=8)):r=0,M=Nr(3,null,null,r),n.current=M,M.stateNode=n,M.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(M),n}function nf(n){if(!n)return wn;n=n._reactInternals;e:{if(q(n)!==n||n.tag!==1)throw Error(p(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(xn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(p(171))}if(n.tag===1){var o=n.type;if(xn(o))return xc(n,o,r)}return r}function rf(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(p(188)):(n=Object.keys(n).join(","),Error(p(268,n)));return n=ie(r),n===null?null:n.stateNode}function zo(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Pa(n,r){zo(n,r),(n=n.alternate)&&zo(n,r)}function hu(n){return n=ie(n),n===null?null:n.stateNode}function Hf(){return null}return c.attemptContinuousHydration=function(n){if(n.tag===13){var r=Yr(n,134217728);if(r!==null){var o=vn();Gn(r,n,134217728,o)}Pa(n,134217728)}},c.attemptDiscreteHydration=function(n){if(n.tag===13){var r=Yr(n,1);if(r!==null){var o=vn();Gn(r,n,1,o)}Pa(n,1)}},c.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Gr(n),o=Yr(n,r);if(o!==null){var l=vn();Gn(o,n,r,l)}Pa(n,r)}},c.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Jo(r.pendingLanes);o!==0&&(oi(r,o|1),ur(r,Cn()),(ft&6)===0&&(io(),An()))}break;case 13:ka(function(){var l=Yr(n,1);if(l!==null){var g=vn();Gn(l,n,1,g)}}),Pa(n,1)}},c.batchedUpdates=function(n,r){var o=ft;ft|=1;try{return n(r)}finally{ft=o,ft===0&&(io(),ra&&An())}},c.createComponentSelector=function(n){return{$$typeof:zr,value:n}},c.createContainer=function(n,r,o,l,g,M,b){return tf(n,r,!1,null,o,l,g,M,b)},c.createHasPseudoClassSelector=function(n){return{$$typeof:Qr,value:n}},c.createHydrationContainer=function(n,r,o,l,g,M,b,ae,ve){return n=tf(o,l,!0,n,g,M,b,ae,ve),n.context=nf(null),o=n.current,l=vn(),g=Gr(o),M=wi(l,g),M.callback=r??null,xi(o,M,g),n.current.lanes=g,Mr(n,g,l),ur(n,l),n},c.createPortal=function(n,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:l==null?null:""+l,children:n,containerInfo:r,implementation:o}},c.createRoleSelector=function(n){return{$$typeof:ya,value:n}},c.createTestNameSelector=function(n){return{$$typeof:ss,value:n}},c.createTextSelector=function(n){return{$$typeof:Ur,value:n}},c.deferredUpdates=function(n){var r=gt,o=Qt.transition;try{return Qt.transition=null,gt=16,n()}finally{gt=r,Qt.transition=o}},c.discreteUpdates=function(n,r,o,l,g){var M=gt,b=Qt.transition;try{return Qt.transition=null,gt=1,n(r,o,l,g)}finally{gt=M,Qt.transition=b,ft===0&&io()}},c.findAllNodes=ul,c.findBoundingRects=function(n,r){if(!wt)throw Error(p(363));r=ul(n,r),n=[];for(var o=0;o<r.length;o++)n.push(bn(r[o]));for(r=n.length-1;0<r;r--){o=n[r];for(var l=o.x,g=l+o.width,M=o.y,b=M+o.height,ae=r-1;0<=ae;ae--)if(r!==ae){var ve=n[ae],Pe=ve.x,ze=Pe+ve.width,tt=ve.y,Me=tt+ve.height;if(l>=Pe&&M>=tt&&g<=ze&&b<=Me){n.splice(r,1);break}else if(l!==Pe||o.width!==ve.width||Me<M||tt>b){if(!(M!==tt||o.height!==ve.height||ze<l||Pe>g)){Pe>l&&(ve.width+=Pe-l,ve.x=l),ze<g&&(ve.width=g-Pe),n.splice(r,1);break}}else{tt>M&&(ve.height+=tt-M,ve.y=M),Me<b&&(ve.height=b-tt),n.splice(r,1);break}}}return n},c.findHostInstance=rf,c.findHostInstanceWithNoPortals=function(n){return n=Y(n),n=n!==null?G(n):null,n===null?null:n.stateNode},c.findHostInstanceWithWarning=function(n){return rf(n)},c.flushControlled=function(n){var r=ft;ft|=1;var o=Qt.transition,l=gt;try{Qt.transition=null,gt=1,n()}finally{gt=l,Qt.transition=o,ft=r,ft===0&&(io(),An())}},c.flushPassiveEffects=hi,c.flushSync=ka,c.focusWithin=function(n,r){if(!wt)throw Error(p(363));for(n=_a(n),r=ru(n,r),r=Array.from(r),n=0;n<r.length;){var o=r[n++];if(!dn(o)){if(o.tag===5&&tn(o.stateNode))return!0;for(o=o.child;o!==null;)r.push(o),o=o.sibling}}return!1},c.getCurrentUpdatePriority=function(){return gt},c.getFindAllNodesFailureDescription=function(n,r){if(!wt)throw Error(p(363));var o=0,l=[];n=[_a(n),0];for(var g=0;g<n.length;){var M=n[g++],b=n[g++],ae=r[b];if((M.tag!==5||!dn(M))&&(ll(M,ae)&&(l.push(Sa(ae)),b++,b>o&&(o=b)),b<r.length))for(M=M.child;M!==null;)n.push(M,b),M=M.sibling}if(o<r.length){for(n=[];o<r.length;o++)n.push(Sa(r[o]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},c.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return Q(n.child.stateNode);default:return n.child.stateNode}},c.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:hu,findFiberByHostInstance:n.findFiberByHostInstance||Hf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{Gi=r.inject(n),ir=r}catch{}n=!!r.checkDCE}}return n},c.isAlreadyRendering=function(){return!1},c.observeVisibleRects=function(n,r,o,l){if(!wt)throw Error(p(363));n=ul(n,r);var g=dr(n,o,l).disconnect;return{disconnect:function(){g()}}},c.registerMutableSourceForHydration=function(n,r){var o=r._getVersion;o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o)},c.runWithPriority=function(n,r){var o=gt;try{return gt=n,r()}finally{gt=o}},c.shouldError=function(){return null},c.shouldSuspend=function(){return!1},c.updateContainer=function(n,r,o,l){var g=r.current,M=vn(),b=Gr(g);return o=nf(o),r.context===null?r.context=o:r.pendingContext=o,r=wi(M,b),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=xi(g,r,b),n!==null&&(Gn(n,g,b,M),Ya(n,g,b)),b},c}),Od}var pp;function Yv(){return pp||(pp=1,Ad.exports=Kv()),Ad.exports}var Qv=Yv();const Xv=Tf(Qv);var Md={exports:{}},La={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Jv(){return gp||(gp=1,La.ConcurrentRoot=1,La.ContinuousEventPriority=4,La.DefaultEventPriority=16,La.DiscreteEventPriority=1,La.IdleEventPriority=536870912,La.LegacyRoot=0),La}var vp;function Zv(){return vp||(vp=1,Md.exports=Jv()),Md.exports}var r1=Zv(),e2=vt();const mp={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let yp=!1,_p=!1;const bd=".react-konva-event",t2=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,n2=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,r2={};function Ff(s,u,c=r2){if(!yp&&"zIndex"in u&&(console.warn(n2),yp=!0),!_p&&u.draggable){var E=u.x!==void 0||u.y!==void 0,A=u.onDragEnd||u.onDragMove;E&&!A&&(console.warn(t2),_p=!0)}for(var v in c)if(!mp[v]){var p=v.slice(0,2)==="on",S=c[v]!==u[v];if(p&&S){var C=v.substr(2).toLowerCase();C.substr(0,7)==="content"&&(C="content"+C.substr(7,1).toUpperCase()+C.substr(8)),s.off(C,c[v])}var w=!u.hasOwnProperty(v);w&&s.setAttr(v,void 0)}var T=u._useStrictMode,d={},x=!1;const _={};for(var v in u)if(!mp[v]){var p=v.slice(0,2)==="on",m=c[v]!==u[v];if(p&&m){var C=v.substr(2).toLowerCase();C.substr(0,7)==="content"&&(C="content"+C.substr(7,1).toUpperCase()+C.substr(8)),u[v]&&(_[C]=u[v])}!p&&(u[v]!==c[v]||T&&u[v]!==s.getAttr(v))&&(x=!0,d[v]=u[v])}x&&(s.setAttrs(d),za(s));for(var C in _)s.on(C+bd,_[C])}function za(s){if(!e2.Konva.autoDrawEnabled){var u=s.getLayer()||s.getStage();u&&u.batchDraw()}}var Id=Ud();const i1={},i2={};yc.Node.prototype._applyProps=Ff;function o2(s,u){if(typeof u=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${u}`);return}s.add(u),za(s)}function a2(s,u,c){let E=yc[s];E||(console.error(`Konva has no node with the type ${s}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${s}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),E=yc.Group);const A={},v={};for(var p in u){var S=p.slice(0,2)==="on";S?v[p]=u[p]:A[p]=u[p]}const C=new E(A);return Ff(C,v),C}function s2(s,u,c){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${s}"`)}function l2(s,u,c){return!1}function u2(s){return s}function c2(){return null}function f2(){return null}function d2(s,u,c,E){return i2}function h2(){}function p2(s){}function g2(s,u){return!1}function v2(){return i1}function m2(){return i1}const y2=setTimeout,_2=clearTimeout,S2=-1;function w2(s,u){return!1}const x2=!1,C2=!0,E2=!0;function k2(s,u){u.parent===s?u.moveToTop():s.add(u),za(s)}function P2(s,u){u.parent===s?u.moveToTop():s.add(u),za(s)}function o1(s,u,c){u._remove(),s.add(u),u.setZIndex(c.getZIndex()),za(s)}function R2(s,u,c){o1(s,u,c)}function T2(s,u){u.destroy(),u.off(bd),za(s)}function N2(s,u){u.destroy(),u.off(bd),za(s)}function A2(s,u,c){console.error(`Text components are not yet supported in ReactKonva. You text is: "${c}"`)}function O2(s,u,c){}function M2(s,u,c,E,A){Ff(s,A,E)}function I2(s){s.hide(),za(s)}function L2(s){}function F2(s,u){(u.visible==null||u.visible)&&s.show()}function D2(s,u){}function z2(s){}function U2(){}const j2=()=>r1.DefaultEventPriority,G2=Object.freeze(Object.defineProperty({__proto__:null,appendChild:k2,appendChildToContainer:P2,appendInitialChild:o2,cancelTimeout:_2,clearContainer:z2,commitMount:O2,commitTextUpdate:A2,commitUpdate:M2,createInstance:a2,createTextInstance:s2,detachDeletedInstance:U2,finalizeInitialChildren:l2,getChildHostContext:m2,getCurrentEventPriority:j2,getPublicInstance:u2,getRootHostContext:v2,hideInstance:I2,hideTextInstance:L2,idlePriority:Id.unstable_IdlePriority,insertBefore:o1,insertInContainerBefore:R2,isPrimaryRenderer:x2,noTimeout:S2,now:Id.unstable_now,prepareForCommit:c2,preparePortalMount:f2,prepareUpdate:d2,removeChild:T2,removeChildFromContainer:N2,resetAfterCommit:h2,resetTextContent:p2,run:Id.unstable_runWithPriority,scheduleTimeout:y2,shouldDeprioritizeSubtree:g2,shouldSetTextContent:w2,supportsMutation:E2,unhideInstance:F2,unhideTextInstance:D2,warnsIfNotActing:C2},Symbol.toStringTag,{value:"Module"}));var B2=Object.defineProperty,H2=Object.defineProperties,V2=Object.getOwnPropertyDescriptors,Sp=Object.getOwnPropertySymbols,$2=Object.prototype.hasOwnProperty,b2=Object.prototype.propertyIsEnumerable,wp=(s,u,c)=>u in s?B2(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,xp=(s,u)=>{for(var c in u||(u={}))$2.call(u,c)&&wp(s,c,u[c]);if(Sp)for(var c of Sp(u))b2.call(u,c)&&wp(s,c,u[c]);return s},W2=(s,u)=>H2(s,V2(u)),Cp,Ep;typeof window<"u"&&((Cp=window.document)!=null&&Cp.createElement||((Ep=window.navigator)==null?void 0:Ep.product)==="ReactNative")?Ee.useLayoutEffect:Ee.useEffect;function a1(s,u,c){if(!s)return;if(c(s)===!0)return s;let E=s.child;for(;E;){const A=a1(E,u,c);if(A)return A;E=E.sibling}}function s1(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const kp=console.error;console.error=function(){const s=[...arguments].join("");if(s!=null&&s.startsWith("Warning:")&&s.includes("useContext")){console.error=kp;return}return kp.apply(this,arguments)};const Wd=s1(Ee.createContext(null));class l1 extends Ee.Component{render(){return Ee.createElement(Wd.Provider,{value:this._reactInternals},this.props.children)}}function q2(){const s=Ee.useContext(Wd);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const u=Ee.useId();return Ee.useMemo(()=>{for(const E of[s,s==null?void 0:s.alternate]){if(!E)continue;const A=a1(E,!1,v=>{let p=v.memoizedState;for(;p;){if(p.memoizedState===u)return!0;p=p.next}});if(A)return A}},[s,u])}function K2(){const s=q2(),[u]=Ee.useState(()=>new Map);u.clear();let c=s;for(;c;){if(c.type&&typeof c.type=="object"){const A=c.type._context===void 0&&c.type.Provider===c.type?c.type:c.type._context;A&&A!==Wd&&!u.has(A)&&u.set(A,Ee.useContext(s1(A)))}c=c.return}return u}function Y2(){const s=K2();return Ee.useMemo(()=>Array.from(s.keys()).reduce((u,c)=>E=>Ee.createElement(u,null,Ee.createElement(c.Provider,W2(xp({},E),{value:s.get(c)}))),u=>Ee.createElement(l1,xp({},u))),[s])}function Q2(s){const u=er.useRef({});return er.useLayoutEffect(()=>{u.current=s}),er.useLayoutEffect(()=>()=>{u.current={}},[]),u.current}const X2=s=>{const u=er.useRef(),c=er.useRef(),E=er.useRef(),A=Q2(s),v=Y2(),p=S=>{const{forwardedRef:C}=s;C&&(typeof C=="function"?C(S):C.current=S)};return er.useLayoutEffect(()=>(c.current=new yc.Stage({width:s.width,height:s.height,container:u.current}),p(c.current),E.current=gc.createContainer(c.current,r1.LegacyRoot,!1,null),gc.updateContainer(er.createElement(v,{},s.children),E.current),()=>{yc.isBrowser&&(p(null),gc.updateContainer(null,E.current,null),c.current.destroy())}),[]),er.useLayoutEffect(()=>{p(c.current),Ff(c.current,s,A),gc.updateContainer(er.createElement(v,{},s.children),E.current,null)}),er.createElement("div",{ref:u,id:s.id,accessKey:s.accessKey,className:s.className,role:s.role,style:s.style,tabIndex:s.tabIndex,title:s.title})},J2="Layer",qd="Group",Rf="Rect",$o="Circle",_c="Line",Z2="Text",gc=Xv(G2);gc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:er.version,rendererPackageName:"react-konva"});const em=er.forwardRef((s,u)=>er.createElement(l1,{},er.createElement(X2,{...s,forwardedRef:u})));function tm({arenaWidth:s,arenaHeight:u}){return fe.jsxs(fe.Fragment,{children:[Array.from({length:Math.ceil(u/40)}).map((E,A)=>fe.jsx(_c,{points:[0,A*40,s,A*40],stroke:"rgba(99, 102, 241, 0.1)",strokeWidth:1},`grid-h-${A}`)),Array.from({length:Math.ceil(s/40)}).map((E,A)=>fe.jsx(_c,{points:[A*40,0,A*40,u],stroke:"rgba(99, 102, 241, 0.1)",strokeWidth:1},`grid-v-${A}`))]})}function Pp(s,u){let c=parseInt(s.substring(1,3),16),E=parseInt(s.substring(3,5),16),A=parseInt(s.substring(5,7),16);return c=parseInt(c*(100+u)/100),E=parseInt(E*(100+u)/100),A=parseInt(A*(100+u)/100),c=c<255?c:255,E=E<255?E:255,A=A<255?A:255,c=Math.max(0,c).toString(16).padStart(2,"0"),E=Math.max(0,E).toString(16).padStart(2,"0"),A=Math.max(0,A).toString(16).padStart(2,"0"),`#${c}${E}${A}`}const Fa=30;function nm({player:s,sessionId:u}){if(s.isDead)return null;const c=s.direction,E=Fa;let A="#4CAF50";return s.hp===2&&(A="#FFC107"),s.hp===1&&(A="#F44336"),fe.jsxs(qd,{children:[fe.jsx($o,{x:s.x+4,y:s.y+4,radius:Fa/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),fe.jsx($o,{x:s.x,y:s.y,radius:Fa/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Fa,fillRadialGradientColorStops:[0,Pp(A,40),1,Pp(A,-20)],stroke:"#000",strokeWidth:2}),fe.jsx(_c,{points:[s.x+2,s.y+2,s.x+2+Math.cos(c*Math.PI/180)*E,s.y+2-Math.sin(c*Math.PI/180)*E],stroke:"rgba(0,0,0,0.5)",strokeWidth:6,lineCap:"round",opacity:.5}),fe.jsx(_c,{points:[s.x,s.y,s.x+Math.cos(c*Math.PI/180)*E,s.y-Math.sin(c*Math.PI/180)*E],stroke:"#333",strokeWidth:5,lineCap:"round"}),fe.jsx($o,{x:s.x,y:s.y,radius:Fa/4,fill:"#333",stroke:"#000",strokeWidth:1}),fe.jsx(Z2,{x:s.x-50,y:s.y+Fa+5,text:s.username,fontSize:14,fontStyle:"bold",fill:"#FFF",align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),fe.jsx(Rf,{x:s.x-25,y:s.y-Fa-15,width:50,height:8,fill:"rgba(0,0,0,0.6)",cornerRadius:4,shadowColor:"black",shadowBlur:2,shadowOffset:{x:0,y:1},shadowOpacity:.5}),fe.jsx(Rf,{x:s.x-23,y:s.y-Fa-14,width:s.hp/3*46,height:6,fill:A,cornerRadius:3})]})}const Vo=5;function rm({bullet:s}){return fe.jsxs(qd,{children:[fe.jsx(_c,{points:[s.x-Math.cos(s.direction*Math.PI/180)*Vo*6,s.y+Math.sin(s.direction*Math.PI/180)*Vo*6,s.x,s.y],stroke:"rgba(255, 165, 0, 0.6)",strokeWidth:Vo,lineCap:"round"}),fe.jsx($o,{x:s.x,y:s.y,radius:Vo*3,fill:"rgba(255, 165, 0, 0.1)"}),fe.jsx($o,{x:s.x,y:s.y,radius:Vo*2,fill:"rgba(255, 165, 0, 0.3)"}),fe.jsx($o,{x:s.x,y:s.y,radius:Vo,fill:"#FFA500"}),fe.jsx($o,{x:s.x-Vo/3,y:s.y-Vo/3,radius:Vo/3,fill:"rgba(255, 255, 255, 0.8)"})]})}function im({explosion:s}){return fe.jsxs(qd,{children:[fe.jsx($o,{x:s.x,y:s.y,radius:s.radius*1.2,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:s.radius*1.2,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0)",.7,"rgba(255, 165, 0, 0.1)",1,"rgba(255, 0, 0, 0)"]}),fe.jsx($o,{x:s.x,y:s.y,radius:s.radius,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:s.radius,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0.9)",.2,"rgba(255, 255, 0, 0.8)",.5,"rgba(255, 165, 0, 0.6)",.8,"rgba(255, 0, 0, 0.4)",1,"rgba(0, 0, 0, 0)"]})]})}function om({gameState:s}){const{arenaWidth:u,arenaHeight:c,players:E,bullets:A,explosions:v}=s;return fe.jsxs(fe.Fragment,{children:[fe.jsx(Rf,{x:0,y:0,width:u,height:c,fill:"#0f172a"}),fe.jsx(tm,{arenaWidth:u,arenaHeight:c}),fe.jsx(Rf,{x:0,y:0,width:u,height:c,stroke:"rgba(99, 102, 241, 0.5)",strokeWidth:2}),v.map((p,S)=>fe.jsx(im,{explosion:p},`explosion-${S}`)),A.map((p,S)=>fe.jsx(rm,{bullet:p},`bullet-${S}`)),Array.from(E.entries()).map(([p,S])=>fe.jsx(nm,{player:S,sessionId:p},`tank-${p}`))]})}const am="modulepreload",sm=function(s){return"/tanki.io/"+s},Rp={},lm=function(u,c,E){let A=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),S=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));A=Promise.allSettled(c.map(C=>{if(C=sm(C),C in Rp)return;Rp[C]=!0;const w=C.endsWith(".css"),T=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${T}`))return;const d=document.createElement("link");if(d.rel=w?"stylesheet":am,w||(d.as="script"),d.crossOrigin="",d.href=C,S&&d.setAttribute("nonce",S),document.head.appendChild(d),w)return new Promise((x,_)=>{d.addEventListener("load",x),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${C}`)))})}))}function v(p){const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=p,window.dispatchEvent(S),!S.defaultPrevented)throw p}return A.then(p=>{for(const S of p||[])S.status==="rejected"&&v(S.reason);return u().catch(v)})},Sc={wsUrl:"ws://localhost:3000",clientUrl:"http://localhost:5175"};lm(()=>import("./ipConfig-9RTTG1TT.js"),[]).then(s=>{if(s){s.LOCAL_ADDRESSE;const u=s.PROD_ADDRESS;Sc.wsUrl=u,console.info("Webserver url : "+Sc.wsUrl)}}).catch(s=>{console.error("Failed to load IP configuration:",s)});function um(){return fe.jsx("div",{className:"w-full bg-black/40 backdrop-blur-sm border-t border-indigo-500/10 py-3 px-4",children:fe.jsx("div",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-center",children:fe.jsxs("div",{className:"text-sm text-gray-400",children:["Use your mobile device to join the game at ",fe.jsx("span",{className:"text-indigo-400 font-medium",children:Sc.clientUrl})]})})})}function cm({playersCount:s,bulletsCount:u,showStats:c,onToggleStats:E}){return fe.jsx("div",{className:"w-full bg-black/60 backdrop-blur-md border-b border-indigo-500/20 shadow-lg z-10",children:fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex flex-wrap items-center justify-between",children:[fe.jsxs("div",{className:"flex items-center gap-6",children:[fe.jsxs("div",{className:"flex items-center",children:[fe.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mr-3 shadow-lg",children:fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),fe.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-600",children:"TANK.IO"})]}),fe.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[fe.jsxs("div",{className:"px-3 py-1 bg-indigo-500/20 backdrop-blur-sm rounded-md border border-indigo-500/30 flex items-center",children:[fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),fe.jsxs("span",{className:"text-indigo-300 font-medium",children:["Players: ",fe.jsx("span",{className:"text-white",children:s})]})]}),fe.jsxs("div",{className:"px-3 py-1 bg-orange-500/20 backdrop-blur-sm rounded-md border border-orange-500/30 flex items-center",children:[fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-orange-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),fe.jsxs("span",{className:"text-orange-300 font-medium",children:["Bullets: ",fe.jsx("span",{className:"text-white",children:u})]})]})]})]}),fe.jsxs("div",{className:"flex items-center gap-2",children:[fe.jsxs("div",{className:"flex items-center mr-2",children:[fe.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),fe.jsx("span",{className:"text-green-300 text-sm",children:"Spectator Mode"})]}),fe.jsxs("button",{onClick:E,className:"px-3 py-1 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 rounded-md transition-colors duration-200 flex items-center gap-1 backdrop-blur-sm border border-gray-600/30",children:[fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c?"Hide Stats":"Show Stats"]})]})]})})}function fm({gameState:s,viewportSize:u}){return fe.jsxs("div",{className:"absolute top-20 left-4 bg-black/60 backdrop-blur-sm text-white p-4 rounded-lg text-sm border border-white/10 shadow-lg max-w-xs",children:[fe.jsx("h3",{className:"font-bold mb-2 text-indigo-300",children:"Game Stats"}),fe.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[fe.jsx("div",{children:"Players:"}),fe.jsx("div",{className:"text-right",children:s.players.size}),fe.jsx("div",{children:"Bullets:"}),fe.jsx("div",{className:"text-right",children:s.bullets.length}),fe.jsx("div",{children:"Explosions:"}),fe.jsx("div",{className:"text-right",children:s.explosions.length}),fe.jsx("div",{children:"Arena Size:"}),fe.jsxs("div",{className:"text-right",children:[s.arenaWidth,"",s.arenaHeight]}),fe.jsx("div",{children:"Viewport:"}),fe.jsxs("div",{className:"text-right",children:[u.width,"",u.height]})]})]})}function dm({error:s}){return fe.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-6",children:fe.jsxs("div",{className:"text-center bg-gray-800/80 backdrop-blur-sm p-8 rounded-xl shadow-2xl max-w-md border border-red-500/30",children:[fe.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-red-500",children:fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),fe.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"Connection Failed"}),fe.jsx("p",{className:"text-red-400 mb-6",children:s}),fe.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 font-medium",children:"Retry Connection"})]})})}function u1(){return fe.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center",children:fe.jsxs("div",{className:"text-center",children:[fe.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[fe.jsx("div",{className:"absolute inset-0 w-full h-full border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),fe.jsx("div",{className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] border-4 border-indigo-300 border-b-transparent rounded-full animate-spin animation-delay-150"})]}),fe.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"TANK.IO"}),fe.jsx("p",{className:"text-indigo-300 text-lg",children:"Connecting to battlefield..."})]})})}function hm(s){const[u,c]=Ee.useState({width:0,height:0});return Ee.useEffect(()=>{const E=()=>{if(!s.current)return;const A=s.current.clientWidth,v=s.current.clientHeight;c({width:A,height:v})};return setTimeout(E,100),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[s]),u}function pm(){const[s,u]=Ee.useState({players:new Map,bullets:[],explosions:[],arenaWidth:2e3,arenaHeight:1200}),[c,E]=Ee.useState(!0),[A,v]=Ee.useState(null),[p,S]=Ee.useState(!1),C=Ee.useRef(null),w=Ee.useRef(null),T=hm(w),d=Ee.useRef(null);return Ee.useEffect(()=>{d.current&&T.width&&T.height&&d.current.send("updateArenaSize",{width:T.width,height:T.height})},[T.width,T.height]),Ee.useEffect(()=>{const x=new Yp.Client(Sc.wsUrl);E(!0),x.joinOrCreate("game",{isSpectator:!0}).then(_=>{E(!1),d.current=_,T.width&&T.height&&_.send("updateArenaSize",{width:T.width,height:T.height}),_.onStateChange(m=>{u({players:m.players,bullets:Array.from(m.bullets),explosions:Array.from(m.explosions),arenaWidth:m.arenaWidth,arenaHeight:m.arenaHeight})})}).catch(_=>{console.error("Could not join room as spectator:",_),E(!1),v("Failed to connect to game server")})},[]),c?fe.jsx(u1,{}):A?fe.jsx(dm,{error:A}):fe.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black overflow-hidden",children:[fe.jsx(cm,{playersCount:s.players.size,bulletsCount:s.bullets.length,showStats:p,onToggleStats:()=>S(!p)}),fe.jsxs("div",{ref:w,className:"flex-1 w-full overflow-hidden",children:[fe.jsx(em,{ref:C,width:T.width||window.innerWidth,height:T.height||window.innerHeight-100,className:"w-full h-full",children:fe.jsx(J2,{children:fe.jsx(om,{gameState:s})})}),p&&fe.jsx(fm,{gameState:s,viewportSize:T})]}),fe.jsx(um,{})]})}function gm({onShoot:s}){return fe.jsxs("button",{className:"w-32 h-32 rounded-full bg-gradient-to-r from-red-500 to-red-700 text-white font-bold text-2xl shadow-xl flex items-center justify-center active:scale-95 transition-all transform-gpu relative overflow-hidden active:shadow-red-500/50",onTouchStart:s,onMouseDown:s,children:[fe.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-full scale-90 transition-transform"}),fe.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}function vm({username:s,health:u}){return fe.jsxs("div",{className:"absolute top-2 left-0 right-0 mx-auto w-fit bg-black/50 backdrop-blur-md rounded-full px-4 py-1.5 flex items-center gap-3 shadow-lg border border-indigo-500/20",children:[fe.jsx("div",{className:"text-white font-semibold",children:s}),fe.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((c,E)=>fe.jsx("div",{className:`w-4 h-4 rounded-full ${E<u?"bg-green-500":"bg-gray-700"} transition-colors duration-300 ${E<u?"shadow-sm shadow-green-300":""}`},E))})]})}function mm({onMove:s,onStop:u}){const[c,E]=Ee.useState({x:0,y:0}),[A,v]=Ee.useState(!1),[p,S]=Ee.useState(0),C=Ee.useRef(null),w=Ee.useRef(null),T=Ee.useRef({degrees:0,isMoving:!1}),d=16;Ee.useEffect(()=>(A?w.current=setInterval(()=>{T.current.isMoving&&s(T.current.degrees,T.current.isMoving)},d):w.current&&(clearInterval(w.current),w.current=null),()=>{w.current&&(clearInterval(w.current),w.current=null)}),[A,s]);const x=(D,W)=>{if(!C.current)return;v(!0);const K=C.current.getBoundingClientRect(),U=K.left+K.width/2,q=K.top+K.height/2;_(D,W,U,q)},_=(D,W,K,U)=>{if(!A||!C.current)return;if(!K||!U){const X=C.current.getBoundingClientRect();K=X.left+X.width/2,U=X.top+X.height/2}let q=D-K,V=-(W-U);const Y=Math.sqrt(q*q+V*V);let F=Math.atan2(V,q)*180/Math.PI%360;F<0&&(F+=360),S(F);const H=Math.min(50,Y);E({x:Math.cos(Math.atan2(W-U,D-K))*H,y:Math.sin(Math.atan2(W-U,D-K))*H});const Q=Y>5;T.current={degrees:F,isMoving:Q}},m=()=>{v(!1),E({x:0,y:0}),u(p),w.current&&(clearInterval(w.current),w.current=null)},N=D=>{D.preventDefault(),x(D.clientX,D.clientY),document.addEventListener("mousemove",R),document.addEventListener("mouseup",z)},R=D=>{D.preventDefault(),_(D.clientX,D.clientY)},z=D=>{D.preventDefault(),m(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",z)},P=D=>{D.preventDefault();const W=D.touches[0];x(W.clientX,W.clientY)},y=D=>{if(D.preventDefault(),!A)return;const W=D.touches[0];_(W.clientX,W.clientY)},I=D=>{D.preventDefault(),m()};return Ee.useEffect(()=>{const D=C.current;if(D)return D.addEventListener("touchstart",P,{passive:!1}),D.addEventListener("touchmove",y,{passive:!1}),D.addEventListener("touchend",I,{passive:!1}),()=>{D.removeEventListener("touchstart",P),D.removeEventListener("touchmove",y),D.removeEventListener("touchend",I)}},[A]),fe.jsxs("div",{ref:C,className:"relative w-48 h-48 bg-black/40 backdrop-blur-sm rounded-full border-2 border-indigo-600/30 shadow-lg flex items-center justify-center",onMouseDown:N,children:[fe.jsxs("div",{className:"absolute w-full h-full rounded-full",children:[fe.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-8 bg-indigo-500/20 rounded-full"}),fe.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-8 bg-indigo-500/20 rounded-full"}),fe.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 w-8 h-1 bg-indigo-500/20 rounded-full"}),fe.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 w-8 h-1 bg-indigo-500/20 rounded-full"}),fe.jsx("div",{className:"absolute inset-0 border-[16px] border-indigo-500/10 rounded-full"})]}),fe.jsx("div",{className:"absolute w-20 h-20 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-full shadow-md cursor-grab active:cursor-grabbing transform-gpu will-change-transform",style:{transform:`translate(${c.x}px, ${c.y}px)`,transition:A?"none":"transform 0.2s ease-out"},children:fe.jsx("div",{className:"absolute inset-2 rounded-full bg-indigo-600 flex items-center justify-center",children:fe.jsx("div",{className:"w-1/2 h-1/2 rounded-full bg-indigo-400/30"})})})]})}function ym({countdown:s}){return s===null?null:fe.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:fe.jsxs("div",{className:"text-center space-y-4",children:[fe.jsx("h2",{className:"text-4xl font-bold text-red-500",children:"Tank Destroyed!"}),fe.jsx("div",{className:"text-7xl font-bold text-white",children:s}),fe.jsx("p",{className:"text-xl text-gray-300",children:"Respawning in seconds..."})]})})}function _m({isFullscreen:s,enterFullscreen:u}){return s?null:fe.jsx("button",{onClick:u,className:"absolute top-2 right-2 z-50 bg-indigo-600 text-white rounded-full p-2 shadow-lg","aria-label":"Enter fullscreen mode",children:fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})}function Sm(){const s=Up(),[u,c]=Ee.useState(null),[E,A]=Ee.useState(3),[v,p]=Ee.useState(""),[S,C]=Ee.useState(!0),[w,T]=Ee.useState(null),d=Ee.useRef(!1);return Ee.useEffect(()=>{if(d.current)return;const N=sessionStorage.getItem("username");if(!N){s("/");return}p(N);const R=new Yp.Client(Sc.wsUrl);return C(!0),d.current=!0,R.joinOrCreate("game",{username:N}).then(z=>{c(z),C(!1),z.onStateChange(P=>{const y=P.players.get(z.sessionId);y&&A(y.hp)})}).catch(z=>{d.current=!1,console.error("Could not join room:",z),C(!1),s("/")}),()=>{u&&u.leave()}},[s]),Ee.useEffect(()=>{if(u)return u.onMessage("respawnCountdown",N=>{T(N.countdown)}),u.onMessage("playerRespawned",()=>{T(null)}),()=>{u.removeAllListeners("respawnCountdown"),u.removeAllListeners("playerRespawned")}},[u]),{room:u,health:E,username:v,isConnecting:S,respawnCountdown:w,handleMove:(N,R)=>{u&&u.send("move",{direction:N,moving:R})},handleStopMoving:N=>{u&&u.send("move",{direction:N,moving:!1})},handleShoot:()=>{u&&u.send("shoot")}}}function wm(s){const[u,c]=Ee.useState(!1);return Ee.useEffect(()=>{const v=()=>{c(!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))};return document.addEventListener("fullscreenchange",v),document.addEventListener("mozfullscreenchange",v),document.addEventListener("webkitfullscreenchange",v),document.addEventListener("msfullscreenchange",v),()=>{document.removeEventListener("fullscreenchange",v),document.removeEventListener("mozfullscreenchange",v),document.removeEventListener("webkitfullscreenchange",v),document.removeEventListener("msfullscreenchange",v)}},[]),{isFullscreen:u,enterFullscreen:()=>{if(!s.current)return;const v=s.current;v.requestFullscreen?v.requestFullscreen().catch(p=>console.error("Fullscreen error:",p)):v.mozRequestFullScreen?v.mozRequestFullScreen().catch(p=>console.error("Fullscreen error:",p)):v.webkitRequestFullscreen?v.webkitRequestFullscreen().catch(p=>console.error("Fullscreen error:",p)):v.msRequestFullscreen&&v.msRequestFullscreen().catch(p=>console.error("Fullscreen error:",p))},exitFullscreen:()=>{document.exitFullscreen?document.exitFullscreen().catch(v=>console.error("Exit fullscreen error:",v)):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(v=>console.error("Exit fullscreen error:",v)):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(v=>console.error("Exit fullscreen error:",v)):document.msExitFullscreen&&document.msExitFullscreen().catch(v=>console.error("Exit fullscreen error:",v))}}}function xm(){const s=Ee.useRef(null),{isFullscreen:u,enterFullscreen:c}=wm(s),{isConnecting:E,username:A,health:v,respawnCountdown:p,handleMove:S,handleStopMoving:C,handleShoot:w}=Sm();return E?fe.jsx(u1,{}):fe.jsxs("div",{ref:s,className:"fixed inset-0 bg-gradient-to-r from-gray-900 to-gray-800 flex items-center justify-center overflow-hidden select-none",children:[fe.jsx(_m,{isFullscreen:u,enterFullscreen:c}),fe.jsx(ym,{countdown:p}),fe.jsxs("div",{className:"w-full h-full flex flex-row items-center justify-between px-4 py-2",children:[fe.jsx("div",{className:"flex-1 flex items-center justify-center",children:fe.jsx(mm,{onMove:S,onStop:C})}),fe.jsx(vm,{username:A,health:v}),fe.jsx("div",{className:"flex-1 flex items-center justify-center",children:fe.jsx(gm,{onShoot:w})})]})]})}function Cm(){return fe.jsx(Ug,{children:fe.jsxs(Fg,{children:[fe.jsx(kf,{path:"/tanki.io/",element:fe.jsx(jg,{})}),fe.jsx(kf,{path:"/tanki.io/game",element:fe.jsx(pm,{})}),fe.jsx(kf,{path:"/tanki.io/controller",element:fe.jsx(xm,{})})]})})}V1.createRoot(document.getElementById("root")).render(fe.jsx(er.StrictMode,{children:fe.jsx(Cm,{})}));
