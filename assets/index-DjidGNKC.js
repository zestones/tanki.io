function V8(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in e)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:function(){return e[o]}})}),r}var cp={exports:{}},Xc={},dp={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function $8(){if(E1)return Tt;E1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),m=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=m&&Y[m]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,R={};function E(Y,le,oe){this.props=Y,this.context=le,this.refs=R,this.updater=oe||S}E.prototype.isReactComponent={},E.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function A(){}A.prototype=E.prototype;function k(Y,le,oe){this.props=Y,this.context=le,this.refs=R,this.updater=oe||S}var C=k.prototype=new A;C.constructor=k,_(C,E.prototype),C.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,$={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function L(Y,le,oe){var _e,we={},Ne=null,Re=null;if(le!=null)for(_e in le.ref!==void 0&&(Re=le.ref),le.key!==void 0&&(Ne=""+le.key),le)j.call(le,_e)&&!B.hasOwnProperty(_e)&&(we[_e]=le[_e]);var ie=arguments.length-2;if(ie===1)we.children=oe;else if(1<ie){for(var fe=Array(ie),Ce=0;Ce<ie;Ce++)fe[Ce]=arguments[Ce+2];we.children=fe}if(Y&&Y.defaultProps)for(_e in ie=Y.defaultProps,ie)we[_e]===void 0&&(we[_e]=ie[_e]);return{$$typeof:e,type:Y,key:Ne,ref:Re,props:we,_owner:$.current}}function H(Y,le){return{$$typeof:e,type:Y.type,key:le,ref:Y.ref,props:Y.props,_owner:Y._owner}}function U(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function G(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(oe){return le[oe]})}var te=/\/+/g;function O(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?G(""+Y.key):le.toString(36)}function V(Y,le,oe,_e,we){var Ne=typeof Y;(Ne==="undefined"||Ne==="boolean")&&(Y=null);var Re=!1;if(Y===null)Re=!0;else switch(Ne){case"string":case"number":Re=!0;break;case"object":switch(Y.$$typeof){case e:case t:Re=!0}}if(Re)return Re=Y,we=we(Re),Y=_e===""?"."+O(Re,0):_e,N(we)?(oe="",Y!=null&&(oe=Y.replace(te,"$&/")+"/"),V(we,le,oe,"",function(Ce){return Ce})):we!=null&&(U(we)&&(we=H(we,oe+(!we.key||Re&&Re.key===we.key?"":(""+we.key).replace(te,"$&/")+"/")+Y)),le.push(we)),1;if(Re=0,_e=_e===""?".":_e+":",N(Y))for(var ie=0;ie<Y.length;ie++){Ne=Y[ie];var fe=_e+O(Ne,ie);Re+=V(Ne,le,oe,fe,we)}else if(fe=w(Y),typeof fe=="function")for(Y=fe.call(Y),ie=0;!(Ne=Y.next()).done;)Ne=Ne.value,fe=_e+O(Ne,ie++),Re+=V(Ne,le,oe,fe,we);else if(Ne==="object")throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Re}function q(Y,le,oe){if(Y==null)return Y;var _e=[],we=0;return V(Y,_e,"","",function(Ne){return le.call(oe,Ne,we++)}),_e}function J(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(oe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=oe)},function(oe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=oe)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var Z={current:null},re={transition:null},se={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:re,ReactCurrentOwner:$};return Tt.Children={map:q,forEach:function(Y,le,oe){q(Y,function(){le.apply(this,arguments)},oe)},count:function(Y){var le=0;return q(Y,function(){le++}),le},toArray:function(Y){return q(Y,function(le){return le})||[]},only:function(Y){if(!U(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Tt.Component=E,Tt.Fragment=r,Tt.Profiler=u,Tt.PureComponent=k,Tt.StrictMode=o,Tt.Suspense=p,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Tt.cloneElement=function(Y,le,oe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var _e=_({},Y.props),we=Y.key,Ne=Y.ref,Re=Y._owner;if(le!=null){if(le.ref!==void 0&&(Ne=le.ref,Re=$.current),le.key!==void 0&&(we=""+le.key),Y.type&&Y.type.defaultProps)var ie=Y.type.defaultProps;for(fe in le)j.call(le,fe)&&!B.hasOwnProperty(fe)&&(_e[fe]=le[fe]===void 0&&ie!==void 0?ie[fe]:le[fe])}var fe=arguments.length-2;if(fe===1)_e.children=oe;else if(1<fe){ie=Array(fe);for(var Ce=0;Ce<fe;Ce++)ie[Ce]=arguments[Ce+2];_e.children=ie}return{$$typeof:e,type:Y.type,key:we,ref:Ne,props:_e,_owner:Re}},Tt.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:d,_context:Y},Y.Consumer=Y},Tt.createElement=L,Tt.createFactory=function(Y){var le=L.bind(null,Y);return le.type=Y,le},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(Y){return{$$typeof:h,render:Y}},Tt.isValidElement=U,Tt.lazy=function(Y){return{$$typeof:x,_payload:{_status:-1,_result:Y},_init:J}},Tt.memo=function(Y,le){return{$$typeof:f,type:Y,compare:le===void 0?null:le}},Tt.startTransition=function(Y){var le=re.transition;re.transition={};try{Y()}finally{re.transition=le}},Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Tt.useCallback=function(Y,le){return Z.current.useCallback(Y,le)},Tt.useContext=function(Y){return Z.current.useContext(Y)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(Y){return Z.current.useDeferredValue(Y)},Tt.useEffect=function(Y,le){return Z.current.useEffect(Y,le)},Tt.useId=function(){return Z.current.useId()},Tt.useImperativeHandle=function(Y,le,oe){return Z.current.useImperativeHandle(Y,le,oe)},Tt.useInsertionEffect=function(Y,le){return Z.current.useInsertionEffect(Y,le)},Tt.useLayoutEffect=function(Y,le){return Z.current.useLayoutEffect(Y,le)},Tt.useMemo=function(Y,le){return Z.current.useMemo(Y,le)},Tt.useReducer=function(Y,le,oe){return Z.current.useReducer(Y,le,oe)},Tt.useRef=function(Y){return Z.current.useRef(Y)},Tt.useState=function(Y){return Z.current.useState(Y)},Tt.useSyncExternalStore=function(Y,le,oe){return Z.current.useSyncExternalStore(Y,le,oe)},Tt.useTransition=function(){return Z.current.useTransition()},Tt.version="18.2.0",Tt}var k1;function h0(){return k1||(k1=1,dp.exports=$8()),dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function G8(){if(R1)return Xc;R1=1;var e=h0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,f){var x,m={},w=null,S=null;f!==void 0&&(w=""+f),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(x in p)o.call(p,x)&&!d.hasOwnProperty(x)&&(m[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)m[x]===void 0&&(m[x]=p[x]);return{$$typeof:t,type:h,key:w,ref:S,props:m,_owner:u.current}}return Xc.Fragment=r,Xc.jsx=c,Xc.jsxs=c,Xc}var T1;function W8(){return T1||(T1=1,cp.exports=G8()),cp.exports}var v=W8(),ee=h0();const on=kh(ee),q8=V8({__proto__:null,default:on},[ee]);var Ff={},hp={exports:{}},xi={},fp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function H8(){return M1||(M1=1,function(e){function t(re,se){var Y=re.length;re.push(se);e:for(;0<Y;){var le=Y-1>>>1,oe=re[le];if(0<u(oe,se))re[le]=se,re[Y]=oe,Y=le;else break e}}function r(re){return re.length===0?null:re[0]}function o(re){if(re.length===0)return null;var se=re[0],Y=re.pop();if(Y!==se){re[0]=Y;e:for(var le=0,oe=re.length,_e=oe>>>1;le<_e;){var we=2*(le+1)-1,Ne=re[we],Re=we+1,ie=re[Re];if(0>u(Ne,Y))Re<oe&&0>u(ie,Ne)?(re[le]=ie,re[Re]=Y,le=Re):(re[le]=Ne,re[we]=Y,le=we);else if(Re<oe&&0>u(ie,Y))re[le]=ie,re[Re]=Y,le=Re;else break e}}return se}function u(re,se){var Y=re.sortIndex-se.sortIndex;return Y!==0?Y:re.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],f=[],x=1,m=null,w=3,S=!1,_=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(re){for(var se=r(f);se!==null;){if(se.callback===null)o(f);else if(se.startTime<=re)o(f),se.sortIndex=se.expirationTime,t(p,se);else break;se=r(f)}}function N(re){if(R=!1,C(re),!_)if(r(p)!==null)_=!0,J(j);else{var se=r(f);se!==null&&Z(N,se.startTime-re)}}function j(re,se){_=!1,R&&(R=!1,A(L),L=-1),S=!0;var Y=w;try{for(C(se),m=r(p);m!==null&&(!(m.expirationTime>se)||re&&!G());){var le=m.callback;if(typeof le=="function"){m.callback=null,w=m.priorityLevel;var oe=le(m.expirationTime<=se);se=e.unstable_now(),typeof oe=="function"?m.callback=oe:m===r(p)&&o(p),C(se)}else o(p);m=r(p)}if(m!==null)var _e=!0;else{var we=r(f);we!==null&&Z(N,we.startTime-se),_e=!1}return _e}finally{m=null,w=Y,S=!1}}var $=!1,B=null,L=-1,H=5,U=-1;function G(){return!(e.unstable_now()-U<H)}function te(){if(B!==null){var re=e.unstable_now();U=re;var se=!0;try{se=B(!0,re)}finally{se?O():($=!1,B=null)}}else $=!1}var O;if(typeof k=="function")O=function(){k(te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=te,O=function(){q.postMessage(null)}}else O=function(){E(te,0)};function J(re){B=re,$||($=!0,O())}function Z(re,se){L=E(function(){re(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){_||S||(_=!0,J(j))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(re){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var Y=w;w=se;try{return re()}finally{w=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Y=w;w=re;try{return se()}finally{w=Y}},e.unstable_scheduleCallback=function(re,se,Y){var le=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,re){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,re={id:x++,callback:se,priorityLevel:re,startTime:Y,expirationTime:oe,sortIndex:-1},Y>le?(re.sortIndex=Y,t(f,re),r(p)===null&&re===r(f)&&(R?(A(L),L=-1):R=!0,Z(N,Y-le))):(re.sortIndex=oe,t(p,re),_||S||(_=!0,J(j))),re},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(re){var se=w;return function(){var Y=w;w=se;try{return re.apply(this,arguments)}finally{w=Y}}}}(pp)),pp}var b1;function Im(){return b1||(b1=1,fp.exports=H8()),fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function K8(){if(N1)return xi;N1=1;var e=h0(),t=Im();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function d(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(u[n]=i,n=0;n<i.length;n++)o.add(i[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},m={};function w(n){return p.call(m,n)?!0:p.call(x,n)?!1:f.test(n)?m[n]=!0:(x[n]=!0,!1)}function S(n,i,l,y){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return y?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _(n,i,l,y){if(i===null||typeof i>"u"||S(n,i,l,y))return!0;if(y)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function R(n,i,l,y,T,I,W){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=I,this.removeEmptyString=W}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new R(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];E[i]=new R(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new R(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new R(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new R(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new R(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new R(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new R(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new R(n,5,!1,n.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function k(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(A,k);E[i]=new R(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(A,k);E[i]=new R(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(A,k);E[i]=new R(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new R(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new R(n,1,!1,n.toLowerCase(),null,!0,!0)});function C(n,i,l,y){var T=E.hasOwnProperty(i)?E[i]:null;(T!==null?T.type!==0:y||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,l,T,y)&&(l=null),y||T===null?w(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):T.mustUseProperty?n[T.propertyName]=l===null?T.type===3?!1:"":l:(i=T.attributeName,y=T.attributeNamespace,l===null?n.removeAttribute(i):(T=T.type,l=T===3||T===4&&l===!0?"":""+l,y?n.setAttributeNS(y,i,l):n.setAttribute(i,l))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),$=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),re=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,le;function oe(n){if(le===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);le=i&&i[1]||""}return`
`+le+n}var _e=!1;function we(n,i){if(!n||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ve){var y=ve}Reflect.construct(n,[],i)}else{try{i.call()}catch(ve){y=ve}n.call(i.prototype)}else{try{throw Error()}catch(ve){y=ve}n()}}catch(ve){if(ve&&y&&typeof ve.stack=="string"){for(var T=ve.stack.split(`
`),I=y.stack.split(`
`),W=T.length-1,ne=I.length-1;1<=W&&0<=ne&&T[W]!==I[ne];)ne--;for(;1<=W&&0<=ne;W--,ne--)if(T[W]!==I[ne]){if(W!==1||ne!==1)do if(W--,ne--,0>ne||T[W]!==I[ne]){var ae=`
`+T[W].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=W&&0<=ne);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?oe(n):""}function Ne(n){switch(n.tag){case 5:return oe(n.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return n=we(n.type,!1),n;case 11:return n=we(n.type.render,!1),n;case 1:return n=we(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case $:return"Portal";case H:return"Profiler";case L:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case G:return(n.displayName||"Context")+".Consumer";case U:return(n._context.displayName||"Context")+".Provider";case te:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function ie(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ce(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function We(n){var i=Ce(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),y=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,I=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return T.call(this)},set:function(W){y=""+W,I.call(this,W)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return y},setValue:function(W){y=""+W},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function De(n){n._valueTracker||(n._valueTracker=We(n))}function et(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),y="";return n&&(y=Ce(n)?n.checked?"true":"false":n.value),n=y,n!==l?(i.setValue(n),!0):!1}function He(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Zt(n,i){var l=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function St(n,i){var l=i.defaultValue==null?"":i.defaultValue,y=i.checked!=null?i.checked:i.defaultChecked;l=fe(i.value!=null?i.value:l),n._wrapperState={initialChecked:y,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function bn(n,i){i=i.checked,i!=null&&C(n,"checked",i,!1)}function Ht(n,i){bn(n,i);var l=fe(i.value),y=i.type;if(l!=null)y==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(y==="submit"||y==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ln(n,i.type,l):i.hasOwnProperty("defaultValue")&&ln(n,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function mn(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var y=i.type;if(!(y!=="submit"&&y!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ln(n,i,l){(i!=="number"||He(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var bt=Array.isArray;function _t(n,i,l,y){if(n=n.options,i){i={};for(var T=0;T<l.length;T++)i["$"+l[T]]=!0;for(l=0;l<n.length;l++)T=i.hasOwnProperty("$"+n[l].value),n[l].selected!==T&&(n[l].selected=T),T&&y&&(n[l].defaultSelected=!0)}else{for(l=""+fe(l),i=null,T=0;T<n.length;T++){if(n[T].value===l){n[T].selected=!0,y&&(n[T].defaultSelected=!0);return}i!==null||n[T].disabled||(i=n[T])}i!==null&&(i.selected=!0)}}function dr(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Kn(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:fe(l)}}function Nn(n,i){var l=fe(i.value),y=fe(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),y!=null&&(n.defaultValue=""+y)}function hn(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function xn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zr(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?xn(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Er,ai=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,y,T){MSApp.execUnsafeLocalFunction(function(){return n(i,l,y,T)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Er.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function zn(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uo=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(n){Uo.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),kr[i]=kr[n]})});function Vo(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||kr.hasOwnProperty(n)&&kr[n]?(""+i).trim():i+"px"}function Rr(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var y=l.indexOf("--")===0,T=Vo(l,i[l],y);l==="float"&&(l="cssFloat"),y?n.setProperty(l,T):n[l]=T}}var ec=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(n,i){if(i){if(ec[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Zs(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function Js(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var eo=null,Es=null,ks=null;function $o(n){if(n=al(n)){if(typeof eo!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Wn(i),eo(n.stateNode,n.type,i))}}function $a(n){Es?ks?ks.push(n):ks=[n]:Es=n}function Go(){if(Es){var n=Es,i=ks;if(ks=Es=null,$o(n),i)for(n=0;n<i.length;n++)$o(i[n])}}function Vl(n,i){return n(i)}function Wo(){}var Yn=!1;function Ga(n,i,l){if(Yn)return n(i,l);Yn=!0;try{return Vl(n,i,l)}finally{Yn=!1,(Es!==null||ks!==null)&&(Wo(),Go())}}function Ur(n,i){var l=n.stateNode;if(l===null)return null;var y=Wn(l);if(y===null)return null;l=y[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(n=n.type,y=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!y;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var to=!1;if(h)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){to=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{to=!1}function Bl(n,i,l,y,T,I,W,ne,ae){var ve=Array.prototype.slice.call(arguments,3);try{i.apply(l,ve)}catch(Ee){this.onError(Ee)}}var D=!1,M=null,z=!1,K=null,de={onError:function(n){D=!0,M=n}};function Se(n,i,l,y,T,I,W,ne,ae){D=!1,M=null,Bl.apply(de,arguments)}function Xe(n,i,l,y,T,I,W,ne,ae){if(Se.apply(this,arguments),D){if(D){var ve=M;D=!1,M=null}else throw Error(r(198));z||(z=!0,K=ve)}}function Fe(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function wt(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function vt(n){if(Fe(n)!==n)throw Error(r(188))}function Qe(n){var i=n.alternate;if(!i){if(i=Fe(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,y=i;;){var T=l.return;if(T===null)break;var I=T.alternate;if(I===null){if(y=T.return,y!==null){l=y;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===l)return vt(T),n;if(I===y)return vt(T),i;I=I.sibling}throw Error(r(188))}if(l.return!==y.return)l=T,y=I;else{for(var W=!1,ne=T.child;ne;){if(ne===l){W=!0,l=T,y=I;break}if(ne===y){W=!0,y=T,l=I;break}ne=ne.sibling}if(!W){for(ne=I.child;ne;){if(ne===l){W=!0,l=I,y=T;break}if(ne===y){W=!0,y=I,l=T;break}ne=ne.sibling}if(!W)throw Error(r(189))}}if(l.alternate!==y)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function yt(n){return n=Qe(n),n!==null?Ke(n):null}function Ke(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Ke(n);if(i!==null)return i;n=n.sibling}return null}var ht=t.unstable_scheduleCallback,it=t.unstable_cancelCallback,lt=t.unstable_shouldYield,be=t.unstable_requestPaint,Ze=t.unstable_now,Un=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,dt=t.unstable_UserBlockingPriority,ft=t.unstable_NormalPriority,Fi=t.unstable_LowPriority,Vr=t.unstable_IdlePriority,gn=null,Rt=null;function st(n){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:un,Vn=Math.log,wn=Math.LN2;function un(n){return n>>>=0,n===0?32:31-(Vn(n)/wn|0)|0}var hr=64,rs=4194304;function Bn(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function no(n,i){var l=n.pendingLanes;if(l===0)return 0;var y=0,T=n.suspendedLanes,I=n.pingedLanes,W=l&268435455;if(W!==0){var ne=W&~T;ne!==0?y=Bn(ne):(I&=W,I!==0&&(y=Bn(I)))}else W=l&~T,W!==0?y=Bn(W):I!==0&&(y=Bn(I));if(y===0)return 0;if(i!==0&&i!==y&&(i&T)===0&&(T=y&-y,I=i&-i,T>=I||T===16&&(I&4194240)!==0))return i;if((y&4)!==0&&(y|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=y;0<i;)l=31-pt(i),T=1<<l,y|=n[l],i&=~T;return y}function Oh(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(n,i){for(var l=n.suspendedLanes,y=n.pingedLanes,T=n.expirationTimes,I=n.pendingLanes;0<I;){var W=31-pt(I),ne=1<<W,ae=T[W];ae===-1?((ne&l)===0||(ne&y)!==0)&&(T[W]=Oh(ne,i)):ae<=i&&(n.expiredLanes|=ne),I&=~ne}}function qo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tc(){var n=hr;return hr<<=1,(hr&4194240)===0&&(hr=64),n}function Br(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Wa(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-pt(i),n[i]=l}function L0(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var y=n.eventTimes;for(n=n.expirationTimes;0<l;){var T=31-pt(l),I=1<<T;i[T]=0,y[T]=-1,n[T]=-1,l&=~I}}function nc(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var y=31-pt(l),T=1<<y;T&i|n[y]&i&&(n[y]|=i),l&=~T}}var It=0;function qa(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ho,Ko,Fh,zh,$l,Gl=!1,Yo=[],li=null,Rs=null,zi=null,Pt=new Map,Xo=new Map,Ui=[],Uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(n,i){switch(n){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Pt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(i.pointerId)}}function Ha(n,i,l,y,T,I){return n===null||n.nativeEvent!==I?(n={blockedOn:i,domEventName:l,eventSystemFlags:y,nativeEvent:I,targetContainers:[T]},i!==null&&(i=al(i),i!==null&&Ko(i)),n):(n.eventSystemFlags|=y,i=n.targetContainers,T!==null&&i.indexOf(T)===-1&&i.push(T),n)}function $n(n,i,l,y,T){switch(i){case"focusin":return li=Ha(li,n,i,l,y,T),!0;case"dragenter":return Rs=Ha(Rs,n,i,l,y,T),!0;case"mouseover":return zi=Ha(zi,n,i,l,y,T),!0;case"pointerover":var I=T.pointerId;return Pt.set(I,Ha(Pt.get(I)||null,n,i,l,y,T)),!0;case"gotpointercapture":return I=T.pointerId,Xo.set(I,Ha(Xo.get(I)||null,n,i,l,y,T)),!0}return!1}function Wl(n){var i=Ds(n.target);if(i!==null){var l=Fe(i);if(l!==null){if(i=l.tag,i===13){if(i=wt(l),i!==null){n.blockedOn=i,$l(n.priority,function(){Fh(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ql(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Yl(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var y=new l.constructor(l.type,l);Bo=y,l.target.dispatchEvent(y),Bo=null}else return i=al(l),i!==null&&Ko(i),n.blockedOn=l,!1;i.shift()}return!0}function Hl(n,i,l){ql(n)&&l.delete(i)}function O0(){Gl=!1,li!==null&&ql(li)&&(li=null),Rs!==null&&ql(Rs)&&(Rs=null),zi!==null&&ql(zi)&&(zi=null),Pt.forEach(Hl),Xo.forEach(Hl)}function Ts(n,i){n.blockedOn===i&&(n.blockedOn=null,Gl||(Gl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O0)))}function Tr(n){function i(T){return Ts(T,n)}if(0<Yo.length){Ts(Yo[0],n);for(var l=1;l<Yo.length;l++){var y=Yo[l];y.blockedOn===n&&(y.blockedOn=null)}}for(li!==null&&Ts(li,n),Rs!==null&&Ts(Rs,n),zi!==null&&Ts(zi,n),Pt.forEach(i),Xo.forEach(i),l=0;l<Ui.length;l++)y=Ui[l],y.blockedOn===n&&(y.blockedOn=null);for(;0<Ui.length&&(l=Ui[0],l.blockedOn===null);)Wl(l),l.blockedOn===null&&Ui.shift()}var Qo=N.ReactCurrentBatchConfig,Kl=!0;function _i(n,i,l,y){var T=It,I=Qo.transition;Qo.transition=null;try{It=1,Zo(n,i,l,y)}finally{It=T,Qo.transition=I}}function is(n,i,l,y){var T=It,I=Qo.transition;Qo.transition=null;try{It=4,Zo(n,i,l,y)}finally{It=T,Qo.transition=I}}function Zo(n,i,l,y){if(Kl){var T=Yl(n,i,l,y);if(T===null)du(n,i,y,Jo,l),Vh(n,y);else if($n(T,n,i,l,y))y.stopPropagation();else if(Vh(n,y),i&4&&-1<Uh.indexOf(n)){for(;T!==null;){var I=al(T);if(I!==null&&Ho(I),I=Yl(n,i,l,y),I===null&&du(n,i,y,Jo,l),I===T)break;T=I}T!==null&&y.stopPropagation()}else du(n,i,y,null,l)}}var Jo=null;function Yl(n,i,l,y){if(Jo=null,n=Js(y),n=Ds(n),n!==null)if(i=Fe(n),i===null)n=null;else if(l=i.tag,l===13){if(n=wt(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Jo=n,null}function Bh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Un()){case Dt:return 1;case dt:return 4;case ft:case Fi:return 16;case Vr:return 536870912;default:return 16}default:return 16}}var Xn=null,Ms=null,ss=null;function Ka(){if(ss)return ss;var n,i=Ms,l=i.length,y,T="value"in Xn?Xn.value:Xn.textContent,I=T.length;for(n=0;n<l&&i[n]===T[n];n++);var W=l-n;for(y=1;y<=W&&i[l-y]===T[I-y];y++);return ss=T.slice(n,1<y?1-y:void 0)}function ro(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fr(){return!0}function $r(){return!1}function An(n){function i(l,y,T,I,W){this._reactName=l,this._targetInst=T,this.type=y,this.nativeEvent=I,this.target=W,this.currentTarget=null;for(var ne in n)n.hasOwnProperty(ne)&&(l=n[ne],this[ne]=l?l(I):I[ne]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?fr:$r,this.isPropagationStopped=$r,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=An(Mr),Pi=Y({},Mr,{view:0,detail:0}),$h=An(Pi),Ya,Xa,Qn,pr=Y({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qn&&(Qn&&n.type==="mousemove"?(Ya=n.screenX-Qn.screenX,Xa=n.screenY-Qn.screenY):Xa=Ya=0,Qn=n),Ya)},movementY:function(n){return"movementY"in n?n.movementY:Xa}}),Kt=An(pr),Qa=Y({},pr,{dataTransfer:0}),Ei=An(Qa),Gh=Y({},Pi,{relatedTarget:0}),Xl=An(Gh),rc=Y({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=An(rc),Wh=Y({},Mr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ql=An(Wh),qh=Y({},Mr,{data:0}),io=An(qh),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zl[n])?!!i[n]:!1}function so(){return F0}var Jl=Y({},Pi,{key:function(n){if(n.key){var i=sc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ro(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(n){return n.type==="keypress"?ro(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ro(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hh=An(Jl),Kh=Y({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=An(Kh),Yh=Y({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),eu=An(Yh),tu=Y({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ea=An(tu),oc=Y({},pr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ac=An(oc),Xh=[9,13,27,32],Za=h&&"CompositionEvent"in window,ao=null;h&&"documentMode"in document&&(ao=document.documentMode);var ta=h&&"TextEvent"in window&&!ao,Gr=h&&(!Za||ao&&8<ao&&11>=ao),bs=" ",nu=!1;function lc(n,i){switch(n){case"keyup":return Xh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ki(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wr=!1;function uc(n,i){switch(n){case"compositionend":return ki(i);case"keypress":return i.which!==32?null:(nu=!0,bs);case"textInput":return n=i.data,n===bs&&nu?null:n;default:return null}}function Qh(n,i){if(Wr)return n==="compositionend"||!Za&&lc(n,i)?(n=Ka(),ss=Ms=Xn=null,Wr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gr&&i.locale!=="ko"?null:i.data;default:return null}}var os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function as(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!os[n.type]:i==="textarea"}function Ja(n,i,l,y){$a(y),i=hu(i,"onChange"),0<i.length&&(l=new Ci("onChange","change",null,l,y),n.push({event:l,listeners:i}))}var na=null,Ns=null;function Zh(n){Sc(n,0)}function As(n){var i=In(n);if(et(i))return n}function ui(n,i){if(n==="change")return i}var ra=!1;if(h){var js;if(h){var ci="oninput"in document;if(!ci){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),ci=typeof ru.oninput=="function"}js=ci}else js=!1;ra=js&&(!document.documentMode||9<document.documentMode)}function lo(){na&&(na.detachEvent("onpropertychange",dc),Ns=na=null)}function dc(n){if(n.propertyName==="value"&&As(Ns)){var i=[];Ja(i,Ns,n,Js(n)),Ga(Zh,i)}}function hc(n,i,l){n==="focusin"?(lo(),na=i,Ns=l,na.attachEvent("onpropertychange",dc)):n==="focusout"&&lo()}function cn(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return As(Ns)}function iu(n,i){if(n==="click")return As(i)}function fc(n,i){if(n==="input"||n==="change")return As(i)}function pc(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var br=typeof Object.is=="function"?Object.is:pc;function uo(n,i){if(br(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),y=Object.keys(i);if(l.length!==y.length)return!1;for(y=0;y<l.length;y++){var T=l[y];if(!p.call(i,T)||!br(n[T],i[T]))return!1}return!0}function Is(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jt(n,i){var l=Is(n);n=0;for(var y;l;){if(l.nodeType===3){if(y=n+l.textContent.length,n<=i&&y>=i)return{node:l,offset:i-n};n=y}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Is(l)}}function Sn(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Sn(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function jn(){for(var n=window,i=He();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=He(n.document)}return i}function ia(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function el(n){var i=jn(),l=n.focusedElem,y=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Sn(l.ownerDocument.documentElement,l)){if(y!==null&&ia(l)){if(i=y.start,n=y.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var T=l.textContent.length,I=Math.min(y.start,T);y=y.end===void 0?I:Math.min(y.end,T),!n.extend&&I>y&&(T=y,y=I,I=T),T=Jt(l,I);var W=Jt(l,y);T&&W&&(n.rangeCount!==1||n.anchorNode!==T.node||n.anchorOffset!==T.offset||n.focusNode!==W.node||n.focusOffset!==W.offset)&&(i=i.createRange(),i.setStart(T.node,T.offset),n.removeAllRanges(),I>y?(n.addRange(i),n.extend(W.node,W.offset)):(i.setEnd(W.node,W.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tl=h&&"documentMode"in document&&11>=document.documentMode,sa=null,Gn=null,co=null,nl=!1;function su(n,i,l){var y=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nl||sa==null||sa!==He(y)||(y=sa,"selectionStart"in y&&ia(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),co&&uo(co,y)||(co=y,y=hu(Gn,"onSelect"),0<y.length&&(i=new Ci("onSelect","select",null,i,l),n.push({event:i,listeners:y}),i.target=sa)))}function qr(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Zn={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionend:qr("Transition","TransitionEnd")},ho={},ou={};h&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function oa(n){if(ho[n])return ho[n];if(!Zn[n])return n;var i=Zn[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in ou)return ho[n]=i[l];return n}var mc=oa("animationend"),gc=oa("animationiteration"),vc=oa("animationstart"),yc=oa("transitionend"),xc=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(n,i){xc.set(n,i),d(i,[n])}for(var au=0;au<wc.length;au++){var fo=wc[au],Jh=fo.toLowerCase(),lu=fo[0].toUpperCase()+fo.slice(1);ls(Jh,"on"+lu)}ls(mc,"onAnimationEnd"),ls(gc,"onAnimationIteration"),ls(vc,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(yc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ef=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function uu(n,i,l){var y=n.type||"unknown-event";n.currentTarget=l,Xe(y,i,void 0,n),n.currentTarget=null}function Sc(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var y=n[l],T=y.event;y=y.listeners;e:{var I=void 0;if(i)for(var W=y.length-1;0<=W;W--){var ne=y[W],ae=ne.instance,ve=ne.currentTarget;if(ne=ne.listener,ae!==I&&T.isPropagationStopped())break e;uu(T,ne,ve),I=ae}else for(W=0;W<y.length;W++){if(ne=y[W],ae=ne.instance,ve=ne.currentTarget,ne=ne.listener,ae!==I&&T.isPropagationStopped())break e;uu(T,ne,ve),I=ae}}}if(z)throw n=K,z=!1,K=null,n}function Gt(n,i){var l=i[pu];l===void 0&&(l=i[pu]=new Set);var y=n+"__bubble";l.has(y)||(_c(i,n,2,!1),l.add(y))}function cu(n,i,l){var y=0;i&&(y|=4),_c(l,n,y,i)}var rl="_reactListening"+Math.random().toString(36).slice(2);function po(n){if(!n[rl]){n[rl]=!0,o.forEach(function(l){l!=="selectionchange"&&(ef.has(l)||cu(l,!1,n),cu(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[rl]||(i[rl]=!0,cu("selectionchange",!1,i))}}function _c(n,i,l,y){switch(Bh(i)){case 1:var T=_i;break;case 4:T=is;break;default:T=Zo}l=T.bind(null,i,l,n),T=void 0,!to||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(T=!0),y?T!==void 0?n.addEventListener(i,l,{capture:!0,passive:T}):n.addEventListener(i,l,!0):T!==void 0?n.addEventListener(i,l,{passive:T}):n.addEventListener(i,l,!1)}function du(n,i,l,y,T){var I=y;if((i&1)===0&&(i&2)===0&&y!==null)e:for(;;){if(y===null)return;var W=y.tag;if(W===3||W===4){var ne=y.stateNode.containerInfo;if(ne===T||ne.nodeType===8&&ne.parentNode===T)break;if(W===4)for(W=y.return;W!==null;){var ae=W.tag;if((ae===3||ae===4)&&(ae=W.stateNode.containerInfo,ae===T||ae.nodeType===8&&ae.parentNode===T))return;W=W.return}for(;ne!==null;){if(W=Ds(ne),W===null)return;if(ae=W.tag,ae===5||ae===6){y=I=W;continue e}ne=ne.parentNode}}y=y.return}Ga(function(){var ve=I,Ee=Js(l),ke=[];e:{var Pe=xc.get(n);if(Pe!==void 0){var ze=Ci,Be=n;switch(n){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":ze=Hh;break;case"focusin":Be="focus",ze=Xl;break;case"focusout":Be="blur",ze=Xl;break;case"beforeblur":case"afterblur":ze=Xl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=eu;break;case mc:case gc:case vc:ze=ic;break;case yc:ze=ea;break;case"scroll":ze=$h;break;case"wheel":ze=ac;break;case"copy":case"cut":case"paste":ze=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=oo}var $e=(i&4)!==0,On=!$e&&n==="scroll",pe=$e?Pe!==null?Pe+"Capture":null:Pe;$e=[];for(var ce=ve,me;ce!==null;){me=ce;var Me=me.stateNode;if(me.tag===5&&Me!==null&&(me=Me,pe!==null&&(Me=Ur(ce,pe),Me!=null&&$e.push(aa(ce,Me,me)))),On)break;ce=ce.return}0<$e.length&&(Pe=new ze(Pe,Be,null,l,Ee),ke.push({event:Pe,listeners:$e}))}}if((i&7)===0){e:{if(Pe=n==="mouseover"||n==="pointerover",ze=n==="mouseout"||n==="pointerout",Pe&&l!==Bo&&(Be=l.relatedTarget||l.fromElement)&&(Ds(Be)||Be[Bi]))break e;if((ze||Pe)&&(Pe=Ee.window===Ee?Ee:(Pe=Ee.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,ze?(Be=l.relatedTarget||l.toElement,ze=ve,Be=Be?Ds(Be):null,Be!==null&&(On=Fe(Be),Be!==On||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(ze=null,Be=ve),ze!==Be)){if($e=Kt,Me="onMouseLeave",pe="onMouseEnter",ce="mouse",(n==="pointerout"||n==="pointerover")&&($e=oo,Me="onPointerLeave",pe="onPointerEnter",ce="pointer"),On=ze==null?Pe:In(ze),me=Be==null?Pe:In(Be),Pe=new $e(Me,ce+"leave",ze,l,Ee),Pe.target=On,Pe.relatedTarget=me,Me=null,Ds(Ee)===ve&&($e=new $e(pe,ce+"enter",Be,l,Ee),$e.target=me,$e.relatedTarget=On,Me=$e),On=Me,ze&&Be)t:{for($e=ze,pe=Be,ce=0,me=$e;me;me=mo(me))ce++;for(me=0,Me=pe;Me;Me=mo(Me))me++;for(;0<ce-me;)$e=mo($e),ce--;for(;0<me-ce;)pe=mo(pe),me--;for(;ce--;){if($e===pe||pe!==null&&$e===pe.alternate)break t;$e=mo($e),pe=mo(pe)}$e=null}else $e=null;ze!==null&&tf(ke,Pe,ze,$e,!1),Be!==null&&On!==null&&tf(ke,On,Be,$e,!0)}}e:{if(Pe=ve?In(ve):window,ze=Pe.nodeName&&Pe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Pe.type==="file")var Ye=ui;else if(as(Pe))if(ra)Ye=fc;else{Ye=cn;var tt=hc}else(ze=Pe.nodeName)&&ze.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(Ye=iu);if(Ye&&(Ye=Ye(n,ve))){Ja(ke,Ye,l,Ee);break e}tt&&tt(n,Pe,ve),n==="focusout"&&(tt=Pe._wrapperState)&&tt.controlled&&Pe.type==="number"&&ln(Pe,"number",Pe.value)}switch(tt=ve?In(ve):window,n){case"focusin":(as(tt)||tt.contentEditable==="true")&&(sa=tt,Gn=ve,co=null);break;case"focusout":co=Gn=sa=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,su(ke,l,Ee);break;case"selectionchange":if(tl)break;case"keydown":case"keyup":su(ke,l,Ee)}var nt;if(Za)e:{switch(n){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Wr?lc(n,l)&&(ot="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(Gr&&l.locale!=="ko"&&(Wr||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Wr&&(nt=Ka()):(Xn=Ee,Ms="value"in Xn?Xn.value:Xn.textContent,Wr=!0)),tt=hu(ve,ot),0<tt.length&&(ot=new io(ot,n,null,l,Ee),ke.push({event:ot,listeners:tt}),nt?ot.data=nt:(nt=ki(l),nt!==null&&(ot.data=nt)))),(nt=ta?uc(n,l):Qh(n,l))&&(ve=hu(ve,"onBeforeInput"),0<ve.length&&(Ee=new io("onBeforeInput","beforeinput",null,l,Ee),ke.push({event:Ee,listeners:ve}),Ee.data=nt))}Sc(ke,i)})}function aa(n,i,l){return{instance:n,listener:i,currentTarget:l}}function hu(n,i){for(var l=i+"Capture",y=[];n!==null;){var T=n,I=T.stateNode;T.tag===5&&I!==null&&(T=I,I=Ur(n,l),I!=null&&y.unshift(aa(n,I,T)),I=Ur(n,i),I!=null&&y.push(aa(n,I,T))),n=n.return}return y}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function tf(n,i,l,y,T){for(var I=i._reactName,W=[];l!==null&&l!==y;){var ne=l,ae=ne.alternate,ve=ne.stateNode;if(ae!==null&&ae===y)break;ne.tag===5&&ve!==null&&(ne=ve,T?(ae=Ur(l,I),ae!=null&&W.unshift(aa(l,ae,ne))):T||(ae=Ur(l,I),ae!=null&&W.push(aa(l,ae,ne)))),l=l.return}W.length!==0&&n.push({event:i,listeners:W})}var z0=/\r\n?/g,nf=/\u0000|\uFFFD/g;function Cc(n){return(typeof n=="string"?n:""+n).replace(z0,`
`).replace(nf,"")}function il(n,i,l){if(i=Cc(i),Cc(n)!==i&&l)throw Error(r(425))}function go(){}var Pc=null,Ec=null;function kc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hr=typeof setTimeout=="function"?setTimeout:void 0,Rc=typeof clearTimeout=="function"?clearTimeout:void 0,sl=typeof Promise=="function"?Promise:void 0,rf=typeof queueMicrotask=="function"?queueMicrotask:typeof sl<"u"?function(n){return sl.resolve(null).then(n).catch(sf)}:Hr;function sf(n){setTimeout(function(){throw n})}function fu(n,i){var l=i,y=0;do{var T=l.nextSibling;if(n.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(y===0){n.removeChild(T),Tr(i);return}y--}else l!=="$"&&l!=="$?"&&l!=="$!"||y++;l=T}while(l);Tr(i)}function Vi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function vo(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var Os=Math.random().toString(36).slice(2),di="__reactFiber$"+Os,ol="__reactProps$"+Os,Bi="__reactContainer$"+Os,pu="__reactEvents$"+Os,of="__reactListeners$"+Os,af="__reactHandles$"+Os;function Ds(n){var i=n[di];if(i)return i;for(var l=n.parentNode;l;){if(i=l[Bi]||l[di]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=vo(n);n!==null;){if(l=n[di])return l;n=vo(n)}return i}n=l,l=n.parentNode}return null}function al(n){return n=n[di]||n[Bi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function In(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Wn(n){return n[ol]||null}var mu=[],yo=-1;function us(n){return{current:n}}function Wt(n){0>yo||(n.current=mu[yo],mu[yo]=null,yo--)}function Vt(n,i){yo++,mu[yo]=n.current,n.current=i}var $i={},Jn=us($i),ir=us(!1),Fs=$i;function xo(n,i){var l=n.type.contextTypes;if(!l)return $i;var y=n.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===i)return y.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in l)T[I]=i[I];return y&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=T),T}function sr(n){return n=n.childContextTypes,n!=null}function la(){Wt(ir),Wt(Jn)}function Tc(n,i,l){if(Jn.current!==$i)throw Error(r(168));Vt(Jn,i),Vt(ir,l)}function gu(n,i,l){var y=n.stateNode;if(i=i.childContextTypes,typeof y.getChildContext!="function")return l;y=y.getChildContext();for(var T in y)if(!(T in i))throw Error(r(108,ie(n)||"Unknown",T));return Y({},l,y)}function wo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$i,Fs=Jn.current,Vt(Jn,n),Vt(ir,ir.current),!0}function lf(n,i,l){var y=n.stateNode;if(!y)throw Error(r(169));l?(n=gu(n,i,Fs),y.__reactInternalMemoizedMergedChildContext=n,Wt(ir),Wt(Jn),Vt(Jn,n)):Wt(ir),Vt(ir,l)}var Gi=null,ua=!1,vu=!1;function ll(n){Gi===null?Gi=[n]:Gi.push(n)}function cs(n){ua=!0,ll(n)}function zs(){if(!vu&&Gi!==null){vu=!0;var n=0,i=It;try{var l=Gi;for(It=1;n<l.length;n++){var y=l[n];do y=y(!0);while(y!==null)}Gi=null,ua=!1}catch(T){throw Gi!==null&&(Gi=Gi.slice(n+1)),ht(Dt,zs),T}finally{It=i,vu=!1}}return null}var mr=[],So=0,Us=null,Vs=0,gr=[],vr=0,Bs=null,Kr=1,en="";function _o(n,i){mr[So++]=Vs,mr[So++]=Us,Us=n,Vs=i}function uf(n,i,l){gr[vr++]=Kr,gr[vr++]=en,gr[vr++]=Bs,Bs=n;var y=Kr;n=en;var T=32-pt(y)-1;y&=~(1<<T),l+=1;var I=32-pt(i)+T;if(30<I){var W=T-T%5;I=(y&(1<<W)-1).toString(32),y>>=W,T-=W,Kr=1<<32-pt(i)+T|l<<T|y,en=I+n}else Kr=1<<I|l<<T|y,en=n}function ca(n){n.return!==null&&(_o(n,1),uf(n,1,0))}function qn(n){for(;n===Us;)Us=mr[--So],mr[So]=null,Vs=mr[--So],mr[So]=null;for(;n===Bs;)Bs=gr[--vr],gr[vr]=null,en=gr[--vr],gr[vr]=null,Kr=gr[--vr],gr[vr]=null}var Yr=null,Ie=null,Ft=!1,Xr=null;function Mc(n,i){var l=Xi(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function cf(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Yr=n,Ie=Vi(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Yr=n,Ie=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Bs!==null?{id:Kr,overflow:en}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Xi(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Yr=n,Ie=null,!0):!1;default:return!1}}function Co(n){return(n.mode&1)!==0&&(n.flags&128)===0}function da(n){if(Ft){var i=Ie;if(i){var l=i;if(!cf(n,i)){if(Co(n))throw Error(r(418));i=Vi(l.nextSibling);var y=Yr;i&&cf(n,i)?Mc(y,l):(n.flags=n.flags&-4097|2,Ft=!1,Yr=n)}}else{if(Co(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ft=!1,Yr=n}}}function yu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Yr=n}function ul(n){if(n!==Yr)return!1;if(!Ft)return yu(n),Ft=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!kc(n.type,n.memoizedProps)),i&&(i=Ie)){if(Co(n))throw bc(),Error(r(418));for(;i;)Mc(n,i),i=Vi(i.nextSibling)}if(yu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Ie=Vi(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Ie=null}}else Ie=Yr?Vi(n.stateNode.nextSibling):null;return!0}function bc(){for(var n=Ie;n;)n=Vi(n.nextSibling)}function Po(){Ie=Yr=null,Ft=!1}function cl(n){Xr===null?Xr=[n]:Xr.push(n)}var Nc=N.ReactCurrentBatchConfig;function Bt(n,i){if(n&&n.defaultProps){i=Y({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}var Nr=us(null),Qr=null,$s=null,xu=null;function Zr(){xu=$s=Qr=null}function wu(n){var i=Nr.current;Wt(Nr),n._currentValue=i}function hi(n,i,l){for(;n!==null;){var y=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,y!==null&&(y.childLanes|=i)):y!==null&&(y.childLanes&i)!==i&&(y.childLanes|=i),n===l)break;n=n.return}}function ha(n,i){Qr=n,xu=$s=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Q=!0),n.firstContext=null)}function Jr(n){var i=n._currentValue;if(xu!==n)if(n={context:n,memoizedValue:i,next:null},$s===null){if(Qr===null)throw Error(r(308));$s=n,Qr.dependencies={lanes:0,firstContext:n}}else $s=$s.next=n;return i}var Gs=null;function Su(n){Gs===null?Gs=[n]:Gs.push(n)}function Ac(n,i,l,y){var T=i.interleaved;return T===null?(l.next=l,Su(i)):(l.next=T.next,T.next=l),i.interleaved=l,fi(n,y)}function fi(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Ri=!1;function fa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dl(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pi(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function mi(n,i,l){var y=n.updateQueue;if(y===null)return null;if(y=y.shared,(Lt&2)!==0){var T=y.pending;return T===null?i.next=i:(i.next=T.next,T.next=i),y.pending=i,fi(n,l)}return T=y.interleaved,T===null?(i.next=i,Su(y)):(i.next=T.next,T.next=i),y.interleaved=i,fi(n,l)}function pa(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var y=i.lanes;y&=n.pendingLanes,l|=y,i.lanes=l,nc(n,l)}}function _u(n,i){var l=n.updateQueue,y=n.alternate;if(y!==null&&(y=y.updateQueue,l===y)){var T=null,I=null;if(l=l.firstBaseUpdate,l!==null){do{var W={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};I===null?T=I=W:I=I.next=W,l=l.next}while(l!==null);I===null?T=I=i:I=I.next=i}else T=I=i;l={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:y.shared,effects:y.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function ma(n,i,l,y){var T=n.updateQueue;Ri=!1;var I=T.firstBaseUpdate,W=T.lastBaseUpdate,ne=T.shared.pending;if(ne!==null){T.shared.pending=null;var ae=ne,ve=ae.next;ae.next=null,W===null?I=ve:W.next=ve,W=ae;var Ee=n.alternate;Ee!==null&&(Ee=Ee.updateQueue,ne=Ee.lastBaseUpdate,ne!==W&&(ne===null?Ee.firstBaseUpdate=ve:ne.next=ve,Ee.lastBaseUpdate=ae))}if(I!==null){var ke=T.baseState;W=0,Ee=ve=ae=null,ne=I;do{var Pe=ne.lane,ze=ne.eventTime;if((y&Pe)===Pe){Ee!==null&&(Ee=Ee.next={eventTime:ze,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var Be=n,$e=ne;switch(Pe=i,ze=l,$e.tag){case 1:if(Be=$e.payload,typeof Be=="function"){ke=Be.call(ze,ke,Pe);break e}ke=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=$e.payload,Pe=typeof Be=="function"?Be.call(ze,ke,Pe):Be,Pe==null)break e;ke=Y({},ke,Pe);break e;case 2:Ri=!0}}ne.callback!==null&&ne.lane!==0&&(n.flags|=64,Pe=T.effects,Pe===null?T.effects=[ne]:Pe.push(ne))}else ze={eventTime:ze,lane:Pe,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ee===null?(ve=Ee=ze,ae=ke):Ee=Ee.next=ze,W|=Pe;if(ne=ne.next,ne===null){if(ne=T.shared.pending,ne===null)break;Pe=ne,ne=Pe.next,Pe.next=null,T.lastBaseUpdate=Pe,T.shared.pending=null}}while(!0);if(Ee===null&&(ae=ke),T.baseState=ae,T.firstBaseUpdate=ve,T.lastBaseUpdate=Ee,i=T.shared.interleaved,i!==null){T=i;do W|=T.lane,T=T.next;while(T!==i)}else I===null&&(T.shared.lanes=0);xl|=W,n.lanes=W,n.memoizedState=ke}}function jc(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var y=n[i],T=y.callback;if(T!==null){if(y.callback=null,y=l,typeof T!="function")throw Error(r(191,T));T.call(y)}}}var Cu=new e.Component().refs;function Ic(n,i,l,y){i=n.memoizedState,l=l(y,i),l=l==null?i:Y({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Eo={isMounted:function(n){return(n=n._reactInternals)?Fe(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var y=ri(),T=Ea(n),I=pi(y,T);I.payload=i,l!=null&&(I.callback=l),i=mi(n,I,T),i!==null&&(vs(i,n,T,y),pa(i,n,T))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var y=ri(),T=Ea(n),I=pi(y,T);I.tag=1,I.payload=i,l!=null&&(I.callback=l),i=mi(n,I,T),i!==null&&(vs(i,n,T,y),pa(i,n,T))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=ri(),y=Ea(n),T=pi(l,y);T.tag=2,i!=null&&(T.callback=i),i=mi(n,T,y),i!==null&&(vs(i,n,y,l),pa(i,n,y))}};function Pu(n,i,l,y,T,I,W){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(y,I,W):i.prototype&&i.prototype.isPureReactComponent?!uo(l,y)||!uo(T,I):!0}function fn(n,i,l){var y=!1,T=$i,I=i.contextType;return typeof I=="object"&&I!==null?I=Jr(I):(T=sr(i)?Fs:Jn.current,y=i.contextTypes,I=(y=y!=null)?xo(n,T):$i),i=new i(l,I),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Eo,n.stateNode=i,i._reactInternals=n,y&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=T,n.__reactInternalMemoizedMaskedChildContext=I),i}function xt(n,i,l,y){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,y),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,y),i.state!==n&&Eo.enqueueReplaceState(i,i.state,null)}function _n(n,i,l,y){var T=n.stateNode;T.props=l,T.state=n.memoizedState,T.refs=Cu,fa(n);var I=i.contextType;typeof I=="object"&&I!==null?T.context=Jr(I):(I=sr(i)?Fs:Jn.current,T.context=xo(n,I)),T.state=n.memoizedState,I=i.getDerivedStateFromProps,typeof I=="function"&&(Ic(n,i,I,l),T.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(i=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),i!==T.state&&Eo.enqueueReplaceState(T,T.state,null),ma(n,l,T,y),T.state=n.memoizedState),typeof T.componentDidMount=="function"&&(n.flags|=4194308)}function tn(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var y=l.stateNode}if(!y)throw Error(r(147,n));var T=y,I=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===I?i.ref:(i=function(W){var ne=T.refs;ne===Cu&&(ne=T.refs={}),W===null?delete ne[I]:ne[I]=W},i._stringRef=I,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Cn(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Ar(n){var i=n._init;return i(n._payload)}function ko(n){function i(pe,ce){if(n){var me=pe.deletions;me===null?(pe.deletions=[ce],pe.flags|=16):me.push(ce)}}function l(pe,ce){if(!n)return null;for(;ce!==null;)i(pe,ce),ce=ce.sibling;return null}function y(pe,ce){for(pe=new Map;ce!==null;)ce.key!==null?pe.set(ce.key,ce):pe.set(ce.index,ce),ce=ce.sibling;return pe}function T(pe,ce){return pe=Ra(pe,ce),pe.index=0,pe.sibling=null,pe}function I(pe,ce,me){return pe.index=me,n?(me=pe.alternate,me!==null?(me=me.index,me<ce?(pe.flags|=2,ce):me):(pe.flags|=2,ce)):(pe.flags|=1048576,ce)}function W(pe){return n&&pe.alternate===null&&(pe.flags|=2),pe}function ne(pe,ce,me,Me){return ce===null||ce.tag!==6?(ce=ip(me,pe.mode,Me),ce.return=pe,ce):(ce=T(ce,me),ce.return=pe,ce)}function ae(pe,ce,me,Me){var Ye=me.type;return Ye===B?Ee(pe,ce,me.props.children,Me,me.key):ce!==null&&(ce.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===J&&Ar(Ye)===ce.type)?(Me=T(ce,me.props),Me.ref=tn(pe,ce,me),Me.return=pe,Me):(Me=bf(me.type,me.key,me.props,null,pe.mode,Me),Me.ref=tn(pe,ce,me),Me.return=pe,Me)}function ve(pe,ce,me,Me){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==me.containerInfo||ce.stateNode.implementation!==me.implementation?(ce=sp(me,pe.mode,Me),ce.return=pe,ce):(ce=T(ce,me.children||[]),ce.return=pe,ce)}function Ee(pe,ce,me,Me,Ye){return ce===null||ce.tag!==7?(ce=Cl(me,pe.mode,Me,Ye),ce.return=pe,ce):(ce=T(ce,me),ce.return=pe,ce)}function ke(pe,ce,me){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=ip(""+ce,pe.mode,me),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return me=bf(ce.type,ce.key,ce.props,null,pe.mode,me),me.ref=tn(pe,null,ce),me.return=pe,me;case $:return ce=sp(ce,pe.mode,me),ce.return=pe,ce;case J:var Me=ce._init;return ke(pe,Me(ce._payload),me)}if(bt(ce)||se(ce))return ce=Cl(ce,pe.mode,me,null),ce.return=pe,ce;Cn(pe,ce)}return null}function Pe(pe,ce,me,Me){var Ye=ce!==null?ce.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ye!==null?null:ne(pe,ce,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case j:return me.key===Ye?ae(pe,ce,me,Me):null;case $:return me.key===Ye?ve(pe,ce,me,Me):null;case J:return Ye=me._init,Pe(pe,ce,Ye(me._payload),Me)}if(bt(me)||se(me))return Ye!==null?null:Ee(pe,ce,me,Me,null);Cn(pe,me)}return null}function ze(pe,ce,me,Me,Ye){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return pe=pe.get(me)||null,ne(ce,pe,""+Me,Ye);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case j:return pe=pe.get(Me.key===null?me:Me.key)||null,ae(ce,pe,Me,Ye);case $:return pe=pe.get(Me.key===null?me:Me.key)||null,ve(ce,pe,Me,Ye);case J:var tt=Me._init;return ze(pe,ce,me,tt(Me._payload),Ye)}if(bt(Me)||se(Me))return pe=pe.get(me)||null,Ee(ce,pe,Me,Ye,null);Cn(ce,Me)}return null}function Be(pe,ce,me,Me){for(var Ye=null,tt=null,nt=ce,ot=ce=0,ur=null;nt!==null&&ot<me.length;ot++){nt.index>ot?(ur=nt,nt=null):ur=nt.sibling;var Ot=Pe(pe,nt,me[ot],Me);if(Ot===null){nt===null&&(nt=ur);break}n&&nt&&Ot.alternate===null&&i(pe,nt),ce=I(Ot,ce,ot),tt===null?Ye=Ot:tt.sibling=Ot,tt=Ot,nt=ur}if(ot===me.length)return l(pe,nt),Ft&&_o(pe,ot),Ye;if(nt===null){for(;ot<me.length;ot++)nt=ke(pe,me[ot],Me),nt!==null&&(ce=I(nt,ce,ot),tt===null?Ye=nt:tt.sibling=nt,tt=nt);return Ft&&_o(pe,ot),Ye}for(nt=y(pe,nt);ot<me.length;ot++)ur=ze(nt,pe,ot,me[ot],Me),ur!==null&&(n&&ur.alternate!==null&&nt.delete(ur.key===null?ot:ur.key),ce=I(ur,ce,ot),tt===null?Ye=ur:tt.sibling=ur,tt=ur);return n&&nt.forEach(function(Ta){return i(pe,Ta)}),Ft&&_o(pe,ot),Ye}function $e(pe,ce,me,Me){var Ye=se(me);if(typeof Ye!="function")throw Error(r(150));if(me=Ye.call(me),me==null)throw Error(r(151));for(var tt=Ye=null,nt=ce,ot=ce=0,ur=null,Ot=me.next();nt!==null&&!Ot.done;ot++,Ot=me.next()){nt.index>ot?(ur=nt,nt=null):ur=nt.sibling;var Ta=Pe(pe,nt,Ot.value,Me);if(Ta===null){nt===null&&(nt=ur);break}n&&nt&&Ta.alternate===null&&i(pe,nt),ce=I(Ta,ce,ot),tt===null?Ye=Ta:tt.sibling=Ta,tt=Ta,nt=ur}if(Ot.done)return l(pe,nt),Ft&&_o(pe,ot),Ye;if(nt===null){for(;!Ot.done;ot++,Ot=me.next())Ot=ke(pe,Ot.value,Me),Ot!==null&&(ce=I(Ot,ce,ot),tt===null?Ye=Ot:tt.sibling=Ot,tt=Ot);return Ft&&_o(pe,ot),Ye}for(nt=y(pe,nt);!Ot.done;ot++,Ot=me.next())Ot=ze(nt,pe,ot,Ot.value,Me),Ot!==null&&(n&&Ot.alternate!==null&&nt.delete(Ot.key===null?ot:Ot.key),ce=I(Ot,ce,ot),tt===null?Ye=Ot:tt.sibling=Ot,tt=Ot);return n&&nt.forEach(function(U8){return i(pe,U8)}),Ft&&_o(pe,ot),Ye}function On(pe,ce,me,Me){if(typeof me=="object"&&me!==null&&me.type===B&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case j:e:{for(var Ye=me.key,tt=ce;tt!==null;){if(tt.key===Ye){if(Ye=me.type,Ye===B){if(tt.tag===7){l(pe,tt.sibling),ce=T(tt,me.props.children),ce.return=pe,pe=ce;break e}}else if(tt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===J&&Ar(Ye)===tt.type){l(pe,tt.sibling),ce=T(tt,me.props),ce.ref=tn(pe,tt,me),ce.return=pe,pe=ce;break e}l(pe,tt);break}else i(pe,tt);tt=tt.sibling}me.type===B?(ce=Cl(me.props.children,pe.mode,Me,me.key),ce.return=pe,pe=ce):(Me=bf(me.type,me.key,me.props,null,pe.mode,Me),Me.ref=tn(pe,ce,me),Me.return=pe,pe=Me)}return W(pe);case $:e:{for(tt=me.key;ce!==null;){if(ce.key===tt)if(ce.tag===4&&ce.stateNode.containerInfo===me.containerInfo&&ce.stateNode.implementation===me.implementation){l(pe,ce.sibling),ce=T(ce,me.children||[]),ce.return=pe,pe=ce;break e}else{l(pe,ce);break}else i(pe,ce);ce=ce.sibling}ce=sp(me,pe.mode,Me),ce.return=pe,pe=ce}return W(pe);case J:return tt=me._init,On(pe,ce,tt(me._payload),Me)}if(bt(me))return Be(pe,ce,me,Me);if(se(me))return $e(pe,ce,me,Me);Cn(pe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ce!==null&&ce.tag===6?(l(pe,ce.sibling),ce=T(ce,me),ce.return=pe,pe=ce):(l(pe,ce),ce=ip(me,pe.mode,Me),ce.return=pe,pe=ce),W(pe)):l(pe,ce)}return On}var nn=ko(!0),ga=ko(!1),Ti={},ei=us(Ti),Ro=us(Ti),ds=us(Ti);function Pn(n){if(n===Ti)throw Error(r(174));return n}function hl(n,i){switch(Vt(ds,i),Vt(Ro,n),Vt(ei,Ti),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:zr(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=zr(i,n)}Wt(ei),Vt(ei,i)}function Ws(){Wt(ei),Wt(Ro),Wt(ds)}function Wi(n){Pn(ds.current);var i=Pn(ei.current),l=zr(i,n.type);i!==l&&(Vt(Ro,n),Vt(ei,l))}function qs(n){Ro.current===n&&(Wt(ei),Wt(Ro))}var qt=us(0);function va(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=[];function ya(){for(var n=0;n<qi.length;n++)qi[n]._workInProgressVersionPrimary=null;qi.length=0}var Mi=N.ReactCurrentDispatcher,xa=N.ReactCurrentBatchConfig,bi=0,Yt=null,pn=null,vn=null,Ln=!1,gi=!1,or=0,jr=0;function er(){throw Error(r(321))}function fl(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!br(n[l],i[l]))return!1;return!0}function pl(n,i,l,y,T,I){if(bi=I,Yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Mi.current=n===null||n.memoizedState===null?vf:yf,n=l(y,T),gi){I=0;do{if(gi=!1,or=0,25<=I)throw Error(r(301));I+=1,vn=pn=null,i.updateQueue=null,Mi.current=xf,n=l(y,T)}while(gi)}if(Mi.current=Nu,i=pn!==null&&pn.next!==null,bi=0,vn=pn=Yt=null,Ln=!1,i)throw Error(r(300));return n}function Lc(){var n=or!==0;return or=0,n}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Yt.memoizedState=vn=n:vn=vn.next=n,vn}function ti(){if(pn===null){var n=Yt.alternate;n=n!==null?n.memoizedState:null}else n=pn.next;var i=vn===null?Yt.memoizedState:vn.next;if(i!==null)vn=i,pn=n;else{if(n===null)throw Error(r(310));pn=n,n={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},vn===null?Yt.memoizedState=vn=n:vn=vn.next=n}return vn}function wa(n,i){return typeof i=="function"?i(n):i}function ml(n){var i=ti(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var y=pn,T=y.baseQueue,I=l.pending;if(I!==null){if(T!==null){var W=T.next;T.next=I.next,I.next=W}y.baseQueue=T=I,l.pending=null}if(T!==null){I=T.next,y=y.baseState;var ne=W=null,ae=null,ve=I;do{var Ee=ve.lane;if((bi&Ee)===Ee)ae!==null&&(ae=ae.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),y=ve.hasEagerState?ve.eagerState:n(y,ve.action);else{var ke={lane:Ee,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ae===null?(ne=ae=ke,W=y):ae=ae.next=ke,Yt.lanes|=Ee,xl|=Ee}ve=ve.next}while(ve!==null&&ve!==I);ae===null?W=y:ae.next=ne,br(y,i.memoizedState)||(Q=!0),i.memoizedState=y,i.baseState=W,i.baseQueue=ae,l.lastRenderedState=y}if(n=l.interleaved,n!==null){T=n;do I=T.lane,Yt.lanes|=I,xl|=I,T=T.next;while(T!==n)}else T===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function hs(n){var i=ti(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var y=l.dispatch,T=l.pending,I=i.memoizedState;if(T!==null){l.pending=null;var W=T=T.next;do I=n(I,W.action),W=W.next;while(W!==T);br(I,i.memoizedState)||(Q=!0),i.memoizedState=I,i.baseQueue===null&&(i.baseState=I),l.lastRenderedState=I}return[I,y]}function Oc(){}function Dc(n,i){var l=Yt,y=ti(),T=i(),I=!br(y.memoizedState,T);if(I&&(y.memoizedState=T,Q=!0),y=y.queue,Uc(df.bind(null,l,y,n),[n]),y.getSnapshot!==i||I||vn!==null&&vn.memoizedState.tag&1){if(l.flags|=2048,Ni(9,gl.bind(null,l,y,T,i),void 0,null),lr===null)throw Error(r(349));(bi&30)!==0||Eu(l,i,T)}return T}function Eu(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Yt.updateQueue,i===null?(i={lastEffect:null,stores:null},Yt.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function gl(n,i,l,y){i.value=l,i.getSnapshot=y,hf(i)&&Fc(n)}function df(n,i,l){return l(function(){hf(i)&&Fc(n)})}function hf(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!br(n,l)}catch{return!0}}function Fc(n){var i=fi(n,1);i!==null&&vs(i,n,1,-1)}function zc(n){var i=tr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:n},i.queue=n,n=n.dispatch=To.bind(null,Yt,n),[i.memoizedState,n]}function Ni(n,i,l,y){return n={tag:n,create:i,destroy:l,deps:y,next:null},i=Yt.updateQueue,i===null?(i={lastEffect:null,stores:null},Yt.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(y=l.next,l.next=n,n.next=y,i.lastEffect=n)),n}function ff(){return ti().memoizedState}function Hi(n,i,l,y){var T=tr();Yt.flags|=n,T.memoizedState=Ni(1|i,l,void 0,y===void 0?null:y)}function vl(n,i,l,y){var T=ti();y=y===void 0?null:y;var I=void 0;if(pn!==null){var W=pn.memoizedState;if(I=W.destroy,y!==null&&fl(y,W.deps)){T.memoizedState=Ni(i,l,I,y);return}}Yt.flags|=n,T.memoizedState=Ni(1|i,l,I,y)}function Xt(n,i){return Hi(8390656,8,n,i)}function Uc(n,i){return vl(2048,8,n,i)}function Vc(n,i){return vl(4,2,n,i)}function pf(n,i){return vl(4,4,n,i)}function mf(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Bc(n,i,l){return l=l!=null?l.concat([n]):null,vl(4,4,mf.bind(null,i,n),l)}function ku(){}function gf(n,i){var l=ti();i=i===void 0?null:i;var y=l.memoizedState;return y!==null&&i!==null&&fl(i,y[1])?y[0]:(l.memoizedState=[n,i],n)}function ni(n,i){var l=ti();i=i===void 0?null:i;var y=l.memoizedState;return y!==null&&i!==null&&fl(i,y[1])?y[0]:(n=n(),l.memoizedState=[n,i],n)}function Ru(n,i,l){return(bi&21)===0?(n.baseState&&(n.baseState=!1,Q=!0),n.memoizedState=l):(br(l,i)||(l=tc(),Yt.lanes|=l,xl|=l,n.baseState=!0),i)}function U0(n,i){var l=It;It=l!==0&&4>l?l:4,n(!0);var y=xa.transition;xa.transition={};try{n(!1),i()}finally{It=l,xa.transition=y}}function fs(){return ti().memoizedState}function Tu(n,i,l){var y=Ea(n);if(l={lane:y,action:l,hasEagerState:!1,eagerState:null,next:null},yl(n))Mu(i,l);else if(l=Ac(n,i,l,y),l!==null){var T=ri();vs(l,n,y,T),bu(l,i,y)}}function To(n,i,l){var y=Ea(n),T={lane:y,action:l,hasEagerState:!1,eagerState:null,next:null};if(yl(n))Mu(i,T);else{var I=n.alternate;if(n.lanes===0&&(I===null||I.lanes===0)&&(I=i.lastRenderedReducer,I!==null))try{var W=i.lastRenderedState,ne=I(W,l);if(T.hasEagerState=!0,T.eagerState=ne,br(ne,W)){var ae=i.interleaved;ae===null?(T.next=T,Su(i)):(T.next=ae.next,ae.next=T),i.interleaved=T;return}}catch{}finally{}l=Ac(n,i,T,y),l!==null&&(T=ri(),vs(l,n,y,T),bu(l,i,y))}}function yl(n){var i=n.alternate;return n===Yt||i!==null&&i===Yt}function Mu(n,i){gi=Ln=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function bu(n,i,l){if((l&4194240)!==0){var y=i.lanes;y&=n.pendingLanes,l|=y,i.lanes=l,nc(n,l)}}var Nu={readContext:Jr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},vf={readContext:Jr,useCallback:function(n,i){return tr().memoizedState=[n,i===void 0?null:i],n},useContext:Jr,useEffect:Xt,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Hi(4194308,4,mf.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Hi(4194308,4,n,i)},useInsertionEffect:function(n,i){return Hi(4,2,n,i)},useMemo:function(n,i){var l=tr();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var y=tr();return i=l!==void 0?l(i):i,y.memoizedState=y.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},y.queue=n,n=n.dispatch=Tu.bind(null,Yt,n),[y.memoizedState,n]},useRef:function(n){var i=tr();return n={current:n},i.memoizedState=n},useState:zc,useDebugValue:ku,useDeferredValue:function(n){return tr().memoizedState=n},useTransition:function(){var n=zc(!1),i=n[0];return n=U0.bind(null,n[1]),tr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var y=Yt,T=tr();if(Ft){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),lr===null)throw Error(r(349));(bi&30)!==0||Eu(y,i,l)}T.memoizedState=l;var I={value:l,getSnapshot:i};return T.queue=I,Xt(df.bind(null,y,I,n),[n]),y.flags|=2048,Ni(9,gl.bind(null,y,I,l,i),void 0,null),l},useId:function(){var n=tr(),i=lr.identifierPrefix;if(Ft){var l=en,y=Kr;l=(y&~(1<<32-pt(y)-1)).toString(32)+l,i=":"+i+"R"+l,l=or++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=jr++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},yf={readContext:Jr,useCallback:gf,useContext:Jr,useEffect:Uc,useImperativeHandle:Bc,useInsertionEffect:Vc,useLayoutEffect:pf,useMemo:ni,useReducer:ml,useRef:ff,useState:function(){return ml(wa)},useDebugValue:ku,useDeferredValue:function(n){var i=ti();return Ru(i,pn.memoizedState,n)},useTransition:function(){var n=ml(wa)[0],i=ti().memoizedState;return[n,i]},useMutableSource:Oc,useSyncExternalStore:Dc,useId:fs,unstable_isNewReconciler:!1},xf={readContext:Jr,useCallback:gf,useContext:Jr,useEffect:Uc,useImperativeHandle:Bc,useInsertionEffect:Vc,useLayoutEffect:pf,useMemo:ni,useReducer:hs,useRef:ff,useState:function(){return hs(wa)},useDebugValue:ku,useDeferredValue:function(n){var i=ti();return pn===null?i.memoizedState=n:Ru(i,pn.memoizedState,n)},useTransition:function(){var n=hs(wa)[0],i=ti().memoizedState;return[n,i]},useMutableSource:Oc,useSyncExternalStore:Dc,useId:fs,unstable_isNewReconciler:!1};function Mo(n,i){try{var l="",y=i;do l+=Ne(y),y=y.return;while(y);var T=l}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:n,source:i,stack:T,digest:null}}function Sa(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function $c(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function s(n,i,l){l=pi(-1,l),l.tag=3,l.payload={element:null};var y=i.value;return l.callback=function(){Pf||(Pf=!0,X0=y),$c(n,i)},l}function a(n,i,l){l=pi(-1,l),l.tag=3;var y=n.type.getDerivedStateFromError;if(typeof y=="function"){var T=i.value;l.payload=function(){return y(T)},l.callback=function(){$c(n,i)}}var I=n.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(l.callback=function(){$c(n,i),typeof y!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var W=i.stack;this.componentDidCatch(i.value,{componentStack:W!==null?W:""})}),l}function g(n,i,l){var y=n.pingCache;if(y===null){y=n.pingCache=new V0;var T=new Set;y.set(i,T)}else T=y.get(i),T===void 0&&(T=new Set,y.set(i,T));T.has(l)||(T.add(l),n=M8.bind(null,n,i,l),i.then(n,n))}function P(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function b(n,i,l,y,T){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=pi(-1,1),i.tag=2,mi(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=T,n)}var F=N.ReactCurrentOwner,Q=!1;function ue(n,i,l,y){i.child=n===null?ga(i,null,l,y):nn(i,n.child,l,y)}function ye(n,i,l,y,T){l=l.render;var I=i.ref;return ha(i,T),y=pl(n,i,l,y,I,T),l=Lc(),n!==null&&!Q?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~T,ps(n,i,T)):(Ft&&l&&ca(i),i.flags|=1,ue(n,i,y,T),i.child)}function Te(n,i,l,y,T){if(n===null){var I=l.type;return typeof I=="function"&&!rp(I)&&I.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=I,Ue(n,i,I,y,T)):(n=bf(l.type,null,y,i,i.mode,T),n.ref=i.ref,n.return=i,i.child=n)}if(I=n.child,(n.lanes&T)===0){var W=I.memoizedProps;if(l=l.compare,l=l!==null?l:uo,l(W,y)&&n.ref===i.ref)return ps(n,i,T)}return i.flags|=1,n=Ra(I,y),n.ref=i.ref,n.return=i,i.child=n}function Ue(n,i,l,y,T){if(n!==null){var I=n.memoizedProps;if(uo(I,y)&&n.ref===i.ref)if(Q=!1,i.pendingProps=y=I,(n.lanes&T)!==0)(n.flags&131072)!==0&&(Q=!0);else return i.lanes=n.lanes,ps(n,i,T)}return $t(n,i,l,y,T)}function at(n,i,l){var y=i.pendingProps,T=y.children,I=n!==null?n.memoizedState:null;if(y.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(ju,ji),ji|=l;else{if((l&1073741824)===0)return n=I!==null?I.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Vt(ju,ji),ji|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=I!==null?I.baseLanes:l,Vt(ju,ji),ji|=y}else I!==null?(y=I.baseLanes|l,i.memoizedState=null):y=l,Vt(ju,ji),ji|=y;return ue(n,i,T,l),i.child}function Le(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function $t(n,i,l,y,T){var I=sr(l)?Fs:Jn.current;return I=xo(i,I),ha(i,T),l=pl(n,i,l,y,I,T),y=Lc(),n!==null&&!Q?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~T,ps(n,i,T)):(Ft&&y&&ca(i),i.flags|=1,ue(n,i,l,T),i.child)}function zt(n,i,l,y,T){if(sr(l)){var I=!0;wo(i)}else I=!1;if(ha(i,T),i.stateNode===null)Ai(n,i),fn(i,l,y),_n(i,l,y,T),y=!0;else if(n===null){var W=i.stateNode,ne=i.memoizedProps;W.props=ne;var ae=W.context,ve=l.contextType;typeof ve=="object"&&ve!==null?ve=Jr(ve):(ve=sr(l)?Fs:Jn.current,ve=xo(i,ve));var Ee=l.getDerivedStateFromProps,ke=typeof Ee=="function"||typeof W.getSnapshotBeforeUpdate=="function";ke||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==y||ae!==ve)&&xt(i,W,y,ve),Ri=!1;var Pe=i.memoizedState;W.state=Pe,ma(i,y,W,T),ae=i.memoizedState,ne!==y||Pe!==ae||ir.current||Ri?(typeof Ee=="function"&&(Ic(i,l,Ee,y),ae=i.memoizedState),(ne=Ri||Pu(i,l,ne,y,Pe,ae,ve))?(ke||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(i.flags|=4194308)):(typeof W.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=y,i.memoizedState=ae),W.props=y,W.state=ae,W.context=ve,y=ne):(typeof W.componentDidMount=="function"&&(i.flags|=4194308),y=!1)}else{W=i.stateNode,dl(n,i),ne=i.memoizedProps,ve=i.type===i.elementType?ne:Bt(i.type,ne),W.props=ve,ke=i.pendingProps,Pe=W.context,ae=l.contextType,typeof ae=="object"&&ae!==null?ae=Jr(ae):(ae=sr(l)?Fs:Jn.current,ae=xo(i,ae));var ze=l.getDerivedStateFromProps;(Ee=typeof ze=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==ke||Pe!==ae)&&xt(i,W,y,ae),Ri=!1,Pe=i.memoizedState,W.state=Pe,ma(i,y,W,T);var Be=i.memoizedState;ne!==ke||Pe!==Be||ir.current||Ri?(typeof ze=="function"&&(Ic(i,l,ze,y),Be=i.memoizedState),(ve=Ri||Pu(i,l,ve,y,Pe,Be,ae)||!1)?(Ee||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(y,Be,ae),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(y,Be,ae)),typeof W.componentDidUpdate=="function"&&(i.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof W.componentDidUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(i.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(i.flags|=1024),i.memoizedProps=y,i.memoizedState=Be),W.props=y,W.state=Be,W.context=ae,y=ve):(typeof W.componentDidUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(i.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(i.flags|=1024),y=!1)}return ar(n,i,l,y,I,T)}function ar(n,i,l,y,T,I){Le(n,i);var W=(i.flags&128)!==0;if(!y&&!W)return T&&lf(i,l,!1),ps(n,i,I);y=i.stateNode,F.current=i;var ne=W&&typeof l.getDerivedStateFromError!="function"?null:y.render();return i.flags|=1,n!==null&&W?(i.child=nn(i,n.child,null,I),i.child=nn(i,null,ne,I)):ue(n,i,ne,I),i.memoizedState=y.state,T&&lf(i,l,!0),i.child}function Ki(n){var i=n.stateNode;i.pendingContext?Tc(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Tc(n,i.context,!1),hl(n,i.containerInfo)}function ge(n,i,l,y,T){return Po(),cl(T),i.flags|=256,ue(n,i,l,y),i.child}var he={dehydrated:null,treeContext:null,retryLane:0};function xe(n){return{baseLanes:n,cachePool:null,transitions:null}}function Oe(n,i,l){var y=i.pendingProps,T=qt.current,I=!1,W=(i.flags&128)!==0,ne;if((ne=W)||(ne=n!==null&&n.memoizedState===null?!1:(T&2)!==0),ne?(I=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(T|=1),Vt(qt,T&1),n===null)return da(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(W=y.children,n=y.fallback,I?(y=i.mode,I=i.child,W={mode:"hidden",children:W},(y&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=W):I=Nf(W,y,0,null),n=Cl(n,y,l,null),I.return=i,n.return=i,I.sibling=n,i.child=I,i.child.memoizedState=xe(l),i.memoizedState=he,n):Je(i,W));if(T=n.memoizedState,T!==null&&(ne=T.dehydrated,ne!==null))return ct(n,i,W,y,ne,T,l);if(I){I=y.fallback,W=i.mode,T=n.child,ne=T.sibling;var ae={mode:"hidden",children:y.children};return(W&1)===0&&i.child!==T?(y=i.child,y.childLanes=0,y.pendingProps=ae,i.deletions=null):(y=Ra(T,ae),y.subtreeFlags=T.subtreeFlags&14680064),ne!==null?I=Ra(ne,I):(I=Cl(I,W,l,null),I.flags|=2),I.return=i,y.return=i,y.sibling=I,i.child=y,y=I,I=i.child,W=n.child.memoizedState,W=W===null?xe(l):{baseLanes:W.baseLanes|l,cachePool:null,transitions:W.transitions},I.memoizedState=W,I.childLanes=n.childLanes&~l,i.memoizedState=he,y}return I=n.child,n=I.sibling,y=Ra(I,{mode:"visible",children:y.children}),(i.mode&1)===0&&(y.lanes=l),y.return=i,y.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=y,i.memoizedState=null,y}function Je(n,i){return i=Nf({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ut(n,i,l,y){return y!==null&&cl(y),nn(i,n.child,null,l),n=Je(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function ct(n,i,l,y,T,I,W){if(l)return i.flags&256?(i.flags&=-257,y=Sa(Error(r(422))),ut(n,i,W,y)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(I=y.fallback,T=i.mode,y=Nf({mode:"visible",children:y.children},T,0,null),I=Cl(I,T,W,null),I.flags|=2,y.return=i,I.return=i,y.sibling=I,i.child=y,(i.mode&1)!==0&&nn(i,n.child,null,W),i.child.memoizedState=xe(W),i.memoizedState=he,I);if((i.mode&1)===0)return ut(n,i,W,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var ne=y.dgst;return y=ne,I=Error(r(419)),y=Sa(I,y,void 0),ut(n,i,W,y)}if(ne=(W&n.childLanes)!==0,Q||ne){if(y=lr,y!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|W))!==0?0:T,T!==0&&T!==I.retryLane&&(I.retryLane=T,fi(n,T),vs(y,n,T,-1))}return np(),y=Sa(Error(r(421))),ut(n,i,W,y)}return T.data==="$?"?(i.flags|=128,i.child=n.child,i=b8.bind(null,n),T._reactRetry=i,null):(n=I.treeContext,Ie=Vi(T.nextSibling),Yr=i,Ft=!0,Xr=null,n!==null&&(gr[vr++]=Kr,gr[vr++]=en,gr[vr++]=Bs,Kr=n.id,en=n.overflow,Bs=i),i=Je(i,y.children),i.flags|=4096,i)}function Nt(n,i,l){n.lanes|=i;var y=n.alternate;y!==null&&(y.lanes|=i),hi(n.return,i,l)}function En(n,i,l,y,T){var I=n.memoizedState;I===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:y,tail:l,tailMode:T}:(I.isBackwards=i,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=l,I.tailMode=T)}function At(n,i,l){var y=i.pendingProps,T=y.revealOrder,I=y.tail;if(ue(n,i,y.children,l),y=qt.current,(y&2)!==0)y=y&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Nt(n,l,i);else if(n.tag===19)Nt(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}y&=1}if(Vt(qt,y),(i.mode&1)===0)i.memoizedState=null;else switch(T){case"forwards":for(l=i.child,T=null;l!==null;)n=l.alternate,n!==null&&va(n)===null&&(T=l),l=l.sibling;l=T,l===null?(T=i.child,i.child=null):(T=l.sibling,l.sibling=null),En(i,!1,T,l,I);break;case"backwards":for(l=null,T=i.child,i.child=null;T!==null;){if(n=T.alternate,n!==null&&va(n)===null){i.child=T;break}n=T.sibling,T.sibling=l,l=T,T=n}En(i,!0,l,null,I);break;case"together":En(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ai(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function ps(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),xl|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Ra(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Ra(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function y8(n,i,l){switch(i.tag){case 3:Ki(i),Po();break;case 5:Wi(i);break;case 1:sr(i.type)&&wo(i);break;case 4:hl(i,i.stateNode.containerInfo);break;case 10:var y=i.type._context,T=i.memoizedProps.value;Vt(Nr,y._currentValue),y._currentValue=T;break;case 13:if(y=i.memoizedState,y!==null)return y.dehydrated!==null?(Vt(qt,qt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Oe(n,i,l):(Vt(qt,qt.current&1),n=ps(n,i,l),n!==null?n.sibling:null);Vt(qt,qt.current&1);break;case 19:if(y=(l&i.childLanes)!==0,(n.flags&128)!==0){if(y)return At(n,i,l);i.flags|=128}if(T=i.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Vt(qt,qt.current),y)break;return null;case 22:case 23:return i.lanes=0,at(n,i,l)}return ps(n,i,l)}var Yg,B0,Xg,Qg;Yg=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},B0=function(){},Xg=function(n,i,l,y){var T=n.memoizedProps;if(T!==y){n=i.stateNode,Pn(ei.current);var I=null;switch(l){case"input":T=Zt(n,T),y=Zt(n,y),I=[];break;case"select":T=Y({},T,{value:void 0}),y=Y({},y,{value:void 0}),I=[];break;case"textarea":T=dr(n,T),y=dr(n,y),I=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(n.onclick=go)}Ba(l,y);var W;l=null;for(ve in T)if(!y.hasOwnProperty(ve)&&T.hasOwnProperty(ve)&&T[ve]!=null)if(ve==="style"){var ne=T[ve];for(W in ne)ne.hasOwnProperty(W)&&(l||(l={}),l[W]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(u.hasOwnProperty(ve)?I||(I=[]):(I=I||[]).push(ve,null));for(ve in y){var ae=y[ve];if(ne=T!=null?T[ve]:void 0,y.hasOwnProperty(ve)&&ae!==ne&&(ae!=null||ne!=null))if(ve==="style")if(ne){for(W in ne)!ne.hasOwnProperty(W)||ae&&ae.hasOwnProperty(W)||(l||(l={}),l[W]="");for(W in ae)ae.hasOwnProperty(W)&&ne[W]!==ae[W]&&(l||(l={}),l[W]=ae[W])}else l||(I||(I=[]),I.push(ve,l)),l=ae;else ve==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ne=ne?ne.__html:void 0,ae!=null&&ne!==ae&&(I=I||[]).push(ve,ae)):ve==="children"?typeof ae!="string"&&typeof ae!="number"||(I=I||[]).push(ve,""+ae):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(u.hasOwnProperty(ve)?(ae!=null&&ve==="onScroll"&&Gt("scroll",n),I||ne===ae||(I=[])):(I=I||[]).push(ve,ae))}l&&(I=I||[]).push("style",l);var ve=I;(i.updateQueue=ve)&&(i.flags|=4)}},Qg=function(n,i,l,y){l!==y&&(i.flags|=4)};function Gc(n,i){if(!Ft)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var y=null;l!==null;)l.alternate!==null&&(y=l),l=l.sibling;y===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:y.sibling=null}}function Ir(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,y=0;if(i)for(var T=n.child;T!==null;)l|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=n,T=T.sibling;else for(T=n.child;T!==null;)l|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=n,T=T.sibling;return n.subtreeFlags|=y,n.childLanes=l,i}function x8(n,i,l){var y=i.pendingProps;switch(qn(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(i),null;case 1:return sr(i.type)&&la(),Ir(i),null;case 3:return y=i.stateNode,Ws(),Wt(ir),Wt(Jn),ya(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(n===null||n.child===null)&&(ul(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xr!==null&&(J0(Xr),Xr=null))),B0(n,i),Ir(i),null;case 5:qs(i);var T=Pn(ds.current);if(l=i.type,n!==null&&i.stateNode!=null)Xg(n,i,l,y,T),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!y){if(i.stateNode===null)throw Error(r(166));return Ir(i),null}if(n=Pn(ei.current),ul(i)){y=i.stateNode,l=i.type;var I=i.memoizedProps;switch(y[di]=i,y[ol]=I,n=(i.mode&1)!==0,l){case"dialog":Gt("cancel",y),Gt("close",y);break;case"iframe":case"object":case"embed":Gt("load",y);break;case"video":case"audio":for(T=0;T<Ls.length;T++)Gt(Ls[T],y);break;case"source":Gt("error",y);break;case"img":case"image":case"link":Gt("error",y),Gt("load",y);break;case"details":Gt("toggle",y);break;case"input":St(y,I),Gt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!I.multiple},Gt("invalid",y);break;case"textarea":Kn(y,I),Gt("invalid",y)}Ba(l,I),T=null;for(var W in I)if(I.hasOwnProperty(W)){var ne=I[W];W==="children"?typeof ne=="string"?y.textContent!==ne&&(I.suppressHydrationWarning!==!0&&il(y.textContent,ne,n),T=["children",ne]):typeof ne=="number"&&y.textContent!==""+ne&&(I.suppressHydrationWarning!==!0&&il(y.textContent,ne,n),T=["children",""+ne]):u.hasOwnProperty(W)&&ne!=null&&W==="onScroll"&&Gt("scroll",y)}switch(l){case"input":De(y),mn(y,I,!0);break;case"textarea":De(y),hn(y);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(y.onclick=go)}y=T,i.updateQueue=y,y!==null&&(i.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=xn(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=W.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof y.is=="string"?n=W.createElement(l,{is:y.is}):(n=W.createElement(l),l==="select"&&(W=n,y.multiple?W.multiple=!0:y.size&&(W.size=y.size))):n=W.createElementNS(n,l),n[di]=i,n[ol]=y,Yg(n,i,!1,!1),i.stateNode=n;e:{switch(W=Zs(l,y),l){case"dialog":Gt("cancel",n),Gt("close",n),T=y;break;case"iframe":case"object":case"embed":Gt("load",n),T=y;break;case"video":case"audio":for(T=0;T<Ls.length;T++)Gt(Ls[T],n);T=y;break;case"source":Gt("error",n),T=y;break;case"img":case"image":case"link":Gt("error",n),Gt("load",n),T=y;break;case"details":Gt("toggle",n),T=y;break;case"input":St(n,y),T=Zt(n,y),Gt("invalid",n);break;case"option":T=y;break;case"select":n._wrapperState={wasMultiple:!!y.multiple},T=Y({},y,{value:void 0}),Gt("invalid",n);break;case"textarea":Kn(n,y),T=dr(n,y),Gt("invalid",n);break;default:T=y}Ba(l,T),ne=T;for(I in ne)if(ne.hasOwnProperty(I)){var ae=ne[I];I==="style"?Rr(n,ae):I==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&ai(n,ae)):I==="children"?typeof ae=="string"?(l!=="textarea"||ae!=="")&&zn(n,ae):typeof ae=="number"&&zn(n,""+ae):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?ae!=null&&I==="onScroll"&&Gt("scroll",n):ae!=null&&C(n,I,ae,W))}switch(l){case"input":De(n),mn(n,y,!1);break;case"textarea":De(n),hn(n);break;case"option":y.value!=null&&n.setAttribute("value",""+fe(y.value));break;case"select":n.multiple=!!y.multiple,I=y.value,I!=null?_t(n,!!y.multiple,I,!1):y.defaultValue!=null&&_t(n,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(n.onclick=go)}switch(l){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ir(i),null;case 6:if(n&&i.stateNode!=null)Qg(n,i,n.memoizedProps,y);else{if(typeof y!="string"&&i.stateNode===null)throw Error(r(166));if(l=Pn(ds.current),Pn(ei.current),ul(i)){if(y=i.stateNode,l=i.memoizedProps,y[di]=i,(I=y.nodeValue!==l)&&(n=Yr,n!==null))switch(n.tag){case 3:il(y.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&il(y.nodeValue,l,(n.mode&1)!==0)}I&&(i.flags|=4)}else y=(l.nodeType===9?l:l.ownerDocument).createTextNode(y),y[di]=i,i.stateNode=y}return Ir(i),null;case 13:if(Wt(qt),y=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&Ie!==null&&(i.mode&1)!==0&&(i.flags&128)===0)bc(),Po(),i.flags|=98560,I=!1;else if(I=ul(i),y!==null&&y.dehydrated!==null){if(n===null){if(!I)throw Error(r(318));if(I=i.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[di]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ir(i),I=!1}else Xr!==null&&(J0(Xr),Xr=null),I=!0;if(!I)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(y=y!==null,y!==(n!==null&&n.memoizedState!==null)&&y&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(qt.current&1)!==0?nr===0&&(nr=3):np())),i.updateQueue!==null&&(i.flags|=4),Ir(i),null);case 4:return Ws(),B0(n,i),n===null&&po(i.stateNode.containerInfo),Ir(i),null;case 10:return wu(i.type._context),Ir(i),null;case 17:return sr(i.type)&&la(),Ir(i),null;case 19:if(Wt(qt),I=i.memoizedState,I===null)return Ir(i),null;if(y=(i.flags&128)!==0,W=I.rendering,W===null)if(y)Gc(I,!1);else{if(nr!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(W=va(n),W!==null){for(i.flags|=128,Gc(I,!1),y=W.updateQueue,y!==null&&(i.updateQueue=y,i.flags|=4),i.subtreeFlags=0,y=l,l=i.child;l!==null;)I=l,n=y,I.flags&=14680066,W=I.alternate,W===null?(I.childLanes=0,I.lanes=n,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=W.childLanes,I.lanes=W.lanes,I.child=W.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=W.memoizedProps,I.memoizedState=W.memoizedState,I.updateQueue=W.updateQueue,I.type=W.type,n=W.dependencies,I.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Vt(qt,qt.current&1|2),i.child}n=n.sibling}I.tail!==null&&Ze()>Iu&&(i.flags|=128,y=!0,Gc(I,!1),i.lanes=4194304)}else{if(!y)if(n=va(W),n!==null){if(i.flags|=128,y=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Gc(I,!0),I.tail===null&&I.tailMode==="hidden"&&!W.alternate&&!Ft)return Ir(i),null}else 2*Ze()-I.renderingStartTime>Iu&&l!==1073741824&&(i.flags|=128,y=!0,Gc(I,!1),i.lanes=4194304);I.isBackwards?(W.sibling=i.child,i.child=W):(l=I.last,l!==null?l.sibling=W:i.child=W,I.last=W)}return I.tail!==null?(i=I.tail,I.rendering=i,I.tail=i.sibling,I.renderingStartTime=Ze(),i.sibling=null,l=qt.current,Vt(qt,y?l&1|2:l&1),i):(Ir(i),null);case 22:case 23:return tp(),y=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==y&&(i.flags|=8192),y&&(i.mode&1)!==0?(ji&1073741824)!==0&&(Ir(i),i.subtreeFlags&6&&(i.flags|=8192)):Ir(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function w8(n,i){switch(qn(i),i.tag){case 1:return sr(i.type)&&la(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ws(),Wt(ir),Wt(Jn),ya(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return qs(i),null;case 13:if(Wt(qt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Po()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Wt(qt),null;case 4:return Ws(),null;case 10:return wu(i.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var wf=!1,Lr=!1,S8=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Au(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(y){kn(n,i,y)}else l.current=null}function $0(n,i,l){try{l()}catch(y){kn(n,i,y)}}var Zg=!1;function _8(n,i){if(Pc=Kl,n=jn(),ia(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var y=l.getSelection&&l.getSelection();if(y&&y.rangeCount!==0){l=y.anchorNode;var T=y.anchorOffset,I=y.focusNode;y=y.focusOffset;try{l.nodeType,I.nodeType}catch{l=null;break e}var W=0,ne=-1,ae=-1,ve=0,Ee=0,ke=n,Pe=null;t:for(;;){for(var ze;ke!==l||T!==0&&ke.nodeType!==3||(ne=W+T),ke!==I||y!==0&&ke.nodeType!==3||(ae=W+y),ke.nodeType===3&&(W+=ke.nodeValue.length),(ze=ke.firstChild)!==null;)Pe=ke,ke=ze;for(;;){if(ke===n)break t;if(Pe===l&&++ve===T&&(ne=W),Pe===I&&++Ee===y&&(ae=W),(ze=ke.nextSibling)!==null)break;ke=Pe,Pe=ke.parentNode}ke=ze}l=ne===-1||ae===-1?null:{start:ne,end:ae}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ec={focusedElem:n,selectionRange:l},Kl=!1,Ve=i;Ve!==null;)if(i=Ve,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ve=n;else for(;Ve!==null;){i=Ve;try{var Be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var $e=Be.memoizedProps,On=Be.memoizedState,pe=i.stateNode,ce=pe.getSnapshotBeforeUpdate(i.elementType===i.type?$e:Bt(i.type,$e),On);pe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var me=i.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Me){kn(i,i.return,Me)}if(n=i.sibling,n!==null){n.return=i.return,Ve=n;break}Ve=i.return}return Be=Zg,Zg=!1,Be}function Wc(n,i,l){var y=i.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&n)===n){var I=T.destroy;T.destroy=void 0,I!==void 0&&$0(i,l,I)}T=T.next}while(T!==y)}}function Sf(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var y=l.create;l.destroy=y()}l=l.next}while(l!==i)}}function G0(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function Jg(n){var i=n.alternate;i!==null&&(n.alternate=null,Jg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[di],delete i[ol],delete i[pu],delete i[of],delete i[af])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function e1(n){return n.tag===5||n.tag===3||n.tag===4}function t1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function W0(n,i,l){var y=n.tag;if(y===5||y===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=go));else if(y!==4&&(n=n.child,n!==null))for(W0(n,i,l),n=n.sibling;n!==null;)W0(n,i,l),n=n.sibling}function q0(n,i,l){var y=n.tag;if(y===5||y===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(y!==4&&(n=n.child,n!==null))for(q0(n,i,l),n=n.sibling;n!==null;)q0(n,i,l),n=n.sibling}var yr=null,ms=!1;function _a(n,i,l){for(l=l.child;l!==null;)n1(n,i,l),l=l.sibling}function n1(n,i,l){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(gn,l)}catch{}switch(l.tag){case 5:Lr||Au(l,i);case 6:var y=yr,T=ms;yr=null,_a(n,i,l),yr=y,ms=T,yr!==null&&(ms?(n=yr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):yr.removeChild(l.stateNode));break;case 18:yr!==null&&(ms?(n=yr,l=l.stateNode,n.nodeType===8?fu(n.parentNode,l):n.nodeType===1&&fu(n,l),Tr(n)):fu(yr,l.stateNode));break;case 4:y=yr,T=ms,yr=l.stateNode.containerInfo,ms=!0,_a(n,i,l),yr=y,ms=T;break;case 0:case 11:case 14:case 15:if(!Lr&&(y=l.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var I=T,W=I.destroy;I=I.tag,W!==void 0&&((I&2)!==0||(I&4)!==0)&&$0(l,i,W),T=T.next}while(T!==y)}_a(n,i,l);break;case 1:if(!Lr&&(Au(l,i),y=l.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=l.memoizedProps,y.state=l.memoizedState,y.componentWillUnmount()}catch(ne){kn(l,i,ne)}_a(n,i,l);break;case 21:_a(n,i,l);break;case 22:l.mode&1?(Lr=(y=Lr)||l.memoizedState!==null,_a(n,i,l),Lr=y):_a(n,i,l);break;default:_a(n,i,l)}}function r1(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new S8),i.forEach(function(y){var T=N8.bind(null,n,y);l.has(y)||(l.add(y),y.then(T,T))})}}function gs(n,i){var l=i.deletions;if(l!==null)for(var y=0;y<l.length;y++){var T=l[y];try{var I=n,W=i,ne=W;e:for(;ne!==null;){switch(ne.tag){case 5:yr=ne.stateNode,ms=!1;break e;case 3:yr=ne.stateNode.containerInfo,ms=!0;break e;case 4:yr=ne.stateNode.containerInfo,ms=!0;break e}ne=ne.return}if(yr===null)throw Error(r(160));n1(I,W,T),yr=null,ms=!1;var ae=T.alternate;ae!==null&&(ae.return=null),T.return=null}catch(ve){kn(T,i,ve)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)i1(i,n),i=i.sibling}function i1(n,i){var l=n.alternate,y=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gs(i,n),Hs(n),y&4){try{Wc(3,n,n.return),Sf(3,n)}catch($e){kn(n,n.return,$e)}try{Wc(5,n,n.return)}catch($e){kn(n,n.return,$e)}}break;case 1:gs(i,n),Hs(n),y&512&&l!==null&&Au(l,l.return);break;case 5:if(gs(i,n),Hs(n),y&512&&l!==null&&Au(l,l.return),n.flags&32){var T=n.stateNode;try{zn(T,"")}catch($e){kn(n,n.return,$e)}}if(y&4&&(T=n.stateNode,T!=null)){var I=n.memoizedProps,W=l!==null?l.memoizedProps:I,ne=n.type,ae=n.updateQueue;if(n.updateQueue=null,ae!==null)try{ne==="input"&&I.type==="radio"&&I.name!=null&&bn(T,I),Zs(ne,W);var ve=Zs(ne,I);for(W=0;W<ae.length;W+=2){var Ee=ae[W],ke=ae[W+1];Ee==="style"?Rr(T,ke):Ee==="dangerouslySetInnerHTML"?ai(T,ke):Ee==="children"?zn(T,ke):C(T,Ee,ke,ve)}switch(ne){case"input":Ht(T,I);break;case"textarea":Nn(T,I);break;case"select":var Pe=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!I.multiple;var ze=I.value;ze!=null?_t(T,!!I.multiple,ze,!1):Pe!==!!I.multiple&&(I.defaultValue!=null?_t(T,!!I.multiple,I.defaultValue,!0):_t(T,!!I.multiple,I.multiple?[]:"",!1))}T[ol]=I}catch($e){kn(n,n.return,$e)}}break;case 6:if(gs(i,n),Hs(n),y&4){if(n.stateNode===null)throw Error(r(162));T=n.stateNode,I=n.memoizedProps;try{T.nodeValue=I}catch($e){kn(n,n.return,$e)}}break;case 3:if(gs(i,n),Hs(n),y&4&&l!==null&&l.memoizedState.isDehydrated)try{Tr(i.containerInfo)}catch($e){kn(n,n.return,$e)}break;case 4:gs(i,n),Hs(n);break;case 13:gs(i,n),Hs(n),T=n.child,T.flags&8192&&(I=T.memoizedState!==null,T.stateNode.isHidden=I,!I||T.alternate!==null&&T.alternate.memoizedState!==null||(Y0=Ze())),y&4&&r1(n);break;case 22:if(Ee=l!==null&&l.memoizedState!==null,n.mode&1?(Lr=(ve=Lr)||Ee,gs(i,n),Lr=ve):gs(i,n),Hs(n),y&8192){if(ve=n.memoizedState!==null,(n.stateNode.isHidden=ve)&&!Ee&&(n.mode&1)!==0)for(Ve=n,Ee=n.child;Ee!==null;){for(ke=Ve=Ee;Ve!==null;){switch(Pe=Ve,ze=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Wc(4,Pe,Pe.return);break;case 1:Au(Pe,Pe.return);var Be=Pe.stateNode;if(typeof Be.componentWillUnmount=="function"){y=Pe,l=Pe.return;try{i=y,Be.props=i.memoizedProps,Be.state=i.memoizedState,Be.componentWillUnmount()}catch($e){kn(y,l,$e)}}break;case 5:Au(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){a1(ke);continue}}ze!==null?(ze.return=Pe,Ve=ze):a1(ke)}Ee=Ee.sibling}e:for(Ee=null,ke=n;;){if(ke.tag===5){if(Ee===null){Ee=ke;try{T=ke.stateNode,ve?(I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ne=ke.stateNode,ae=ke.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,ne.style.display=Vo("display",W))}catch($e){kn(n,n.return,$e)}}}else if(ke.tag===6){if(Ee===null)try{ke.stateNode.nodeValue=ve?"":ke.memoizedProps}catch($e){kn(n,n.return,$e)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===n)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===n)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===n)break e;Ee===ke&&(Ee=null),ke=ke.return}Ee===ke&&(Ee=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:gs(i,n),Hs(n),y&4&&r1(n);break;case 21:break;default:gs(i,n),Hs(n)}}function Hs(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(e1(l)){var y=l;break e}l=l.return}throw Error(r(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(zn(T,""),y.flags&=-33);var I=t1(n);q0(n,I,T);break;case 3:case 4:var W=y.stateNode.containerInfo,ne=t1(n);W0(n,ne,W);break;default:throw Error(r(161))}}catch(ae){kn(n,n.return,ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function C8(n,i,l){Ve=n,s1(n)}function s1(n,i,l){for(var y=(n.mode&1)!==0;Ve!==null;){var T=Ve,I=T.child;if(T.tag===22&&y){var W=T.memoizedState!==null||wf;if(!W){var ne=T.alternate,ae=ne!==null&&ne.memoizedState!==null||Lr;ne=wf;var ve=Lr;if(wf=W,(Lr=ae)&&!ve)for(Ve=T;Ve!==null;)W=Ve,ae=W.child,W.tag===22&&W.memoizedState!==null?l1(T):ae!==null?(ae.return=W,Ve=ae):l1(T);for(;I!==null;)Ve=I,s1(I),I=I.sibling;Ve=T,wf=ne,Lr=ve}o1(n)}else(T.subtreeFlags&8772)!==0&&I!==null?(I.return=T,Ve=I):o1(n)}}function o1(n){for(;Ve!==null;){var i=Ve;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Lr||Sf(5,i);break;case 1:var y=i.stateNode;if(i.flags&4&&!Lr)if(l===null)y.componentDidMount();else{var T=i.elementType===i.type?l.memoizedProps:Bt(i.type,l.memoizedProps);y.componentDidUpdate(T,l.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var I=i.updateQueue;I!==null&&jc(i,I,y);break;case 3:var W=i.updateQueue;if(W!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}jc(i,W,l)}break;case 5:var ne=i.stateNode;if(l===null&&i.flags&4){l=ne;var ae=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&l.focus();break;case"img":ae.src&&(l.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ve=i.alternate;if(ve!==null){var Ee=ve.memoizedState;if(Ee!==null){var ke=Ee.dehydrated;ke!==null&&Tr(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Lr||i.flags&512&&G0(i)}catch(Pe){kn(i,i.return,Pe)}}if(i===n){Ve=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ve=l;break}Ve=i.return}}function a1(n){for(;Ve!==null;){var i=Ve;if(i===n){Ve=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ve=l;break}Ve=i.return}}function l1(n){for(;Ve!==null;){var i=Ve;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Sf(4,i)}catch(ae){kn(i,l,ae)}break;case 1:var y=i.stateNode;if(typeof y.componentDidMount=="function"){var T=i.return;try{y.componentDidMount()}catch(ae){kn(i,T,ae)}}var I=i.return;try{G0(i)}catch(ae){kn(i,I,ae)}break;case 5:var W=i.return;try{G0(i)}catch(ae){kn(i,W,ae)}}}catch(ae){kn(i,i.return,ae)}if(i===n){Ve=null;break}var ne=i.sibling;if(ne!==null){ne.return=i.return,Ve=ne;break}Ve=i.return}}var P8=Math.ceil,_f=N.ReactCurrentDispatcher,H0=N.ReactCurrentOwner,Yi=N.ReactCurrentBatchConfig,Lt=0,lr=null,Hn=null,xr=0,ji=0,ju=us(0),nr=0,qc=null,xl=0,Cf=0,K0=0,Hc=null,vi=null,Y0=0,Iu=1/0,bo=null,Pf=!1,X0=null,Ca=null,Ef=!1,Pa=null,kf=0,Kc=0,Q0=null,Rf=-1,Tf=0;function ri(){return(Lt&6)!==0?Ze():Rf!==-1?Rf:Rf=Ze()}function Ea(n){return(n.mode&1)===0?1:(Lt&2)!==0&&xr!==0?xr&-xr:Nc.transition!==null?(Tf===0&&(Tf=tc()),Tf):(n=It,n!==0||(n=window.event,n=n===void 0?16:Bh(n.type)),n)}function vs(n,i,l,y){if(50<Kc)throw Kc=0,Q0=null,Error(r(185));Wa(n,l,y),((Lt&2)===0||n!==lr)&&(n===lr&&((Lt&2)===0&&(Cf|=l),nr===4&&ka(n,xr)),yi(n,y),l===1&&Lt===0&&(i.mode&1)===0&&(Iu=Ze()+500,ua&&zs()))}function yi(n,i){var l=n.callbackNode;Dh(n,i);var y=no(n,n===lr?xr:0);if(y===0)l!==null&&it(l),n.callbackNode=null,n.callbackPriority=0;else if(i=y&-y,n.callbackPriority!==i){if(l!=null&&it(l),i===1)n.tag===0?cs(c1.bind(null,n)):ll(c1.bind(null,n)),rf(function(){(Lt&6)===0&&zs()}),l=null;else{switch(qa(y)){case 1:l=Dt;break;case 4:l=dt;break;case 16:l=ft;break;case 536870912:l=Vr;break;default:l=ft}l=y1(l,u1.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function u1(n,i){if(Rf=-1,Tf=0,(Lt&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Lu()&&n.callbackNode!==l)return null;var y=no(n,n===lr?xr:0);if(y===0)return null;if((y&30)!==0||(y&n.expiredLanes)!==0||i)i=Mf(n,y);else{i=y;var T=Lt;Lt|=2;var I=h1();(lr!==n||xr!==i)&&(bo=null,Iu=Ze()+500,Sl(n,i));do try{R8();break}catch(ne){d1(n,ne)}while(!0);Zr(),_f.current=I,Lt=T,Hn!==null?i=0:(lr=null,xr=0,i=nr)}if(i!==0){if(i===2&&(T=qo(n),T!==0&&(y=T,i=Z0(n,T))),i===1)throw l=qc,Sl(n,0),ka(n,y),yi(n,Ze()),l;if(i===6)ka(n,y);else{if(T=n.current.alternate,(y&30)===0&&!E8(T)&&(i=Mf(n,y),i===2&&(I=qo(n),I!==0&&(y=I,i=Z0(n,I))),i===1))throw l=qc,Sl(n,0),ka(n,y),yi(n,Ze()),l;switch(n.finishedWork=T,n.finishedLanes=y,i){case 0:case 1:throw Error(r(345));case 2:_l(n,vi,bo);break;case 3:if(ka(n,y),(y&130023424)===y&&(i=Y0+500-Ze(),10<i)){if(no(n,0)!==0)break;if(T=n.suspendedLanes,(T&y)!==y){ri(),n.pingedLanes|=n.suspendedLanes&T;break}n.timeoutHandle=Hr(_l.bind(null,n,vi,bo),i);break}_l(n,vi,bo);break;case 4:if(ka(n,y),(y&4194240)===y)break;for(i=n.eventTimes,T=-1;0<y;){var W=31-pt(y);I=1<<W,W=i[W],W>T&&(T=W),y&=~I}if(y=T,y=Ze()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*P8(y/1960))-y,10<y){n.timeoutHandle=Hr(_l.bind(null,n,vi,bo),y);break}_l(n,vi,bo);break;case 5:_l(n,vi,bo);break;default:throw Error(r(329))}}}return yi(n,Ze()),n.callbackNode===l?u1.bind(null,n):null}function Z0(n,i){var l=Hc;return n.current.memoizedState.isDehydrated&&(Sl(n,i).flags|=256),n=Mf(n,i),n!==2&&(i=vi,vi=l,i!==null&&J0(i)),n}function J0(n){vi===null?vi=n:vi.push.apply(vi,n)}function E8(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var y=0;y<l.length;y++){var T=l[y],I=T.getSnapshot;T=T.value;try{if(!br(I(),T))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ka(n,i){for(i&=~K0,i&=~Cf,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-pt(i),y=1<<l;n[l]=-1,i&=~y}}function c1(n){if((Lt&6)!==0)throw Error(r(327));Lu();var i=no(n,0);if((i&1)===0)return yi(n,Ze()),null;var l=Mf(n,i);if(n.tag!==0&&l===2){var y=qo(n);y!==0&&(i=y,l=Z0(n,y))}if(l===1)throw l=qc,Sl(n,0),ka(n,i),yi(n,Ze()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,_l(n,vi,bo),yi(n,Ze()),null}function ep(n,i){var l=Lt;Lt|=1;try{return n(i)}finally{Lt=l,Lt===0&&(Iu=Ze()+500,ua&&zs())}}function wl(n){Pa!==null&&Pa.tag===0&&(Lt&6)===0&&Lu();var i=Lt;Lt|=1;var l=Yi.transition,y=It;try{if(Yi.transition=null,It=1,n)return n()}finally{It=y,Yi.transition=l,Lt=i,(Lt&6)===0&&zs()}}function tp(){ji=ju.current,Wt(ju)}function Sl(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Rc(l)),Hn!==null)for(l=Hn.return;l!==null;){var y=l;switch(qn(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&la();break;case 3:Ws(),Wt(ir),Wt(Jn),ya();break;case 5:qs(y);break;case 4:Ws();break;case 13:Wt(qt);break;case 19:Wt(qt);break;case 10:wu(y.type._context);break;case 22:case 23:tp()}l=l.return}if(lr=n,Hn=n=Ra(n.current,null),xr=ji=i,nr=0,qc=null,K0=Cf=xl=0,vi=Hc=null,Gs!==null){for(i=0;i<Gs.length;i++)if(l=Gs[i],y=l.interleaved,y!==null){l.interleaved=null;var T=y.next,I=l.pending;if(I!==null){var W=I.next;I.next=T,y.next=W}l.pending=y}Gs=null}return n}function d1(n,i){do{var l=Hn;try{if(Zr(),Mi.current=Nu,Ln){for(var y=Yt.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}Ln=!1}if(bi=0,vn=pn=Yt=null,gi=!1,or=0,H0.current=null,l===null||l.return===null){nr=1,qc=i,Hn=null;break}e:{var I=n,W=l.return,ne=l,ae=i;if(i=xr,ne.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var ve=ae,Ee=ne,ke=Ee.tag;if((Ee.mode&1)===0&&(ke===0||ke===11||ke===15)){var Pe=Ee.alternate;Pe?(Ee.updateQueue=Pe.updateQueue,Ee.memoizedState=Pe.memoizedState,Ee.lanes=Pe.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var ze=P(W);if(ze!==null){ze.flags&=-257,b(ze,W,ne,I,i),ze.mode&1&&g(I,ve,i),i=ze,ae=ve;var Be=i.updateQueue;if(Be===null){var $e=new Set;$e.add(ae),i.updateQueue=$e}else Be.add(ae);break e}else{if((i&1)===0){g(I,ve,i),np();break e}ae=Error(r(426))}}else if(Ft&&ne.mode&1){var On=P(W);if(On!==null){(On.flags&65536)===0&&(On.flags|=256),b(On,W,ne,I,i),cl(Mo(ae,ne));break e}}I=ae=Mo(ae,ne),nr!==4&&(nr=2),Hc===null?Hc=[I]:Hc.push(I),I=W;do{switch(I.tag){case 3:I.flags|=65536,i&=-i,I.lanes|=i;var pe=s(I,ae,i);_u(I,pe);break e;case 1:ne=ae;var ce=I.type,me=I.stateNode;if((I.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Ca===null||!Ca.has(me)))){I.flags|=65536,i&=-i,I.lanes|=i;var Me=a(I,ne,i);_u(I,Me);break e}}I=I.return}while(I!==null)}p1(l)}catch(Ye){i=Ye,Hn===l&&l!==null&&(Hn=l=l.return);continue}break}while(!0)}function h1(){var n=_f.current;return _f.current=Nu,n===null?Nu:n}function np(){(nr===0||nr===3||nr===2)&&(nr=4),lr===null||(xl&268435455)===0&&(Cf&268435455)===0||ka(lr,xr)}function Mf(n,i){var l=Lt;Lt|=2;var y=h1();(lr!==n||xr!==i)&&(bo=null,Sl(n,i));do try{k8();break}catch(T){d1(n,T)}while(!0);if(Zr(),Lt=l,_f.current=y,Hn!==null)throw Error(r(261));return lr=null,xr=0,nr}function k8(){for(;Hn!==null;)f1(Hn)}function R8(){for(;Hn!==null&&!lt();)f1(Hn)}function f1(n){var i=v1(n.alternate,n,ji);n.memoizedProps=n.pendingProps,i===null?p1(n):Hn=i,H0.current=null}function p1(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=x8(l,i,ji),l!==null){Hn=l;return}}else{if(l=w8(l,i),l!==null){l.flags&=32767,Hn=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{nr=6,Hn=null;return}}if(i=i.sibling,i!==null){Hn=i;return}Hn=i=n}while(i!==null);nr===0&&(nr=5)}function _l(n,i,l){var y=It,T=Yi.transition;try{Yi.transition=null,It=1,T8(n,i,l,y)}finally{Yi.transition=T,It=y}return null}function T8(n,i,l,y){do Lu();while(Pa!==null);if((Lt&6)!==0)throw Error(r(327));l=n.finishedWork;var T=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var I=l.lanes|l.childLanes;if(L0(n,I),n===lr&&(Hn=lr=null,xr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ef||(Ef=!0,y1(ft,function(){return Lu(),null})),I=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||I){I=Yi.transition,Yi.transition=null;var W=It;It=1;var ne=Lt;Lt|=4,H0.current=null,_8(n,l),i1(l,n),el(Ec),Kl=!!Pc,Ec=Pc=null,n.current=l,C8(l),be(),Lt=ne,It=W,Yi.transition=I}else n.current=l;if(Ef&&(Ef=!1,Pa=n,kf=T),I=n.pendingLanes,I===0&&(Ca=null),st(l.stateNode),yi(n,Ze()),i!==null)for(y=n.onRecoverableError,l=0;l<i.length;l++)T=i[l],y(T.value,{componentStack:T.stack,digest:T.digest});if(Pf)throw Pf=!1,n=X0,X0=null,n;return(kf&1)!==0&&n.tag!==0&&Lu(),I=n.pendingLanes,(I&1)!==0?n===Q0?Kc++:(Kc=0,Q0=n):Kc=0,zs(),null}function Lu(){if(Pa!==null){var n=qa(kf),i=Yi.transition,l=It;try{if(Yi.transition=null,It=16>n?16:n,Pa===null)var y=!1;else{if(n=Pa,Pa=null,kf=0,(Lt&6)!==0)throw Error(r(331));var T=Lt;for(Lt|=4,Ve=n.current;Ve!==null;){var I=Ve,W=I.child;if((Ve.flags&16)!==0){var ne=I.deletions;if(ne!==null){for(var ae=0;ae<ne.length;ae++){var ve=ne[ae];for(Ve=ve;Ve!==null;){var Ee=Ve;switch(Ee.tag){case 0:case 11:case 15:Wc(8,Ee,I)}var ke=Ee.child;if(ke!==null)ke.return=Ee,Ve=ke;else for(;Ve!==null;){Ee=Ve;var Pe=Ee.sibling,ze=Ee.return;if(Jg(Ee),Ee===ve){Ve=null;break}if(Pe!==null){Pe.return=ze,Ve=Pe;break}Ve=ze}}}var Be=I.alternate;if(Be!==null){var $e=Be.child;if($e!==null){Be.child=null;do{var On=$e.sibling;$e.sibling=null,$e=On}while($e!==null)}}Ve=I}}if((I.subtreeFlags&2064)!==0&&W!==null)W.return=I,Ve=W;else e:for(;Ve!==null;){if(I=Ve,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Wc(9,I,I.return)}var pe=I.sibling;if(pe!==null){pe.return=I.return,Ve=pe;break e}Ve=I.return}}var ce=n.current;for(Ve=ce;Ve!==null;){W=Ve;var me=W.child;if((W.subtreeFlags&2064)!==0&&me!==null)me.return=W,Ve=me;else e:for(W=ce;Ve!==null;){if(ne=Ve,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:Sf(9,ne)}}catch(Ye){kn(ne,ne.return,Ye)}if(ne===W){Ve=null;break e}var Me=ne.sibling;if(Me!==null){Me.return=ne.return,Ve=Me;break e}Ve=ne.return}}if(Lt=T,zs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(gn,n)}catch{}y=!0}return y}finally{It=l,Yi.transition=i}}return!1}function m1(n,i,l){i=Mo(l,i),i=s(n,i,1),n=mi(n,i,1),i=ri(),n!==null&&(Wa(n,1,i),yi(n,i))}function kn(n,i,l){if(n.tag===3)m1(n,n,l);else for(;i!==null;){if(i.tag===3){m1(i,n,l);break}else if(i.tag===1){var y=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))){n=Mo(l,n),n=a(i,n,1),i=mi(i,n,1),n=ri(),i!==null&&(Wa(i,1,n),yi(i,n));break}}i=i.return}}function M8(n,i,l){var y=n.pingCache;y!==null&&y.delete(i),i=ri(),n.pingedLanes|=n.suspendedLanes&l,lr===n&&(xr&l)===l&&(nr===4||nr===3&&(xr&130023424)===xr&&500>Ze()-Y0?Sl(n,0):K0|=l),yi(n,i)}function g1(n,i){i===0&&((n.mode&1)===0?i=1:(i=rs,rs<<=1,(rs&130023424)===0&&(rs=4194304)));var l=ri();n=fi(n,i),n!==null&&(Wa(n,i,l),yi(n,l))}function b8(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),g1(n,l)}function N8(n,i){var l=0;switch(n.tag){case 13:var y=n.stateNode,T=n.memoizedState;T!==null&&(l=T.retryLane);break;case 19:y=n.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(i),g1(n,l)}var v1;v1=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||ir.current)Q=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Q=!1,y8(n,i,l);Q=(n.flags&131072)!==0}else Q=!1,Ft&&(i.flags&1048576)!==0&&uf(i,Vs,i.index);switch(i.lanes=0,i.tag){case 2:var y=i.type;Ai(n,i),n=i.pendingProps;var T=xo(i,Jn.current);ha(i,l),T=pl(null,i,y,n,T,l);var I=Lc();return i.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sr(y)?(I=!0,wo(i)):I=!1,i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,fa(i),T.updater=Eo,i.stateNode=T,T._reactInternals=i,_n(i,y,n,l),i=ar(null,i,y,!0,I,l)):(i.tag=0,Ft&&I&&ca(i),ue(null,i,T,l),i=i.child),i;case 16:y=i.elementType;e:{switch(Ai(n,i),n=i.pendingProps,T=y._init,y=T(y._payload),i.type=y,T=i.tag=j8(y),n=Bt(y,n),T){case 0:i=$t(null,i,y,n,l);break e;case 1:i=zt(null,i,y,n,l);break e;case 11:i=ye(null,i,y,n,l);break e;case 14:i=Te(null,i,y,Bt(y.type,n),l);break e}throw Error(r(306,y,""))}return i;case 0:return y=i.type,T=i.pendingProps,T=i.elementType===y?T:Bt(y,T),$t(n,i,y,T,l);case 1:return y=i.type,T=i.pendingProps,T=i.elementType===y?T:Bt(y,T),zt(n,i,y,T,l);case 3:e:{if(Ki(i),n===null)throw Error(r(387));y=i.pendingProps,I=i.memoizedState,T=I.element,dl(n,i),ma(i,y,null,l);var W=i.memoizedState;if(y=W.element,I.isDehydrated)if(I={element:y,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},i.updateQueue.baseState=I,i.memoizedState=I,i.flags&256){T=Mo(Error(r(423)),i),i=ge(n,i,y,l,T);break e}else if(y!==T){T=Mo(Error(r(424)),i),i=ge(n,i,y,l,T);break e}else for(Ie=Vi(i.stateNode.containerInfo.firstChild),Yr=i,Ft=!0,Xr=null,l=ga(i,null,y,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),y===T){i=ps(n,i,l);break e}ue(n,i,y,l)}i=i.child}return i;case 5:return Wi(i),n===null&&da(i),y=i.type,T=i.pendingProps,I=n!==null?n.memoizedProps:null,W=T.children,kc(y,T)?W=null:I!==null&&kc(y,I)&&(i.flags|=32),Le(n,i),ue(n,i,W,l),i.child;case 6:return n===null&&da(i),null;case 13:return Oe(n,i,l);case 4:return hl(i,i.stateNode.containerInfo),y=i.pendingProps,n===null?i.child=nn(i,null,y,l):ue(n,i,y,l),i.child;case 11:return y=i.type,T=i.pendingProps,T=i.elementType===y?T:Bt(y,T),ye(n,i,y,T,l);case 7:return ue(n,i,i.pendingProps,l),i.child;case 8:return ue(n,i,i.pendingProps.children,l),i.child;case 12:return ue(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(y=i.type._context,T=i.pendingProps,I=i.memoizedProps,W=T.value,Vt(Nr,y._currentValue),y._currentValue=W,I!==null)if(br(I.value,W)){if(I.children===T.children&&!ir.current){i=ps(n,i,l);break e}}else for(I=i.child,I!==null&&(I.return=i);I!==null;){var ne=I.dependencies;if(ne!==null){W=I.child;for(var ae=ne.firstContext;ae!==null;){if(ae.context===y){if(I.tag===1){ae=pi(-1,l&-l),ae.tag=2;var ve=I.updateQueue;if(ve!==null){ve=ve.shared;var Ee=ve.pending;Ee===null?ae.next=ae:(ae.next=Ee.next,Ee.next=ae),ve.pending=ae}}I.lanes|=l,ae=I.alternate,ae!==null&&(ae.lanes|=l),hi(I.return,l,i),ne.lanes|=l;break}ae=ae.next}}else if(I.tag===10)W=I.type===i.type?null:I.child;else if(I.tag===18){if(W=I.return,W===null)throw Error(r(341));W.lanes|=l,ne=W.alternate,ne!==null&&(ne.lanes|=l),hi(W,l,i),W=I.sibling}else W=I.child;if(W!==null)W.return=I;else for(W=I;W!==null;){if(W===i){W=null;break}if(I=W.sibling,I!==null){I.return=W.return,W=I;break}W=W.return}I=W}ue(n,i,T.children,l),i=i.child}return i;case 9:return T=i.type,y=i.pendingProps.children,ha(i,l),T=Jr(T),y=y(T),i.flags|=1,ue(n,i,y,l),i.child;case 14:return y=i.type,T=Bt(y,i.pendingProps),T=Bt(y.type,T),Te(n,i,y,T,l);case 15:return Ue(n,i,i.type,i.pendingProps,l);case 17:return y=i.type,T=i.pendingProps,T=i.elementType===y?T:Bt(y,T),Ai(n,i),i.tag=1,sr(y)?(n=!0,wo(i)):n=!1,ha(i,l),fn(i,y,T),_n(i,y,T,l),ar(null,i,y,!0,n,l);case 19:return At(n,i,l);case 22:return at(n,i,l)}throw Error(r(156,i.tag))};function y1(n,i){return ht(n,i)}function A8(n,i,l,y){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(n,i,l,y){return new A8(n,i,l,y)}function rp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function j8(n){if(typeof n=="function")return rp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===q)return 14}return 2}function Ra(n,i){var l=n.alternate;return l===null?(l=Xi(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function bf(n,i,l,y,T,I){var W=2;if(y=n,typeof n=="function")rp(n)&&(W=1);else if(typeof n=="string")W=5;else e:switch(n){case B:return Cl(l.children,T,I,i);case L:W=8,T|=8;break;case H:return n=Xi(12,l,i,T|2),n.elementType=H,n.lanes=I,n;case O:return n=Xi(13,l,i,T),n.elementType=O,n.lanes=I,n;case V:return n=Xi(19,l,i,T),n.elementType=V,n.lanes=I,n;case Z:return Nf(l,T,I,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:W=10;break e;case G:W=9;break e;case te:W=11;break e;case q:W=14;break e;case J:W=16,y=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Xi(W,l,i,T),i.elementType=n,i.type=y,i.lanes=I,i}function Cl(n,i,l,y){return n=Xi(7,n,y,i),n.lanes=l,n}function Nf(n,i,l,y){return n=Xi(22,n,y,i),n.elementType=Z,n.lanes=l,n.stateNode={isHidden:!1},n}function ip(n,i,l){return n=Xi(6,n,null,i),n.lanes=l,n}function sp(n,i,l){return i=Xi(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function I8(n,i,l,y,T){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function op(n,i,l,y,T,I,W,ne,ae){return n=new I8(n,i,l,ne,ae),i===1?(i=1,I===!0&&(i|=8)):i=0,I=Xi(3,null,null,i),n.current=I,I.stateNode=n,I.memoizedState={element:y,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},fa(I),n}function L8(n,i,l){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:y==null?null:""+y,children:n,containerInfo:i,implementation:l}}function x1(n){if(!n)return $i;n=n._reactInternals;e:{if(Fe(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(sr(l))return gu(n,l,i)}return i}function w1(n,i,l,y,T,I,W,ne,ae){return n=op(l,y,!0,n,T,I,W,ne,ae),n.context=x1(null),l=n.current,y=ri(),T=Ea(l),I=pi(y,T),I.callback=i??null,mi(l,I,T),n.current.lanes=T,Wa(n,T,y),yi(n,y),n}function Af(n,i,l,y){var T=i.current,I=ri(),W=Ea(T);return l=x1(l),i.context===null?i.context=l:i.pendingContext=l,i=pi(I,W),i.payload={element:n},y=y===void 0?null:y,y!==null&&(i.callback=y),n=mi(T,i,W),n!==null&&(vs(n,T,W,I),pa(n,T,W)),W}function jf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function S1(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function ap(n,i){S1(n,i),(n=n.alternate)&&S1(n,i)}function O8(){return null}var _1=typeof reportError=="function"?reportError:function(n){console.error(n)};function lp(n){this._internalRoot=n}If.prototype.render=lp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));Af(n,i,null,null)},If.prototype.unmount=lp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;wl(function(){Af(null,n,null,null)}),i[Bi]=null}};function If(n){this._internalRoot=n}If.prototype.unstable_scheduleHydration=function(n){if(n){var i=zh();n={blockedOn:null,target:n,priority:i};for(var l=0;l<Ui.length&&i!==0&&i<Ui[l].priority;l++);Ui.splice(l,0,n),l===0&&Wl(n)}};function up(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Lf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function C1(){}function D8(n,i,l,y,T){if(T){if(typeof y=="function"){var I=y;y=function(){var ve=jf(W);I.call(ve)}}var W=w1(i,y,n,0,null,!1,!1,"",C1);return n._reactRootContainer=W,n[Bi]=W.current,po(n.nodeType===8?n.parentNode:n),wl(),W}for(;T=n.lastChild;)n.removeChild(T);if(typeof y=="function"){var ne=y;y=function(){var ve=jf(ae);ne.call(ve)}}var ae=op(n,0,!1,null,null,!1,!1,"",C1);return n._reactRootContainer=ae,n[Bi]=ae.current,po(n.nodeType===8?n.parentNode:n),wl(function(){Af(i,ae,l,y)}),ae}function Of(n,i,l,y,T){var I=l._reactRootContainer;if(I){var W=I;if(typeof T=="function"){var ne=T;T=function(){var ae=jf(W);ne.call(ae)}}Af(i,W,n,T)}else W=D8(l,i,n,T,y);return jf(W)}Ho=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Bn(i.pendingLanes);l!==0&&(nc(i,l|1),yi(i,Ze()),(Lt&6)===0&&(Iu=Ze()+500,zs()))}break;case 13:wl(function(){var y=fi(n,1);if(y!==null){var T=ri();vs(y,n,1,T)}}),ap(n,1)}},Ko=function(n){if(n.tag===13){var i=fi(n,134217728);if(i!==null){var l=ri();vs(i,n,134217728,l)}ap(n,134217728)}},Fh=function(n){if(n.tag===13){var i=Ea(n),l=fi(n,i);if(l!==null){var y=ri();vs(l,n,i,y)}ap(n,i)}},zh=function(){return It},$l=function(n,i){var l=It;try{return It=n,i()}finally{It=l}},eo=function(n,i,l){switch(i){case"input":if(Ht(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var y=l[i];if(y!==n&&y.form===n.form){var T=Wn(y);if(!T)throw Error(r(90));et(y),Ht(y,T)}}}break;case"textarea":Nn(n,l);break;case"select":i=l.value,i!=null&&_t(n,!!l.multiple,i,!1)}},Vl=ep,Wo=wl;var F8={usingClientEntryPoint:!1,Events:[al,In,Wn,$a,Go,ep]},Yc={findFiberByHostInstance:Ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z8={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yt(n),n===null?null:n.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||O8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{gn=Df.inject(z8),Rt=Df}catch{}}return xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F8,xi.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(i))throw Error(r(200));return L8(n,i,null,l)},xi.createRoot=function(n,i){if(!up(n))throw Error(r(299));var l=!1,y="",T=_1;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(y=i.identifierPrefix),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=op(n,1,!1,null,null,l,!1,y,T),n[Bi]=i.current,po(n.nodeType===8?n.parentNode:n),new lp(i)},xi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=yt(i),n=n===null?null:n.stateNode,n},xi.flushSync=function(n){return wl(n)},xi.hydrate=function(n,i,l){if(!Lf(i))throw Error(r(200));return Of(null,n,i,!0,l)},xi.hydrateRoot=function(n,i,l){if(!up(n))throw Error(r(405));var y=l!=null&&l.hydratedSources||null,T=!1,I="",W=_1;if(l!=null&&(l.unstable_strictMode===!0&&(T=!0),l.identifierPrefix!==void 0&&(I=l.identifierPrefix),l.onRecoverableError!==void 0&&(W=l.onRecoverableError)),i=w1(i,null,n,1,l??null,T,!1,I,W),n[Bi]=i.current,po(n),y)for(n=0;n<y.length;n++)l=y[n],T=l._getVersion,T=T(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,T]:i.mutableSourceEagerHydrationData.push(l,T);return new If(i)},xi.render=function(n,i,l){if(!Lf(i))throw Error(r(200));return Of(null,n,i,!1,l)},xi.unmountComponentAtNode=function(n){if(!Lf(n))throw Error(r(40));return n._reactRootContainer?(wl(function(){Of(null,null,n,!1,function(){n._reactRootContainer=null,n[Bi]=null})}),!0):!1},xi.unstable_batchedUpdates=ep,xi.unstable_renderSubtreeIntoContainer=function(n,i,l,y){if(!Lf(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Of(n,i,l,!1,y)},xi.version="18.2.0-next-9e3b772b8-20220608",xi}var A1;function E5(){if(A1)return hp.exports;A1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=K8(),hp.exports}var j1;function Y8(){if(j1)return Ff;j1=1;var e=E5();return Ff.createRoot=e.createRoot,Ff.hydrateRoot=e.hydrateRoot,Ff}var X8=Y8();const Q8=kh(X8);var Z8=E5();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ah.apply(this,arguments)}var ja;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ja||(ja={}));const I1="popstate";function J8(e){e===void 0&&(e={});function t(o,u){let{pathname:d,search:c,hash:h}=o.location;return tm("",{pathname:d,search:c,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){return typeof u=="string"?u:R5(u)}return t6(t,r,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e6(){return Math.random().toString(36).substr(2,8)}function L1(e,t){return{usr:e.state,key:e.key,idx:t}}function tm(e,t,r,o){return r===void 0&&(r=null),ah({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ku(t):t,{state:r,key:t&&t.key||o||e6()})}function R5(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Ku(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function t6(e,t,r,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,c=u.history,h=ja.Pop,p=null,f=x();f==null&&(f=0,c.replaceState(ah({},c.state,{idx:f}),""));function x(){return(c.state||{idx:null}).idx}function m(){h=ja.Pop;let E=x(),A=E==null?null:E-f;f=E,p&&p({action:h,location:R.location,delta:A})}function w(E,A){h=ja.Push;let k=tm(R.location,E,A);f=x()+1;let C=L1(k,f),N=R.createHref(k);try{c.pushState(C,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;u.location.assign(N)}d&&p&&p({action:h,location:R.location,delta:1})}function S(E,A){h=ja.Replace;let k=tm(R.location,E,A);f=x();let C=L1(k,f),N=R.createHref(k);c.replaceState(C,"",N),d&&p&&p({action:h,location:R.location,delta:0})}function _(E){let A=u.location.origin!=="null"?u.location.origin:u.location.href,k=typeof E=="string"?E:R5(E);return k=k.replace(/ $/,"%20"),rr(A,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,A)}let R={get action(){return h},get location(){return e(u,c)},listen(E){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(I1,m),p=E,()=>{u.removeEventListener(I1,m),p=null}},createHref(E){return t(u,E)},createURL:_,encodeLocation(E){let A=_(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:S,go(E){return c.go(E)}};return R}var O1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O1||(O1={}));function n6(e,t,r){return r===void 0&&(r="/"),r6(e,t,r)}function r6(e,t,r,o){let u=typeof t=="string"?Ku(t):t,d=b5(u.pathname||"/",r);if(d==null)return null;let c=T5(e);i6(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let f=g6(d);h=f6(c[p],f)}return h}function T5(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let u=(d,c,h)=>{let p={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:c,route:d};p.relativePath.startsWith("/")&&(rr(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let f=Ol([o,p.relativePath]),x=r.concat(p);d.children&&d.children.length>0&&(rr(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),T5(d.children,t,x,f)),!(d.path==null&&!d.index)&&t.push({path:f,score:d6(f,d.index),routesMeta:x})};return e.forEach((d,c)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))u(d,c);else for(let p of M5(d.path))u(d,c,p)}),t}function M5(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let c=M5(o.join("/")),h=[];return h.push(...c.map(p=>p===""?d:[d,p].join("/"))),u&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function i6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h6(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const s6=/^:[\w-]+$/,o6=3,a6=2,l6=1,u6=10,c6=-2,D1=e=>e==="*";function d6(e,t){let r=e.split("/"),o=r.length;return r.some(D1)&&(o+=c6),t&&(o+=a6),r.filter(u=>!D1(u)).reduce((u,d)=>u+(s6.test(d)?o6:d===""?l6:u6),o)}function h6(e,t){return e.length===t.length&&e.slice(0,-1).every((o,u)=>o===t[u])?e[e.length-1]-t[t.length-1]:0}function f6(e,t,r){let{routesMeta:o}=e,u={},d="/",c=[];for(let h=0;h<o.length;++h){let p=o[h],f=h===o.length-1,x=d==="/"?t:t.slice(d.length)||"/",m=p6({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},x),w=p.route;if(!m)return null;Object.assign(u,m.params),c.push({params:u,pathname:Ol([d,m.pathname]),pathnameBase:_6(Ol([d,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(d=Ol([d,m.pathnameBase]))}return c}function p6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=m6(e.path,e.caseSensitive,e.end),u=t.match(r);if(!u)return null;let d=u[0],c=d.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:o.reduce((f,x,m)=>{let{paramName:w,isOptional:S}=x;if(w==="*"){let R=h[m]||"";c=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const _=h[m];return S&&!_?f[w]=void 0:f[w]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:c,pattern:e}}function m6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),k5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),o]}function g6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function b5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function v6(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:u=""}=typeof e=="string"?Ku(e):e;return{pathname:r?r.startsWith("/")?r:y6(r,t):t,search:C6(o),hash:P6(u)}}function y6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function mp(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function w6(e,t){let r=x6(e);return t?r.map((o,u)=>u===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function S6(e,t,r,o){o===void 0&&(o=!1);let u;typeof e=="string"?u=Ku(e):(u=ah({},e),rr(!u.pathname||!u.pathname.includes("?"),mp("?","pathname","search",u)),rr(!u.pathname||!u.pathname.includes("#"),mp("#","pathname","hash",u)),rr(!u.search||!u.search.includes("#"),mp("#","search","hash",u)));let d=e===""||u.pathname==="",c=d?"/":u.pathname,h;if(c==null)h=r;else{let m=t.length-1;if(!o&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),m-=1;u.pathname=w.join("/")}h=m>=0?t[m]:"/"}let p=v6(u,h),f=c&&c!=="/"&&c.endsWith("/"),x=(d||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(f||x)&&(p.pathname+="/"),p}const Ol=e=>e.join("/").replace(/\/\/+/g,"/"),_6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N5=["post","put","patch","delete"];new Set(N5);const k6=["get",...N5];new Set(k6);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},lh.apply(this,arguments)}const Lm=ee.createContext(null),R6=ee.createContext(null),f0=ee.createContext(null),p0=ee.createContext(null),Yu=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),A5=ee.createContext(null);function m0(){return ee.useContext(p0)!=null}function j5(){return m0()||rr(!1),ee.useContext(p0).location}function I5(e){ee.useContext(f0).static||ee.useLayoutEffect(e)}function Om(){let{isDataRoute:e}=ee.useContext(Yu);return e?U6():T6()}function T6(){m0()||rr(!1);let e=ee.useContext(Lm),{basename:t,future:r,navigator:o}=ee.useContext(f0),{matches:u}=ee.useContext(Yu),{pathname:d}=j5(),c=JSON.stringify(w6(u,r.v7_relativeSplatPath)),h=ee.useRef(!1);return I5(()=>{h.current=!0}),ee.useCallback(function(f,x){if(x===void 0&&(x={}),!h.current)return;if(typeof f=="number"){o.go(f);return}let m=S6(f,JSON.parse(c),d,x.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ol([t,m.pathname])),(x.replace?o.replace:o.push)(m,x.state,x)},[t,o,c,d,e])}function M6(e,t){return b6(e,t)}function b6(e,t,r,o){m0()||rr(!1);let{navigator:u,static:d}=ee.useContext(f0),{matches:c}=ee.useContext(Yu),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let f=h?h.pathnameBase:"/";h&&h.route;let x=j5(),m;if(t){var w;let A=typeof t=="string"?Ku(t):t;f==="/"||(w=A.pathname)!=null&&w.startsWith(f)||rr(!1),m=A}else m=x;let S=m.pathname||"/",_=S;if(f!=="/"){let A=f.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=n6(e,{pathname:_}),E=L6(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:Ol([f,u.encodeLocation?u.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ol([f,u.encodeLocation?u.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,r,o);return t&&E?ee.createElement(p0.Provider,{value:{location:lh({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ja.Pop}},E):E}function N6(){let e=z6(),t=E6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),r?ee.createElement("pre",{style:u},r):null,null)}const A6=ee.createElement(N6,null);class j6 extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ee.createElement(Yu.Provider,{value:this.props.routeContext},ee.createElement(A5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I6(e){let{routeContext:t,match:r,children:o}=e,u=ee.useContext(Lm);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),ee.createElement(Yu.Provider,{value:t},o)}function L6(e,t,r,o){var u;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=o)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,h=(u=r)==null?void 0:u.errors;if(h!=null){let x=c.findIndex(m=>m.route.id&&(h==null?void 0:h[m.route.id])!==void 0);x>=0||rr(!1),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,f=-1;if(r&&o&&o.v7_partialHydration)for(let x=0;x<c.length;x++){let m=c[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=x),m.route.id){let{loaderData:w,errors:S}=r,_=m.route.loader&&w[m.route.id]===void 0&&(!S||S[m.route.id]===void 0);if(m.route.lazy||_){p=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((x,m,w)=>{let S,_=!1,R=null,E=null;r&&(S=h&&m.route.id?h[m.route.id]:void 0,R=m.route.errorElement||A6,p&&(f<0&&w===0?(V6("route-fallback"),_=!0,E=null):f===w&&(_=!0,E=m.route.hydrateFallbackElement||null)));let A=t.concat(c.slice(0,w+1)),k=()=>{let C;return S?C=R:_?C=E:m.route.Component?C=ee.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=x,ee.createElement(I6,{match:m,routeContext:{outlet:x,matches:A,isDataRoute:r!=null},children:C})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?ee.createElement(j6,{location:r.location,revalidation:r.revalidation,component:R,error:S,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):k()},null)}var L5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L5||{}),O5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(O5||{});function O6(e){let t=ee.useContext(Lm);return t||rr(!1),t}function D6(e){let t=ee.useContext(R6);return t||rr(!1),t}function F6(e){let t=ee.useContext(Yu);return t||rr(!1),t}function D5(e){let t=F6(),r=t.matches[t.matches.length-1];return r.route.id||rr(!1),r.route.id}function z6(){var e;let t=ee.useContext(A5),r=D6(),o=D5();return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function U6(){let{router:e}=O6(L5.UseNavigateStable),t=D5(O5.UseNavigateStable),r=ee.useRef(!1);return I5(()=>{r.current=!0}),ee.useCallback(function(u,d){d===void 0&&(d={}),r.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,lh({fromRouteId:t},d)))},[e,t])}const F1={};function V6(e,t,r){F1[e]||(F1[e]=!0)}function B6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hd(e){rr(!1)}function $6(e){let{basename:t="/",children:r=null,location:o,navigationType:u=ja.Pop,navigator:d,static:c=!1,future:h}=e;m0()&&rr(!1);let p=t.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:p,navigator:d,static:c,future:lh({v7_relativeSplatPath:!1},h)}),[p,h,d,c]);typeof o=="string"&&(o=Ku(o));let{pathname:x="/",search:m="",hash:w="",state:S=null,key:_="default"}=o,R=ee.useMemo(()=>{let E=b5(x,p);return E==null?null:{location:{pathname:E,search:m,hash:w,state:S,key:_},navigationType:u}},[p,x,m,w,S,_,u]);return R==null?null:ee.createElement(f0.Provider,{value:f},ee.createElement(p0.Provider,{children:r,value:R}))}function G6(e){let{children:t,location:r}=e;return M6(nm(t),r)}new Promise(()=>{});function nm(e,t){t===void 0&&(t=[]);let r=[];return ee.Children.forEach(e,(o,u)=>{if(!ee.isValidElement(o))return;let d=[...t,u];if(o.type===ee.Fragment){r.push.apply(r,nm(o.props.children,d));return}o.type!==Hd&&rr(!1),!o.props.index||!o.props.children||rr(!1);let c={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=nm(o.props.children,d)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const W6="6";try{window.__reactRouterVersion=W6}catch{}const q6="startTransition",z1=q8[q6];function H6(e){let{basename:t,children:r,future:o,window:u}=e,d=ee.useRef();d.current==null&&(d.current=J8({window:u,v5Compat:!0}));let c=d.current,[h,p]=ee.useState({action:c.action,location:c.location}),{v7_startTransition:f}=o||{},x=ee.useCallback(m=>{f&&z1?z1(()=>p(m)):p(m)},[p,f]);return ee.useLayoutEffect(()=>c.listen(x),[c,x]),ee.useEffect(()=>B6(o),[o]),ee.createElement($6,{basename:t,children:r,location:h.location,navigationType:h.action,navigator:c,future:o})}var U1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(U1||(U1={}));var V1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(V1||(V1={}));var gp={exports:{}},vp,B1;function K6(){if(B1)return vp;B1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=e,vp}var yp,$1;function Y6(){if($1)return yp;$1=1;var e=K6();function t(){}function r(){}return r.resetWarningCache=t,yp=function(){function o(c,h,p,f,x,m){if(m!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}o.isRequired=o;function u(){return o}var d={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:u,element:o,elementType:o,instanceOf:u,node:o,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:r,resetWarningCache:t};return d.PropTypes=d,d},yp}var G1;function X6(){return G1||(G1=1,gp.exports=Y6()()),gp.exports}var Q6=X6();const X=kh(Q6);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F5=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ee.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:c,...h},p)=>ee.createElement("svg",{ref:p,...J6,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:F5("lucide",u),...h},[...c.map(([f,x])=>ee.createElement(f,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=(e,t)=>{const r=ee.forwardRef(({className:o,...u},d)=>ee.createElement(ew,{ref:d,iconNode:t,className:F5(`lucide-${Z6(e)}`,o),...u}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nw=Pr("Activity",tw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],z5=Pr("ArrowRight",rw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sw=Pr("ArrowUp",iw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aw=Pr("ChevronLeft",ow);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uw=Pr("ChevronRight",lw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],dw=Pr("Clock",cw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fw=Pr("Disc",hw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],mw=Pr("Heart",pw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vw=Pr("Info",gw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],U5=Pr("Maximize2",yw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ww=Pr("Percent",xw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dm=Pr("Shield",Sw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],V5=Pr("Target",_w);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],B5=Pr("Timer",Cw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ew=Pr("TriangleAlert",Pw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rw=Pr("X",kw);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fm=Pr("Zap",Tw);function $5({onEnable:e,onDismiss:t}){return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-700 w-5/6 max-w-md rounded-md overflow-hidden animate-in fade-in duration-300",children:[v.jsxs("div",{className:"bg-red-900 bg-opacity-50 px-4 py-3 border-b border-gray-700 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(Ew,{size:16,className:"text-red-400 mr-2"}),v.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Combat Alert"})]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:v.jsx(Rw,{size:18})})]}),v.jsxs("div",{className:"p-5",children:[v.jsxs("div",{className:"mb-4 text-center",children:[v.jsx(U5,{size:40,className:"mx-auto mb-3 text-blue-400"}),v.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Tactical Display Optimization Required"}),v.jsx("p",{className:"text-sm text-gray-300",children:"For optimal battlefield awareness and control interface, fullscreen mode is recommended."})]}),v.jsxs("div",{className:"border-t border-gray-800 pt-4 mt-4",children:[v.jsx("p",{className:"text-xs text-gray-400 mb-4 text-center",children:"Enable fullscreen mode to maximize tactical advantage"}),v.jsxs("div",{className:"flex flex-col space-y-3",children:[v.jsx("button",{onClick:e,className:"w-full py-3 bg-blue-600 text-white font-bold tracking-wider flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(52, 152, 219, 0.5)"},children:v.jsx("span",{children:"ENABLE FULLSCREEN"})}),v.jsx("button",{onClick:t,className:"w-full py-2 border border-gray-700 text-gray-400 text-sm tracking-wider",children:"CONTINUE WITHOUT FULLSCREEN"})]})]})]})]})})}$5.propTypes={onEnable:X.func.isRequired,onDismiss:X.func.isRequired};const G5=ee.createContext();function W5({children:e}){const[t,r]=ee.useState(!1);ee.useEffect(()=>{const c=()=>{const h=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;r(!!h)};return c(),document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),()=>{document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c)}},[]);const o=c=>{c&&(c.requestFullscreen?c.requestFullscreen().catch(h=>console.error("Fullscreen error:",h)):c.mozRequestFullScreen?c.mozRequestFullScreen().catch(h=>console.error("Fullscreen error:",h)):c.webkitRequestFullscreen?c.webkitRequestFullscreen().catch(h=>console.error("Fullscreen error:",h)):c.msRequestFullscreen&&c.msRequestFullscreen().catch(h=>console.error("Fullscreen error:",h)))},u=()=>{document.exitFullscreen?document.exitFullscreen().catch(c=>console.error("Exit fullscreen error:",c)):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(c=>console.error("Exit fullscreen error:",c)):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(c=>console.error("Exit fullscreen error:",c)):document.msExitFullscreen&&document.msExitFullscreen().catch(c=>console.error("Exit fullscreen error:",c))},d=on.useMemo(()=>({isFullscreen:t,enterFullscreen:o,exitFullscreen:u}),[t]);return v.jsx(G5.Provider,{value:d,children:e})}W5.propTypes={children:X.node.isRequired};const q5=()=>ee.useContext(G5);function Li(e,t){let r=parseInt(e.substring(1,3),16),o=parseInt(e.substring(3,5),16),u=parseInt(e.substring(5,7),16);return r=parseInt(r*(100+t)/100),o=parseInt(o*(100+t)/100),u=parseInt(u*(100+t)/100),r=r<255?r:255,o=o<255?o:255,u=u<255?u:255,r=Math.max(0,r).toString(16).padStart(2,"0"),o=Math.max(0,o).toString(16).padStart(2,"0"),u=Math.max(0,u).toString(16).padStart(2,"0"),`#${r}${o}${u}`}function je(e,t){if(e.startsWith("rgba"))return e.replace(/rgba\((.+?),\s*[\d.]+\)/,`rgba($1, ${t})`);if(e.startsWith("#")){const r=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),u=parseInt(e.slice(5,7),16);return`rgba(${r}, ${o}, ${u}, ${t})`}else if(e.startsWith("rgb"))return e.replace("rgb","rgba").replace(")",`, ${t})`);return e}function Rh({title:e,message:t}){return v.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[v.jsx("div",{className:"absolute inset-0 w-full h-full border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),v.jsx("div",{className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] border-4 border-indigo-300 border-b-transparent rounded-full animate-spin animation-delay-150"})]}),v.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:e}),v.jsx("p",{className:"text-indigo-300 text-lg",children:t})]})})}Rh.defaultProps={title:"TANKI.IO",message:"Connecting to battlefield..."};Rh.propTypes={title:X.string,message:X.string};function H5({specialistState:e,onActivate:t,size:r=80,color:o="#3a86ff"}){const[u,d]=ee.useState(0),[c,h]=ee.useState(0),[p,f]=ee.useState(!0),[x,m]=ee.useState(!1),[w,S]=ee.useState(!1),[_,R]=ee.useState(0),E=ee.useRef(null);ee.useEffect(()=>{const B=()=>{const H=Date.now();if(m(e.isActive),e.isActive&&e.activeUntil>H){const U=H-e.lastActivationTime,G=e.duration,te=Math.max(0,G-U),O=Math.max(0,Math.min(te/G,1));h(O*100),R(Math.ceil(te/1e3))}else h(0),R(0);if(!e.isActive&&e.lastActivationTime>0){const U=H-e.lastActivationTime,G=e.cooldown;if(U<G){f(!1);const te=Math.min(U/G,1);d(te*100),R(Math.ceil((G-U)/1e3))}else f(!0),d(100),R(0)}else e.isActive||(f(!0),d(100),R(0))};B();const L=setInterval(B,100);return()=>clearInterval(L)},[e]);const A=B=>{if(B.preventDefault(),B.stopPropagation(),!p||x)return;S(!0),t();const L=E.current;if(L){const H=document.createElement("div");H.className="absolute inset-0 pointer-events-none",H.style.zIndex=50;const U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.setAttribute("width","100%"),U.setAttribute("height","100%"),U.setAttribute("viewBox","0 0 100 100"),U.style.position="absolute";const G=document.createElementNS("http://www.w3.org/2000/svg","circle");G.setAttribute("cx","50"),G.setAttribute("cy","50"),G.setAttribute("r","1"),G.setAttribute("fill","none"),G.setAttribute("stroke",o),G.setAttribute("stroke-width","2"),G.style.transform="translate(0, 0)",G.style.opacity="1",U.appendChild(G),H.appendChild(U),L.appendChild(H);const te=()=>{const O=parseFloat(G.getAttribute("r")),V=parseFloat(G.style.opacity);if(O>=50){L.removeChild(H);return}G.setAttribute("r",O+2),G.style.opacity=V-.04,requestAnimationFrame(te)};requestAnimationFrame(te)}setTimeout(()=>S(!1),300)},k=B=>{B.stopPropagation(),A(B)};ee.useEffect(()=>{const B=E.current;if(B)return B.addEventListener("touchstart",k,{passive:!1}),()=>{B.removeEventListener("touchstart",k)}},[p,x]);let C="ready";x?C="active":p||(C="cooldown");const j={ready:{primary:o,secondary:"#8bffff",accent:"#ffffff",dark:"#101318",glow:o,shadow:`0 0 15px ${je(o,.6)}, 0 0 30px ${je(o,.4)}`},cooldown:{primary:"#444856",secondary:"#2a2e36",accent:"#7a8294",dark:"#131519",glow:"#444856",shadow:"none"},active:{primary:"#ff3860",secondary:"#ff8c9e",accent:"#ffffff",dark:"#260a14",glow:"#ff3860",shadow:`0 0 15px ${je("#ff3860",.6)}, 0 0 30px ${je("#ff3860",.4)}`}}[C],$=x?Date.now()/30%360:0;return v.jsxs("div",{ref:E,className:"relative select-none z-20",style:{width:r,height:r},children:[v.jsx("div",{className:"absolute inset-0 rounded-full transition-opacity duration-500 blur-xl",style:{background:`radial-gradient(circle at center, ${j.glow} 0%, transparent 70%)`,opacity:x||p?.4:0,transform:"scale(1.2)"}}),x&&v.jsx("div",{className:"absolute inset-0",style:{zIndex:1},children:v.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"energyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:je(j.primary,.8)}),v.jsx("stop",{offset:"100%",stopColor:je(j.secondary,.2)})]})}),v.jsx("g",{style:{transform:`rotate(${$}deg)`,transformOrigin:"center"},children:[0,60,120,180,240,300].map((B,L)=>v.jsx("path",{d:`M 50,50 L ${50+46*Math.cos(B*Math.PI/180)},${50+46*Math.sin(B*Math.PI/180)} A 46,46 0 0,1 ${50+46*Math.cos((B+30)*Math.PI/180)},${50+46*Math.sin((B+30)*Math.PI/180)} Z`,fill:je(j.glow,.15),stroke:je(j.secondary,.7),strokeWidth:"0.5"},"arc-"+L))}),v.jsx("g",{style:{transform:`rotate(${-$*1.5}deg)`,transformOrigin:"center"},children:[0,72,144,216,288].map((B,L)=>v.jsx("line",{x1:"50",y1:"50",x2:50+30*Math.cos(B*Math.PI/180),y2:50+30*Math.sin(B*Math.PI/180),stroke:je(j.accent,.5),strokeWidth:"0.75"},"line-"+L))})]})}),v.jsxs("button",{onClick:A,disabled:!p||x,className:"relative h-full w-full transition-all duration-300 outline-none focus:outline-none group",style:{transform:w?"scale(0.93)":"scale(1)",zIndex:2},children:[v.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",className:"absolute inset-0",children:[v.jsxs("defs",{children:[v.jsxs("filter",{id:"glow",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[v.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),v.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),v.jsx("pattern",{id:"techPattern",patternUnits:"userSpaceOnUse",width:"10",height:"10",patternTransform:"rotate(45)",children:v.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:je(j.accent,.2),strokeWidth:"0.5"})})]}),v.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:j.primary,strokeWidth:"2",filter:"url(#glow)"}),v.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"none",stroke:j.secondary,strokeWidth:"1",strokeDasharray:"3,2"}),v.jsx("circle",{cx:"50",cy:"50",r:"40",fill:j.dark,stroke:j.accent,strokeWidth:"0.5"}),v.jsx("circle",{cx:"50",cy:"50",r:"38",fill:"url(#techPattern)"}),v.jsx("circle",{cx:"50",cy:"50",r:"20",fill:`url(#${C}Gradient)`,className:x?"animate-pulse-fast":""}),!p&&v.jsxs(v.Fragment,{children:[v.jsx("clipPath",{id:"cooldownMask",children:v.jsx("circle",{cx:"50",cy:"50",r:"40"})}),v.jsx("rect",{x:"0",y:100-u,width:"100",height:"100",fill:"url(#cooldownFill)",clipPath:"url(#cooldownMask)"})]}),[0,90,180,270].map((B,L)=>v.jsx("path",{d:`M ${50+42*Math.cos(B*Math.PI/180)},${50+42*Math.sin(B*Math.PI/180)} 
                               L ${50+46*Math.cos(B*Math.PI/180)},${50+46*Math.sin(B*Math.PI/180)}
                               L ${50+46*Math.cos((B+10)*Math.PI/180)},${50+46*Math.sin((B+10)*Math.PI/180)}
                               L ${50+42*Math.cos((B+10)*Math.PI/180)},${50+42*Math.sin((B+10)*Math.PI/180)} Z`,fill:j.primary,stroke:j.accent,strokeWidth:"0.5"},"accent-"+L)),v.jsxs("linearGradient",{id:"readyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:je(j.primary,.9)}),v.jsx("stop",{offset:"100%",stopColor:je(j.primary,.4)})]}),v.jsxs("linearGradient",{id:"activeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:je(j.primary,.9),children:v.jsx("animate",{attributeName:"stop-color",values:`${je(j.primary,.9)};${je(j.secondary,.7)};${je(j.primary,.9)}`,dur:"2s",repeatCount:"indefinite"})}),v.jsx("stop",{offset:"100%",stopColor:je(j.secondary,.5),children:v.jsx("animate",{attributeName:"stop-color",values:`${je(j.secondary,.5)};${je(j.primary,.7)};${je(j.secondary,.5)}`,dur:"2s",repeatCount:"indefinite"})})]}),v.jsxs("linearGradient",{id:"cooldownGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:je(j.primary,.5)}),v.jsx("stop",{offset:"100%",stopColor:je(j.dark,.8)})]}),v.jsxs("linearGradient",{id:"cooldownFill",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:je(j.primary,.2)}),v.jsx("stop",{offset:"100%",stopColor:je(j.dark,.8)})]})]}),x&&v.jsxs("svg",{className:"absolute inset-0 z-10",viewBox:"0 0 100 100",children:[v.jsx("circle",{cx:"50",cy:"50",r:"43",fill:"none",stroke:je(j.dark,.5),strokeWidth:"3"}),v.jsx("circle",{cx:"50",cy:"50",r:"43",fill:"none",stroke:j.primary,strokeWidth:"3",strokeDasharray:`${c*2.7} 270`,strokeDashoffset:"0",transform:"rotate(-90 50 50)",strokeLinecap:"round",filter:"url(#glow)"})]}),v.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:(x||!p)&&v.jsxs("div",{className:"mt-1 font-mono",style:{color:j.accent,fontSize:`${r*.16}px`,fontWeight:"bold",textShadow:x?`0 0 3px ${je(j.accent,.5)}`:"none"},children:[_,"s"]})})]}),(p||x)&&v.jsx(v.Fragment,{children:[90,180,270,360].map((B,L)=>v.jsx("div",{className:`absolute w-1.5 h-1.5 rounded-full ${x?"animate-pulse":""}`,style:{top:`calc(50% + ${Math.sin(B*Math.PI/180)*r*.6}px)`,left:`calc(50% + ${Math.cos(B*Math.PI/180)*r*.6}px)`,transform:"translate(-50%, -50%)",backgroundColor:j.secondary,boxShadow:`0 0 5px ${j.glow}`}},"point-"+L))})]})}H5.propTypes={specialistState:X.shape({isActive:X.bool.isRequired,lastActivationTime:X.number.isRequired,duration:X.number.isRequired,cooldown:X.number.isRequired,activeUntil:X.number.isRequired}).isRequired,onActivate:X.func.isRequired,size:X.number,color:X.string};function rm({onMove:e,onStop:t,size:r="w-48 h-48",type:o="movement"}){const[u,d]=ee.useState({x:0,y:0}),[c,h]=ee.useState(!1),[p,f]=ee.useState(0),x=ee.useRef(null),m=ee.useRef(null),w=ee.useRef({degrees:0,isMoving:!1}),S=ee.useRef(null),_=16;ee.useEffect(()=>(c?m.current=setInterval(()=>{w.current.isMoving&&e(w.current.degrees,w.current.isMoving,o)},_):m.current&&(clearInterval(m.current),m.current=null),()=>{m.current&&(clearInterval(m.current),m.current=null)}),[c,e,o]);const R=(V,q,J=null)=>{if(!x.current)return;S.current=J,h(!0);const Z=x.current.getBoundingClientRect(),re=Z.left+Z.width/2,se=Z.top+Z.height/2;E(V,q,re,se)},E=(V,q,J,Z)=>{if(!c||!x.current)return;if(!J||!Z){const Re=x.current.getBoundingClientRect();J=Re.left+Re.width/2,Z=Re.top+Re.height/2}let re=V-J,se=-(q-Z);const Y=Math.sqrt(re*re+se*se);let oe=Math.atan2(se,re)*180/Math.PI%360;oe<0&&(oe+=360),f(oe);const we=Math.min(50,Y);d({x:Math.cos(Math.atan2(q-Z,V-J))*we,y:Math.sin(Math.atan2(q-Z,V-J))*we});const Ne=Y>5;w.current={degrees:oe,isMoving:Ne}},A=()=>{h(!1),d({x:0,y:0}),t(p,o),S.current=null,m.current&&(clearInterval(m.current),m.current=null)},k=V=>{c||(V.preventDefault(),window.addEventListener("mousemove",C),window.addEventListener("mouseup",N),R(V.clientX,V.clientY))},C=V=>{E(V.clientX,V.clientY)},N=()=>{A(),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",N)},j=V=>{if(c)return;const q=x.current.getBoundingClientRect(),J=Array.from(V.touches).find(Z=>Z.clientX>=q.left&&Z.clientX<=q.right&&Z.clientY>=q.top&&Z.clientY<=q.bottom);J&&R(J.clientX,J.clientY,J.identifier)},$=V=>{if(!c||S.current===null)return;const q=Array.from(V.touches).findIndex(Z=>Z.identifier===S.current);if(q===-1)return;const J=V.touches[q];E(J.clientX,J.clientY)},B=V=>{!Array.from(V.touches).some(J=>J.identifier===S.current)&&c&&A()};ee.useEffect(()=>{const V=x.current;if(V)return V.addEventListener("touchstart",j,{passive:!0}),document.addEventListener("touchmove",$,{passive:!0}),document.addEventListener("touchend",B,{passive:!0}),document.addEventListener("touchcancel",B,{passive:!0}),()=>{V.removeEventListener("touchstart",j),document.removeEventListener("touchmove",$),document.removeEventListener("touchend",B),document.removeEventListener("touchcancel",B)}},[c]);const L=o==="movement"?"border-indigo-600/30":"border-red-600/30",H=o==="movement"?"bg-indigo-500/20":"bg-red-500/20",U=o==="movement"?"from-indigo-500 to-indigo-700":"from-red-500 to-red-700",G=o==="movement"?"bg-indigo-600":"bg-red-600",te=o==="movement"?"bg-indigo-400/30":"bg-red-400/30",O=o==="movement"?"border-indigo-500/10":"border-red-500/10";return v.jsxs("div",{ref:x,className:`relative ${r} bg-black/40 backdrop-blur-sm rounded-full border-2 ${L} shadow-lg flex items-center justify-center`,onMouseDown:k,children:[v.jsxs("div",{className:"absolute w-full h-full rounded-full",children:[v.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-1 h-8 ${H} rounded-full`}),v.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-8 ${H} rounded-full`}),v.jsx("div",{className:`absolute top-1/2 left-0 -translate-y-1/2 w-8 h-1 ${H} rounded-full`}),v.jsx("div",{className:`absolute top-1/2 right-0 -translate-y-1/2 w-8 h-1 ${H} rounded-full`}),v.jsx("div",{className:`absolute inset-0 border-[16px] ${O} rounded-full`})]}),v.jsx("div",{className:`absolute w-20 h-20 bg-gradient-to-br ${U} rounded-full shadow-md cursor-grab active:cursor-grabbing transform-gpu will-change-transform`,style:{transform:`translate(${u.x}px, ${u.y}px)`,transition:c?"none":"transform 0.2s ease-out"},children:v.jsx("div",{className:`absolute inset-2 rounded-full ${G} flex items-center justify-center`,children:v.jsx("div",{className:`w-1/2 h-1/2 rounded-full ${te}`})})})]})}rm.propTypes={onMove:X.func.isRequired,onStop:X.func.isRequired,size:X.string,type:X.oneOf(["movement","aiming"])};function zm({text:e,icon:t,type:r,color:o,onClose:u,className:d,ariaLabel:c}){const h=()=>{switch(r){case"close":return v.jsxs("g",{stroke:o,strokeWidth:"1.5",strokeLinecap:"round",children:[v.jsx("line",{x1:"15",y1:"15",x2:"25",y2:"25"}),v.jsx("line",{x1:"25",y1:"15",x2:"15",y2:"25"})]});case"back":return v.jsxs("g",{stroke:o,strokeWidth:"1.5",strokeLinecap:"round",children:[v.jsx("line",{x1:"15",y1:"20",x2:"25",y2:"20"}),v.jsx("line",{x1:"15",y1:"20",x2:"20",y2:"15"}),v.jsx("line",{x1:"15",y1:"20",x2:"20",y2:"25"})]});default:return null}};return v.jsx("button",{className:d,onClick:u,"aria-label":c,children:v.jsxs("div",{className:"relative",children:[v.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",className:"filter drop-shadow-md",children:[v.jsx("polygon",{points:"0,5 5,0 40,0 40,35 35,40 0,40",fill:"rgba(10,12,18,0.9)",stroke:o,strokeWidth:"1.5"}),v.jsx("line",{x1:"5",y1:"0",x2:"0",y2:"5",stroke:o,strokeWidth:"1"}),v.jsx("line",{x1:"40",y1:"35",x2:"35",y2:"40",stroke:o,strokeWidth:"1"}),v.jsx("rect",{x:"0",y:"10",width:"3",height:"30",fill:o}),v.jsx("rect",{x:"0",y:"20",width:"40",height:"1",fill:je(o,.3)}),t||h()]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 text-center",children:v.jsx("span",{className:"text-[8px] font-mono tracking-wider",style:{color:o},children:e})}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] opacity-70",style:{backgroundColor:o,animation:"scanlineAnimation 2s linear infinite",boxShadow:`0 0 4px ${o}`}})]})})}zm.propTypes={text:X.string.isRequired,color:X.string.isRequired,onClose:X.func.isRequired,icon:X.element,type:X.string,className:X.string,ariaLabel:X.string};function K5({color:e}){return v.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",className:"filter drop-shadow-md",children:[v.jsx("clipPath",{id:"stats-btn-clip",children:v.jsx("polygon",{points:"0,5 5,0 35,0 40,5 40,35 35,40 5,40 0,35"})}),v.jsx("rect",{x:"0",y:"0",width:"40",height:"40",fill:"rgba(20,22,30,0.95)",stroke:e,strokeWidth:"1.5",clipPath:"url(#stats-btn-clip)"}),v.jsx("line",{x1:"5",y1:"0",x2:"0",y2:"5",stroke:e,strokeWidth:"1"}),v.jsx("line",{x1:"35",y1:"0",x2:"40",y2:"5",stroke:e,strokeWidth:"1"}),v.jsx("line",{x1:"0",y1:"35",x2:"5",y2:"40",stroke:e,strokeWidth:"1"}),v.jsx("line",{x1:"40",y1:"35",x2:"35",y2:"40",stroke:e,strokeWidth:"1"}),v.jsx("rect",{x:"10",y:"0",width:"20",height:"2",fill:e}),v.jsx("polygon",{points:"20,10 26,13 26,21 20,24 14,21 14,13",fill:"transparent",stroke:e,strokeWidth:"1.5"}),v.jsxs("g",{fill:"none",stroke:e,strokeWidth:"1.5",strokeLinecap:"round",children:[v.jsx("line",{x1:"17",y1:"21",x2:"17",y2:"16"}),v.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"13"}),v.jsx("line",{x1:"23",y1:"21",x2:"23",y2:"15"})]}),v.jsx("rect",{x:"8",y:"27",width:"24",height:"10",fill:"rgba(0,0,0,0.5)"})]})}K5.propTypes={color:X.string.isRequired};function Y5({onToggleStats:e,username:t,tankType:r,health:o,score:u=0,tankColor:d="#ff8c00"}){const c=Math.max(0,Math.min(100,o/100*100));return v.jsxs("div",{className:"bg-[#1a1a20]/80 shadow-lg p-3 text-white flex items-center justify-between w-full max-w-md mx-auto relative overflow-hidden",style:{clipPath:"polygon(0% 0%, 100% 0%, 98% 100%, 0% 100%, 2% 50%)",borderLeft:`4px solid ${d}`},children:[v.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(45deg, ${je(d,.05)} 25%, transparent 25%, transparent 50%, ${je(d,.05)} 50%, ${je(d,.05)} 75%, transparent 75%, transparent)`,backgroundSize:"10px 10px"}}),v.jsx("div",{className:"absolute top-0 right-0 w-[40%] h-1",style:{backgroundColor:je(d,.7)}}),v.jsx("div",{className:"absolute bottom-0 left-0 w-[40%] h-1",style:{backgroundColor:je(d,.7)}}),v.jsxs("div",{className:"flex items-center z-10",children:[v.jsxs("div",{className:"relative flex items-center justify-center w-12 h-12 mr-3",children:[v.jsx("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full",children:v.jsx("polygon",{points:"50,0 100,25 100,75 50,100 0,75 0,25",fill:"#1a1a20",stroke:je(d,.7),strokeWidth:"3"})}),v.jsx("div",{className:"z-10 text-white w-6 h-6 flex items-center justify-center",style:{backgroundColor:d},children:v.jsx("span",{className:"font-bold text-shadow",children:t.charAt(0).toUpperCase()})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"font-medium tracking-wide",style:{color:d},children:t}),v.jsx("div",{className:"ml-2 px-1 text-[10px] border",style:{backgroundColor:je(d,.2),color:d,borderColor:je(d,.4)},children:"OPERATOR"})]}),v.jsxs("div",{className:"text-xs mt-0.5 font-mono",style:{color:je(d,.7)},children:[r,"//ACTIVE"]})]})]}),v.jsxs("div",{className:"flex items-center gap-3 z-10",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center mb-1",children:[v.jsx("span",{className:"text-sm font-mono mr-1",style:{color:d},children:"HP"}),v.jsx("span",{className:"text-sm font-mono",children:o})]}),v.jsx("div",{className:"w-16 h-2 bg-[#1a1a20] relative",style:{border:`1px solid ${je(d,.3)}`},children:v.jsx("div",{className:"absolute inset-0 flex",children:[...Array(10)].map((p,f)=>v.jsx("div",{className:"h-full flex-1 mx-px",style:{backgroundColor:f*10<c?d:"transparent",opacity:f*10<c?1-f*.07:.1}},"health-bar-"+f))})})]}),v.jsx("div",{className:"flex flex-col items-end",children:v.jsxs("div",{className:"flex items-center mb-1",children:[v.jsx("span",{className:"text-sm font-mono mr-1",children:u}),v.jsx("span",{className:"text-xs font-mono px-1 border",style:{backgroundColor:je(d,.2),color:d,borderColor:je(d,.4)},children:"PTS"})]})}),v.jsx(zm,{onClose:e,text:"STATS",icon:v.jsx(K5,{color:d}),color:d,className:"relative h-12 ml-1 focus:outline-none active:opacity-80 transition-opacity duration-100",ariaLabel:"Toggle tank stats"})]})]})}Y5.propTypes={onToggleStats:X.func.isRequired,username:X.string.isRequired,tankType:X.string.isRequired,health:X.number.isRequired,score:X.number,tankColor:X.string};function X5({countdown:e}){return e===null?null:v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("h2",{className:"text-4xl font-bold text-red-500",children:"Tank Destroyed!"}),v.jsx("div",{className:"text-7xl font-bold text-white",children:e}),v.jsx("p",{className:"text-xl text-gray-300",children:"Respawning in seconds..."})]})})}X5.propTypes={countdown:X.number};function Mw(e=1,t=.5,r=2){const[o,u]=ee.useState(e),d=ee.useRef(null),c=ee.useRef(null),h=x=>{if(x.touches.length===2){const m=x.touches[0],w=x.touches[1],S=Math.hypot(w.clientX-m.clientX,w.clientY-m.clientY);c.current=S}},p=x=>{if(x.touches.length===2){const m=x.touches[0],w=x.touches[1],S=Math.hypot(w.clientX-m.clientX,w.clientY-m.clientY);if(c.current){const _=S/c.current,R=Math.min(Math.max(o*_,t),r);u(R)}c.current=S}},f=()=>{c.current=null};return ee.useEffect(()=>{const x=d.current;if(x)return x.addEventListener("touchstart",h),x.addEventListener("touchmove",p),x.addEventListener("touchend",f),()=>{x.removeEventListener("touchstart",h),x.removeEventListener("touchmove",p),x.removeEventListener("touchend",f)}},[o]),{scale:o,setScale:u,containerRef:d}}function Q5({point:e,tankColor:t,onUpgrade:r,upgradeEffect:o}){const{x:u,y:d,label:c,value:h,upgradable:p}=e,f=100,x=40,m=u>0,w=u+(m?10:-110),S=parseInt(h),_=isNaN(S)?0:S/10*90;return v.jsxs("g",{children:[v.jsx("line",{x1:"0",y1:"0",x2:u,y2:d,stroke:je(t,.5),strokeWidth:"1",strokeDasharray:"4,4"}),v.jsx("circle",{cx:u,cy:d,r:"3",fill:t}),o&&v.jsx(v.Fragment,{children:v.jsxs("circle",{cx:u,cy:d,r:"10",fill:"none",stroke:t,strokeWidth:"1",opacity:"0.7",style:{animation:"pulse 1s ease-out"},children:[v.jsx("animate",{attributeName:"r",from:"3",to:"15",dur:"0.8s",begin:"0s",repeatCount:"1"}),v.jsx("animate",{attributeName:"opacity",from:"0.7",to:"0",dur:"0.8s",begin:"0s",repeatCount:"1"})]})}),v.jsx("rect",{x:w,y:d-20,width:f,height:x,fill:"rgba(0,0,0,0.7)",stroke:je(t,.5),strokeWidth:"1",rx:"2"}),p&&v.jsx("rect",{x:w,y:d-20,width:f,height:"2",fill:t,opacity:"0.8"}),v.jsx("text",{x:w+5,y:d-5,fill:je(t,.7),fontSize:"10",fontFamily:"monospace",children:c}),v.jsx("text",{x:w+5,y:d+10,fill:t,fontSize:"12",fontFamily:"monospace",fontWeight:"bold",children:h}),h.includes("/")&&v.jsxs("g",{children:[v.jsx("rect",{x:w+5,y:d+15,width:"90",height:"3",fill:"rgba(80,80,80,0.5)",rx:"1"}),v.jsx("rect",{x:w+5,y:d+15,width:_,height:"3",fill:t,rx:"1",style:{transition:"width 0.3s ease-out"}}),o&&v.jsx("rect",{x:w+5+_-10,y:d+15,width:"10",height:"3",fill:je(t,.9),rx:"1",children:v.jsx("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.8s",begin:"0s",repeatCount:"1"})})]}),p&&r&&v.jsxs("g",{onClick:r,style:{cursor:"pointer",pointerEvents:"all"},className:"upgrade-button",children:[v.jsx("rect",{x:w+f-20,y:d-20,width:"20",height:"20",fill:"rgba(0,0,0,0.8)",stroke:t,strokeWidth:"1"}),v.jsx("line",{x1:w+f-15,y1:d-10,x2:w+f-5,y2:d-10,stroke:t,strokeWidth:"1.5"}),v.jsx("line",{x1:w+f-10,y1:d-15,x2:w+f-10,y2:d-5,stroke:t,strokeWidth:"1.5"})]})]})}Q5.propTypes={point:X.shape({x:X.number.isRequired,y:X.number.isRequired,label:X.string.isRequired,value:X.string.isRequired,statKey:X.string,upgradable:X.bool}).isRequired,tankColor:X.string.isRequired,onUpgrade:X.func,upgradeEffect:X.bool};function Z5({points:e,tankColor:t,scale:r,onUpgrade:o,upgradeEffect:u}){return v.jsx("svg",{width:"600",height:"600",viewBox:"-300 -300 600 600",className:"absolute",style:{pointerEvents:"none",transform:`scale(${r})`},children:e.map((d,c)=>v.jsx(Q5,{point:d,tankColor:t,onUpgrade:d.statKey?()=>o(d.statKey):null,upgradeEffect:u===d.statKey},"schema-point-"+c))})}Z5.propTypes={points:X.arrayOf(X.shape({x:X.number.isRequired,y:X.number.isRequired,label:X.string.isRequired,value:X.string.isRequired,statKey:X.string,upgradable:X.bool})).isRequired,tankColor:X.string.isRequired,scale:X.number.isRequired,onUpgrade:X.func.isRequired,upgradeEffect:X.string};var Wf={exports:{}},Qc={},xp={},wp={},W1;function Et(){return W1||(W1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof P1<"u"?P1:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.2.3",isBrowser:r(),isUnminified:/param/.test((function(u){}).toString()),dblClickWindow:400,getAngle(u){return e.Konva.angleDeg?u*t:u},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(u){e.glob.Konva=u}};const o=u=>{e.Konva[u.prototype.getClassName()]=u};e._registerNode=o,e.Konva._injectGlobal(e.Konva)}(wp)),wp}var Sp={},q1;function Mn(){return q1||(q1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Et();class r{constructor(N=[1,0,0,1,0,0]){this.dirty=!1,this.m=N&&N.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(N){N.m[0]=this.m[0],N.m[1]=this.m[1],N.m[2]=this.m[2],N.m[3]=this.m[3],N.m[4]=this.m[4],N.m[5]=this.m[5]}point(N){var j=this.m;return{x:j[0]*N.x+j[2]*N.y+j[4],y:j[1]*N.x+j[3]*N.y+j[5]}}translate(N,j){return this.m[4]+=this.m[0]*N+this.m[2]*j,this.m[5]+=this.m[1]*N+this.m[3]*j,this}scale(N,j){return this.m[0]*=N,this.m[1]*=N,this.m[2]*=j,this.m[3]*=j,this}rotate(N){var j=Math.cos(N),$=Math.sin(N),B=this.m[0]*j+this.m[2]*$,L=this.m[1]*j+this.m[3]*$,H=this.m[0]*-$+this.m[2]*j,U=this.m[1]*-$+this.m[3]*j;return this.m[0]=B,this.m[1]=L,this.m[2]=H,this.m[3]=U,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(N,j){var $=this.m[0]+this.m[2]*j,B=this.m[1]+this.m[3]*j,L=this.m[2]+this.m[0]*N,H=this.m[3]+this.m[1]*N;return this.m[0]=$,this.m[1]=B,this.m[2]=L,this.m[3]=H,this}multiply(N){var j=this.m[0]*N.m[0]+this.m[2]*N.m[1],$=this.m[1]*N.m[0]+this.m[3]*N.m[1],B=this.m[0]*N.m[2]+this.m[2]*N.m[3],L=this.m[1]*N.m[2]+this.m[3]*N.m[3],H=this.m[0]*N.m[4]+this.m[2]*N.m[5]+this.m[4],U=this.m[1]*N.m[4]+this.m[3]*N.m[5]+this.m[5];return this.m[0]=j,this.m[1]=$,this.m[2]=B,this.m[3]=L,this.m[4]=H,this.m[5]=U,this}invert(){var N=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),j=this.m[3]*N,$=-this.m[1]*N,B=-this.m[2]*N,L=this.m[0]*N,H=N*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),U=N*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=j,this.m[1]=$,this.m[2]=B,this.m[3]=L,this.m[4]=H,this.m[5]=U,this}getMatrix(){return this.m}decompose(){var N=this.m[0],j=this.m[1],$=this.m[2],B=this.m[3],L=this.m[4],H=this.m[5],U=N*B-j*$;let G={x:L,y:H,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(N!=0||j!=0){var te=Math.sqrt(N*N+j*j);G.rotation=j>0?Math.acos(N/te):-Math.acos(N/te),G.scaleX=te,G.scaleY=U/te,G.skewX=(N*$+j*B)/U,G.skewY=0}else if($!=0||B!=0){var O=Math.sqrt($*$+B*B);G.rotation=Math.PI/2-(B>0?Math.acos(-$/O):-Math.acos($/O)),G.scaleX=U/O,G.scaleY=O,G.skewX=0,G.skewY=(N*$+j*B)/U}return G.rotation=e.Util._getRotation(G.rotation),G}}e.Transform=r;var o="[object Array]",u="[object Number]",d="[object String]",c="[object Boolean]",h=Math.PI/180,p=180/Math.PI,f="#",x="",m="0",w="Konva warning: ",S="Konva error: ",_="rgb(",R={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,A=[];const k=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};e.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===o},_isNumber(C){return Object.prototype.toString.call(C)===u&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===d},_isBoolean(C){return Object.prototype.toString.call(C)===c},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;var N=C[0];return N==="#"||N==="."||N===N.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){A.push(C),A.length===1&&k(function(){const N=A;A=[],N.forEach(function(j){j()})})},createCanvasElement(){var C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,N){var j=e.Util.createImageElement();j.onload=function(){N(j)},j.src=C},_rgbToHex(C,N,j){return((1<<24)+(C<<16)+(N<<8)+j).toString(16).slice(1)},_hexToRgb(C){C=C.replace(f,x);var N=parseInt(C,16);return{r:N>>16&255,g:N>>8&255,b:N&255}},getRandomColor(){for(var C=(Math.random()*16777215<<0).toString(16);C.length<6;)C=m+C;return f+C},getRGB(C){var N;return C in R?(N=R[C],{r:N[0],g:N[1],b:N[2]}):C[0]===f?this._hexToRgb(C.substring(1)):C.substr(0,4)===_?(N=E.exec(C.replace(/ /g,"")),{r:parseInt(N[1],10),g:parseInt(N[2],10),b:parseInt(N[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",e.Util._namedColorToRBA(C)||e.Util._hex3ColorToRGBA(C)||e.Util._hex4ColorToRGBA(C)||e.Util._hex6ColorToRGBA(C)||e.Util._hex8ColorToRGBA(C)||e.Util._rgbColorToRGBA(C)||e.Util._rgbaColorToRGBA(C)||e.Util._hslColorToRGBA(C)},_namedColorToRBA(C){var N=R[C.toLowerCase()];return N?{r:N[0],g:N[1],b:N[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];var N=C.split(/ *, */).map(Number);return{r:N[0],g:N[1],b:N[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];var N=C.split(/ *, */).map((j,$)=>j.slice(-1)==="%"?$===3?parseInt(j)/100:parseInt(j)/100*255:Number(j));return{r:N[0],g:N[1],b:N[2],a:N[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[N,...j]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),$=Number(j[0])/360,B=Number(j[1])/100,L=Number(j[2])/100;let H,U,G;if(B===0)return G=L*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};L<.5?H=L*(1+B):H=L+B-L*B;const te=2*L-H,O=[0,0,0];for(let V=0;V<3;V++)U=$+1/3*-(V-1),U<0&&U++,U>1&&U--,6*U<1?G=te+(H-te)*6*U:2*U<1?G=H:3*U<2?G=te+(H-te)*(2/3-U)*6:G=te,O[V]=G*255;return{r:Math.round(O[0]),g:Math.round(O[1]),b:Math.round(O[2]),a:1}}},haveIntersection(C,N){return!(N.x>C.x+C.width||N.x+N.width<C.x||N.y>C.y+C.height||N.y+N.height<C.y)},cloneObject(C){var N={};for(var j in C)this._isPlainObject(C[j])?N[j]=this.cloneObject(C[j]):this._isArray(C[j])?N[j]=this.cloneArray(C[j]):N[j]=C[j];return N},cloneArray(C){return C.slice(0)},degToRad(C){return C*h},radToDeg(C){return C*p},_degToRad(C){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(C)},_radToDeg(C){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(C)},_getRotation(C){return t.Konva.angleDeg?e.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(S+C)},error(C){console.error(S+C)},warn(C){t.Konva.showWarnings&&console.warn(w+C)},each(C,N){for(var j in C)N(j,C[j])},_inRange(C,N,j){return N<=C&&C<j},_getProjectionToSegment(C,N,j,$,B,L){var H,U,G,te=(C-j)*(C-j)+(N-$)*(N-$);if(te==0)H=C,U=N,G=(B-j)*(B-j)+(L-$)*(L-$);else{var O=((B-C)*(j-C)+(L-N)*($-N))/te;O<0?(H=C,U=N,G=(C-B)*(C-B)+(N-L)*(N-L)):O>1?(H=j,U=$,G=(j-B)*(j-B)+($-L)*($-L)):(H=C+O*(j-C),U=N+O*($-N),G=(H-B)*(H-B)+(U-L)*(U-L))}return[H,U,G]},_getProjectionToLine(C,N,j){var $=e.Util.cloneObject(C),B=Number.MAX_VALUE;return N.forEach(function(L,H){if(!(!j&&H===N.length-1)){var U=N[(H+1)%N.length],G=e.Util._getProjectionToSegment(L.x,L.y,U.x,U.y,C.x,C.y),te=G[0],O=G[1],V=G[2];V<B&&($.x=te,$.y=O,B=V)}}),$},_prepareArrayForTween(C,N,j){var $,B=[],L=[];if(C.length>N.length){var H=N;N=C,C=H}for($=0;$<C.length;$+=2)B.push({x:C[$],y:C[$+1]});for($=0;$<N.length;$+=2)L.push({x:N[$],y:N[$+1]});var U=[];return L.forEach(function(G){var te=e.Util._getProjectionToLine(G,B,j);U.push(te.x),U.push(te.y)}),U},_prepareToStringify(C){var N;C.visitedByCircularReferenceRemoval=!0;for(var j in C)if(C.hasOwnProperty(j)&&C[j]&&typeof C[j]=="object"){if(N=Object.getOwnPropertyDescriptor(C,j),C[j].visitedByCircularReferenceRemoval||e.Util._isElement(C[j]))if(N.configurable)delete C[j];else return null;else if(e.Util._prepareToStringify(C[j])===null)if(N.configurable)delete C[j];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,N){for(var j in N)C[j]=N[j];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){t.Konva.releaseCanvasOnDestroy&&C.forEach(N=>{N.width=0,N.height=0})},drawRoundedRectPath(C,N,j,$){let B=0,L=0,H=0,U=0;typeof $=="number"?B=L=H=U=Math.min($,N/2,j/2):(B=Math.min($[0]||0,N/2,j/2),L=Math.min($[1]||0,N/2,j/2),U=Math.min($[2]||0,N/2,j/2),H=Math.min($[3]||0,N/2,j/2)),C.moveTo(B,0),C.lineTo(N-L,0),C.arc(N-L,L,L,Math.PI*3/2,0,!1),C.lineTo(N,j-U),C.arc(N-U,j-U,U,0,Math.PI/2,!1),C.lineTo(H,j),C.arc(H,j-H,H,Math.PI/2,Math.PI,!1),C.lineTo(0,B),C.arc(B,B,B,Math.PI,Math.PI*3/2,!1)}}}(Sp)),Sp}var Zc={},_p={},dn={},H1;function Mt(){if(H1)return dn;H1=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.getComponentValidator=dn.getBooleanValidator=dn.getNumberArrayValidator=dn.getFunctionValidator=dn.getStringOrGradientValidator=dn.getStringValidator=dn.getNumberOrAutoValidator=dn.getNumberOrArrayOfNumbersValidator=dn.getNumberValidator=dn.alphaComponent=dn.RGBComponent=void 0;const e=Et(),t=Mn();function r(_){return t.Util._isString(_)?'"'+_+'"':Object.prototype.toString.call(_)==="[object Number]"||t.Util._isBoolean(_)?_:Object.prototype.toString.call(_)}function o(_){return _>255?255:_<0?0:Math.round(_)}dn.RGBComponent=o;function u(_){return _>1?1:_<1e-4?1e-4:_}dn.alphaComponent=u;function d(){if(e.Konva.isUnminified)return function(_,R){return t.Util._isNumber(_)||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a number.'),_}}dn.getNumberValidator=d;function c(_){if(e.Konva.isUnminified)return function(R,E){let A=t.Util._isNumber(R),k=t.Util._isArray(R)&&R.length==_;return!A&&!k&&t.Util.warn(r(R)+' is a not valid value for "'+E+'" attribute. The value should be a number or Array<number>('+_+")"),R}}dn.getNumberOrArrayOfNumbersValidator=c;function h(){if(e.Konva.isUnminified)return function(_,R){var E=t.Util._isNumber(_),A=_==="auto";return E||A||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a number or "auto".'),_}}dn.getNumberOrAutoValidator=h;function p(){if(e.Konva.isUnminified)return function(_,R){return t.Util._isString(_)||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a string.'),_}}dn.getStringValidator=p;function f(){if(e.Konva.isUnminified)return function(_,R){const E=t.Util._isString(_),A=Object.prototype.toString.call(_)==="[object CanvasGradient]"||_&&_.addColorStop;return E||A||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a string or a native gradient.'),_}}dn.getStringOrGradientValidator=f;function x(){if(e.Konva.isUnminified)return function(_,R){return t.Util._isFunction(_)||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a function.'),_}}dn.getFunctionValidator=x;function m(){if(e.Konva.isUnminified)return function(_,R){const E=Int8Array?Object.getPrototypeOf(Int8Array):null;return E&&_ instanceof E||(t.Util._isArray(_)?_.forEach(function(A){t.Util._isNumber(A)||t.Util.warn('"'+R+'" attribute has non numeric element '+A+". Make sure that all elements are numbers.")}):t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a array of numbers.')),_}}dn.getNumberArrayValidator=m;function w(){if(e.Konva.isUnminified)return function(_,R){var E=_===!0||_===!1;return E||t.Util.warn(r(_)+' is a not valid value for "'+R+'" attribute. The value should be a boolean.'),_}}dn.getBooleanValidator=w;function S(_){if(e.Konva.isUnminified)return function(R,E){return R==null||t.Util.isObject(R)||t.Util.warn(r(R)+' is a not valid value for "'+E+'" attribute. The value should be an object with properties '+_),R}}return dn.getComponentValidator=S,dn}var K1;function kt(){return K1||(K1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Mn(),r=Mt();var o="get",u="set";e.Factory={addGetterSetter(d,c,h,p,f){e.Factory.addGetter(d,c,h),e.Factory.addSetter(d,c,p,f),e.Factory.addOverloadedGetterSetter(d,c)},addGetter(d,c,h){var p=o+t.Util._capitalize(c);d.prototype[p]=d.prototype[p]||function(){var f=this.attrs[c];return f===void 0?h:f}},addSetter(d,c,h,p){var f=u+t.Util._capitalize(c);d.prototype[f]||e.Factory.overWriteSetter(d,c,h,p)},overWriteSetter(d,c,h,p){var f=u+t.Util._capitalize(c);d.prototype[f]=function(x){return h&&x!==void 0&&x!==null&&(x=h.call(this,x,c)),this._setAttr(c,x),p&&p.call(this),this}},addComponentsGetterSetter(d,c,h,p,f){var x=h.length,m=t.Util._capitalize,w=o+m(c),S=u+m(c),_,R;d.prototype[w]=function(){var A={};for(_=0;_<x;_++)R=h[_],A[R]=this.getAttr(c+m(R));return A};var E=(0,r.getComponentValidator)(h);d.prototype[S]=function(A){var k=this.attrs[c],C;p&&(A=p.call(this,A)),E&&E.call(this,A,c);for(C in A)A.hasOwnProperty(C)&&this._setAttr(c+m(C),A[C]);return A||h.forEach(N=>{this._setAttr(c+m(N),void 0)}),this._fireChangeEvent(c,k,A),f&&f.call(this),this},e.Factory.addOverloadedGetterSetter(d,c)},addOverloadedGetterSetter(d,c){var h=t.Util._capitalize(c),p=u+h,f=o+h;d.prototype[c]=function(){return arguments.length?(this[p](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(d,c,h,p){t.Util.error("Adding deprecated "+c);var f=o+t.Util._capitalize(c),x=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";d.prototype[f]=function(){t.Util.error(x);var m=this.attrs[c];return m===void 0?h:m},e.Factory.addSetter(d,c,p,function(){t.Util.error(x)}),e.Factory.addOverloadedGetterSetter(d,c)},backCompat(d,c){t.Util.each(c,function(h,p){var f=d.prototype[p],x=o+t.Util._capitalize(h),m=u+t.Util._capitalize(h);function w(){f.apply(this,arguments),t.Util.error('"'+h+'" method is deprecated and will be removed soon. Use ""'+p+'" instead.')}d.prototype[h]=w,d.prototype[x]=w,d.prototype[m]=w})},afterSetFilter(){this._filterUpToDate=!1}}}(_p)),_p}var No={},Ao={},Y1;function J5(){if(Y1)return Ao;Y1=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.HitContext=Ao.SceneContext=Ao.Context=void 0;const e=Mn(),t=Et();function r(A){var k=[],C=A.length,N=e.Util,j,$;for(j=0;j<C;j++)$=A[j],N._isNumber($)?$=Math.round($*1e3)/1e3:N._isString($)||($=$+""),k.push($);return k}var o=",",u="(",d=")",c="([",h="])",p=";",f="()",x="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],w=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const S=100;let _=class{constructor(k){this.canvas=k,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(k){k.fillEnabled()&&this._fill(k)}_fill(k){}strokeShape(k){k.hasStroke()&&this._stroke(k)}_stroke(k){}fillStrokeShape(k){k.attrs.fillAfterStrokeEnabled?(this.strokeShape(k),this.fillShape(k)):(this.fillShape(k),this.strokeShape(k))}getTrace(k,C){var N=this.traceArr,j=N.length,$="",B,L,H,U;for(B=0;B<j;B++)L=N[B],H=L.method,H?(U=L.args,$+=H,k?$+=f:e.Util._isArray(U[0])?$+=c+U.join(o)+h:(C&&(U=U.map(G=>typeof G=="number"?Math.floor(G):G)),$+=u+U.join(o)+d)):($+=L.property,k||($+=x+L.val)),$+=p;return $}clearTrace(){this.traceArr=[]}_trace(k){var C=this.traceArr,N;C.push(k),N=C.length,N>=S&&C.shift()}reset(){var k=this.getCanvas().getPixelRatio();this.setTransform(1*k,0,0,1*k,0,0)}getCanvas(){return this.canvas}clear(k){var C=this.getCanvas();k?this.clearRect(k.x||0,k.y||0,k.width||0,k.height||0):this.clearRect(0,0,C.getWidth()/C.pixelRatio,C.getHeight()/C.pixelRatio)}_applyLineCap(k){const C=k.attrs.lineCap;C&&this.setAttr("lineCap",C)}_applyOpacity(k){var C=k.getAbsoluteOpacity();C!==1&&this.setAttr("globalAlpha",C)}_applyLineJoin(k){const C=k.attrs.lineJoin;C&&this.setAttr("lineJoin",C)}setAttr(k,C){this._context[k]=C}arc(k,C,N,j,$,B){this._context.arc(k,C,N,j,$,B)}arcTo(k,C,N,j,$){this._context.arcTo(k,C,N,j,$)}beginPath(){this._context.beginPath()}bezierCurveTo(k,C,N,j,$,B){this._context.bezierCurveTo(k,C,N,j,$,B)}clearRect(k,C,N,j){this._context.clearRect(k,C,N,j)}clip(...k){this._context.clip.apply(this._context,k)}closePath(){this._context.closePath()}createImageData(k,C){var N=arguments;if(N.length===2)return this._context.createImageData(k,C);if(N.length===1)return this._context.createImageData(k)}createLinearGradient(k,C,N,j){return this._context.createLinearGradient(k,C,N,j)}createPattern(k,C){return this._context.createPattern(k,C)}createRadialGradient(k,C,N,j,$,B){return this._context.createRadialGradient(k,C,N,j,$,B)}drawImage(k,C,N,j,$,B,L,H,U){var G=arguments,te=this._context;G.length===3?te.drawImage(k,C,N):G.length===5?te.drawImage(k,C,N,j,$):G.length===9&&te.drawImage(k,C,N,j,$,B,L,H,U)}ellipse(k,C,N,j,$,B,L,H){this._context.ellipse(k,C,N,j,$,B,L,H)}isPointInPath(k,C,N,j){return N?this._context.isPointInPath(N,k,C,j):this._context.isPointInPath(k,C,j)}fill(...k){this._context.fill.apply(this._context,k)}fillRect(k,C,N,j){this._context.fillRect(k,C,N,j)}strokeRect(k,C,N,j){this._context.strokeRect(k,C,N,j)}fillText(k,C,N,j){j?this._context.fillText(k,C,N,j):this._context.fillText(k,C,N)}measureText(k){return this._context.measureText(k)}getImageData(k,C,N,j){return this._context.getImageData(k,C,N,j)}lineTo(k,C){this._context.lineTo(k,C)}moveTo(k,C){this._context.moveTo(k,C)}rect(k,C,N,j){this._context.rect(k,C,N,j)}putImageData(k,C,N){this._context.putImageData(k,C,N)}quadraticCurveTo(k,C,N,j){this._context.quadraticCurveTo(k,C,N,j)}restore(){this._context.restore()}rotate(k){this._context.rotate(k)}save(){this._context.save()}scale(k,C){this._context.scale(k,C)}setLineDash(k){this._context.setLineDash?this._context.setLineDash(k):"mozDash"in this._context?this._context.mozDash=k:"webkitLineDash"in this._context&&(this._context.webkitLineDash=k)}getLineDash(){return this._context.getLineDash()}setTransform(k,C,N,j,$,B){this._context.setTransform(k,C,N,j,$,B)}stroke(k){k?this._context.stroke(k):this._context.stroke()}strokeText(k,C,N,j){this._context.strokeText(k,C,N,j)}transform(k,C,N,j,$,B){this._context.transform(k,C,N,j,$,B)}translate(k,C){this._context.translate(k,C)}_enableTrace(){var k=this,C=m.length,N=this.setAttr,j,$,B=function(L){var H=k[L],U;k[L]=function(){return $=r(Array.prototype.slice.call(arguments,0)),U=H.apply(k,arguments),k._trace({method:L,args:$}),U}};for(j=0;j<C;j++)B(m[j]);k.setAttr=function(){N.apply(k,arguments);var L=arguments[0],H=arguments[1];(L==="shadowOffsetX"||L==="shadowOffsetY"||L==="shadowBlur")&&(H=H/this.canvas.getPixelRatio()),k._trace({property:L,val:H})}}_applyGlobalCompositeOperation(k){const C=k.attrs.globalCompositeOperation;var N=!C||C==="source-over";N||this.setAttr("globalCompositeOperation",C)}};Ao.Context=_,w.forEach(function(A){Object.defineProperty(_.prototype,A,{get(){return this._context[A]},set(k){this._context[A]=k}})});class R extends _{constructor(k,{willReadFrequently:C=!1}={}){super(k),this._context=k._canvas.getContext("2d",{willReadFrequently:C})}_fillColor(k){var C=k.fill();this.setAttr("fillStyle",C),k._fillFunc(this)}_fillPattern(k){this.setAttr("fillStyle",k._getFillPattern()),k._fillFunc(this)}_fillLinearGradient(k){var C=k._getLinearGradient();C&&(this.setAttr("fillStyle",C),k._fillFunc(this))}_fillRadialGradient(k){const C=k._getRadialGradient();C&&(this.setAttr("fillStyle",C),k._fillFunc(this))}_fill(k){const C=k.fill(),N=k.getFillPriority();if(C&&N==="color"){this._fillColor(k);return}const j=k.getFillPatternImage();if(j&&N==="pattern"){this._fillPattern(k);return}const $=k.getFillLinearGradientColorStops();if($&&N==="linear-gradient"){this._fillLinearGradient(k);return}const B=k.getFillRadialGradientColorStops();if(B&&N==="radial-gradient"){this._fillRadialGradient(k);return}C?this._fillColor(k):j?this._fillPattern(k):$?this._fillLinearGradient(k):B&&this._fillRadialGradient(k)}_strokeLinearGradient(k){const C=k.getStrokeLinearGradientStartPoint(),N=k.getStrokeLinearGradientEndPoint(),j=k.getStrokeLinearGradientColorStops(),$=this.createLinearGradient(C.x,C.y,N.x,N.y);if(j){for(var B=0;B<j.length;B+=2)$.addColorStop(j[B],j[B+1]);this.setAttr("strokeStyle",$)}}_stroke(k){var C=k.dash(),N=k.getStrokeScaleEnabled();if(k.hasStroke()){if(!N){this.save();var j=this.getCanvas().getPixelRatio();this.setTransform(j,0,0,j,0,0)}this._applyLineCap(k),C&&k.dashEnabled()&&(this.setLineDash(C),this.setAttr("lineDashOffset",k.dashOffset())),this.setAttr("lineWidth",k.strokeWidth()),k.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var $=k.getStrokeLinearGradientColorStops();$?this._strokeLinearGradient(k):this.setAttr("strokeStyle",k.stroke()),k._strokeFunc(this),N||this.restore()}}_applyShadow(k){var C,N,j,$=(C=k.getShadowRGBA())!==null&&C!==void 0?C:"black",B=(N=k.getShadowBlur())!==null&&N!==void 0?N:5,L=(j=k.getShadowOffset())!==null&&j!==void 0?j:{x:0,y:0},H=k.getAbsoluteScale(),U=this.canvas.getPixelRatio(),G=H.x*U,te=H.y*U;this.setAttr("shadowColor",$),this.setAttr("shadowBlur",B*Math.min(Math.abs(G),Math.abs(te))),this.setAttr("shadowOffsetX",L.x*G),this.setAttr("shadowOffsetY",L.y*te)}}Ao.SceneContext=R;class E extends _{constructor(k){super(k),this._context=k._canvas.getContext("2d",{willReadFrequently:!0})}_fill(k){this.save(),this.setAttr("fillStyle",k.colorKey),k._fillFuncHit(this),this.restore()}strokeShape(k){k.hasHitStroke()&&this._stroke(k)}_stroke(k){if(k.hasHitStroke()){const $=k.getStrokeScaleEnabled();if(!$){this.save();var C=this.getCanvas().getPixelRatio();this.setTransform(C,0,0,C,0,0)}this._applyLineCap(k);var N=k.hitStrokeWidth(),j=N==="auto"?k.strokeWidth():N;this.setAttr("lineWidth",j),this.setAttr("strokeStyle",k.colorKey),k._strokeFuncHit(this),$||this.restore()}}}return Ao.HitContext=E,Ao}var X1;function g0(){if(X1)return No;X1=1,Object.defineProperty(No,"__esModule",{value:!0}),No.HitCanvas=No.SceneCanvas=No.Canvas=void 0;const e=Mn(),t=J5(),r=Et(),o=kt(),u=Mt();var d;function c(){if(d)return d;var x=e.Util.createCanvasElement(),m=x.getContext("2d");return d=function(){var w=r.Konva._global.devicePixelRatio||1,S=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return w/S}(),e.Util.releaseCanvas(x),d}let h=class{constructor(m){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var w=m||{},S=w.pixelRatio||r.Konva.pixelRatio||c();this.pixelRatio=S,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(m){var w=this.pixelRatio;this.pixelRatio=m,this.setSize(this.getWidth()/w,this.getHeight()/w)}setWidth(m){this.width=this._canvas.width=m*this.pixelRatio,this._canvas.style.width=m+"px";var w=this.pixelRatio,S=this.getContext()._context;S.scale(w,w)}setHeight(m){this.height=this._canvas.height=m*this.pixelRatio,this._canvas.style.height=m+"px";var w=this.pixelRatio,S=this.getContext()._context;S.scale(w,w)}getWidth(){return this.width}getHeight(){return this.height}setSize(m,w){this.setWidth(m||0),this.setHeight(w||0)}toDataURL(m,w){try{return this._canvas.toDataURL(m,w)}catch{try{return this._canvas.toDataURL()}catch(_){return e.Util.error("Unable to get data URL. "+_.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};No.Canvas=h,o.Factory.addGetterSetter(h,"pixelRatio",void 0,(0,u.getNumberValidator)());class p extends h{constructor(m={width:0,height:0,willReadFrequently:!1}){super(m),this.context=new t.SceneContext(this,{willReadFrequently:m.willReadFrequently}),this.setSize(m.width,m.height)}}No.SceneCanvas=p;class f extends h{constructor(m={width:0,height:0}){super(m),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(m.width,m.height)}}return No.HitCanvas=f,No}var Cp={},Q1;function Um(){return Q1||(Q1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Et(),r=Mn();e.DD={get isDragging(){var o=!1;return e.DD._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(o=!0)}),o},justDragged:!1,get node(){var o;return e.DD._dragElements.forEach(u=>{o=u.node}),o},_dragElements:new Map,_drag(o){const u=[];e.DD._dragElements.forEach((d,c)=>{const{node:h}=d,p=h.getStage();p.setPointersPositions(o),d.pointerId===void 0&&(d.pointerId=r.Util._getFirstPointerId(o));const f=p._changedPointerPositions.find(w=>w.id===d.pointerId);if(f){if(d.dragStatus!=="dragging"){var x=h.dragDistance(),m=Math.max(Math.abs(f.x-d.startPointerPos.x),Math.abs(f.y-d.startPointerPos.y));if(m<x||(h.startDrag({evt:o}),!h.isDragging()))return}h._setDragPosition(o,d),u.push(h)}}),u.forEach(d=>{d.fire("dragmove",{type:"dragmove",target:d,evt:o},!0)})},_endDragBefore(o){const u=[];e.DD._dragElements.forEach(d=>{const{node:c}=d,h=c.getStage();if(o&&h.setPointersPositions(o),!h._changedPointerPositions.find(x=>x.id===d.pointerId))return;(d.dragStatus==="dragging"||d.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,d.dragStatus="stopped");const f=d.node.getLayer()||d.node instanceof t.Konva.Stage&&d.node;f&&u.indexOf(f)===-1&&u.push(f)}),u.forEach(d=>{d.draw()})},_endDragAfter(o){e.DD._dragElements.forEach((u,d)=>{u.dragStatus==="stopped"&&u.node.fire("dragend",{type:"dragend",target:u.node,evt:o},!0),u.dragStatus!=="dragging"&&e.DD._dragElements.delete(d)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))}(Cp)),Cp}var Z1;function Fn(){if(Z1)return Zc;Z1=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.Node=void 0;const e=Mn(),t=kt(),r=g0(),o=Et(),u=Um(),d=Mt();var c="absoluteOpacity",h="allEventListeners",p="absoluteTransform",f="absoluteScale",x="canvas",m="Change",w="children",S="konva",_="listening",R="mouseenter",E="mouseleave",A="set",k="Shape",C=" ",N="stage",j="transform",$="Stage",B="visible",L=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(C);let H=1,U=class im{constructor(O){this._id=H++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(O),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(O){(O===j||O===p)&&this._cache.get(O)?this._cache.get(O).dirty=!0:O?this._cache.delete(O):this._cache.clear()}_getCache(O,V){var q=this._cache.get(O),J=O===j||O===p,Z=q===void 0||J&&q.dirty===!0;return Z&&(q=V.call(this),this._cache.set(O,q)),q}_calculate(O,V,q){if(!this._attachedDepsListeners.get(O)){const J=V.map(Z=>Z+"Change.konva").join(C);this.on(J,()=>{this._clearCache(O)}),this._attachedDepsListeners.set(O,!0)}return this._getCache(O,q)}_getCanvasCache(){return this._cache.get(x)}_clearSelfAndDescendantCache(O){this._clearCache(O),O===p&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(x)){const{scene:O,filter:V,hit:q}=this._cache.get(x);e.Util.releaseCanvas(O,V,q),this._cache.delete(x)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(O){var V=O||{},q={};(V.x===void 0||V.y===void 0||V.width===void 0||V.height===void 0)&&(q=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var J=Math.ceil(V.width||q.width),Z=Math.ceil(V.height||q.height),re=V.pixelRatio,se=V.x===void 0?Math.floor(q.x):V.x,Y=V.y===void 0?Math.floor(q.y):V.y,le=V.offset||0,oe=V.drawBorder||!1,_e=V.hitCanvasPixelRatio||1;if(!J||!Z){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}J+=le*2+1,Z+=le*2+1,se-=le,Y-=le;var we=new r.SceneCanvas({pixelRatio:re,width:J,height:Z}),Ne=new r.SceneCanvas({pixelRatio:re,width:0,height:0,willReadFrequently:!0}),Re=new r.HitCanvas({pixelRatio:_e,width:J,height:Z}),ie=we.getContext(),fe=Re.getContext();return Re.isCache=!0,we.isCache=!0,this._cache.delete(x),this._filterUpToDate=!1,V.imageSmoothingEnabled===!1&&(we.getContext()._context.imageSmoothingEnabled=!1,Ne.getContext()._context.imageSmoothingEnabled=!1),ie.save(),fe.save(),ie.translate(-se,-Y),fe.translate(-se,-Y),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this.drawScene(we,this),this.drawHit(Re,this),this._isUnderCache=!1,ie.restore(),fe.restore(),oe&&(ie.save(),ie.beginPath(),ie.rect(0,0,J,Z),ie.closePath(),ie.setAttr("strokeStyle","red"),ie.setAttr("lineWidth",5),ie.stroke(),ie.restore()),this._cache.set(x,{scene:we,filter:Ne,hit:Re,x:se,y:Y}),this._requestDraw(),this}isCached(){return this._cache.has(x)}getClientRect(O){throw new Error('abstract "getClientRect" method call')}_transformedRect(O,V){var q=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],J=1/0,Z=1/0,re=-1/0,se=-1/0,Y=this.getAbsoluteTransform(V);return q.forEach(function(le){var oe=Y.point(le);J===void 0&&(J=re=oe.x,Z=se=oe.y),J=Math.min(J,oe.x),Z=Math.min(Z,oe.y),re=Math.max(re,oe.x),se=Math.max(se,oe.y)}),{x:J,y:Z,width:re-J,height:se-Z}}_drawCachedSceneCanvas(O){O.save(),O._applyOpacity(this),O._applyGlobalCompositeOperation(this);const V=this._getCanvasCache();O.translate(V.x,V.y);var q=this._getCachedSceneCanvas(),J=q.pixelRatio;O.drawImage(q._canvas,0,0,q.width/J,q.height/J),O.restore()}_drawCachedHitCanvas(O){var V=this._getCanvasCache(),q=V.hit;O.save(),O.translate(V.x,V.y),O.drawImage(q._canvas,0,0,q.width/q.pixelRatio,q.height/q.pixelRatio),O.restore()}_getCachedSceneCanvas(){var O=this.filters(),V=this._getCanvasCache(),q=V.scene,J=V.filter,Z=J.getContext(),re,se,Y,le;if(O){if(!this._filterUpToDate){var oe=q.pixelRatio;J.setSize(q.width/q.pixelRatio,q.height/q.pixelRatio);try{for(re=O.length,Z.clear(),Z.drawImage(q._canvas,0,0,q.getWidth()/oe,q.getHeight()/oe),se=Z.getImageData(0,0,J.getWidth(),J.getHeight()),Y=0;Y<re;Y++){if(le=O[Y],typeof le!="function"){e.Util.error("Filter should be type of function, but got "+typeof le+" instead. Please check correct filters");continue}le.call(this,se),Z.putImageData(se,0,0)}}catch(_e){e.Util.error("Unable to apply filter. "+_e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return J}return q}on(O,V){if(this._cache&&this._cache.delete(h),arguments.length===3)return this._delegate.apply(this,arguments);var q=O.split(C),J=q.length,Z,re,se,Y,le;for(Z=0;Z<J;Z++)re=q[Z],se=re.split("."),Y=se[0],le=se[1]||"",this.eventListeners[Y]||(this.eventListeners[Y]=[]),this.eventListeners[Y].push({name:le,handler:V});return this}off(O,V){var q=(O||"").split(C),J=q.length,Z,re,se,Y,le,oe;if(this._cache&&this._cache.delete(h),!O)for(re in this.eventListeners)this._off(re);for(Z=0;Z<J;Z++)if(se=q[Z],Y=se.split("."),le=Y[0],oe=Y[1],le)this.eventListeners[le]&&this._off(le,oe,V);else for(re in this.eventListeners)this._off(re,oe,V);return this}dispatchEvent(O){var V={target:this,type:O.type,evt:O};return this.fire(O.type,V),this}addEventListener(O,V){return this.on(O,function(q){V.call(this,q.evt)}),this}removeEventListener(O){return this.off(O),this}_delegate(O,V,q){var J=this;this.on(O,function(Z){for(var re=Z.target.findAncestors(V,!0,J),se=0;se<re.length;se++)Z=e.Util.cloneObject(Z),Z.currentTarget=re[se],q.call(re[se],Z)})}remove(){return this.isDragging()&&this.stopDrag(),u.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(B),this._clearSelfAndDescendantCache(_)}_remove(){this._clearCaches();var O=this.getParent();O&&O.children&&(O.children.splice(this.index,1),O._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(O){var V="get"+e.Util._capitalize(O);return e.Util._isFunction(this[V])?this[V]():this.attrs[O]}getAncestors(){for(var O=this.getParent(),V=[];O;)V.push(O),O=O.getParent();return V}getAttrs(){return this.attrs||{}}setAttrs(O){return this._batchTransformChanges(()=>{var V,q;if(!O)return this;for(V in O)V!==w&&(q=A+e.Util._capitalize(V),e.Util._isFunction(this[q])?this[q](O[V]):this._setAttr(V,O[V]))}),this}isListening(){return this._getCache(_,this._isListening)}_isListening(O){if(!this.listening())return!1;const q=this.getParent();return q&&q!==O&&this!==O?q._isListening(O):!0}isVisible(){return this._getCache(B,this._isVisible)}_isVisible(O){if(!this.visible())return!1;const q=this.getParent();return q&&q!==O&&this!==O?q._isVisible(O):!0}shouldDrawHit(O,V=!1){if(O)return this._isVisible(O)&&this._isListening(O);var q=this.getLayer(),J=!1;u.DD._dragElements.forEach(re=>{re.dragStatus==="dragging"&&(re.node.nodeType==="Stage"||re.node.getLayer()===q)&&(J=!0)});var Z=!V&&!o.Konva.hitOnDragEnabled&&J;return this.isListening()&&this.isVisible()&&!Z}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var O=this.getDepth(),V=this,q=0,J,Z,re,se;function Y(oe){for(J=[],Z=oe.length,re=0;re<Z;re++)se=oe[re],q++,se.nodeType!==k&&(J=J.concat(se.getChildren().slice())),se._id===V._id&&(re=Z);J.length>0&&J[0].getDepth()<=O&&Y(J)}const le=this.getStage();return V.nodeType!==$&&le&&Y(le.getChildren()),q}getDepth(){for(var O=0,V=this.parent;V;)O++,V=V.parent;return O}_batchTransformChanges(O){this._batchingTransformChange=!0,O(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(j),this._clearSelfAndDescendantCache(p)),this._needClearTransformCache=!1}setPosition(O){return this._batchTransformChanges(()=>{this.x(O.x),this.y(O.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const O=this.getStage();if(!O)return null;var V=O.getPointerPosition();if(!V)return null;var q=this.getAbsoluteTransform().copy();return q.invert(),q.point(V)}getAbsolutePosition(O){let V=!1,q=this.parent;for(;q;){if(q.isCached()){V=!0;break}q=q.parent}V&&!O&&(O=!0);var J=this.getAbsoluteTransform(O).getMatrix(),Z=new e.Transform,re=this.offset();return Z.m=J.slice(),Z.translate(re.x,re.y),Z.getTranslation()}setAbsolutePosition(O){const{x:V,y:q,...J}=this._clearTransform();this.attrs.x=V,this.attrs.y=q,this._clearCache(j);var Z=this._getAbsoluteTransform().copy();return Z.invert(),Z.translate(O.x,O.y),O={x:this.attrs.x+Z.getTranslation().x,y:this.attrs.y+Z.getTranslation().y},this._setTransform(J),this.setPosition({x:O.x,y:O.y}),this._clearCache(j),this._clearSelfAndDescendantCache(p),this}_setTransform(O){var V;for(V in O)this.attrs[V]=O[V]}_clearTransform(){var O={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,O}move(O){var V=O.x,q=O.y,J=this.x(),Z=this.y();return V!==void 0&&(J+=V),q!==void 0&&(Z+=q),this.setPosition({x:J,y:Z}),this}_eachAncestorReverse(O,V){var q=[],J=this.getParent(),Z,re;if(!(V&&V._id===this._id)){for(q.unshift(this);J&&(!V||J._id!==V._id);)q.unshift(J),J=J.parent;for(Z=q.length,re=0;re<Z;re++)O(q[re])}}rotate(O){return this.rotation(this.rotation()+O),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var O=this.index,V=this.parent.getChildren().length;return O<V-1?(this.parent.children.splice(O,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var O=this.index,V=this.parent.getChildren().length;return O<V-1?(this.parent.children.splice(O,1),this.parent.children.splice(O+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var O=this.index;return O>0?(this.parent.children.splice(O,1),this.parent.children.splice(O-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var O=this.index;return O>0?(this.parent.children.splice(O,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(O){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(O<0||O>=this.parent.children.length)&&e.Util.warn("Unexpected value "+O+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var V=this.index;return this.parent.children.splice(V,1),this.parent.children.splice(O,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var O=this.opacity(),V=this.getParent();return V&&!V._isUnderCache&&(O*=V.getAbsoluteOpacity()),O}moveTo(O){return this.getParent()!==O&&(this._remove(),O.add(this)),this}toObject(){var O={},V=this.getAttrs(),q,J,Z,re,se;O.attrs={};for(q in V)J=V[q],se=e.Util.isObject(J)&&!e.Util._isPlainObject(J)&&!e.Util._isArray(J),!se&&(Z=typeof this[q]=="function"&&this[q],delete V[q],re=Z?Z.call(this):null,V[q]=J,re!==J&&(O.attrs[q]=J));return O.className=this.getClassName(),e.Util._prepareToStringify(O)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(O,V,q){var J=[];V&&this._isMatch(O)&&J.push(this);for(var Z=this.parent;Z;){if(Z===q)return J;Z._isMatch(O)&&J.push(Z),Z=Z.parent}return J}isAncestorOf(O){return!1}findAncestor(O,V,q){return this.findAncestors(O,V,q)[0]}_isMatch(O){if(!O)return!1;if(typeof O=="function")return O(this);var V=O.replace(/ /g,"").split(","),q=V.length,J,Z;for(J=0;J<q;J++)if(Z=V[J],e.Util.isValidSelector(Z)||(e.Util.warn('Selector "'+Z+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),Z.charAt(0)==="#"){if(this.id()===Z.slice(1))return!0}else if(Z.charAt(0)==="."){if(this.hasName(Z.slice(1)))return!0}else if(this.className===Z||this.nodeType===Z)return!0;return!1}getLayer(){var O=this.getParent();return O?O.getLayer():null}getStage(){return this._getCache(N,this._getStage)}_getStage(){var O=this.getParent();return O?O.getStage():null}fire(O,V={},q){return V.target=V.target||this,q?this._fireAndBubble(O,V):this._fire(O,V),this}getAbsoluteTransform(O){return O?this._getAbsoluteTransform(O):this._getCache(p,this._getAbsoluteTransform)}_getAbsoluteTransform(O){var V;if(O)return V=new e.Transform,this._eachAncestorReverse(function(J){var Z=J.transformsEnabled();Z==="all"?V.multiply(J.getTransform()):Z==="position"&&V.translate(J.x()-J.offsetX(),J.y()-J.offsetY())},O),V;V=this._cache.get(p)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(V):V.reset();var q=this.transformsEnabled();if(q==="all")V.multiply(this.getTransform());else if(q==="position"){const J=this.attrs.x||0,Z=this.attrs.y||0,re=this.attrs.offsetX||0,se=this.attrs.offsetY||0;V.translate(J-re,Z-se)}return V.dirty=!1,V}getAbsoluteScale(O){for(var V=this;V;)V._isUnderCache&&(O=V),V=V.getParent();const J=this.getAbsoluteTransform(O).decompose();return{x:J.scaleX,y:J.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(j,this._getTransform)}_getTransform(){var O,V,q=this._cache.get(j)||new e.Transform;q.reset();var J=this.x(),Z=this.y(),re=o.Konva.getAngle(this.rotation()),se=(O=this.attrs.scaleX)!==null&&O!==void 0?O:1,Y=(V=this.attrs.scaleY)!==null&&V!==void 0?V:1,le=this.attrs.skewX||0,oe=this.attrs.skewY||0,_e=this.attrs.offsetX||0,we=this.attrs.offsetY||0;return(J!==0||Z!==0)&&q.translate(J,Z),re!==0&&q.rotate(re),(le!==0||oe!==0)&&q.skew(le,oe),(se!==1||Y!==1)&&q.scale(se,Y),(_e!==0||we!==0)&&q.translate(-1*_e,-1*we),q.dirty=!1,q}clone(O){var V=e.Util.cloneObject(this.attrs),q,J,Z,re,se;for(q in O)V[q]=O[q];var Y=new this.constructor(V);for(q in this.eventListeners)for(J=this.eventListeners[q],Z=J.length,re=0;re<Z;re++)se=J[re],se.name.indexOf(S)<0&&(Y.eventListeners[q]||(Y.eventListeners[q]=[]),Y.eventListeners[q].push(se));return Y}_toKonvaCanvas(O){O=O||{};var V=this.getClientRect(),q=this.getStage(),J=O.x!==void 0?O.x:Math.floor(V.x),Z=O.y!==void 0?O.y:Math.floor(V.y),re=O.pixelRatio||1,se=new r.SceneCanvas({width:O.width||Math.ceil(V.width)||(q?q.width():0),height:O.height||Math.ceil(V.height)||(q?q.height():0),pixelRatio:re}),Y=se.getContext();return O.imageSmoothingEnabled===!1&&(Y._context.imageSmoothingEnabled=!1),Y.save(),(J||Z)&&Y.translate(-1*J,-1*Z),this.drawScene(se),Y.restore(),se}toCanvas(O){return this._toKonvaCanvas(O)._canvas}toDataURL(O){O=O||{};var V=O.mimeType||null,q=O.quality||null,J=this._toKonvaCanvas(O).toDataURL(V,q);return O.callback&&O.callback(J),J}toImage(O){return new Promise((V,q)=>{try{const J=O==null?void 0:O.callback;J&&delete O.callback,e.Util._urlToImage(this.toDataURL(O),function(Z){V(Z),J==null||J(Z)})}catch(J){q(J)}})}toBlob(O){return new Promise((V,q)=>{try{const J=O==null?void 0:O.callback;J&&delete O.callback,this.toCanvas(O).toBlob(Z=>{V(Z),J==null||J(Z)})}catch(J){q(J)}})}setSize(O){return this.width(O.width),this.height(O.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance}_off(O,V,q){var J=this.eventListeners[O],Z,re,se;for(Z=0;Z<J.length;Z++)if(re=J[Z].name,se=J[Z].handler,(re!=="konva"||V==="konva")&&(!V||re===V)&&(!q||q===se)){if(J.splice(Z,1),J.length===0){delete this.eventListeners[O];break}Z--}}_fireChangeEvent(O,V,q){this._fire(O+m,{oldVal:V,newVal:q})}addName(O){if(!this.hasName(O)){var V=this.name(),q=V?V+" "+O:O;this.name(q)}return this}hasName(O){if(!O)return!1;const V=this.name();if(!V)return!1;var q=(V||"").split(/\s/g);return q.indexOf(O)!==-1}removeName(O){var V=(this.name()||"").split(/\s/g),q=V.indexOf(O);return q!==-1&&(V.splice(q,1),this.name(V.join(" "))),this}setAttr(O,V){var q=this[A+e.Util._capitalize(O)];return e.Util._isFunction(q)?q.call(this,V):this._setAttr(O,V),this}_requestDraw(){if(o.Konva.autoDrawEnabled){const O=this.getLayer()||this.getStage();O==null||O.batchDraw()}}_setAttr(O,V){var q=this.attrs[O];q===V&&!e.Util.isObject(V)||(V==null?delete this.attrs[O]:this.attrs[O]=V,this._shouldFireChangeEvents&&this._fireChangeEvent(O,q,V),this._requestDraw())}_setComponentAttr(O,V,q){var J;q!==void 0&&(J=this.attrs[O],J||(this.attrs[O]=this.getAttr(O)),this.attrs[O][V]=q,this._fireChangeEvent(O,J,q))}_fireAndBubble(O,V,q){V&&this.nodeType===k&&(V.target=this);var J=(O===R||O===E)&&(q&&(this===q||this.isAncestorOf&&this.isAncestorOf(q))||this.nodeType==="Stage"&&!q);if(!J){this._fire(O,V);var Z=(O===R||O===E)&&q&&q.isAncestorOf&&q.isAncestorOf(this)&&!q.isAncestorOf(this.parent);(V&&!V.cancelBubble||!V)&&this.parent&&this.parent.isListening()&&!Z&&(q&&q.parent?this._fireAndBubble.call(this.parent,O,V,q):this._fireAndBubble.call(this.parent,O,V))}}_getProtoListeners(O){var V,q,J;const Z=(V=this._cache.get(h))!==null&&V!==void 0?V:{};let re=Z==null?void 0:Z[O];if(re===void 0){re=[];let se=Object.getPrototypeOf(this);for(;se;){const Y=(J=(q=se.eventListeners)===null||q===void 0?void 0:q[O])!==null&&J!==void 0?J:[];re.push(...Y),se=Object.getPrototypeOf(se)}Z[O]=re,this._cache.set(h,Z)}return re}_fire(O,V){V=V||{},V.currentTarget=this,V.type=O;const q=this._getProtoListeners(O);if(q)for(var J=0;J<q.length;J++)q[J].handler.call(this,V);const Z=this.eventListeners[O];if(Z)for(var J=0;J<Z.length;J++)Z[J].handler.call(this,V)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(O){var V=O?O.pointerId:void 0,q=this.getStage(),J=this.getAbsolutePosition();if(q){var Z=q._getPointerById(V)||q._changedPointerPositions[0]||J;u.DD._dragElements.set(this._id,{node:this,startPointerPos:Z,offset:{x:Z.x-J.x,y:Z.y-J.y},dragStatus:"ready",pointerId:V})}}startDrag(O,V=!0){u.DD._dragElements.has(this._id)||this._createDragElement(O);const q=u.DD._dragElements.get(this._id);q.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:O&&O.evt},V)}_setDragPosition(O,V){const q=this.getStage()._getPointerById(V.pointerId);if(q){var J={x:q.x-V.offset.x,y:q.y-V.offset.y},Z=this.dragBoundFunc();if(Z!==void 0){const re=Z.call(this,J,O);re?J=re:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==J.x||this._lastPos.y!==J.y)&&(this.setAbsolutePosition(J),this._requestDraw()),this._lastPos=J}}stopDrag(O){const V=u.DD._dragElements.get(this._id);V&&(V.dragStatus="stopped"),u.DD._endDragBefore(O),u.DD._endDragAfter(O)}setDraggable(O){this._setAttr("draggable",O),this._dragChange()}isDragging(){const O=u.DD._dragElements.get(this._id);return O?O.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(O){var V=O.evt.button!==void 0,q=!V||o.Konva.dragButtons.indexOf(O.evt.button)>=0;if(q&&!this.isDragging()){var J=!1;u.DD._dragElements.forEach(Z=>{this.isAncestorOf(Z.node)&&(J=!0)}),J||this._createDragElement(O)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var O=this.getStage();if(!O)return;const V=u.DD._dragElements.get(this._id),q=V&&V.dragStatus==="dragging",J=V&&V.dragStatus==="ready";q?this.stopDrag():J&&u.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(O={x:0,y:0}){const V=this.getStage();if(!V)return!1;const q={x:-O.x,y:-O.y,width:V.width()+2*O.x,height:V.height()+2*O.y};return e.Util.haveIntersection(q,this.getClientRect())}static create(O,V){return e.Util._isString(O)&&(O=JSON.parse(O)),this._createNode(O,V)}static _createNode(O,V){var q=im.prototype.getClassName.call(O),J=O.children,Z,re,se;V&&(O.attrs.container=V),o.Konva[q]||(e.Util.warn('Can not find a node with class name "'+q+'". Fallback to "Shape".'),q="Shape");const Y=o.Konva[q];if(Z=new Y(O.attrs),J)for(re=J.length,se=0;se<re;se++)Z.add(im._createNode(J[se]));return Z}};Zc.Node=U,U.prototype.nodeType="Node",U.prototype._attrsAffectingSize=[],U.prototype.eventListeners={},U.prototype.on.call(U.prototype,L,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(j),this._clearSelfAndDescendantCache(p)}),U.prototype.on.call(U.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(B)}),U.prototype.on.call(U.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(_)}),U.prototype.on.call(U.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const G=t.Factory.addGetterSetter;return G(U,"zIndex"),G(U,"absolutePosition"),G(U,"position"),G(U,"x",0,(0,d.getNumberValidator)()),G(U,"y",0,(0,d.getNumberValidator)()),G(U,"globalCompositeOperation","source-over",(0,d.getStringValidator)()),G(U,"opacity",1,(0,d.getNumberValidator)()),G(U,"name","",(0,d.getStringValidator)()),G(U,"id","",(0,d.getStringValidator)()),G(U,"rotation",0,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(U,"scale",["x","y"]),G(U,"scaleX",1,(0,d.getNumberValidator)()),G(U,"scaleY",1,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(U,"skew",["x","y"]),G(U,"skewX",0,(0,d.getNumberValidator)()),G(U,"skewY",0,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(U,"offset",["x","y"]),G(U,"offsetX",0,(0,d.getNumberValidator)()),G(U,"offsetY",0,(0,d.getNumberValidator)()),G(U,"dragDistance",null,(0,d.getNumberValidator)()),G(U,"width",0,(0,d.getNumberValidator)()),G(U,"height",0,(0,d.getNumberValidator)()),G(U,"listening",!0,(0,d.getBooleanValidator)()),G(U,"preventDefault",!0,(0,d.getBooleanValidator)()),G(U,"filters",null,function(te){return this._filterUpToDate=!1,te}),G(U,"visible",!0,(0,d.getBooleanValidator)()),G(U,"transformsEnabled","all",(0,d.getStringValidator)()),G(U,"size"),G(U,"dragBoundFunc"),G(U,"draggable",!1,(0,d.getBooleanValidator)()),t.Factory.backCompat(U,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Zc}var Jc={},J1;function v0(){if(J1)return Jc;J1=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.Container=void 0;const e=kt(),t=Fn(),r=Mt();let o=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(d){if(!d)return this.children||[];const c=this.children||[];var h=[];return c.forEach(function(p){d(p)&&h.push(p)}),h}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.destroy()}),this.children=[],this._requestDraw(),this}add(...d){if(d.length===0)return this;if(d.length>1){for(var c=0;c<d.length;c++)this.add(d[c]);return this}const h=d[0];return h.getParent()?(h.moveTo(this),this):(this._validateAdd(h),h.index=this.getChildren().length,h.parent=this,h._clearCaches(),this.getChildren().push(h),this._fire("add",{child:h}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(d){return this._generalFind(d,!1)}findOne(d){var c=this._generalFind(d,!0);return c.length>0?c[0]:void 0}_generalFind(d,c){var h=[];return this._descendants(p=>{const f=p._isMatch(d);return f&&h.push(p),!!(f&&c)}),h}_descendants(d){let c=!1;const h=this.getChildren();for(const p of h){if(c=d(p),c)return!0;if(p.hasChildren()&&(c=p._descendants(d),c))return!0}return!1}toObject(){var d=t.Node.prototype.toObject.call(this);return d.children=[],this.getChildren().forEach(c=>{d.children.push(c.toObject())}),d}isAncestorOf(d){for(var c=d.getParent();c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(d){var c=t.Node.prototype.clone.call(this,d);return this.getChildren().forEach(function(h){c.add(h.clone())}),c}getAllIntersections(d){var c=[];return this.find("Shape").forEach(h=>{h.isVisible()&&h.intersects(d)&&c.push(h)}),c}_clearSelfAndDescendantCache(d){var c;super._clearSelfAndDescendantCache(d),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(h){h._clearSelfAndDescendantCache(d)}))}_setChildrenIndices(){var d;(d=this.children)===null||d===void 0||d.forEach(function(c,h){c.index=h}),this._requestDraw()}drawScene(d,c){var h=this.getLayer(),p=d||h&&h.getCanvas(),f=p&&p.getContext(),x=this._getCanvasCache(),m=x&&x.scene,w=p&&p.isCache;if(!this.isVisible()&&!w)return this;if(m){f.save();var S=this.getAbsoluteTransform(c).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",p,c);return this}drawHit(d,c){if(!this.shouldDrawHit(c))return this;var h=this.getLayer(),p=d||h&&h.hitCanvas,f=p&&p.getContext(),x=this._getCanvasCache(),m=x&&x.hit;if(m){f.save();var w=this.getAbsoluteTransform(c).getMatrix();f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",p,c);return this}_drawChildren(d,c,h){var p,f=c&&c.getContext(),x=this.clipWidth(),m=this.clipHeight(),w=this.clipFunc(),S=x&&m||w;const _=h===this;if(S){f.save();var R=this.getAbsoluteTransform(h),E=R.getMatrix();f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),f.beginPath();let N;if(w)N=w.call(this,f,this);else{var A=this.clipX(),k=this.clipY();f.rect(A,k,x,m)}f.clip.apply(f,N),E=R.copy().invert().getMatrix(),f.transform(E[0],E[1],E[2],E[3],E[4],E[5])}var C=!_&&this.globalCompositeOperation()!=="source-over"&&d==="drawScene";C&&(f.save(),f._applyGlobalCompositeOperation(this)),(p=this.children)===null||p===void 0||p.forEach(function(N){N[d](c,h)}),C&&f.restore(),S&&f.restore()}getClientRect(d={}){var c,h=d.skipTransform,p=d.relativeTo,f,x,m,w,S={x:1/0,y:1/0,width:0,height:0},_=this;(c=this.children)===null||c===void 0||c.forEach(function(C){if(C.visible()){var N=C.getClientRect({relativeTo:_,skipShadow:d.skipShadow,skipStroke:d.skipStroke});N.width===0&&N.height===0||(f===void 0?(f=N.x,x=N.y,m=N.x+N.width,w=N.y+N.height):(f=Math.min(f,N.x),x=Math.min(x,N.y),m=Math.max(m,N.x+N.width),w=Math.max(w,N.y+N.height)))}});for(var R=this.find("Shape"),E=!1,A=0;A<R.length;A++){var k=R[A];if(k._isVisible(this)){E=!0;break}}return E&&f!==void 0?S={x:f,y:x,width:m-f,height:w-x}:S={x:0,y:0,width:0,height:0},h?S:this._transformedRect(S,p)}};return Jc.Container=o,e.Factory.addComponentsGetterSetter(o,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(o,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(o,"clipFunc"),Jc}var Pp={},Ii={},ev;function ex(){if(ev)return Ii;ev=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.releaseCapture=Ii.setPointerCapture=Ii.hasPointerCapture=Ii.createEvent=Ii.getCapturedShape=void 0;const e=Et(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function o(p){return t.get(p)}Ii.getCapturedShape=o;function u(p){return{evt:p,pointerId:p.pointerId}}Ii.createEvent=u;function d(p,f){return t.get(p)===f}Ii.hasPointerCapture=d;function c(p,f){h(p),f.getStage()&&(t.set(p,f),r&&f._fire("gotpointercapture",u(new PointerEvent("gotpointercapture"))))}Ii.setPointerCapture=c;function h(p,f){const x=t.get(p);if(!x)return;const m=x.getStage();m&&m.content,t.delete(p),r&&x._fire("lostpointercapture",u(new PointerEvent("lostpointercapture")))}return Ii.releaseCapture=h,Ii}var tv;function bw(){return tv||(tv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Mn(),r=kt(),o=v0(),u=Et(),d=g0(),c=Um(),h=Et(),p=ex();var f="Stage",x="string",m="px",w="mouseout",S="mouseleave",_="mouseover",R="mouseenter",E="mousemove",A="mousedown",k="mouseup",C="pointermove",N="pointerdown",j="pointerup",$="pointercancel",B="lostpointercapture",L="pointerout",H="pointerleave",U="pointerover",G="pointerenter",te="contextmenu",O="touchstart",V="touchend",q="touchmove",J="touchcancel",Z="wheel",re=5,se=[[R,"_pointerenter"],[A,"_pointerdown"],[E,"_pointermove"],[k,"_pointerup"],[S,"_pointerleave"],[O,"_pointerdown"],[q,"_pointermove"],[V,"_pointerup"],[J,"_pointercancel"],[_,"_pointerover"],[Z,"_wheel"],[te,"_contextmenu"],[N,"_pointerdown"],[C,"_pointermove"],[j,"_pointerup"],[$,"_pointercancel"],[B,"_lostpointercapture"]];const Y={mouse:{[L]:w,[H]:S,[U]:_,[G]:R,[C]:E,[N]:A,[j]:k,[$]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[L]:"touchout",[H]:"touchleave",[U]:"touchover",[G]:"touchenter",[C]:q,[N]:O,[j]:V,[$]:J,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[L]:L,[H]:H,[U]:U,[G]:G,[C]:C,[N]:N,[j]:j,[$]:$,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},le=Re=>Re.indexOf("pointer")>=0?"pointer":Re.indexOf("touch")>=0?"touch":"mouse",oe=Re=>{const ie=le(Re);if(ie==="pointer")return u.Konva.pointerEventsEnabled&&Y.pointer;if(ie==="touch")return Y.touch;if(ie==="mouse")return Y.mouse};function _e(Re={}){return(Re.clipFunc||Re.clipWidth||Re.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Re}const we="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Ne extends o.Container{constructor(ie){super(_e(ie)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{_e(this.attrs)}),this._checkVisibility()}_validateAdd(ie){const fe=ie.getType()==="Layer",Ce=ie.getType()==="FastLayer";fe||Ce||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ie=this.visible()?"":"none";this.content.style.display=ie}setContainer(ie){if(typeof ie===x){if(ie.charAt(0)==="."){var fe=ie.slice(1);ie=document.getElementsByClassName(fe)[0]}else{var Ce;ie.charAt(0)!=="#"?Ce=ie:Ce=ie.slice(1),ie=document.getElementById(Ce)}if(!ie)throw"Can not find container in document with id "+Ce}return this._setAttr("container",ie),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ie.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var ie=this.children,fe=ie.length,Ce;for(Ce=0;Ce<fe;Ce++)ie[Ce].clear();return this}clone(ie){return ie||(ie={}),ie.container=typeof document<"u"&&document.createElement("div"),o.Container.prototype.clone.call(this,ie)}destroy(){super.destroy();var ie=this.content;ie&&t.Util._isInDocument(ie)&&this.container().removeChild(ie);var fe=e.stages.indexOf(this);return fe>-1&&e.stages.splice(fe,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ie=this._pointerPositions[0]||this._changedPointerPositions[0];return ie?{x:ie.x,y:ie.y}:(t.Util.warn(we),null)}_getPointerById(ie){return this._pointerPositions.find(fe=>fe.id===ie)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ie){ie=ie||{},ie.x=ie.x||0,ie.y=ie.y||0,ie.width=ie.width||this.width(),ie.height=ie.height||this.height();var fe=new d.SceneCanvas({width:ie.width,height:ie.height,pixelRatio:ie.pixelRatio||1}),Ce=fe.getContext()._context,We=this.children;return(ie.x||ie.y)&&Ce.translate(-1*ie.x,-1*ie.y),We.forEach(function(De){if(De.isVisible()){var et=De._toKonvaCanvas(ie);Ce.drawImage(et._canvas,ie.x,ie.y,et.getWidth()/et.getPixelRatio(),et.getHeight()/et.getPixelRatio())}}),fe}getIntersection(ie){if(!ie)return null;var fe=this.children,Ce=fe.length,We=Ce-1,De;for(De=We;De>=0;De--){const et=fe[De].getIntersection(ie);if(et)return et}return null}_resizeDOM(){var ie=this.width(),fe=this.height();this.content&&(this.content.style.width=ie+m,this.content.style.height=fe+m),this.bufferCanvas.setSize(ie,fe),this.bufferHitCanvas.setSize(ie,fe),this.children.forEach(Ce=>{Ce.setSize({width:ie,height:fe}),Ce.draw()})}add(ie,...fe){if(arguments.length>1){for(var Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(ie);var We=this.children.length;return We>re&&t.Util.warn("The stage has "+We+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ie.setSize({width:this.width(),height:this.height()}),ie.draw(),u.Konva.isBrowser&&this.content.appendChild(ie.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ie){return p.hasPointerCapture(ie,this)}setPointerCapture(ie){p.setPointerCapture(ie,this)}releaseCapture(ie){p.releaseCapture(ie,this)}getLayers(){return this.children}_bindContentEvents(){u.Konva.isBrowser&&se.forEach(([ie,fe])=>{this.content.addEventListener(ie,Ce=>{this[fe](Ce)},{passive:!1})})}_pointerenter(ie){this.setPointersPositions(ie);const fe=oe(ie.type);fe&&this._fire(fe.pointerenter,{evt:ie,target:this,currentTarget:this})}_pointerover(ie){this.setPointersPositions(ie);const fe=oe(ie.type);fe&&this._fire(fe.pointerover,{evt:ie,target:this,currentTarget:this})}_getTargetShape(ie){let fe=this[ie+"targetShape"];return fe&&!fe.getStage()&&(fe=null),fe}_pointerleave(ie){const fe=oe(ie.type),Ce=le(ie.type);if(fe){this.setPointersPositions(ie);var We=this._getTargetShape(Ce),De=!c.DD.isDragging||u.Konva.hitOnDragEnabled;We&&De?(We._fireAndBubble(fe.pointerout,{evt:ie}),We._fireAndBubble(fe.pointerleave,{evt:ie}),this._fire(fe.pointerleave,{evt:ie,target:this,currentTarget:this}),this[Ce+"targetShape"]=null):De&&(this._fire(fe.pointerleave,{evt:ie,target:this,currentTarget:this}),this._fire(fe.pointerout,{evt:ie,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(ie){const fe=oe(ie.type),Ce=le(ie.type);if(fe){this.setPointersPositions(ie);var We=!1;this._changedPointerPositions.forEach(De=>{var et=this.getIntersection(De);if(c.DD.justDragged=!1,u.Konva["_"+Ce+"ListenClick"]=!0,!et||!et.isListening())return;u.Konva.capturePointerEventsEnabled&&et.setPointerCapture(De.id),this[Ce+"ClickStartShape"]=et,et._fireAndBubble(fe.pointerdown,{evt:ie,pointerId:De.id}),We=!0;const He=ie.type.indexOf("touch")>=0;et.preventDefault()&&ie.cancelable&&He&&ie.preventDefault()}),We||this._fire(fe.pointerdown,{evt:ie,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(ie){const fe=oe(ie.type),Ce=le(ie.type);if(!fe)return;c.DD.isDragging&&c.DD.node.preventDefault()&&ie.cancelable&&ie.preventDefault(),this.setPointersPositions(ie);var We=!c.DD.isDragging||u.Konva.hitOnDragEnabled;if(!We)return;var De={};let et=!1;var He=this._getTargetShape(Ce);this._changedPointerPositions.forEach(Zt=>{const St=p.getCapturedShape(Zt.id)||this.getIntersection(Zt),bn=Zt.id,Ht={evt:ie,pointerId:bn};var mn=He!==St;if(mn&&He&&(He._fireAndBubble(fe.pointerout,{...Ht},St),He._fireAndBubble(fe.pointerleave,{...Ht},St)),St){if(De[St._id])return;De[St._id]=!0}St&&St.isListening()?(et=!0,mn&&(St._fireAndBubble(fe.pointerover,{...Ht},He),St._fireAndBubble(fe.pointerenter,{...Ht},He),this[Ce+"targetShape"]=St),St._fireAndBubble(fe.pointermove,{...Ht})):He&&(this._fire(fe.pointerover,{evt:ie,target:this,currentTarget:this,pointerId:bn}),this[Ce+"targetShape"]=null)}),et||this._fire(fe.pointermove,{evt:ie,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ie){const fe=oe(ie.type),Ce=le(ie.type);if(!fe)return;this.setPointersPositions(ie);const We=this[Ce+"ClickStartShape"],De=this[Ce+"ClickEndShape"];var et={};let He=!1;this._changedPointerPositions.forEach(Zt=>{const St=p.getCapturedShape(Zt.id)||this.getIntersection(Zt);if(St){if(St.releaseCapture(Zt.id),et[St._id])return;et[St._id]=!0}const bn=Zt.id,Ht={evt:ie,pointerId:bn};let mn=!1;u.Konva["_"+Ce+"InDblClickWindow"]?(mn=!0,clearTimeout(this[Ce+"DblTimeout"])):c.DD.justDragged||(u.Konva["_"+Ce+"InDblClickWindow"]=!0,clearTimeout(this[Ce+"DblTimeout"])),this[Ce+"DblTimeout"]=setTimeout(function(){u.Konva["_"+Ce+"InDblClickWindow"]=!1},u.Konva.dblClickWindow),St&&St.isListening()?(He=!0,this[Ce+"ClickEndShape"]=St,St._fireAndBubble(fe.pointerup,{...Ht}),u.Konva["_"+Ce+"ListenClick"]&&We&&We===St&&(St._fireAndBubble(fe.pointerclick,{...Ht}),mn&&De&&De===St&&St._fireAndBubble(fe.pointerdblclick,{...Ht}))):(this[Ce+"ClickEndShape"]=null,u.Konva["_"+Ce+"ListenClick"]&&this._fire(fe.pointerclick,{evt:ie,target:this,currentTarget:this,pointerId:bn}),mn&&this._fire(fe.pointerdblclick,{evt:ie,target:this,currentTarget:this,pointerId:bn}))}),He||this._fire(fe.pointerup,{evt:ie,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),u.Konva["_"+Ce+"ListenClick"]=!1,ie.cancelable&&Ce!=="touch"&&ie.preventDefault()}_contextmenu(ie){this.setPointersPositions(ie);var fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(te,{evt:ie}):this._fire(te,{evt:ie,target:this,currentTarget:this})}_wheel(ie){this.setPointersPositions(ie);var fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(Z,{evt:ie}):this._fire(Z,{evt:ie,target:this,currentTarget:this})}_pointercancel(ie){this.setPointersPositions(ie);const fe=p.getCapturedShape(ie.pointerId)||this.getIntersection(this.getPointerPosition());fe&&fe._fireAndBubble(j,p.createEvent(ie)),p.releaseCapture(ie.pointerId)}_lostpointercapture(ie){p.releaseCapture(ie.pointerId)}setPointersPositions(ie){var fe=this._getContentPosition(),Ce=null,We=null;ie=ie||window.event,ie.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ie.touches,De=>{this._pointerPositions.push({id:De.identifier,x:(De.clientX-fe.left)/fe.scaleX,y:(De.clientY-fe.top)/fe.scaleY})}),Array.prototype.forEach.call(ie.changedTouches||ie.touches,De=>{this._changedPointerPositions.push({id:De.identifier,x:(De.clientX-fe.left)/fe.scaleX,y:(De.clientY-fe.top)/fe.scaleY})})):(Ce=(ie.clientX-fe.left)/fe.scaleX,We=(ie.clientY-fe.top)/fe.scaleY,this.pointerPos={x:Ce,y:We},this._pointerPositions=[{x:Ce,y:We,id:t.Util._getFirstPointerId(ie)}],this._changedPointerPositions=[{x:Ce,y:We,id:t.Util._getFirstPointerId(ie)}])}_setPointerPosition(ie){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ie)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var ie=this.content.getBoundingClientRect();return{top:ie.top,left:ie.left,scaleX:ie.width/this.content.clientWidth||1,scaleY:ie.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new d.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new d.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!u.Konva.isBrowser){var ie=this.container();if(!ie)throw"Stage has no container. A container is required.";ie.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ie.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ie){ie.batchDraw()}),this}}e.Stage=Ne,Ne.prototype.nodeType=f,(0,h._registerNode)(Ne),r.Factory.addGetterSetter(Ne,"container")}(Pp)),Pp}var ed={},Ep={},nv;function cr(){return nv||(nv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Et(),r=Mn(),o=kt(),u=Fn(),d=Mt(),c=Et(),h=ex();var p="hasShadow",f="shadowRGBA",x="patternImage",m="linearGradient",w="radialGradient";let S;function _(){return S||(S=r.Util.createCanvasElement().getContext("2d"),S)}e.shapes={};function R(H){const U=this.attrs.fillRule;U?H.fill(U):H.fill()}function E(H){H.stroke()}function A(H){H.fill()}function k(H){H.stroke()}function C(){this._clearCache(p)}function N(){this._clearCache(f)}function j(){this._clearCache(x)}function $(){this._clearCache(m)}function B(){this._clearCache(w)}class L extends u.Node{constructor(U){super(U);let G;for(;G=r.Util.getRandomColor(),!(G&&!(G in e.shapes)););this.colorKey=G,e.shapes[G]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(p,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(x,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var U=_();const G=U.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const te=new r.Transform;te.translate(this.fillPatternX(),this.fillPatternY()),te.rotate(t.Konva.getAngle(this.fillPatternRotation())),te.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),te.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const O=te.getMatrix(),V=typeof DOMMatrix>"u"?{a:O[0],b:O[1],c:O[2],d:O[3],e:O[4],f:O[5]}:new DOMMatrix(O);G.setTransform(V)}return G}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){var U=this.fillLinearGradientColorStops();if(U){for(var G=_(),te=this.fillLinearGradientStartPoint(),O=this.fillLinearGradientEndPoint(),V=G.createLinearGradient(te.x,te.y,O.x,O.y),q=0;q<U.length;q+=2)V.addColorStop(U[q],U[q+1]);return V}}_getRadialGradient(){return this._getCache(w,this.__getRadialGradient)}__getRadialGradient(){var U=this.fillRadialGradientColorStops();if(U){for(var G=_(),te=this.fillRadialGradientStartPoint(),O=this.fillRadialGradientEndPoint(),V=G.createRadialGradient(te.x,te.y,this.fillRadialGradientStartRadius(),O.x,O.y,this.fillRadialGradientEndRadius()),q=0;q<U.length;q+=2)V.addColorStop(U[q],U[q+1]);return V}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var U=r.Util.colorToRGBA(this.shadowColor());if(U)return"rgba("+U.r+","+U.g+","+U.b+","+U.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const U=this.hitStrokeWidth();return U==="auto"?this.hasStroke():this.strokeEnabled()&&!!U}intersects(U){var G=this.getStage();if(!G)return!1;const te=G.bufferHitCanvas;return te.getContext().clear(),this.drawHit(te,void 0,!0),te.context.getImageData(Math.round(U.x),Math.round(U.y),1,1).data[3]>0}destroy(){return u.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(U){var G;if(!this.getStage()||!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const O=U||this.hasFill(),V=this.hasStroke(),q=this.getAbsoluteOpacity()!==1;if(O&&V&&q)return!0;const J=this.hasShadow(),Z=this.shadowForStrokeEnabled();return!!(O&&V&&J&&Z)}setStrokeHitEnabled(U){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),U?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var U=this.size();return{x:this._centroid?-U.width/2:0,y:this._centroid?-U.height/2:0,width:U.width,height:U.height}}getClientRect(U={}){const G=U.skipTransform,te=U.relativeTo,O=this.getSelfRect(),q=!U.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,J=O.width+q,Z=O.height+q,re=!U.skipShadow&&this.hasShadow(),se=re?this.shadowOffsetX():0,Y=re?this.shadowOffsetY():0,le=J+Math.abs(se),oe=Z+Math.abs(Y),_e=re&&this.shadowBlur()||0,we=le+_e*2,Ne=oe+_e*2,Re={width:we,height:Ne,x:-(q/2+_e)+Math.min(se,0)+O.x,y:-(q/2+_e)+Math.min(Y,0)+O.y};return G?Re:this._transformedRect(Re,te)}drawScene(U,G){var te=this.getLayer(),O=U||te.getCanvas(),V=O.getContext(),q=this._getCanvasCache(),J=this.getSceneFunc(),Z=this.hasShadow(),re,se,Y,le=O.isCache,oe=G===this;if(!this.isVisible()&&!oe)return this;if(q){V.save();var _e=this.getAbsoluteTransform(G).getMatrix();return V.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]),this._drawCachedSceneCanvas(V),V.restore(),this}if(!J)return this;if(V.save(),this._useBufferCanvas()&&!le){re=this.getStage(),se=re.bufferCanvas,Y=se.getContext(),Y.clear(),Y.save(),Y._applyLineJoin(this);var we=this.getAbsoluteTransform(G).getMatrix();Y.transform(we[0],we[1],we[2],we[3],we[4],we[5]),J.call(this,Y,this),Y.restore();var Ne=se.pixelRatio;Z&&V._applyShadow(this),V._applyOpacity(this),V._applyGlobalCompositeOperation(this),V.drawImage(se._canvas,0,0,se.width/Ne,se.height/Ne)}else{if(V._applyLineJoin(this),!oe){var we=this.getAbsoluteTransform(G).getMatrix();V.transform(we[0],we[1],we[2],we[3],we[4],we[5]),V._applyOpacity(this),V._applyGlobalCompositeOperation(this)}Z&&V._applyShadow(this),J.call(this,V,this)}return V.restore(),this}drawHit(U,G,te=!1){if(!this.shouldDrawHit(G,te))return this;var O=this.getLayer(),V=U||O.hitCanvas,q=V&&V.getContext(),J=this.hitFunc()||this.sceneFunc(),Z=this._getCanvasCache(),re=Z&&Z.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),re){q.save();var se=this.getAbsoluteTransform(G).getMatrix();return q.transform(se[0],se[1],se[2],se[3],se[4],se[5]),this._drawCachedHitCanvas(q),q.restore(),this}if(!J)return this;if(q.save(),q._applyLineJoin(this),!(this===G)){var le=this.getAbsoluteTransform(G).getMatrix();q.transform(le[0],le[1],le[2],le[3],le[4],le[5])}return J.call(this,q,this),q.restore(),this}drawHitFromCache(U=0){var G=this._getCanvasCache(),te=this._getCachedSceneCanvas(),O=G.hit,V=O.getContext(),q=O.getWidth(),J=O.getHeight(),Z,re,se,Y,le,oe;V.clear(),V.drawImage(te._canvas,0,0,q,J);try{for(Z=V.getImageData(0,0,q,J),re=Z.data,se=re.length,Y=r.Util._hexToRgb(this.colorKey),le=0;le<se;le+=4)oe=re[le+3],oe>U?(re[le]=Y.r,re[le+1]=Y.g,re[le+2]=Y.b,re[le+3]=255):re[le+3]=0;V.putImageData(Z,0,0)}catch(_e){r.Util.error("Unable to draw hit graph from cached scene canvas. "+_e.message)}return this}hasPointerCapture(U){return h.hasPointerCapture(U,this)}setPointerCapture(U){h.setPointerCapture(U,this)}releaseCapture(U){h.releaseCapture(U,this)}}e.Shape=L,L.prototype._fillFunc=R,L.prototype._strokeFunc=E,L.prototype._fillFuncHit=A,L.prototype._strokeFuncHit=k,L.prototype._centroid=!1,L.prototype.nodeType="Shape",(0,c._registerNode)(L),L.prototype.eventListeners={},L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),L.prototype.on.call(L.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",N),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",j),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",$),L.prototype.on.call(L.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",B),o.Factory.addGetterSetter(L,"stroke",void 0,(0,d.getStringOrGradientValidator)()),o.Factory.addGetterSetter(L,"strokeWidth",2,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillAfterStrokeEnabled",!1),o.Factory.addGetterSetter(L,"hitStrokeWidth","auto",(0,d.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(L,"strokeHitEnabled",!0,(0,d.getBooleanValidator)()),o.Factory.addGetterSetter(L,"perfectDrawEnabled",!0,(0,d.getBooleanValidator)()),o.Factory.addGetterSetter(L,"shadowForStrokeEnabled",!0,(0,d.getBooleanValidator)()),o.Factory.addGetterSetter(L,"lineJoin"),o.Factory.addGetterSetter(L,"lineCap"),o.Factory.addGetterSetter(L,"sceneFunc"),o.Factory.addGetterSetter(L,"hitFunc"),o.Factory.addGetterSetter(L,"dash"),o.Factory.addGetterSetter(L,"dashOffset",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"shadowColor",void 0,(0,d.getStringValidator)()),o.Factory.addGetterSetter(L,"shadowBlur",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"shadowOpacity",1,(0,d.getNumberValidator)()),o.Factory.addComponentsGetterSetter(L,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(L,"shadowOffsetX",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"shadowOffsetY",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillPatternImage"),o.Factory.addGetterSetter(L,"fill",void 0,(0,d.getStringOrGradientValidator)()),o.Factory.addGetterSetter(L,"fillPatternX",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillPatternY",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(L,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(L,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(L,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(L,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(L,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(L,"fillEnabled",!0),o.Factory.addGetterSetter(L,"strokeEnabled",!0),o.Factory.addGetterSetter(L,"shadowEnabled",!0),o.Factory.addGetterSetter(L,"dashEnabled",!0),o.Factory.addGetterSetter(L,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(L,"fillPriority","color"),o.Factory.addComponentsGetterSetter(L,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(L,"fillPatternOffsetX",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillPatternOffsetY",0,(0,d.getNumberValidator)()),o.Factory.addComponentsGetterSetter(L,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(L,"fillPatternScaleX",1,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(L,"fillPatternScaleY",1,(0,d.getNumberValidator)()),o.Factory.addComponentsGetterSetter(L,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(L,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(L,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(L,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(L,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(L,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(L,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(L,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(L,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(L,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(L,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(L,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(L,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(L,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(L,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(L,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(L,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(L,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(L,"fillPatternRotation",0),o.Factory.addGetterSetter(L,"fillRule",void 0,(0,d.getStringValidator)()),o.Factory.backCompat(L,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Ep)),Ep}var rv;function tx(){if(rv)return ed;rv=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.Layer=void 0;const e=Mn(),t=v0(),r=Fn(),o=kt(),u=g0(),d=Mt(),c=cr(),h=Et();var p="#",f="beforeDraw",x="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],w=m.length;class S extends t.Container{constructor(R){super(R),this.canvas=new u.SceneCanvas,this.hitCanvas=new u.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(R){return this.getContext().clear(R),this.getHitCanvas().getContext().clear(R),this}setZIndex(R){super.setZIndex(R);var E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),R<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[R+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var R=this.getStage();return R&&R.content&&(R.content.removeChild(this.getNativeCanvasElement()),R.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var R=r.Node.prototype.moveUp.call(this);if(!R)return!1;var E=this.getStage();return!E||!E.content?!1:(E.content.removeChild(this.getNativeCanvasElement()),this.index<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[this.index+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var R=this.getStage();if(R){var E=R.children;R.content&&(R.content.removeChild(this.getNativeCanvasElement()),R.content.insertBefore(this.getNativeCanvasElement(),E[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var R=this.getStage();if(R){var E=R.children;R.content&&(R.content.removeChild(this.getNativeCanvasElement()),R.content.insertBefore(this.getNativeCanvasElement(),E[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var R=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),R&&R.parentNode&&e.Util._isInDocument(R)&&R.parentNode.removeChild(R),this}getStage(){return this.parent}setSize({width:R,height:E}){return this.canvas.setSize(R,E),this.hitCanvas.setSize(R,E),this._setSmoothEnabled(),this}_validateAdd(R){var E=R.getType();E!=="Group"&&E!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(R){return R=R||{},R.width=R.width||this.getWidth(),R.height=R.height||this.getHeight(),R.x=R.x!==void 0?R.x:this.x(),R.y=R.y!==void 0?R.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,R)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(R){if(!this.isListening()||!this.isVisible())return null;for(var E=1,A=!1;;){for(let k=0;k<w;k++){const C=m[k],N=this._getIntersection({x:R.x+C.x*E,y:R.y+C.y*E}),j=N.shape;if(j)return j;if(A=!!N.antialiased,!N.antialiased)break}if(A)E+=1;else return null}}_getIntersection(R){const E=this.hitCanvas.pixelRatio,A=this.hitCanvas.context.getImageData(Math.round(R.x*E),Math.round(R.y*E),1,1).data,k=A[3];if(k===255){const C=e.Util._rgbToHex(A[0],A[1],A[2]),N=c.shapes[p+C];return N?{shape:N}:{antialiased:!0}}else if(k>0)return{antialiased:!0};return{}}drawScene(R,E){var A=this.getLayer(),k=R||A&&A.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&k.getContext().clear(),t.Container.prototype.drawScene.call(this,k,E),this._fire(x,{node:this}),this}drawHit(R,E){var A=this.getLayer(),k=R||A&&A.hitCanvas;return A&&A.clearBeforeDraw()&&A.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,k,E),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(R){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(R)}getHitGraphEnabled(R){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var R=this.parent,E=!!this.hitCanvas._canvas.parentNode;E?R.content.removeChild(this.hitCanvas._canvas):R.content.appendChild(this.hitCanvas._canvas)}}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return ed.Layer=S,S.prototype.nodeType="Layer",(0,h._registerNode)(S),o.Factory.addGetterSetter(S,"imageSmoothingEnabled",!0),o.Factory.addGetterSetter(S,"clearBeforeDraw",!0),o.Factory.addGetterSetter(S,"hitGraphEnabled",!0,(0,d.getBooleanValidator)()),ed}var td={},iv;function Nw(){if(iv)return td;iv=1,Object.defineProperty(td,"__esModule",{value:!0}),td.FastLayer=void 0;const e=Mn(),t=tx(),r=Et();let o=class extends t.Layer{constructor(d){super(d),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return td.FastLayer=o,o.prototype.nodeType="FastLayer",(0,r._registerNode)(o),td}var nd={},sv;function Vm(){if(sv)return nd;sv=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.Group=void 0;const e=Mn(),t=v0(),r=Et();class o extends t.Container{_validateAdd(d){var c=d.getType();c!=="Group"&&c!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}}return nd.Group=o,o.prototype.nodeType="Group",(0,r._registerNode)(o),nd}var rd={},ov;function Bm(){if(ov)return rd;ov=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.Animation=void 0;const e=Et(),t=Mn(),r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();class o{constructor(d,c){this.id=o.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=d,this.setLayers(c)}setLayers(d){let c=[];return d&&(c=Array.isArray(d)?d:[d]),this.layers=c,this}getLayers(){return this.layers}addLayer(d){const c=this.layers,h=c.length;for(let p=0;p<h;p++)if(c[p]._id===d._id)return!1;return this.layers.push(d),!0}isRunning(){const c=o.animations,h=c.length;for(let p=0;p<h;p++)if(c[p].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),o._addAnimation(this),this}stop(){return o._removeAnimation(this),this}_updateFrameObject(d){this.frame.timeDiff=d-this.frame.lastTime,this.frame.lastTime=d,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(d){this.animations.push(d),this._handleAnimation()}static _removeAnimation(d){const c=d.id,h=this.animations,p=h.length;for(let f=0;f<p;f++)if(h[f].id===c){this.animations.splice(f,1);break}}static _runFrames(){const d={},c=this.animations;for(let h=0;h<c.length;h++){const p=c[h],f=p.layers,x=p.func;p._updateFrameObject(r());const m=f.length;let w;if(x?w=x.call(p,p.frame)!==!1:w=!0,!!w)for(let S=0;S<m;S++){const _=f[S];_._id!==void 0&&(d[_._id]=_)}}for(let h in d)d.hasOwnProperty(h)&&d[h].batchDraw()}static _animationLoop(){const d=o;d.animations.length?(d._runFrames(),t.Util.requestAnimFrame(d._animationLoop)):d.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}}return rd.Animation=o,o.animations=[],o.animIdCounter=0,o.animRunning=!1,rd}var kp={},av;function Aw(){return av||(av=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Mn(),r=Bm(),o=Fn(),u=Et();var d={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,h=2,p=3,f=0,x=["fill","stroke","shadowColor"];class m{constructor(_,R,E,A,k,C,N){this.prop=_,this.propFunc=R,this.begin=A,this._pos=A,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=N,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=k-this.begin,this.pause()}fire(_){var R=this[_];R&&R()}setTime(_){_>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():_<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=_,this.update())}getTime(){return this._time}setPosition(_){this.prevPos=this._pos,this.propFunc(_),this._pos=_}getPosition(_){return _===void 0&&(_=this._time),this.func(_,this.begin,this._change,this.duration)}play(){this.state=h,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=p,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(_){this.pause(),this._time=_,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var _=this.getTimer()-this._startTime;this.state===h?this.setTime(_):this.state===p&&this.setTime(this.duration-_)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class w{constructor(_){var R=this,E=_.node,A=E._id,k,C=_.easing||e.Easings.Linear,N=!!_.yoyo,j;typeof _.duration>"u"?k=.3:_.duration===0?k=.001:k=_.duration,this.node=E,this._id=f++;var $=E.getLayer()||(E instanceof u.Konva.Stage?E.getLayers():null);$||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){R.tween.onEnterFrame()},$),this.tween=new m(j,function(B){R._tweenFunc(B)},C,0,1,k*1e3,N),this._addListeners(),w.attrs[A]||(w.attrs[A]={}),w.attrs[A][this._id]||(w.attrs[A][this._id]={}),w.tweens[A]||(w.tweens[A]={});for(j in _)d[j]===void 0&&this._addAttr(j,_[j]);this.reset(),this.onFinish=_.onFinish,this.onReset=_.onReset,this.onUpdate=_.onUpdate}_addAttr(_,R){var E=this.node,A=E._id,k,C,N,j,$,B,L,H;if(N=w.tweens[A][_],N&&delete w.attrs[A][N][_],k=E.getAttr(_),t.Util._isArray(R))if(C=[],$=Math.max(R.length,k.length),_==="points"&&R.length!==k.length&&(R.length>k.length?(L=k,k=t.Util._prepareArrayForTween(k,R,E.closed())):(B=R,R=t.Util._prepareArrayForTween(R,k,E.closed()))),_.indexOf("fill")===0)for(j=0;j<$;j++)if(j%2===0)C.push(R[j]-k[j]);else{var U=t.Util.colorToRGBA(k[j]);H=t.Util.colorToRGBA(R[j]),k[j]=U,C.push({r:H.r-U.r,g:H.g-U.g,b:H.b-U.b,a:H.a-U.a})}else for(j=0;j<$;j++)C.push(R[j]-k[j]);else x.indexOf(_)!==-1?(k=t.Util.colorToRGBA(k),H=t.Util.colorToRGBA(R),C={r:H.r-k.r,g:H.g-k.g,b:H.b-k.b,a:H.a-k.a}):C=R-k;w.attrs[A][this._id][_]={start:k,diff:C,end:R,trueEnd:B,trueStart:L},w.tweens[A][_]=this._id}_tweenFunc(_){var R=this.node,E=w.attrs[R._id][this._id],A,k,C,N,j,$,B,L;for(A in E){if(k=E[A],C=k.start,N=k.diff,L=k.end,t.Util._isArray(C))if(j=[],B=Math.max(C.length,L.length),A.indexOf("fill")===0)for($=0;$<B;$++)$%2===0?j.push((C[$]||0)+N[$]*_):j.push("rgba("+Math.round(C[$].r+N[$].r*_)+","+Math.round(C[$].g+N[$].g*_)+","+Math.round(C[$].b+N[$].b*_)+","+(C[$].a+N[$].a*_)+")");else for($=0;$<B;$++)j.push((C[$]||0)+N[$]*_);else x.indexOf(A)!==-1?j="rgba("+Math.round(C.r+N.r*_)+","+Math.round(C.g+N.g*_)+","+Math.round(C.b+N.b*_)+","+(C.a+N.a*_)+")":j=C+N*_;R.setAttr(A,j)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var _=this.node,R=w.attrs[_._id][this._id];R.points&&R.points.trueEnd&&_.setAttr("points",R.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var _=this.node,R=w.attrs[_._id][this._id];R.points&&R.points.trueStart&&_.points(R.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(_){return this.tween.seek(_*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var _=this.node._id,R=this._id,E=w.tweens[_],A;this.pause();for(A in E)delete w.tweens[_][A];delete w.attrs[_][R]}}e.Tween=w,w.attrs={},w.tweens={},o.Node.prototype.to=function(S){var _=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),_&&_()};var R=new w(S);R.play()},e.Easings={BackEaseIn(S,_,R,E){var A=1.70158;return R*(S/=E)*S*((A+1)*S-A)+_},BackEaseOut(S,_,R,E){var A=1.70158;return R*((S=S/E-1)*S*((A+1)*S+A)+1)+_},BackEaseInOut(S,_,R,E){var A=1.70158;return(S/=E/2)<1?R/2*(S*S*(((A*=1.525)+1)*S-A))+_:R/2*((S-=2)*S*(((A*=1.525)+1)*S+A)+2)+_},ElasticEaseIn(S,_,R,E,A,k){var C=0;return S===0?_:(S/=E)===1?_+R:(k||(k=E*.3),!A||A<Math.abs(R)?(A=R,C=k/4):C=k/(2*Math.PI)*Math.asin(R/A),-(A*Math.pow(2,10*(S-=1))*Math.sin((S*E-C)*(2*Math.PI)/k))+_)},ElasticEaseOut(S,_,R,E,A,k){var C=0;return S===0?_:(S/=E)===1?_+R:(k||(k=E*.3),!A||A<Math.abs(R)?(A=R,C=k/4):C=k/(2*Math.PI)*Math.asin(R/A),A*Math.pow(2,-10*S)*Math.sin((S*E-C)*(2*Math.PI)/k)+R+_)},ElasticEaseInOut(S,_,R,E,A,k){var C=0;return S===0?_:(S/=E/2)===2?_+R:(k||(k=E*(.3*1.5)),!A||A<Math.abs(R)?(A=R,C=k/4):C=k/(2*Math.PI)*Math.asin(R/A),S<1?-.5*(A*Math.pow(2,10*(S-=1))*Math.sin((S*E-C)*(2*Math.PI)/k))+_:A*Math.pow(2,-10*(S-=1))*Math.sin((S*E-C)*(2*Math.PI)/k)*.5+R+_)},BounceEaseOut(S,_,R,E){return(S/=E)<1/2.75?R*(7.5625*S*S)+_:S<2/2.75?R*(7.5625*(S-=1.5/2.75)*S+.75)+_:S<2.5/2.75?R*(7.5625*(S-=2.25/2.75)*S+.9375)+_:R*(7.5625*(S-=2.625/2.75)*S+.984375)+_},BounceEaseIn(S,_,R,E){return R-e.Easings.BounceEaseOut(E-S,0,R,E)+_},BounceEaseInOut(S,_,R,E){return S<E/2?e.Easings.BounceEaseIn(S*2,0,R,E)*.5+_:e.Easings.BounceEaseOut(S*2-E,0,R,E)*.5+R*.5+_},EaseIn(S,_,R,E){return R*(S/=E)*S+_},EaseOut(S,_,R,E){return-R*(S/=E)*(S-2)+_},EaseInOut(S,_,R,E){return(S/=E/2)<1?R/2*S*S+_:-R/2*(--S*(S-2)-1)+_},StrongEaseIn(S,_,R,E){return R*(S/=E)*S*S*S*S+_},StrongEaseOut(S,_,R,E){return R*((S=S/E-1)*S*S*S*S+1)+_},StrongEaseInOut(S,_,R,E){return(S/=E/2)<1?R/2*S*S*S*S*S+_:R/2*((S-=2)*S*S*S*S+2)+_},Linear(S,_,R,E){return R*S/E+_}}}(kp)),kp}var lv;function sm(){return lv||(lv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Et(),r=Mn(),o=Fn(),u=v0(),d=bw(),c=tx(),h=Nw(),p=Vm(),f=Um(),x=cr(),m=Bm(),w=Aw(),S=J5(),_=g0();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:o.Node,Container:u.Container,Stage:d.Stage,stages:d.stages,Layer:c.Layer,FastLayer:h.FastLayer,Group:p.Group,DD:f.DD,Shape:x.Shape,shapes:x.shapes,Animation:m.Animation,Tween:w.Tween,Easings:w.Easings,Context:S.Context,Canvas:_.Canvas}),e.default=e.Konva}(xp)),xp}var id={},uv;function jw(){if(uv)return id;uv=1,Object.defineProperty(id,"__esModule",{value:!0}),id.Arc=void 0;const e=kt(),t=cr(),r=Et(),o=Mt(),u=Et();let d=class extends t.Shape{_sceneFunc(h){var p=r.Konva.getAngle(this.angle()),f=this.clockwise();h.beginPath(),h.arc(0,0,this.outerRadius(),0,p,f),h.arc(0,0,this.innerRadius(),p,0,!f),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}getSelfRect(){const h=this.innerRadius(),p=this.outerRadius(),f=this.clockwise(),x=r.Konva.getAngle(f?360-this.angle():this.angle()),m=Math.cos(Math.min(x,Math.PI)),w=1,S=Math.sin(Math.min(Math.max(Math.PI,x),3*Math.PI/2)),_=Math.sin(Math.min(x,Math.PI/2)),R=m*(m>0?h:p),E=w*p,A=S*(S>0?h:p),k=_*(_>0?p:h);return{x:R,y:f?-1*k:A,width:E-R,height:k-A}}};return id.Arc=d,d.prototype._centroid=!0,d.prototype.className="Arc",d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"innerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"outerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"angle",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"clockwise",!1,(0,o.getBooleanValidator)()),id}var sd={},od={},cv;function nx(){if(cv)return od;cv=1,Object.defineProperty(od,"__esModule",{value:!0}),od.Line=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();function u(h,p,f,x,m,w,S){var _=Math.sqrt(Math.pow(f-h,2)+Math.pow(x-p,2)),R=Math.sqrt(Math.pow(m-f,2)+Math.pow(w-x,2)),E=S*_/(_+R),A=S*R/(_+R),k=f-E*(m-h),C=x-E*(w-p),N=f+A*(m-h),j=x+A*(w-p);return[k,C,N,j]}function d(h,p){var f=h.length,x=[],m,w;for(m=2;m<f-2;m+=2)w=u(h[m-2],h[m-1],h[m],h[m+1],h[m+2],h[m+3],p),!isNaN(w[0])&&(x.push(w[0]),x.push(w[1]),x.push(h[m]),x.push(h[m+1]),x.push(w[2]),x.push(w[3]));return x}class c extends t.Shape{constructor(p){super(p),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(p){var f=this.points(),x=f.length,m=this.tension(),w=this.closed(),S=this.bezier(),_,R,E;if(x){if(p.beginPath(),p.moveTo(f[0],f[1]),m!==0&&x>4){for(_=this.getTensionPoints(),R=_.length,E=w?0:4,w||p.quadraticCurveTo(_[0],_[1],_[2],_[3]);E<R-2;)p.bezierCurveTo(_[E++],_[E++],_[E++],_[E++],_[E++],_[E++]);w||p.quadraticCurveTo(_[R-2],_[R-1],f[x-2],f[x-1])}else if(S)for(E=2;E<x;)p.bezierCurveTo(f[E++],f[E++],f[E++],f[E++],f[E++],f[E++]);else for(E=2;E<x;E+=2)p.lineTo(f[E],f[E+1]);w?(p.closePath(),p.fillStrokeShape(this)):p.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():d(this.points(),this.tension())}_getTensionPointsClosed(){var p=this.points(),f=p.length,x=this.tension(),m=u(p[f-2],p[f-1],p[0],p[1],p[2],p[3],x),w=u(p[f-4],p[f-3],p[f-2],p[f-1],p[0],p[1],x),S=d(p,x),_=[m[2],m[3]].concat(S).concat([w[0],w[1],p[f-2],p[f-1],w[2],w[3],m[0],m[1],p[0],p[1]]);return _}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var p=this.points();if(p.length<4)return{x:p[0]||0,y:p[1]||0,width:0,height:0};this.tension()!==0?p=[p[0],p[1],...this._getTensionPoints(),p[p.length-2],p[p.length-1]]:p=this.points();for(var f=p[0],x=p[0],m=p[1],w=p[1],S,_,R=0;R<p.length/2;R++)S=p[R*2],_=p[R*2+1],f=Math.min(f,S),x=Math.max(x,S),m=Math.min(m,_),w=Math.max(w,_);return{x:f,y:m,width:x-f,height:w-m}}}return od.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,o._registerNode)(c),e.Factory.addGetterSetter(c,"closed",!1),e.Factory.addGetterSetter(c,"bezier",!1),e.Factory.addGetterSetter(c,"tension",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(c,"points",[],(0,r.getNumberArrayValidator)()),od}var ad={},Rp={},dv;function Iw(){return dv||(dv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(c,h,p)=>{let f,x,m;f=p/2,x=0;for(let S=0;S<20;S++)m=f*e.tValues[20][S]+f,x+=e.cValues[20][S]*o(c,h,m);return f*x};e.getCubicArcLength=t;const r=(c,h,p)=>{p===void 0&&(p=1);const f=c[0]-2*c[1]+c[2],x=h[0]-2*h[1]+h[2],m=2*c[1]-2*c[0],w=2*h[1]-2*h[0],S=4*(f*f+x*x),_=4*(f*m+x*w),R=m*m+w*w;if(S===0)return p*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(h[2]-h[0],2));const E=_/(2*S),A=R/S,k=p+E,C=A-E*E,N=k*k+C>0?Math.sqrt(k*k+C):0,j=E*E+C>0?Math.sqrt(E*E+C):0,$=E+Math.sqrt(E*E+C)!==0?C*Math.log(Math.abs((k+N)/(E+j))):0;return Math.sqrt(S)/2*(k*N-E*j+$)};e.getQuadraticArcLength=r;function o(c,h,p){const f=u(1,p,c),x=u(1,p,h),m=f*f+x*x;return Math.sqrt(m)}const u=(c,h,p)=>{const f=p.length-1;let x,m;if(f===0)return 0;if(c===0){m=0;for(let w=0;w<=f;w++)m+=e.binomialCoefficients[f][w]*Math.pow(1-h,f-w)*Math.pow(h,w)*p[w];return m}else{x=new Array(f);for(let w=0;w<f;w++)x[w]=f*(p[w+1]-p[w]);return u(c-1,h,x)}},d=(c,h,p)=>{let f=1,x=c/h,m=(c-p(x))/h,w=0;for(;f>.001;){const S=p(x+m),_=Math.abs(c-S)/h;if(_<f)f=_,x+=m;else{const R=p(x-m),E=Math.abs(c-R)/h;E<f?(f=E,x-=m):m/=2}if(w++,w>500)break}return x};e.t2length=d}(Rp)),Rp}var hv;function $m(){if(hv)return ad;hv=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.Path=void 0;const e=kt(),t=cr(),r=Et(),o=Iw();let u=class wi extends t.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=wi.parsePathData(this.data()),this.pathLength=wi.getPathLength(this.dataArray)}_sceneFunc(c){var h=this.dataArray;c.beginPath();for(var p=!1,f=0;f<h.length;f++){var x=h[f].command,m=h[f].points;switch(x){case"L":c.lineTo(m[0],m[1]);break;case"M":c.moveTo(m[0],m[1]);break;case"C":c.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);break;case"Q":c.quadraticCurveTo(m[0],m[1],m[2],m[3]);break;case"A":var w=m[0],S=m[1],_=m[2],R=m[3],E=m[4],A=m[5],k=m[6],C=m[7],N=_>R?_:R,j=_>R?1:_/R,$=_>R?R/_:1;c.translate(w,S),c.rotate(k),c.scale(j,$),c.arc(0,0,N,E,E+A,1-C),c.scale(1/j,1/$),c.rotate(-k),c.translate(-w,-S);break;case"z":p=!0,c.closePath();break}}!p&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){var c=[];this.dataArray.forEach(function(_){if(_.command==="A"){var R=_.points[4],E=_.points[5],A=_.points[4]+E,k=Math.PI/180;if(Math.abs(R-A)<k&&(k=Math.abs(R-A)),E<0)for(let C=R-k;C>A;C-=k){const N=wi.getPointOnEllipticalArc(_.points[0],_.points[1],_.points[2],_.points[3],C,0);c.push(N.x,N.y)}else for(let C=R+k;C<A;C+=k){const N=wi.getPointOnEllipticalArc(_.points[0],_.points[1],_.points[2],_.points[3],C,0);c.push(N.x,N.y)}}else if(_.command==="C")for(let C=0;C<=1;C+=.01){const N=wi.getPointOnCubicBezier(C,_.start.x,_.start.y,_.points[0],_.points[1],_.points[2],_.points[3],_.points[4],_.points[5]);c.push(N.x,N.y)}else c=c.concat(_.points)});for(var h=c[0],p=c[0],f=c[1],x=c[1],m,w,S=0;S<c.length/2;S++)m=c[S*2],w=c[S*2+1],isNaN(m)||(h=Math.min(h,m),p=Math.max(p,m)),isNaN(w)||(f=Math.min(f,w),x=Math.max(x,w));return{x:h,y:f,width:p-h,height:x-f}}getLength(){return this.pathLength}getPointAtLength(c){return wi.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,h,p,f){return Math.sqrt((p-c)*(p-c)+(f-h)*(f-h))}static getPathLength(c){let h=0;for(var p=0;p<c.length;++p)h+=c[p].pathLength;return h}static getPointAtLengthOfDataArray(c,h){var p,f=0,x=h.length;if(!x)return null;for(;f<x&&c>h[f].pathLength;)c-=h[f].pathLength,++f;if(f===x)return p=h[f-1].points.slice(-2),{x:p[0],y:p[1]};if(c<.01)return p=h[f].points.slice(0,2),{x:p[0],y:p[1]};var m=h[f],w=m.points;switch(m.command){case"L":return wi.getPointOnLine(c,m.start.x,m.start.y,w[0],w[1]);case"C":return wi.getPointOnCubicBezier((0,o.t2length)(c,wi.getPathLength(h),N=>(0,o.getCubicArcLength)([m.start.x,w[0],w[2],w[4]],[m.start.y,w[1],w[3],w[5]],N)),m.start.x,m.start.y,w[0],w[1],w[2],w[3],w[4],w[5]);case"Q":return wi.getPointOnQuadraticBezier((0,o.t2length)(c,wi.getPathLength(h),N=>(0,o.getQuadraticArcLength)([m.start.x,w[0],w[2]],[m.start.y,w[1],w[3]],N)),m.start.x,m.start.y,w[0],w[1],w[2],w[3]);case"A":var S=w[0],_=w[1],R=w[2],E=w[3],A=w[4],k=w[5],C=w[6];return A+=k*c/m.pathLength,wi.getPointOnEllipticalArc(S,_,R,E,A,C)}return null}static getPointOnLine(c,h,p,f,x,m,w){m===void 0&&(m=h),w===void 0&&(w=p);var S=(x-p)/(f-h+1e-8),_=Math.sqrt(c*c/(1+S*S));f<h&&(_*=-1);var R=S*_,E;if(f===h)E={x:m,y:w+R};else if((w-p)/(m-h+1e-8)===S)E={x:m+_,y:w+R};else{var A,k,C=this.getLineLength(h,p,f,x),N=(m-h)*(f-h)+(w-p)*(x-p);N=N/(C*C),A=h+N*(f-h),k=p+N*(x-p);var j=this.getLineLength(m,w,A,k),$=Math.sqrt(c*c-j*j);_=Math.sqrt($*$/(1+S*S)),f<h&&(_*=-1),R=S*_,E={x:A+_,y:k+R}}return E}static getPointOnCubicBezier(c,h,p,f,x,m,w,S,_){function R(j){return j*j*j}function E(j){return 3*j*j*(1-j)}function A(j){return 3*j*(1-j)*(1-j)}function k(j){return(1-j)*(1-j)*(1-j)}var C=S*R(c)+m*E(c)+f*A(c)+h*k(c),N=_*R(c)+w*E(c)+x*A(c)+p*k(c);return{x:C,y:N}}static getPointOnQuadraticBezier(c,h,p,f,x,m,w){function S(k){return k*k}function _(k){return 2*k*(1-k)}function R(k){return(1-k)*(1-k)}var E=m*S(c)+f*_(c)+h*R(c),A=w*S(c)+x*_(c)+p*R(c);return{x:E,y:A}}static getPointOnEllipticalArc(c,h,p,f,x,m){var w=Math.cos(m),S=Math.sin(m),_={x:p*Math.cos(x),y:f*Math.sin(x)};return{x:c+(_.x*w-_.y*S),y:h+(_.x*S+_.y*w)}}static parsePathData(c){if(!c)return[];var h=c,p=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];h=h.replace(new RegExp(" ","g"),",");for(var f=0;f<p.length;f++)h=h.replace(new RegExp(p[f],"g"),"|"+p[f]);var x=h.split("|"),m=[],w=[],S=0,_=0,R=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,E;for(f=1;f<x.length;f++){var A=x[f],k=A.charAt(0);for(A=A.slice(1),w.length=0;E=R.exec(A);)w.push(E[0]);for(var C=[],N=0,j=w.length;N<j;N++){if(w[N]==="00"){C.push(0,0);continue}var $=parseFloat(w[N]);isNaN($)?C.push(0):C.push($)}for(;C.length>0&&!isNaN(C[0]);){var B="",L=[],H=S,U=_,G,te,O,V,q,J,Z,re,se,Y;switch(k){case"l":S+=C.shift(),_+=C.shift(),B="L",L.push(S,_);break;case"L":S=C.shift(),_=C.shift(),L.push(S,_);break;case"m":var le=C.shift(),oe=C.shift();if(S+=le,_+=oe,B="M",m.length>2&&m[m.length-1].command==="z"){for(var _e=m.length-2;_e>=0;_e--)if(m[_e].command==="M"){S=m[_e].points[0]+le,_=m[_e].points[1]+oe;break}}L.push(S,_),k="l";break;case"M":S=C.shift(),_=C.shift(),B="M",L.push(S,_),k="L";break;case"h":S+=C.shift(),B="L",L.push(S,_);break;case"H":S=C.shift(),B="L",L.push(S,_);break;case"v":_+=C.shift(),B="L",L.push(S,_);break;case"V":_=C.shift(),B="L",L.push(S,_);break;case"C":L.push(C.shift(),C.shift(),C.shift(),C.shift()),S=C.shift(),_=C.shift(),L.push(S,_);break;case"c":L.push(S+C.shift(),_+C.shift(),S+C.shift(),_+C.shift()),S+=C.shift(),_+=C.shift(),B="C",L.push(S,_);break;case"S":te=S,O=_,G=m[m.length-1],G.command==="C"&&(te=S+(S-G.points[2]),O=_+(_-G.points[3])),L.push(te,O,C.shift(),C.shift()),S=C.shift(),_=C.shift(),B="C",L.push(S,_);break;case"s":te=S,O=_,G=m[m.length-1],G.command==="C"&&(te=S+(S-G.points[2]),O=_+(_-G.points[3])),L.push(te,O,S+C.shift(),_+C.shift()),S+=C.shift(),_+=C.shift(),B="C",L.push(S,_);break;case"Q":L.push(C.shift(),C.shift()),S=C.shift(),_=C.shift(),L.push(S,_);break;case"q":L.push(S+C.shift(),_+C.shift()),S+=C.shift(),_+=C.shift(),B="Q",L.push(S,_);break;case"T":te=S,O=_,G=m[m.length-1],G.command==="Q"&&(te=S+(S-G.points[0]),O=_+(_-G.points[1])),S=C.shift(),_=C.shift(),B="Q",L.push(te,O,S,_);break;case"t":te=S,O=_,G=m[m.length-1],G.command==="Q"&&(te=S+(S-G.points[0]),O=_+(_-G.points[1])),S+=C.shift(),_+=C.shift(),B="Q",L.push(te,O,S,_);break;case"A":V=C.shift(),q=C.shift(),J=C.shift(),Z=C.shift(),re=C.shift(),se=S,Y=_,S=C.shift(),_=C.shift(),B="A",L=this.convertEndpointToCenterParameterization(se,Y,S,_,Z,re,V,q,J);break;case"a":V=C.shift(),q=C.shift(),J=C.shift(),Z=C.shift(),re=C.shift(),se=S,Y=_,S+=C.shift(),_+=C.shift(),B="A",L=this.convertEndpointToCenterParameterization(se,Y,S,_,Z,re,V,q,J);break}m.push({command:B||k,points:L,start:{x:H,y:U},pathLength:this.calcLength(H,U,B||k,L)})}(k==="z"||k==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(c,h,p,f){var x,m,w,S,_=wi;switch(p){case"L":return _.getLineLength(c,h,f[0],f[1]);case"C":return(0,o.getCubicArcLength)([c,f[0],f[2],f[4]],[h,f[1],f[3],f[5]],1);case"Q":return(0,o.getQuadraticArcLength)([c,f[0],f[2]],[h,f[1],f[3]],1);case"A":x=0;var R=f[4],E=f[5],A=f[4]+E,k=Math.PI/180;if(Math.abs(R-A)<k&&(k=Math.abs(R-A)),m=_.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],R,0),E<0)for(S=R-k;S>A;S-=k)w=_.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],S,0),x+=_.getLineLength(m.x,m.y,w.x,w.y),m=w;else for(S=R+k;S<A;S+=k)w=_.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],S,0),x+=_.getLineLength(m.x,m.y,w.x,w.y),m=w;return w=_.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],A,0),x+=_.getLineLength(m.x,m.y,w.x,w.y),x}return 0}static convertEndpointToCenterParameterization(c,h,p,f,x,m,w,S,_){var R=_*(Math.PI/180),E=Math.cos(R)*(c-p)/2+Math.sin(R)*(h-f)/2,A=-1*Math.sin(R)*(c-p)/2+Math.cos(R)*(h-f)/2,k=E*E/(w*w)+A*A/(S*S);k>1&&(w*=Math.sqrt(k),S*=Math.sqrt(k));var C=Math.sqrt((w*w*(S*S)-w*w*(A*A)-S*S*(E*E))/(w*w*(A*A)+S*S*(E*E)));x===m&&(C*=-1),isNaN(C)&&(C=0);var N=C*w*A/S,j=C*-S*E/w,$=(c+p)/2+Math.cos(R)*N-Math.sin(R)*j,B=(h+f)/2+Math.sin(R)*N+Math.cos(R)*j,L=function(q){return Math.sqrt(q[0]*q[0]+q[1]*q[1])},H=function(q,J){return(q[0]*J[0]+q[1]*J[1])/(L(q)*L(J))},U=function(q,J){return(q[0]*J[1]<q[1]*J[0]?-1:1)*Math.acos(H(q,J))},G=U([1,0],[(E-N)/w,(A-j)/S]),te=[(E-N)/w,(A-j)/S],O=[(-1*E-N)/w,(-1*A-j)/S],V=U(te,O);return H(te,O)<=-1&&(V=Math.PI),H(te,O)>=1&&(V=0),m===0&&V>0&&(V=V-2*Math.PI),m===1&&V<0&&(V=V+2*Math.PI),[$,B,w,S,G,V,R,m]}};return ad.Path=u,u.prototype.className="Path",u.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(u),e.Factory.addGetterSetter(u,"data"),ad}var fv;function Lw(){if(fv)return sd;fv=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.Arrow=void 0;const e=kt(),t=nx(),r=Mt(),o=Et(),u=$m();let d=class extends t.Line{_sceneFunc(h){super._sceneFunc(h);var p=Math.PI*2,f=this.points(),x=f,m=this.tension()!==0&&f.length>4;m&&(x=this.getTensionPoints());var w=this.pointerLength(),S=f.length,_,R;if(m){const k=[x[x.length-4],x[x.length-3],x[x.length-2],x[x.length-1],f[S-2],f[S-1]],C=u.Path.calcLength(x[x.length-4],x[x.length-3],"C",k),N=u.Path.getPointOnQuadraticBezier(Math.min(1,1-w/C),k[0],k[1],k[2],k[3],k[4],k[5]);_=f[S-2]-N.x,R=f[S-1]-N.y}else _=f[S-2]-f[S-4],R=f[S-1]-f[S-3];var E=(Math.atan2(R,_)+p)%p,A=this.pointerWidth();this.pointerAtEnding()&&(h.save(),h.beginPath(),h.translate(f[S-2],f[S-1]),h.rotate(E),h.moveTo(0,0),h.lineTo(-w,A/2),h.lineTo(-w,-A/2),h.closePath(),h.restore(),this.__fillStroke(h)),this.pointerAtBeginning()&&(h.save(),h.beginPath(),h.translate(f[0],f[1]),m?(_=(x[0]+x[2])/2-f[0],R=(x[1]+x[3])/2-f[1]):(_=f[2]-f[0],R=f[3]-f[1]),h.rotate((Math.atan2(-R,-_)+p)%p),h.moveTo(0,0),h.lineTo(-w,A/2),h.lineTo(-w,-A/2),h.closePath(),h.restore(),this.__fillStroke(h))}__fillStroke(h){var p=this.dashEnabled();p&&(this.attrs.dashEnabled=!1,h.setLineDash([])),h.fillStrokeShape(this),p&&(this.attrs.dashEnabled=!0)}getSelfRect(){const h=super.getSelfRect(),p=this.pointerWidth()/2;return{x:h.x-p,y:h.y-p,width:h.width+p*2,height:h.height+p*2}}};return sd.Arrow=d,d.prototype.className="Arrow",(0,o._registerNode)(d),e.Factory.addGetterSetter(d,"pointerLength",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(d,"pointerWidth",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(d,"pointerAtBeginning",!1),e.Factory.addGetterSetter(d,"pointerAtEnding",!0),sd}var ld={},pv;function Ow(){if(pv)return ld;pv=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.Circle=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();class u extends t.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}}return ld.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"radius",0,(0,r.getNumberValidator)()),ld}var ud={},mv;function Dw(){if(mv)return ud;mv=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.Ellipse=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();let u=class extends t.Shape{_sceneFunc(c){var h=this.radiusX(),p=this.radiusY();c.beginPath(),c.save(),h!==p&&c.scale(1,p/h),c.arc(0,0,h,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return ud.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,o._registerNode)(u),e.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),e.Factory.addGetterSetter(u,"radiusX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"radiusY",0,(0,r.getNumberValidator)()),ud}var cd={},gv;function Fw(){if(gv)return cd;gv=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.Image=void 0;const e=Mn(),t=kt(),r=cr(),o=Et(),u=Mt();let d=class rx extends r.Shape{constructor(h){super(h),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const h=this.image();h&&h.complete||h&&h.readyState===4||h&&h.addEventListener&&h.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(h){const p=this.getWidth(),f=this.getHeight(),x=this.cornerRadius(),m=this.attrs.image;let w;if(m){const S=this.attrs.cropWidth,_=this.attrs.cropHeight;S&&_?w=[m,this.cropX(),this.cropY(),S,_,0,0,p,f]:w=[m,0,0,p,f]}(this.hasFill()||this.hasStroke()||x)&&(h.beginPath(),x?e.Util.drawRoundedRectPath(h,p,f,x):h.rect(0,0,p,f),h.closePath(),h.fillStrokeShape(this)),m&&(x&&h.clip(),h.drawImage.apply(h,w))}_hitFunc(h){var p=this.width(),f=this.height(),x=this.cornerRadius();h.beginPath(),x?e.Util.drawRoundedRectPath(h,p,f,x):h.rect(0,0,p,f),h.closePath(),h.fillStrokeShape(this)}getWidth(){var h,p;return(h=this.attrs.width)!==null&&h!==void 0?h:(p=this.image())===null||p===void 0?void 0:p.width}getHeight(){var h,p;return(h=this.attrs.height)!==null&&h!==void 0?h:(p=this.image())===null||p===void 0?void 0:p.height}static fromURL(h,p,f=null){var x=e.Util.createImageElement();x.onload=function(){var m=new rx({image:x});p(m)},x.onerror=f,x.crossOrigin="Anonymous",x.src=h}};return cd.Image=d,d.prototype.className="Image",(0,o._registerNode)(d),t.Factory.addGetterSetter(d,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(d,"image"),t.Factory.addComponentsGetterSetter(d,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(d,"cropX",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropY",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropWidth",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropHeight",0,(0,u.getNumberValidator)()),cd}var Pl={},vv;function zw(){if(vv)return Pl;vv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.Tag=Pl.Label=void 0;const e=kt(),t=cr(),r=Vm(),o=Mt(),u=Et();var d=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",h="none",p="up",f="right",x="down",m="left",w=d.length;let S=class extends r.Group{constructor(E){super(E),this.on("add.konva",function(A){this._addListeners(A.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(E){var A=this,k,C=function(){A._sync()};for(k=0;k<w;k++)E.on(d[k]+c,C)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var E=this.getText(),A=this.getTag(),k,C,N,j,$,B,L;if(E&&A){switch(k=E.width(),C=E.height(),N=A.pointerDirection(),j=A.pointerWidth(),L=A.pointerHeight(),$=0,B=0,N){case p:$=k/2,B=-1*L;break;case f:$=k+j,B=C/2;break;case x:$=k/2,B=C+L;break;case m:$=-1*j,B=C/2;break}A.setAttrs({x:-1*$,y:-1*B,width:k,height:C}),E.setAttrs({x:-1*$,y:-1*B})}}};Pl.Label=S,S.prototype.className="Label",(0,u._registerNode)(S);class _ extends t.Shape{_sceneFunc(E){var A=this.width(),k=this.height(),C=this.pointerDirection(),N=this.pointerWidth(),j=this.pointerHeight(),$=this.cornerRadius();let B=0,L=0,H=0,U=0;typeof $=="number"?B=L=H=U=Math.min($,A/2,k/2):(B=Math.min($[0]||0,A/2,k/2),L=Math.min($[1]||0,A/2,k/2),U=Math.min($[2]||0,A/2,k/2),H=Math.min($[3]||0,A/2,k/2)),E.beginPath(),E.moveTo(B,0),C===p&&(E.lineTo((A-N)/2,0),E.lineTo(A/2,-1*j),E.lineTo((A+N)/2,0)),E.lineTo(A-L,0),E.arc(A-L,L,L,Math.PI*3/2,0,!1),C===f&&(E.lineTo(A,(k-j)/2),E.lineTo(A+N,k/2),E.lineTo(A,(k+j)/2)),E.lineTo(A,k-U),E.arc(A-U,k-U,U,0,Math.PI/2,!1),C===x&&(E.lineTo((A+N)/2,k),E.lineTo(A/2,k+j),E.lineTo((A-N)/2,k)),E.lineTo(H,k),E.arc(H,k-H,H,Math.PI/2,Math.PI,!1),C===m&&(E.lineTo(0,(k+j)/2),E.lineTo(-1*N,k/2),E.lineTo(0,(k-j)/2)),E.lineTo(0,B),E.arc(B,B,B,Math.PI,Math.PI*3/2,!1),E.closePath(),E.fillStrokeShape(this)}getSelfRect(){var E=0,A=0,k=this.pointerWidth(),C=this.pointerHeight(),N=this.pointerDirection(),j=this.width(),$=this.height();return N===p?(A-=C,$+=C):N===x?$+=C:N===m?(E-=k*1.5,j+=k):N===f&&(j+=k*1.5),{x:E,y:A,width:j,height:$}}}return Pl.Tag=_,_.prototype.className="Tag",(0,u._registerNode)(_),e.Factory.addGetterSetter(_,"pointerDirection",h),e.Factory.addGetterSetter(_,"pointerWidth",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(_,"pointerHeight",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(_,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),Pl}var dd={},yv;function ix(){if(yv)return dd;yv=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.Rect=void 0;const e=kt(),t=cr(),r=Et(),o=Mn(),u=Mt();class d extends t.Shape{_sceneFunc(h){var p=this.cornerRadius(),f=this.width(),x=this.height();h.beginPath(),p?o.Util.drawRoundedRectPath(h,f,x,p):h.rect(0,0,f,x),h.closePath(),h.fillStrokeShape(this)}}return dd.Rect=d,d.prototype.className="Rect",(0,r._registerNode)(d),e.Factory.addGetterSetter(d,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),dd}var hd={},xv;function Uw(){if(xv)return hd;xv=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.RegularPolygon=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();class u extends t.Shape{_sceneFunc(c){const h=this._getPoints();c.beginPath(),c.moveTo(h[0].x,h[0].y);for(var p=1;p<h.length;p++)c.lineTo(h[p].x,h[p].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,h=this.attrs.radius||0,p=[];for(var f=0;f<c;f++)p.push({x:h*Math.sin(f*2*Math.PI/c),y:-1*h*Math.cos(f*2*Math.PI/c)});return p}getSelfRect(){const c=this._getPoints();var h=c[0].x,p=c[0].y,f=c[0].x,x=c[0].y;return c.forEach(m=>{h=Math.min(h,m.x),p=Math.max(p,m.x),f=Math.min(f,m.y),x=Math.max(x,m.y)}),{x:h,y:f,width:p-h,height:x-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}}return hd.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"sides",0,(0,r.getNumberValidator)()),hd}var fd={},wv;function Vw(){if(wv)return fd;wv=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.Ring=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();var u=Math.PI*2;class d extends t.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.innerRadius(),0,u,!1),h.moveTo(this.outerRadius(),0),h.arc(0,0,this.outerRadius(),u,0,!0),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}}return fd.Ring=d,d.prototype.className="Ring",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(d),e.Factory.addGetterSetter(d,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(d,"outerRadius",0,(0,r.getNumberValidator)()),fd}var pd={},Sv;function Bw(){if(Sv)return pd;Sv=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.Sprite=void 0;const e=kt(),t=cr(),r=Bm(),o=Mt(),u=Et();let d=class extends t.Shape{constructor(h){super(h),this._updated=!0,this.anim=new r.Animation(()=>{var p=this._updated;return this._updated=!1,p}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(h){var p=this.animation(),f=this.frameIndex(),x=f*4,m=this.animations()[p],w=this.frameOffsets(),S=m[x+0],_=m[x+1],R=m[x+2],E=m[x+3],A=this.image();if((this.hasFill()||this.hasStroke())&&(h.beginPath(),h.rect(0,0,R,E),h.closePath(),h.fillStrokeShape(this)),A)if(w){var k=w[p],C=f*2;h.drawImage(A,S,_,R,E,k[C+0],k[C+1],R,E)}else h.drawImage(A,S,_,R,E,0,0,R,E)}_hitFunc(h){var p=this.animation(),f=this.frameIndex(),x=f*4,m=this.animations()[p],w=this.frameOffsets(),S=m[x+2],_=m[x+3];if(h.beginPath(),w){var R=w[p],E=f*2;h.rect(R[E+0],R[E+1],S,_)}else h.rect(0,0,S,_);h.closePath(),h.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var h=this;this.interval=setInterval(function(){h._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var h=this.getLayer();this.anim.setLayers(h),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var h=this.frameIndex(),p=this.animation(),f=this.animations(),x=f[p],m=x.length/4;h<m-1?this.frameIndex(h+1):this.frameIndex(0)}};return pd.Sprite=d,d.prototype.className="Sprite",(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"animation"),e.Factory.addGetterSetter(d,"animations"),e.Factory.addGetterSetter(d,"frameOffsets"),e.Factory.addGetterSetter(d,"image"),e.Factory.addGetterSetter(d,"frameIndex",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"frameRate",17,(0,o.getNumberValidator)()),e.Factory.backCompat(d,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),pd}var md={},_v;function $w(){if(_v)return md;_v=1,Object.defineProperty(md,"__esModule",{value:!0}),md.Star=void 0;const e=kt(),t=cr(),r=Mt(),o=Et();class u extends t.Shape{_sceneFunc(c){var h=this.innerRadius(),p=this.outerRadius(),f=this.numPoints();c.beginPath(),c.moveTo(0,0-p);for(var x=1;x<f*2;x++){var m=x%2===0?p:h,w=m*Math.sin(x*Math.PI/f),S=-1*m*Math.cos(x*Math.PI/f);c.lineTo(w,S)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}}return md.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"numPoints",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"outerRadius",0,(0,r.getNumberValidator)()),md}var El={},Cv;function sx(){if(Cv)return El;Cv=1,Object.defineProperty(El,"__esModule",{value:!0}),El.Text=El.stringToArray=void 0;const e=Mn(),t=kt(),r=cr(),o=Mt(),u=Et();function d(le){return Array.from(le)}El.stringToArray=d;var c="auto",h="center",p="inherit",f="justify",x="Change.konva",m="2d",w="-",S="left",_="text",R="Text",E="top",A="bottom",k="middle",C="normal",N="px ",j=" ",$="right",B="rtl",L="word",H="char",U="none",G="",te=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],O=te.length;function V(le){return le.split(",").map(oe=>{oe=oe.trim();const _e=oe.indexOf(" ")>=0,we=oe.indexOf('"')>=0||oe.indexOf("'")>=0;return _e&&!we&&(oe=`"${oe}"`),oe}).join(", ")}var q;function J(){return q||(q=e.Util.createCanvasElement().getContext(m),q)}function Z(le){le.fillText(this._partialText,this._partialTextX,this._partialTextY)}function re(le){le.setAttr("miterLimit",2),le.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function se(le){return le=le||{},!le.fillLinearGradientColorStops&&!le.fillRadialGradientColorStops&&!le.fillPatternImage&&(le.fill=le.fill||"black"),le}class Y extends r.Shape{constructor(oe){super(se(oe)),this._partialTextX=0,this._partialTextY=0;for(var _e=0;_e<O;_e++)this.on(te[_e]+x,this._setTextData);this._setTextData()}_sceneFunc(oe){var _e=this.textArr,we=_e.length;if(this.text()){var Ne=this.padding(),Re=this.fontSize(),ie=this.lineHeight()*Re,fe=this.verticalAlign(),Ce=this.direction(),We=0,De=this.align(),et=this.getWidth(),He=this.letterSpacing(),Zt=this.fill(),St=this.textDecoration(),bn=St.indexOf("underline")!==-1,Ht=St.indexOf("line-through")!==-1,mn;Ce=Ce===p?oe.direction:Ce;var ln=0,ln=ie/2,bt=0,_t=0;for(Ce===B&&oe.setAttr("direction",Ce),oe.setAttr("font",this._getContextFont()),oe.setAttr("textBaseline",k),oe.setAttr("textAlign",S),fe===k?We=(this.getHeight()-we*ie-Ne*2)/2:fe===A&&(We=this.getHeight()-we*ie-Ne*2),oe.translate(Ne,We+Ne),mn=0;mn<we;mn++){var bt=0,_t=0,dr=_e[mn],Kn=dr.text,Nn=dr.width,hn=dr.lastInParagraph,xn,zr,Er;if(oe.save(),De===$?bt+=et-Nn-Ne*2:De===h&&(bt+=(et-Nn-Ne*2)/2),bn){oe.save(),oe.beginPath(),oe.moveTo(bt,ln+_t+Math.round(Re/2)),xn=Kn.split(" ").length-1,zr=xn===0,Er=De===f&&!hn?et-Ne*2:Nn,oe.lineTo(bt+Math.round(Er),ln+_t+Math.round(Re/2)),oe.lineWidth=Re/15;const Rr=this._getLinearGradient();oe.strokeStyle=Rr||Zt,oe.stroke(),oe.restore()}if(Ht){oe.save(),oe.beginPath(),oe.moveTo(bt,ln+_t),xn=Kn.split(" ").length-1,zr=xn===0,Er=De===f&&hn&&!zr?et-Ne*2:Nn,oe.lineTo(bt+Math.round(Er),ln+_t),oe.lineWidth=Re/15;const Rr=this._getLinearGradient();oe.strokeStyle=Rr||Zt,oe.stroke(),oe.restore()}if(Ce!==B&&(He!==0||De===f)){xn=Kn.split(" ").length-1;for(var ai=d(Kn),zn=0;zn<ai.length;zn++){var kr=ai[zn];kr===" "&&!hn&&De===f&&(bt+=(et-Ne*2-Nn)/xn),this._partialTextX=bt,this._partialTextY=ln+_t,this._partialText=kr,oe.fillStrokeShape(this),bt+=this.measureSize(kr).width+He}}else He!==0&&oe.setAttr("letterSpacing",`${He}px`),this._partialTextX=bt,this._partialTextY=ln+_t,this._partialText=Kn,oe.fillStrokeShape(this);oe.restore(),we>1&&(ln+=ie)}}}_hitFunc(oe){var _e=this.getWidth(),we=this.getHeight();oe.beginPath(),oe.rect(0,0,_e,we),oe.closePath(),oe.fillStrokeShape(this)}setText(oe){var _e=e.Util._isString(oe)?oe:oe==null?"":oe+"";return this._setAttr(_,_e),this}getWidth(){var oe=this.attrs.width===c||this.attrs.width===void 0;return oe?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var oe=this.attrs.height===c||this.attrs.height===void 0;return oe?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(oe){var _e=J(),we=this.fontSize(),Ne;return _e.save(),_e.font=this._getContextFont(),Ne=_e.measureText(oe),_e.restore(),{width:Ne.width,height:we}}_getContextFont(){return this.fontStyle()+j+this.fontVariant()+j+(this.fontSize()+N)+V(this.fontFamily())}_addTextLine(oe){this.align()===f&&(oe=oe.trim());var we=this._getTextWidth(oe);return this.textArr.push({text:oe,width:we,lastInParagraph:!1})}_getTextWidth(oe){var _e=this.letterSpacing(),we=oe.length;return J().measureText(oe).width+(we?_e*(we-1):0)}_setTextData(){var oe=this.text().split(`
`),_e=+this.fontSize(),we=0,Ne=this.lineHeight()*_e,Re=this.attrs.width,ie=this.attrs.height,fe=Re!==c&&Re!==void 0,Ce=ie!==c&&ie!==void 0,We=this.padding(),De=Re-We*2,et=ie-We*2,He=0,Zt=this.wrap(),St=Zt!==U,bn=Zt!==H&&St,Ht=this.ellipsis();this.textArr=[],J().font=this._getContextFont();for(var mn=Ht?this._getTextWidth(G):0,ln=0,bt=oe.length;ln<bt;++ln){var _t=oe[ln],dr=this._getTextWidth(_t);if(fe&&dr>De)for(;_t.length>0;){for(var Kn=0,Nn=_t.length,hn="",xn=0;Kn<Nn;){var zr=Kn+Nn>>>1,Er=_t.slice(0,zr+1),ai=this._getTextWidth(Er)+mn;ai<=De?(Kn=zr+1,hn=Er,xn=ai):Nn=zr}if(hn){if(bn){var zn,kr=_t[hn.length],Uo=kr===j||kr===w;Uo&&xn<=De?zn=hn.length:zn=Math.max(hn.lastIndexOf(j),hn.lastIndexOf(w))+1,zn>0&&(Kn=zn,hn=hn.slice(0,Kn),xn=this._getTextWidth(hn))}hn=hn.trimRight(),this._addTextLine(hn),we=Math.max(we,xn),He+=Ne;var Vo=this._shouldHandleEllipsis(He);if(Vo){this._tryToAddEllipsisToLastLine();break}if(_t=_t.slice(Kn),_t=_t.trimLeft(),_t.length>0&&(dr=this._getTextWidth(_t),dr<=De)){this._addTextLine(_t),He+=Ne,we=Math.max(we,dr);break}}else break}else this._addTextLine(_t),He+=Ne,we=Math.max(we,dr),this._shouldHandleEllipsis(He)&&ln<bt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Ce&&He+Ne>et)break}this.textHeight=_e,this.textWidth=we}_shouldHandleEllipsis(oe){var _e=+this.fontSize(),we=this.lineHeight()*_e,Ne=this.attrs.height,Re=Ne!==c&&Ne!==void 0,ie=this.padding(),fe=Ne-ie*2,Ce=this.wrap(),We=Ce!==U;return!We||Re&&oe+we>fe}_tryToAddEllipsisToLastLine(){var oe=this.attrs.width,_e=oe!==c&&oe!==void 0,we=this.padding(),Ne=oe-we*2,Re=this.ellipsis(),ie=this.textArr[this.textArr.length-1];if(!(!ie||!Re)){if(_e){var fe=this._getTextWidth(ie.text+G)<Ne;fe||(ie.text=ie.text.slice(0,ie.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ie.text+G)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const oe=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,_e=this.hasShadow();return oe&&_e?!0:super._useBufferCanvas()}}return El.Text=Y,Y.prototype._fillFunc=Z,Y.prototype._strokeFunc=re,Y.prototype.className=R,Y.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,u._registerNode)(Y),t.Factory.overWriteSetter(Y,"width",(0,o.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(Y,"height",(0,o.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(Y,"direction",p),t.Factory.addGetterSetter(Y,"fontFamily","Arial"),t.Factory.addGetterSetter(Y,"fontSize",12,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(Y,"fontStyle",C),t.Factory.addGetterSetter(Y,"fontVariant",C),t.Factory.addGetterSetter(Y,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(Y,"align",S),t.Factory.addGetterSetter(Y,"verticalAlign",E),t.Factory.addGetterSetter(Y,"lineHeight",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(Y,"wrap",L),t.Factory.addGetterSetter(Y,"ellipsis",!1,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(Y,"letterSpacing",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(Y,"text","",(0,o.getStringValidator)()),t.Factory.addGetterSetter(Y,"textDecoration",""),El}var gd={},Pv;function Gw(){if(Pv)return gd;Pv=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.TextPath=void 0;const e=Mn(),t=kt(),r=cr(),o=$m(),u=sx(),d=Mt(),c=Et();var h="",p="normal";function f(w){w.fillText(this.partialText,0,0)}function x(w){w.strokeText(this.partialText,0,0)}let m=class extends r.Shape{constructor(S){super(S),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return o.Path.getPathLength(this.dataArray)}_getPointAtLength(S){if(!this.attrs.data)return null;const _=this.pathLength;return S-1>_?null:o.Path.getPointAtLengthOfDataArray(S,this.dataArray)}_readDataAttribute(){this.dataArray=o.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(S){S.setAttr("font",this._getContextFont()),S.setAttr("textBaseline",this.textBaseline()),S.setAttr("textAlign","left"),S.save();var _=this.textDecoration(),R=this.fill(),E=this.fontSize(),A=this.glyphInfo;_==="underline"&&S.beginPath();for(var k=0;k<A.length;k++){S.save();var C=A[k].p0;S.translate(C.x,C.y),S.rotate(A[k].rotation),this.partialText=A[k].text,S.fillStrokeShape(this),_==="underline"&&(k===0&&S.moveTo(0,E/2+1),S.lineTo(E,E/2+1)),S.restore()}_==="underline"&&(S.strokeStyle=R,S.lineWidth=E/20,S.stroke()),S.restore()}_hitFunc(S){S.beginPath();var _=this.glyphInfo;if(_.length>=1){var R=_[0].p0;S.moveTo(R.x,R.y)}for(var E=0;E<_.length;E++){var A=_[E].p1;S.lineTo(A.x,A.y)}S.setAttr("lineWidth",this.fontSize()),S.setAttr("strokeStyle",this.colorKey),S.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(S){return u.Text.prototype.setText.call(this,S)}_getContextFont(){return u.Text.prototype._getContextFont.call(this)}_getTextSize(S){var _=this.dummyCanvas,R=_.getContext("2d");R.save(),R.font=this._getContextFont();var E=R.measureText(S);return R.restore(),{width:E.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:S,height:_}=this._getTextSize(this.attrs.text);if(this.textWidth=S,this.textHeight=_,this.glyphInfo=[],!this.attrs.data)return null;const R=this.letterSpacing(),E=this.align(),A=this.kerningFunc(),k=Math.max(this.textWidth+((this.attrs.text||"").length-1)*R,0);let C=0;E==="center"&&(C=Math.max(0,this.pathLength/2-k/2)),E==="right"&&(C=Math.max(0,this.pathLength-k));const N=(0,u.stringToArray)(this.text());let j=C;for(var $=0;$<N.length;$++){const B=this._getPointAtLength(j);if(!B)return;let L=this._getTextSize(N[$]).width+R;if(N[$]===" "&&E==="justify"){const V=this.text().split(" ").length-1;L+=(this.pathLength-k)/V}const H=this._getPointAtLength(j+L);if(!H)return;const U=o.Path.getLineLength(B.x,B.y,H.x,H.y);let G=0;if(A)try{G=A(N[$-1],N[$])*this.fontSize()}catch{G=0}B.x+=G,H.x+=G,this.textWidth+=G;const te=o.Path.getPointOnLine(G+U/2,B.x,B.y,H.x,H.y),O=Math.atan2(H.y-B.y,H.x-B.x);this.glyphInfo.push({transposeX:te.x,transposeY:te.y,text:N[$],rotation:O,p0:B,p1:H}),j+=L}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var S=[];this.glyphInfo.forEach(function($){S.push($.p0.x),S.push($.p0.y),S.push($.p1.x),S.push($.p1.y)});for(var _=S[0]||0,R=S[0]||0,E=S[1]||0,A=S[1]||0,k,C,N=0;N<S.length/2;N++)k=S[N*2],C=S[N*2+1],_=Math.min(_,k),R=Math.max(R,k),E=Math.min(E,C),A=Math.max(A,C);var j=this.fontSize();return{x:_-j/2,y:E-j/2,width:R-_+j,height:A-E+j}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return gd.TextPath=m,m.prototype._fillFunc=f,m.prototype._strokeFunc=x,m.prototype._fillFuncHit=f,m.prototype._strokeFuncHit=x,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(m),t.Factory.addGetterSetter(m,"data"),t.Factory.addGetterSetter(m,"fontFamily","Arial"),t.Factory.addGetterSetter(m,"fontSize",12,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(m,"fontStyle",p),t.Factory.addGetterSetter(m,"align","left"),t.Factory.addGetterSetter(m,"letterSpacing",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(m,"textBaseline","middle"),t.Factory.addGetterSetter(m,"fontVariant",p),t.Factory.addGetterSetter(m,"text",h),t.Factory.addGetterSetter(m,"textDecoration",null),t.Factory.addGetterSetter(m,"kerningFunc",null),gd}var vd={},Ev;function Ww(){if(Ev)return vd;Ev=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.Transformer=void 0;const e=Mn(),t=kt(),r=Fn(),o=cr(),u=ix(),d=Vm(),c=Et(),h=Mt(),p=Et();var f="tr-konva",x=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(B=>B+`.${f}`).join(" "),m="nodesRect",w=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],S={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const _="ontouchstart"in c.Konva._global;function R(B,L,H){if(B==="rotater")return H;L+=e.Util.degToRad(S[B]||0);var U=(e.Util.radToDeg(L)%360+360)%360;return e.Util._inRange(U,315+22.5,360)||e.Util._inRange(U,0,22.5)?"ns-resize":e.Util._inRange(U,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(U,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(U,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(U,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(U,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(U,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(U,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+U),"pointer")}var E=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function A(B){return{x:B.x+B.width/2*Math.cos(B.rotation)+B.height/2*Math.sin(-B.rotation),y:B.y+B.height/2*Math.cos(B.rotation)+B.width/2*Math.sin(B.rotation)}}function k(B,L,H){const U=H.x+(B.x-H.x)*Math.cos(L)-(B.y-H.y)*Math.sin(L),G=H.y+(B.x-H.x)*Math.sin(L)+(B.y-H.y)*Math.cos(L);return{...B,rotation:B.rotation+L,x:U,y:G}}function C(B,L){const H=A(B);return k(B,L,H)}function N(B,L,H){let U=L;for(let G=0;G<B.length;G++){const te=c.Konva.getAngle(B[G]),O=Math.abs(te-L)%(Math.PI*2);Math.min(O,Math.PI*2-O)<H&&(U=te)}return U}let j=class extends d.Group{constructor(L){super(L),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(x,this.update),this.getNode()&&this.update()}attachTo(L){return this.setNode(L),this}setNode(L){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([L])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(L=[]){this._nodes&&this._nodes.length&&this.detach();const H=L.filter(G=>G.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=L=H,L.length===1&&this.useSingleNodeRotation()?this.rotation(L[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(G=>{const te=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},O=G._attrsAffectingSize.map(V=>V+"Change."+this._getEventNamespace()).join(" ");G.on(O,te),G.on(w.map(V=>V+`.${this._getEventNamespace()}`).join(" "),te),G.on(`absoluteTransformChange.${this._getEventNamespace()}`,te),this._proxyDrag(G)}),this._resetTransformCache();var U=!!this.findOne(".top-left");return U&&this.update(),this}_proxyDrag(L){let H;L.on(`dragstart.${this._getEventNamespace()}`,U=>{H=L.getAbsolutePosition(),!this.isDragging()&&L!==this.findOne(".back")&&this.startDrag(U,!1)}),L.on(`dragmove.${this._getEventNamespace()}`,U=>{if(!H)return;const G=L.getAbsolutePosition(),te=G.x-H.x,O=G.y-H.y;this.nodes().forEach(V=>{if(V===L||V.isDragging())return;const q=V.getAbsolutePosition();V.setAbsolutePosition({x:q.x+te,y:q.y+O}),V.startDrag(U)}),H=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(L=>{L.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(L,H=this.rotation(),U){var G=L.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),te=L.getAbsoluteScale(U),O=L.getAbsolutePosition(U),V=G.x*te.x-L.offsetX()*te.x,q=G.y*te.y-L.offsetY()*te.y;const J=(c.Konva.getAngle(L.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),Z={x:O.x+V*Math.cos(J)+q*Math.sin(-J),y:O.y+q*Math.cos(J)+V*Math.sin(J),width:G.width*te.x,height:G.height*te.y,rotation:J};return k(Z,-c.Konva.getAngle(H),{x:0,y:0})}__getNodeRect(){var L=this.getNode();if(!L)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const H=[];this.nodes().map(J=>{const Z=J.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var re=[{x:Z.x,y:Z.y},{x:Z.x+Z.width,y:Z.y},{x:Z.x+Z.width,y:Z.y+Z.height},{x:Z.x,y:Z.y+Z.height}],se=J.getAbsoluteTransform();re.forEach(function(Y){var le=se.point(Y);H.push(le)})});const U=new e.Transform;U.rotate(-c.Konva.getAngle(this.rotation()));var G=1/0,te=1/0,O=-1/0,V=-1/0;H.forEach(function(J){var Z=U.point(J);G===void 0&&(G=O=Z.x,te=V=Z.y),G=Math.min(G,Z.x),te=Math.min(te,Z.y),O=Math.max(O,Z.x),V=Math.max(V,Z.y)}),U.invert();const q=U.point({x:G,y:te});return{x:q.x,y:q.y,width:O-G,height:V-te,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),E.forEach(L=>{this._createAnchor(L)}),this._createAnchor("rotater")}_createAnchor(L){var H=new u.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:L+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),U=this;H.on("mousedown touchstart",function(G){U._handleMouseDown(G)}),H.on("dragstart",G=>{H.stopDrag(),G.cancelBubble=!0}),H.on("dragend",G=>{G.cancelBubble=!0}),H.on("mouseenter",()=>{var G=c.Konva.getAngle(this.rotation()),te=this.rotateAnchorCursor(),O=R(L,G,te);H.getStage().content&&(H.getStage().content.style.cursor=O),this._cursorChange=!0}),H.on("mouseout",()=>{H.getStage().content&&(H.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(H)}_createBack(){var L=new o.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(H,U){var G=U.getParent(),te=G.padding();H.beginPath(),H.rect(-te,-te,U.width()+te*2,U.height()+te*2),H.moveTo(U.width()/2,-te),G.rotateEnabled()&&H.lineTo(U.width()/2,-G.rotateAnchorOffset()*e.Util._sign(U.height())-te),H.fillStrokeShape(U)},hitFunc:(H,U)=>{if(this.shouldOverdrawWholeArea()){var G=this.padding();H.beginPath(),H.rect(-G,-G,U.width()+G*2,U.height()+G*2),H.fillStrokeShape(U)}}});this.add(L),this._proxyDrag(L),L.on("dragstart",H=>{H.cancelBubble=!0}),L.on("dragmove",H=>{H.cancelBubble=!0}),L.on("dragend",H=>{H.cancelBubble=!0}),this.on("dragmove",H=>{this.update()})}_handleMouseDown(L){this._movingAnchorName=L.target.name().split(" ")[0];var H=this._getNodeRect(),U=H.width,G=H.height,te=Math.sqrt(Math.pow(U,2)+Math.pow(G,2));this.sin=Math.abs(G/te),this.cos=Math.abs(U/te),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var O=L.target.getAbsolutePosition(),V=L.target.getStage().getPointerPosition();this._anchorDragOffset={x:V.x-O.x,y:V.y-O.y},this._fire("transformstart",{evt:L.evt,target:this.getNode()}),this._nodes.forEach(q=>{q._fire("transformstart",{evt:L.evt,target:q})})}_handleMouseMove(L){var H,U,G,te=this.findOne("."+this._movingAnchorName),O=te.getStage();O.setPointersPositions(L);const V=O.getPointerPosition();let q={x:V.x-this._anchorDragOffset.x,y:V.y-this._anchorDragOffset.y};const J=te.getAbsolutePosition();this.anchorDragBoundFunc()&&(q=this.anchorDragBoundFunc()(J,q,L)),te.setAbsolutePosition(q);const Z=te.getAbsolutePosition();if(!(J.x===Z.x&&J.y===Z.y)){if(this._movingAnchorName==="rotater"){var re=this._getNodeRect();H=te.x()-re.width/2,U=-te.y()+re.height/2;let bn=Math.atan2(-U,H)+Math.PI/2;re.height<0&&(bn-=Math.PI);var se=c.Konva.getAngle(this.rotation());const Ht=se+bn,mn=c.Konva.getAngle(this.rotationSnapTolerance()),bt=N(this.rotationSnaps(),Ht,mn)-re.rotation,_t=C(re,bt);this._fitNodesInto(_t,L);return}var Y=this.shiftBehavior(),le;Y==="inverted"?le=this.keepRatio()&&!L.shiftKey:Y==="none"?le=this.keepRatio():le=this.keepRatio()||L.shiftKey;var Re=this.centeredScaling()||L.altKey;if(this._movingAnchorName==="top-left"){if(le){var oe=Re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};G=Math.sqrt(Math.pow(oe.x-te.x(),2)+Math.pow(oe.y-te.y(),2));var _e=this.findOne(".top-left").x()>oe.x?-1:1,we=this.findOne(".top-left").y()>oe.y?-1:1;H=G*this.cos*_e,U=G*this.sin*we,this.findOne(".top-left").x(oe.x-H),this.findOne(".top-left").y(oe.y-U)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(te.y());else if(this._movingAnchorName==="top-right"){if(le){var oe=Re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};G=Math.sqrt(Math.pow(te.x()-oe.x,2)+Math.pow(oe.y-te.y(),2));var _e=this.findOne(".top-right").x()<oe.x?-1:1,we=this.findOne(".top-right").y()>oe.y?-1:1;H=G*this.cos*_e,U=G*this.sin*we,this.findOne(".top-right").x(oe.x+H),this.findOne(".top-right").y(oe.y-U)}var Ne=te.position();this.findOne(".top-left").y(Ne.y),this.findOne(".bottom-right").x(Ne.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(te.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(te.x());else if(this._movingAnchorName==="bottom-left"){if(le){var oe=Re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};G=Math.sqrt(Math.pow(oe.x-te.x(),2)+Math.pow(te.y()-oe.y,2));var _e=oe.x<te.x()?-1:1,we=te.y()<oe.y?-1:1;H=G*this.cos*_e,U=G*this.sin*we,te.x(oe.x-H),te.y(oe.y+U)}Ne=te.position(),this.findOne(".top-left").x(Ne.x),this.findOne(".bottom-right").y(Ne.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(te.y());else if(this._movingAnchorName==="bottom-right"){if(le){var oe=Re?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};G=Math.sqrt(Math.pow(te.x()-oe.x,2)+Math.pow(te.y()-oe.y,2));var _e=this.findOne(".bottom-right").x()<oe.x?-1:1,we=this.findOne(".bottom-right").y()<oe.y?-1:1;H=G*this.cos*_e,U=G*this.sin*we,this.findOne(".bottom-right").x(oe.x+H),this.findOne(".bottom-right").y(oe.y+U)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Re=this.centeredScaling()||L.altKey;if(Re){var ie=this.findOne(".top-left"),fe=this.findOne(".bottom-right"),Ce=ie.x(),We=ie.y(),De=this.getWidth()-fe.x(),et=this.getHeight()-fe.y();fe.move({x:-Ce,y:-We}),ie.move({x:De,y:et})}var He=this.findOne(".top-left").getAbsolutePosition();H=He.x,U=He.y;var Zt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),St=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:H,y:U,width:Zt,height:St,rotation:c.Konva.getAngle(this.rotation())},L)}}_handleMouseUp(L){this._removeEvents(L)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(L){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var H=this.getNode();this._fire("transformend",{evt:L,target:H}),H&&this._nodes.forEach(U=>{U._fire("transformend",{evt:L,target:U})}),this._movingAnchorName=null}}_fitNodesInto(L,H){var U=this._getNodeRect();const G=1;if(e.Util._inRange(L.width,-this.padding()*2-G,G)){this.update();return}if(e.Util._inRange(L.height,-this.padding()*2-G,G)){this.update();return}var te=new e.Transform;if(te.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&L.width<0&&this._movingAnchorName.indexOf("left")>=0){const se=te.point({x:-this.padding()*2,y:0});L.x+=se.x,L.y+=se.y,L.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y}else if(this._movingAnchorName&&L.width<0&&this._movingAnchorName.indexOf("right")>=0){const se=te.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,L.width+=this.padding()*2}if(this._movingAnchorName&&L.height<0&&this._movingAnchorName.indexOf("top")>=0){const se=te.point({x:0,y:-this.padding()*2});L.x+=se.x,L.y+=se.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,L.height+=this.padding()*2}else if(this._movingAnchorName&&L.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const se=te.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,L.height+=this.padding()*2}if(this.boundBoxFunc()){const se=this.boundBoxFunc()(U,L);se?L=se:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const O=1e7,V=new e.Transform;V.translate(U.x,U.y),V.rotate(U.rotation),V.scale(U.width/O,U.height/O);const q=new e.Transform,J=L.width/O,Z=L.height/O;this.flipEnabled()===!1?(q.translate(L.x,L.y),q.rotate(L.rotation),q.translate(L.width<0?L.width:0,L.height<0?L.height:0),q.scale(Math.abs(J),Math.abs(Z))):(q.translate(L.x,L.y),q.rotate(L.rotation),q.scale(J,Z));const re=q.multiply(V.invert());this._nodes.forEach(se=>{var Y;const le=se.getParent().getAbsoluteTransform(),oe=se.getTransform().copy();oe.translate(se.offsetX(),se.offsetY());const _e=new e.Transform;_e.multiply(le.copy().invert()).multiply(re).multiply(le).multiply(oe);const we=_e.decompose();se.setAttrs(we),this._fire("transform",{evt:H,target:se}),se._fire("transform",{evt:H,target:se}),(Y=se.getLayer())===null||Y===void 0||Y.batchDraw()}),this.rotation(e.Util._getRotation(L.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(L,H){this.findOne(L).setAttrs(H)}update(){var L,H=this._getNodeRect();this.rotation(e.Util._getRotation(H.rotation));var U=H.width,G=H.height,te=this.enabledAnchors(),O=this.resizeEnabled(),V=this.padding(),q=this.anchorSize();const J=this.find("._anchor");J.forEach(re=>{re.setAttrs({width:q,height:q,offsetX:q/2,offsetY:q/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:q/2+V,offsetY:q/2+V,visible:O&&te.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:U/2,y:0,offsetY:q/2+V,visible:O&&te.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:U,y:0,offsetX:q/2-V,offsetY:q/2+V,visible:O&&te.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:G/2,offsetX:q/2+V,visible:O&&te.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:U,y:G/2,offsetX:q/2-V,visible:O&&te.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:G,offsetX:q/2+V,offsetY:q/2-V,visible:O&&te.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:U/2,y:G,offsetY:q/2-V,visible:O&&te.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:U,y:G,offsetX:q/2-V,offsetY:q/2-V,visible:O&&te.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:U/2,y:-this.rotateAnchorOffset()*e.Util._sign(G)-V,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:U,height:G,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const Z=this.anchorStyleFunc();Z&&J.forEach(re=>{Z(re)}),(L=this.getLayer())===null||L===void 0||L.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var L=this.findOne("."+this._movingAnchorName);L&&L.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),d.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(L){var H=r.Node.prototype.clone.call(this,L);return H}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};vd.Transformer=j;function $(B){return B instanceof Array||e.Util.warn("enabledAnchors value should be an array"),B instanceof Array&&B.forEach(function(L){E.indexOf(L)===-1&&e.Util.warn("Unknown anchor name: "+L+". Available names are: "+E.join(", "))}),B||[]}return j.prototype.className="Transformer",(0,p._registerNode)(j),t.Factory.addGetterSetter(j,"enabledAnchors",E,$),t.Factory.addGetterSetter(j,"flipEnabled",!0,(0,h.getBooleanValidator)()),t.Factory.addGetterSetter(j,"resizeEnabled",!0),t.Factory.addGetterSetter(j,"anchorSize",10,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"rotateEnabled",!0),t.Factory.addGetterSetter(j,"rotationSnaps",[]),t.Factory.addGetterSetter(j,"rotateAnchorOffset",50,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(j,"rotationSnapTolerance",5,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderEnabled",!0),t.Factory.addGetterSetter(j,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(j,"anchorStrokeWidth",1,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"anchorFill","white"),t.Factory.addGetterSetter(j,"anchorCornerRadius",0,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(j,"borderStrokeWidth",1,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderDash"),t.Factory.addGetterSetter(j,"keepRatio",!0),t.Factory.addGetterSetter(j,"shiftBehavior","default"),t.Factory.addGetterSetter(j,"centeredScaling",!1),t.Factory.addGetterSetter(j,"ignoreStroke",!1),t.Factory.addGetterSetter(j,"padding",0,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(j,"node"),t.Factory.addGetterSetter(j,"nodes"),t.Factory.addGetterSetter(j,"boundBoxFunc"),t.Factory.addGetterSetter(j,"anchorDragBoundFunc"),t.Factory.addGetterSetter(j,"anchorStyleFunc"),t.Factory.addGetterSetter(j,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(j,"useSingleNodeRotation",!0),t.Factory.backCompat(j,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),vd}var yd={},kv;function qw(){if(kv)return yd;kv=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.Wedge=void 0;const e=kt(),t=cr(),r=Et(),o=Mt(),u=Et();let d=class extends t.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),h.lineTo(0,0),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius(h/2)}setHeight(h){this.radius(h/2)}};return yd.Wedge=d,d.prototype.className="Wedge",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"radius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"angle",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(d,"clockwise",!1),e.Factory.backCompat(d,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),yd}var xd={},Rv;function Hw(){if(Rv)return xd;Rv=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.Blur=void 0;const e=kt(),t=Fn(),r=Mt();function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(p,f){var x=p.data,m=p.width,w=p.height,S,_,R,E,A,k,C,N,j,$,B,L,H,U,G,te,O,V,q,J,Z,re,se,Y,le=f+f+1,oe=m-1,_e=w-1,we=f+1,Ne=we*(we+1)/2,Re=new o,ie=null,fe=Re,Ce=null,We=null,De=u[f],et=d[f];for(R=1;R<le;R++)fe=fe.next=new o,R===we&&(ie=fe);for(fe.next=Re,C=k=0,_=0;_<w;_++){for(te=O=V=q=N=j=$=B=0,L=we*(J=x[k]),H=we*(Z=x[k+1]),U=we*(re=x[k+2]),G=we*(se=x[k+3]),N+=Ne*J,j+=Ne*Z,$+=Ne*re,B+=Ne*se,fe=Re,R=0;R<we;R++)fe.r=J,fe.g=Z,fe.b=re,fe.a=se,fe=fe.next;for(R=1;R<we;R++)E=k+((oe<R?oe:R)<<2),N+=(fe.r=J=x[E])*(Y=we-R),j+=(fe.g=Z=x[E+1])*Y,$+=(fe.b=re=x[E+2])*Y,B+=(fe.a=se=x[E+3])*Y,te+=J,O+=Z,V+=re,q+=se,fe=fe.next;for(Ce=Re,We=ie,S=0;S<m;S++)x[k+3]=se=B*De>>et,se!==0?(se=255/se,x[k]=(N*De>>et)*se,x[k+1]=(j*De>>et)*se,x[k+2]=($*De>>et)*se):x[k]=x[k+1]=x[k+2]=0,N-=L,j-=H,$-=U,B-=G,L-=Ce.r,H-=Ce.g,U-=Ce.b,G-=Ce.a,E=C+((E=S+f+1)<oe?E:oe)<<2,te+=Ce.r=x[E],O+=Ce.g=x[E+1],V+=Ce.b=x[E+2],q+=Ce.a=x[E+3],N+=te,j+=O,$+=V,B+=q,Ce=Ce.next,L+=J=We.r,H+=Z=We.g,U+=re=We.b,G+=se=We.a,te-=J,O-=Z,V-=re,q-=se,We=We.next,k+=4;C+=m}for(S=0;S<m;S++){for(O=V=q=te=j=$=B=N=0,k=S<<2,L=we*(J=x[k]),H=we*(Z=x[k+1]),U=we*(re=x[k+2]),G=we*(se=x[k+3]),N+=Ne*J,j+=Ne*Z,$+=Ne*re,B+=Ne*se,fe=Re,R=0;R<we;R++)fe.r=J,fe.g=Z,fe.b=re,fe.a=se,fe=fe.next;for(A=m,R=1;R<=f;R++)k=A+S<<2,N+=(fe.r=J=x[k])*(Y=we-R),j+=(fe.g=Z=x[k+1])*Y,$+=(fe.b=re=x[k+2])*Y,B+=(fe.a=se=x[k+3])*Y,te+=J,O+=Z,V+=re,q+=se,fe=fe.next,R<_e&&(A+=m);for(k=S,Ce=Re,We=ie,_=0;_<w;_++)E=k<<2,x[E+3]=se=B*De>>et,se>0?(se=255/se,x[E]=(N*De>>et)*se,x[E+1]=(j*De>>et)*se,x[E+2]=($*De>>et)*se):x[E]=x[E+1]=x[E+2]=0,N-=L,j-=H,$-=U,B-=G,L-=Ce.r,H-=Ce.g,U-=Ce.b,G-=Ce.a,E=S+((E=_+we)<_e?E:_e)*m<<2,N+=te+=Ce.r=x[E],j+=O+=Ce.g=x[E+1],$+=V+=Ce.b=x[E+2],B+=q+=Ce.a=x[E+3],Ce=Ce.next,L+=J=We.r,H+=Z=We.g,U+=re=We.b,G+=se=We.a,te-=J,O-=Z,V-=re,q-=se,We=We.next,k+=m}}const h=function(f){var x=Math.round(this.blurRadius());x>0&&c(f,x)};return xd.Blur=h,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),xd}var wd={},Tv;function Kw(){if(Tv)return wd;Tv=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.Brighten=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=this.brightness()*255,c=u.data,h=c.length,p;for(p=0;p<h;p+=4)c[p]+=d,c[p+1]+=d,c[p+2]+=d};return wd.Brighten=o,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),wd}var Sd={},Mv;function Yw(){if(Mv)return Sd;Mv=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Contrast=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=Math.pow((this.contrast()+100)/100,2),c=u.data,h=c.length,p=150,f=150,x=150,m;for(m=0;m<h;m+=4)p=c[m],f=c[m+1],x=c[m+2],p/=255,p-=.5,p*=d,p+=.5,p*=255,f/=255,f-=.5,f*=d,f+=.5,f*=255,x/=255,x-=.5,x*=d,x+=.5,x*=255,p=p<0?0:p>255?255:p,f=f<0?0:f>255?255:f,x=x<0?0:x>255?255:x,c[m]=p,c[m+1]=f,c[m+2]=x};return Sd.Contrast=o,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Sd}var _d={},bv;function Xw(){if(bv)return _d;bv=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.Emboss=void 0;const e=kt(),t=Fn(),r=Mn(),o=Mt(),u=function(d){var c=this.embossStrength()*10,h=this.embossWhiteLevel()*255,p=this.embossDirection(),f=this.embossBlend(),x=0,m=0,w=d.data,S=d.width,_=d.height,R=S*4,E=_;switch(p){case"top-left":x=-1,m=-1;break;case"top":x=-1,m=0;break;case"top-right":x=-1,m=1;break;case"right":x=0,m=1;break;case"bottom-right":x=1,m=1;break;case"bottom":x=1,m=0;break;case"bottom-left":x=1,m=-1;break;case"left":x=0,m=-1;break;default:r.Util.error("Unknown emboss direction: "+p)}do{var A=(E-1)*R,k=x;E+k<1&&(k=0),E+k>_&&(k=0);var C=(E-1+k)*S*4,N=S;do{var j=A+(N-1)*4,$=m;N+$<1&&($=0),N+$>S&&($=0);var B=C+(N-1+$)*4,L=w[j]-w[B],H=w[j+1]-w[B+1],U=w[j+2]-w[B+2],G=L,te=G>0?G:-G,O=H>0?H:-H,V=U>0?U:-U;if(O>te&&(G=H),V>te&&(G=U),G*=c,f){var q=w[j]+G,J=w[j+1]+G,Z=w[j+2]+G;w[j]=q>255?255:q<0?0:q,w[j+1]=J>255?255:J<0?0:J,w[j+2]=Z>255?255:Z<0?0:Z}else{var re=h-G;re<0?re=0:re>255&&(re=255),w[j]=w[j+1]=w[j+2]=re}}while(--N)}while(--E)};return _d.Emboss=u,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",null,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,null,e.Factory.afterSetFilter),_d}var Cd={},Nv;function Qw(){if(Nv)return Cd;Nv=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.Enhance=void 0;const e=kt(),t=Fn(),r=Mt();function o(d,c,h,p,f){var x=h-c,m=f-p,w;return x===0?p+m/2:m===0?p:(w=(d-c)/x,w=m*w+p,w)}const u=function(d){var c=d.data,h=c.length,p=c[0],f=p,x,m=c[1],w=m,S,_=c[2],R=_,E,A,k=this.enhance();if(k!==0){for(A=0;A<h;A+=4)x=c[A+0],x<p?p=x:x>f&&(f=x),S=c[A+1],S<m?m=S:S>w&&(w=S),E=c[A+2],E<_?_=E:E>R&&(R=E);f===p&&(f=255,p=0),w===m&&(w=255,m=0),R===_&&(R=255,_=0);var C,N,j,$,B,L,H,U,G;for(k>0?(N=f+k*(255-f),j=p-k*(p-0),B=w+k*(255-w),L=m-k*(m-0),U=R+k*(255-R),G=_-k*(_-0)):(C=(f+p)*.5,N=f+k*(f-C),j=p+k*(p-C),$=(w+m)*.5,B=w+k*(w-$),L=m+k*(m-$),H=(R+_)*.5,U=R+k*(R-H),G=_+k*(_-H)),A=0;A<h;A+=4)c[A+0]=o(c[A+0],p,f,j,N),c[A+1]=o(c[A+1],m,w,L,B),c[A+2]=o(c[A+2],_,R,G,U)}};return Cd.Enhance=u,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Cd}var Pd={},Av;function Zw(){if(Av)return Pd;Av=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.Grayscale=void 0;const e=function(t){var r=t.data,o=r.length,u,d;for(u=0;u<o;u+=4)d=.34*r[u]+.5*r[u+1]+.16*r[u+2],r[u]=d,r[u+1]=d,r[u+2]=d};return Pd.Grayscale=e,Pd}var Ed={},jv;function Jw(){if(jv)return Ed;jv=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.HSL=void 0;const e=kt(),t=Fn(),r=Mt();e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter);const o=function(u){var d=u.data,c=d.length,h=1,p=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,x=this.luminance()*127,m,w=h*p*Math.cos(f*Math.PI/180),S=h*p*Math.sin(f*Math.PI/180),_=.299*h+.701*w+.167*S,R=.587*h-.587*w+.33*S,E=.114*h-.114*w-.497*S,A=.299*h-.299*w-.328*S,k=.587*h+.413*w+.035*S,C=.114*h-.114*w+.293*S,N=.299*h-.3*w+1.25*S,j=.587*h-.586*w-1.05*S,$=.114*h+.886*w-.2*S,B,L,H,U;for(m=0;m<c;m+=4)B=d[m+0],L=d[m+1],H=d[m+2],U=d[m+3],d[m+0]=_*B+R*L+E*H+x,d[m+1]=A*B+k*L+C*H+x,d[m+2]=N*B+j*L+$*H+x,d[m+3]=U};return Ed.HSL=o,Ed}var kd={},Iv;function eS(){if(Iv)return kd;Iv=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.HSV=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=u.data,c=d.length,h=Math.pow(2,this.value()),p=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,x,m=h*p*Math.cos(f*Math.PI/180),w=h*p*Math.sin(f*Math.PI/180),S=.299*h+.701*m+.167*w,_=.587*h-.587*m+.33*w,R=.114*h-.114*m-.497*w,E=.299*h-.299*m-.328*w,A=.587*h+.413*m+.035*w,k=.114*h-.114*m+.293*w,C=.299*h-.3*m+1.25*w,N=.587*h-.586*m-1.05*w,j=.114*h+.886*m-.2*w,$,B,L,H;for(x=0;x<c;x+=4)$=d[x+0],B=d[x+1],L=d[x+2],H=d[x+3],d[x+0]=S*$+_*B+R*L,d[x+1]=E*$+A*B+k*L,d[x+2]=C*$+N*B+j*L,d[x+3]=H};return kd.HSV=o,e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),kd}var Rd={},Lv;function tS(){if(Lv)return Rd;Lv=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Invert=void 0;const e=function(t){var r=t.data,o=r.length,u;for(u=0;u<o;u+=4)r[u]=255-r[u],r[u+1]=255-r[u+1],r[u+2]=255-r[u+2]};return Rd.Invert=e,Rd}var Td={},Ov;function nS(){if(Ov)return Td;Ov=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.Kaleidoscope=void 0;const e=kt(),t=Fn(),r=Mn(),o=Mt();var u=function(h,p,f){var x=h.data,m=p.data,w=h.width,S=h.height,_=f.polarCenterX||w/2,R=f.polarCenterY||S/2,E,A,k,C=0,N=0,j=0,$=0,B,L=Math.sqrt(_*_+R*R);A=w-_,k=S-R,B=Math.sqrt(A*A+k*k),L=B>L?B:L;var H=S,U=w,G,te,O=360/U*Math.PI/180,V,q;for(te=0;te<U;te+=1)for(V=Math.sin(te*O),q=Math.cos(te*O),G=0;G<H;G+=1)A=Math.floor(_+L*G/H*q),k=Math.floor(R+L*G/H*V),E=(k*w+A)*4,C=x[E+0],N=x[E+1],j=x[E+2],$=x[E+3],E=(te+G*w)*4,m[E+0]=C,m[E+1]=N,m[E+2]=j,m[E+3]=$},d=function(h,p,f){var x=h.data,m=p.data,w=h.width,S=h.height,_=f.polarCenterX||w/2,R=f.polarCenterY||S/2,E,A,k,C,N,j=0,$=0,B=0,L=0,H,U=Math.sqrt(_*_+R*R);A=w-_,k=S-R,H=Math.sqrt(A*A+k*k),U=H>U?H:U;var G=S,te=w,O,V,q=0,J,Z;for(A=0;A<w;A+=1)for(k=0;k<S;k+=1)C=A-_,N=k-R,O=Math.sqrt(C*C+N*N)*G/U,V=(Math.atan2(N,C)*180/Math.PI+360+q)%360,V=V*te/360,J=Math.floor(V),Z=Math.floor(O),E=(Z*w+J)*4,j=x[E+0],$=x[E+1],B=x[E+2],L=x[E+3],E=(k*w+A)*4,m[E+0]=j,m[E+1]=$,m[E+2]=B,m[E+3]=L};const c=function(h){var p=h.width,f=h.height,x,m,w,S,_,R,E,A,k,C,N=Math.round(this.kaleidoscopePower()),j=Math.round(this.kaleidoscopeAngle()),$=Math.floor(p*(j%360)/360);if(!(N<1)){var B=r.Util.createCanvasElement();B.width=p,B.height=f;var L=B.getContext("2d").getImageData(0,0,p,f);r.Util.releaseCanvas(B),u(h,L,{polarCenterX:p/2,polarCenterY:f/2});for(var H=p/Math.pow(2,N);H<=8;)H=H*2,N-=1;H=Math.ceil(H);var U=H,G=0,te=U,O=1;for($+H>p&&(G=U,te=0,O=-1),m=0;m<f;m+=1)for(x=G;x!==te;x+=O)w=Math.round(x+$)%p,k=(p*m+w)*4,_=L.data[k+0],R=L.data[k+1],E=L.data[k+2],A=L.data[k+3],C=(p*m+x)*4,L.data[C+0]=_,L.data[C+1]=R,L.data[C+2]=E,L.data[C+3]=A;for(m=0;m<f;m+=1)for(U=Math.floor(H),S=0;S<N;S+=1){for(x=0;x<U+1;x+=1)k=(p*m+x)*4,_=L.data[k+0],R=L.data[k+1],E=L.data[k+2],A=L.data[k+3],C=(p*m+U*2-x-1)*4,L.data[C+0]=_,L.data[C+1]=R,L.data[C+2]=E,L.data[C+3]=A;U*=2}d(L,h,{})}};return Td.Kaleidoscope=c,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),Td}var Md={},Dv;function rS(){if(Dv)return Md;Dv=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.Mask=void 0;const e=kt(),t=Fn(),r=Mt();function o(w,S,_){var R=(_*w.width+S)*4,E=[];return E.push(w.data[R++],w.data[R++],w.data[R++],w.data[R++]),E}function u(w,S){return Math.sqrt(Math.pow(w[0]-S[0],2)+Math.pow(w[1]-S[1],2)+Math.pow(w[2]-S[2],2))}function d(w){for(var S=[0,0,0],_=0;_<w.length;_++)S[0]+=w[_][0],S[1]+=w[_][1],S[2]+=w[_][2];return S[0]/=w.length,S[1]/=w.length,S[2]/=w.length,S}function c(w,S){var _=o(w,0,0),R=o(w,w.width-1,0),E=o(w,0,w.height-1),A=o(w,w.width-1,w.height-1),k=S||10;if(u(_,R)<k&&u(R,A)<k&&u(A,E)<k&&u(E,_)<k){for(var C=d([R,_,A,E]),N=[],j=0;j<w.width*w.height;j++){var $=u(C,[w.data[j*4],w.data[j*4+1],w.data[j*4+2]]);N[j]=$<k?0:255}return N}}function h(w,S){for(var _=0;_<w.width*w.height;_++)w.data[4*_+3]=S[_]}function p(w,S,_){for(var R=[1,1,1,1,0,1,1,1,1],E=Math.round(Math.sqrt(R.length)),A=Math.floor(E/2),k=[],C=0;C<_;C++)for(var N=0;N<S;N++){for(var j=C*S+N,$=0,B=0;B<E;B++)for(var L=0;L<E;L++){var H=C+B-A,U=N+L-A;if(H>=0&&H<_&&U>=0&&U<S){var G=H*S+U,te=R[B*E+L];$+=w[G]*te}}k[j]=$===255*8?255:0}return k}function f(w,S,_){for(var R=[1,1,1,1,1,1,1,1,1],E=Math.round(Math.sqrt(R.length)),A=Math.floor(E/2),k=[],C=0;C<_;C++)for(var N=0;N<S;N++){for(var j=C*S+N,$=0,B=0;B<E;B++)for(var L=0;L<E;L++){var H=C+B-A,U=N+L-A;if(H>=0&&H<_&&U>=0&&U<S){var G=H*S+U,te=R[B*E+L];$+=w[G]*te}}k[j]=$>=255*4?255:0}return k}function x(w,S,_){for(var R=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],E=Math.round(Math.sqrt(R.length)),A=Math.floor(E/2),k=[],C=0;C<_;C++)for(var N=0;N<S;N++){for(var j=C*S+N,$=0,B=0;B<E;B++)for(var L=0;L<E;L++){var H=C+B-A,U=N+L-A;if(H>=0&&H<_&&U>=0&&U<S){var G=H*S+U,te=R[B*E+L];$+=w[G]*te}}k[j]=$}return k}const m=function(w){var S=this.threshold(),_=c(w,S);return _&&(_=p(_,w.width,w.height),_=f(_,w.width,w.height),_=x(_,w.width,w.height),h(w,_)),w};return Md.Mask=m,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Md}var bd={},Fv;function iS(){if(Fv)return bd;Fv=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.Noise=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=this.noise()*255,c=u.data,h=c.length,p=d/2,f;for(f=0;f<h;f+=4)c[f+0]+=p-2*p*Math.random(),c[f+1]+=p-2*p*Math.random(),c[f+2]+=p-2*p*Math.random()};return bd.Noise=o,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),bd}var Nd={},zv;function sS(){if(zv)return Nd;zv=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.Pixelate=void 0;const e=kt(),t=Mn(),r=Fn(),o=Mt(),u=function(d){var c=Math.ceil(this.pixelSize()),h=d.width,p=d.height,f,x,m,w,S,_,R,E=Math.ceil(h/c),A=Math.ceil(p/c),k,C,N,j,$,B,L,H=d.data;if(c<=0){t.Util.error("pixelSize value can not be <= 0");return}for($=0;$<E;$+=1)for(B=0;B<A;B+=1){for(w=0,S=0,_=0,R=0,k=$*c,C=k+c,N=B*c,j=N+c,L=0,f=k;f<C;f+=1)if(!(f>=h))for(x=N;x<j;x+=1)x>=p||(m=(h*x+f)*4,w+=H[m+0],S+=H[m+1],_+=H[m+2],R+=H[m+3],L+=1);for(w=w/L,S=S/L,_=_/L,R=R/L,f=k;f<C;f+=1)if(!(f>=h))for(x=N;x<j;x+=1)x>=p||(m=(h*x+f)*4,H[m+0]=w,H[m+1]=S,H[m+2]=_,H[m+3]=R)}};return Nd.Pixelate=u,e.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,o.getNumberValidator)(),e.Factory.afterSetFilter),Nd}var Ad={},Uv;function oS(){if(Uv)return Ad;Uv=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.Posterize=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=Math.round(this.levels()*254)+1,c=u.data,h=c.length,p=255/d,f;for(f=0;f<h;f+=1)c[f]=Math.floor(c[f]/p)*p};return Ad.Posterize=o,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Ad}var jd={},Vv;function aS(){if(Vv)return jd;Vv=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.RGB=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=u.data,c=d.length,h=this.red(),p=this.green(),f=this.blue(),x,m;for(x=0;x<c;x+=4)m=(.34*d[x]+.5*d[x+1]+.16*d[x+2])/255,d[x]=m*h,d[x+1]=m*p,d[x+2]=m*f,d[x+3]=d[x+3]};return jd.RGB=o,e.Factory.addGetterSetter(t.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),jd}var Id={},Bv;function lS(){if(Bv)return Id;Bv=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.RGBA=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=u.data,c=d.length,h=this.red(),p=this.green(),f=this.blue(),x=this.alpha(),m,w;for(m=0;m<c;m+=4)w=1-x,d[m]=h*x+d[m]*w,d[m+1]=p*x+d[m+1]*w,d[m+2]=f*x+d[m+2]*w};return Id.RGBA=o,e.Factory.addGetterSetter(t.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(u){return this._filterUpToDate=!1,u>1?1:u<0?0:u}),Id}var Ld={},$v;function uS(){if($v)return Ld;$v=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.Sepia=void 0;const e=function(t){var r=t.data,o=r.length,u,d,c,h;for(u=0;u<o;u+=4)d=r[u+0],c=r[u+1],h=r[u+2],r[u+0]=Math.min(255,d*.393+c*.769+h*.189),r[u+1]=Math.min(255,d*.349+c*.686+h*.168),r[u+2]=Math.min(255,d*.272+c*.534+h*.131)};return Ld.Sepia=e,Ld}var Od={},Gv;function cS(){if(Gv)return Od;Gv=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Solarize=void 0;const e=function(t){var r=t.data,o=t.width,u=t.height,d=o*4,c=u;do{var h=(c-1)*d,p=o;do{var f=h+(p-1)*4,x=r[f],m=r[f+1],w=r[f+2];x>127&&(x=255-x),m>127&&(m=255-m),w>127&&(w=255-w),r[f]=x,r[f+1]=m,r[f+2]=w}while(--p)}while(--c)};return Od.Solarize=e,Od}var Dd={},Wv;function dS(){if(Wv)return Dd;Wv=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.Threshold=void 0;const e=kt(),t=Fn(),r=Mt(),o=function(u){var d=this.threshold()*255,c=u.data,h=c.length,p;for(p=0;p<h;p+=1)c[p]=c[p]<d?0:255};return Dd.Threshold=o,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Dd}var qv;function hS(){if(qv)return Qc;qv=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Konva=void 0;const e=sm(),t=jw(),r=Lw(),o=Ow(),u=Dw(),d=Fw(),c=zw(),h=nx(),p=$m(),f=ix(),x=Uw(),m=Vw(),w=Bw(),S=$w(),_=sx(),R=Gw(),E=Ww(),A=qw(),k=Hw(),C=Kw(),N=Yw(),j=Xw(),$=Qw(),B=Zw(),L=Jw(),H=eS(),U=tS(),G=nS(),te=rS(),O=iS(),V=sS(),q=oS(),J=aS(),Z=lS(),re=uS(),se=cS(),Y=dS();return Qc.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:r.Arrow,Circle:o.Circle,Ellipse:u.Ellipse,Image:d.Image,Label:c.Label,Tag:c.Tag,Line:h.Line,Path:p.Path,Rect:f.Rect,RegularPolygon:x.RegularPolygon,Ring:m.Ring,Sprite:w.Sprite,Star:S.Star,Text:_.Text,TextPath:R.TextPath,Transformer:E.Transformer,Wedge:A.Wedge,Filters:{Blur:k.Blur,Brighten:C.Brighten,Contrast:N.Contrast,Emboss:j.Emboss,Enhance:$.Enhance,Grayscale:B.Grayscale,HSL:L.HSL,HSV:H.HSV,Invert:U.Invert,Kaleidoscope:G.Kaleidoscope,Mask:te.Mask,Noise:O.Noise,Pixelate:V.Pixelate,Posterize:q.Posterize,RGB:J.RGB,RGBA:Z.RGBA,Sepia:re.Sepia,Solarize:se.Solarize,Threshold:Y.Threshold}}),Qc}var fS=Wf.exports,Hv;function pS(){if(Hv)return Wf.exports;Hv=1,Object.defineProperty(fS,"__esModule",{value:!0});const e=hS();return Wf.exports=e.Konva,Wf.exports}pS();var zf={exports:{}},Kv;function mS(){return Kv||(Kv=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=sm();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const o=sm();e.exports=o.Konva}(zf,zf.exports)),zf.exports}var gS=mS();const uh=kh(gS);var Tp={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp,Yv;function vS(){return Yv||(Yv=1,Mp=function(t){var r={},o=h0(),u=Im(),d=Object.assign;function c(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,g=1;g<arguments.length;g++)a+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p=Symbol.for("react.element"),f=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),j=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}function B(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case f:return"Portal";case w:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case _:return(s.displayName||"Context")+".Consumer";case S:return(s._context.displayName||"Context")+".Provider";case R:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return a=s.displayName||null,a!==null?a:B(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return B(s(a))}catch{}}return null}function L(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(a);case 8:return a===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function H(s){var a=s,g=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(g=a.return),s=a.return;while(s)}return a.tag===3?g:null}function U(s){if(H(s)!==s)throw Error(c(188))}function G(s){var a=s.alternate;if(!a){if(a=H(s),a===null)throw Error(c(188));return a!==s?null:s}for(var g=s,P=a;;){var b=g.return;if(b===null)break;var F=b.alternate;if(F===null){if(P=b.return,P!==null){g=P;continue}break}if(b.child===F.child){for(F=b.child;F;){if(F===g)return U(b),s;if(F===P)return U(b),a;F=F.sibling}throw Error(c(188))}if(g.return!==P.return)g=b,P=F;else{for(var Q=!1,ue=b.child;ue;){if(ue===g){Q=!0,g=b,P=F;break}if(ue===P){Q=!0,P=b,g=F;break}ue=ue.sibling}if(!Q){for(ue=F.child;ue;){if(ue===g){Q=!0,g=F,P=b;break}if(ue===P){Q=!0,P=F,g=b;break}ue=ue.sibling}if(!Q)throw Error(c(189))}}if(g.alternate!==P)throw Error(c(190))}if(g.tag!==3)throw Error(c(188));return g.stateNode.current===g?s:a}function te(s){return s=G(s),s!==null?O(s):null}function O(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=O(s);if(a!==null)return a;s=s.sibling}return null}function V(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){if(s.tag!==4){var a=V(s);if(a!==null)return a}s=s.sibling}return null}var q=Array.isArray,J=t.getPublicInstance,Z=t.getRootHostContext,re=t.getChildHostContext,se=t.prepareForCommit,Y=t.resetAfterCommit,le=t.createInstance,oe=t.appendInitialChild,_e=t.finalizeInitialChildren,we=t.prepareUpdate,Ne=t.shouldSetTextContent,Re=t.createTextInstance,ie=t.scheduleTimeout,fe=t.cancelTimeout,Ce=t.noTimeout,We=t.isPrimaryRenderer,De=t.supportsMutation,et=t.supportsPersistence,He=t.supportsHydration,Zt=t.getInstanceFromNode,St=t.preparePortalMount,bn=t.getCurrentEventPriority,Ht=t.detachDeletedInstance,mn=t.supportsMicrotasks,ln=t.scheduleMicrotask,bt=t.supportsTestSelectors,_t=t.findFiberRoot,dr=t.getBoundingRect,Kn=t.getTextContent,Nn=t.isHiddenSubtree,hn=t.matchAccessibilityRole,xn=t.setFocusIfFocusable,zr=t.setupIntersectionObserver,Er=t.appendChild,ai=t.appendChildToContainer,zn=t.commitTextUpdate,kr=t.commitMount,Uo=t.commitUpdate,Vo=t.insertBefore,Rr=t.insertInContainerBefore,ec=t.removeChild,Ba=t.removeChildFromContainer,Zs=t.resetTextContent,Bo=t.hideInstance,Js=t.hideTextInstance,eo=t.unhideInstance,Es=t.unhideTextInstance,ks=t.clearContainer,$o=t.cloneInstance,$a=t.createContainerChildSet,Go=t.appendChildToContainerChildSet,Vl=t.finalizeContainerChildren,Wo=t.replaceContainerChildren,Yn=t.cloneHiddenInstance,Ga=t.cloneHiddenTextInstance,Ur=t.canHydrateInstance,to=t.canHydrateTextInstance,ns=t.canHydrateSuspenseInstance,Bl=t.isSuspenseInstancePending,D=t.isSuspenseInstanceFallback,M=t.getSuspenseInstanceFallbackErrorDetails,z=t.registerSuspenseInstanceRetry,K=t.getNextHydratableSibling,de=t.getFirstHydratableChild,Se=t.getFirstHydratableChildWithinContainer,Xe=t.getFirstHydratableChildWithinSuspenseInstance,Fe=t.hydrateInstance,wt=t.hydrateTextInstance,vt=t.hydrateSuspenseInstance,Qe=t.getNextHydratableInstanceAfterSuspenseInstance,yt=t.commitHydratedContainer,Ke=t.commitHydratedSuspenseInstance,ht=t.clearSuspenseBoundary,it=t.clearSuspenseBoundaryFromContainer,lt=t.shouldDeleteUnhydratedTailInstances,be=t.didNotMatchHydratedContainerTextInstance,Ze=t.didNotMatchHydratedTextInstance,Un;function Dt(s){if(Un===void 0)try{throw Error()}catch(g){var a=g.stack.trim().match(/\n( *(at )?)/);Un=a&&a[1]||""}return`
`+Un+s}var dt=!1;function ft(s,a){if(!s||dt)return"";dt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Te){var P=Te}Reflect.construct(s,[],a)}else{try{a.call()}catch(Te){P=Te}s.call(a.prototype)}else{try{throw Error()}catch(Te){P=Te}s()}}catch(Te){if(Te&&P&&typeof Te.stack=="string"){for(var b=Te.stack.split(`
`),F=P.stack.split(`
`),Q=b.length-1,ue=F.length-1;1<=Q&&0<=ue&&b[Q]!==F[ue];)ue--;for(;1<=Q&&0<=ue;Q--,ue--)if(b[Q]!==F[ue]){if(Q!==1||ue!==1)do if(Q--,ue--,0>ue||b[Q]!==F[ue]){var ye=`
`+b[Q].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=Q&&0<=ue);break}}}finally{dt=!1,Error.prepareStackTrace=g}return(s=s?s.displayName||s.name:"")?Dt(s):""}var Fi=Object.prototype.hasOwnProperty,Vr=[],gn=-1;function Rt(s){return{current:s}}function st(s){0>gn||(s.current=Vr[gn],Vr[gn]=null,gn--)}function pt(s,a){gn++,Vr[gn]=s.current,s.current=a}var Vn={},wn=Rt(Vn),un=Rt(!1),hr=Vn;function rs(s,a){var g=s.type.contextTypes;if(!g)return Vn;var P=s.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===a)return P.__reactInternalMemoizedMaskedChildContext;var b={},F;for(F in g)b[F]=a[F];return P&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=b),b}function Bn(s){return s=s.childContextTypes,s!=null}function no(){st(un),st(wn)}function Oh(s,a,g){if(wn.current!==Vn)throw Error(c(168));pt(wn,a),pt(un,g)}function Dh(s,a,g){var P=s.stateNode;if(a=a.childContextTypes,typeof P.getChildContext!="function")return g;P=P.getChildContext();for(var b in P)if(!(b in a))throw Error(c(108,L(s)||"Unknown",b));return d({},g,P)}function qo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vn,hr=wn.current,pt(wn,s),pt(un,un.current),!0}function tc(s,a,g){var P=s.stateNode;if(!P)throw Error(c(169));g?(s=Dh(s,a,hr),P.__reactInternalMemoizedMergedChildContext=s,st(un),st(wn),pt(wn,s)):st(un),pt(un,g)}var Br=Math.clz32?Math.clz32:nc,Wa=Math.log,L0=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(Wa(s)/L0|0)|0}var It=64,qa=4194304;function Ho(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ko(s,a){var g=s.pendingLanes;if(g===0)return 0;var P=0,b=s.suspendedLanes,F=s.pingedLanes,Q=g&268435455;if(Q!==0){var ue=Q&~b;ue!==0?P=Ho(ue):(F&=Q,F!==0&&(P=Ho(F)))}else Q=g&~b,Q!==0?P=Ho(Q):F!==0&&(P=Ho(F));if(P===0)return 0;if(a!==0&&a!==P&&(a&b)===0&&(b=P&-P,F=a&-a,b>=F||b===16&&(F&4194240)!==0))return a;if((P&4)!==0&&(P|=g&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=P;0<a;)g=31-Br(a),b=1<<g,P|=s[g],a&=~b;return P}function Fh(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(s,a){for(var g=s.suspendedLanes,P=s.pingedLanes,b=s.expirationTimes,F=s.pendingLanes;0<F;){var Q=31-Br(F),ue=1<<Q,ye=b[Q];ye===-1?((ue&g)===0||(ue&P)!==0)&&(b[Q]=Fh(ue,a)):ye<=a&&(s.expiredLanes|=ue),F&=~ue}}function $l(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gl(){var s=It;return It<<=1,(It&4194240)===0&&(It=64),s}function Yo(s){for(var a=[],g=0;31>g;g++)a.push(s);return a}function li(s,a,g){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Br(a),s[a]=g}function Rs(s,a){var g=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var P=s.eventTimes;for(s=s.expirationTimes;0<g;){var b=31-Br(g),F=1<<b;a[b]=0,P[b]=-1,s[b]=-1,g&=~F}}function zi(s,a){var g=s.entangledLanes|=a;for(s=s.entanglements;g;){var P=31-Br(g),b=1<<P;b&a|s[P]&a&&(s[P]|=a),g&=~b}}var Pt=0;function Xo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ui=u.unstable_scheduleCallback,Uh=u.unstable_cancelCallback,Vh=u.unstable_shouldYield,Ha=u.unstable_requestPaint,$n=u.unstable_now,Wl=u.unstable_ImmediatePriority,ql=u.unstable_UserBlockingPriority,Hl=u.unstable_NormalPriority,O0=u.unstable_IdlePriority,Ts=null,Tr=null;function Qo(s){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Ts,s,void 0,(s.current.flags&128)===128)}catch{}}function Kl(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var _i=typeof Object.is=="function"?Object.is:Kl,is=null,Zo=!1,Jo=!1;function Yl(s){is===null?is=[s]:is.push(s)}function Bh(s){Zo=!0,Yl(s)}function Xn(){if(!Jo&&is!==null){Jo=!0;var s=0,a=Pt;try{var g=is;for(Pt=1;s<g.length;s++){var P=g[s];do P=P(!0);while(P!==null)}is=null,Zo=!1}catch(b){throw is!==null&&(is=is.slice(s+1)),Ui(Wl,Xn),b}finally{Pt=a,Jo=!1}}return null}var Ms=[],ss=0,Ka=null,ro=0,fr=[],$r=0,An=null,Mr=1,Ci="";function Pi(s,a){Ms[ss++]=ro,Ms[ss++]=Ka,Ka=s,ro=a}function $h(s,a,g){fr[$r++]=Mr,fr[$r++]=Ci,fr[$r++]=An,An=s;var P=Mr;s=Ci;var b=32-Br(P)-1;P&=~(1<<b),g+=1;var F=32-Br(a)+b;if(30<F){var Q=b-b%5;F=(P&(1<<Q)-1).toString(32),P>>=Q,b-=Q,Mr=1<<32-Br(a)+b|g<<b|P,Ci=F+s}else Mr=1<<F|g<<b|P,Ci=s}function Ya(s){s.return!==null&&(Pi(s,1),$h(s,1,0))}function Xa(s){for(;s===Ka;)Ka=Ms[--ss],Ms[ss]=null,ro=Ms[--ss],Ms[ss]=null;for(;s===An;)An=fr[--$r],fr[$r]=null,Ci=fr[--$r],fr[$r]=null,Mr=fr[--$r],fr[$r]=null}var Qn=null,pr=null,Kt=!1,Qa=!1,Ei=null;function Gh(s,a){var g=ni(5,null,null,0);g.elementType="DELETED",g.stateNode=a,g.return=s,a=s.deletions,a===null?(s.deletions=[g],s.flags|=16):a.push(g)}function Xl(s,a){switch(s.tag){case 5:return a=Ur(a,s.type,s.pendingProps),a!==null?(s.stateNode=a,Qn=s,pr=de(a),!0):!1;case 6:return a=to(a,s.pendingProps),a!==null?(s.stateNode=a,Qn=s,pr=null,!0):!1;case 13:if(a=ns(a),a!==null){var g=An!==null?{id:Mr,overflow:Ci}:null;return s.memoizedState={dehydrated:a,treeContext:g,retryLane:1073741824},g=ni(18,null,null,0),g.stateNode=a,g.return=s,s.child=g,Qn=s,pr=null,!0}return!1;default:return!1}}function rc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ic(s){if(Kt){var a=pr;if(a){var g=a;if(!Xl(s,a)){if(rc(s))throw Error(c(418));a=K(g);var P=Qn;a&&Xl(s,a)?Gh(P,g):(s.flags=s.flags&-4097|2,Kt=!1,Qn=s)}}else{if(rc(s))throw Error(c(418));s.flags=s.flags&-4097|2,Kt=!1,Qn=s}}}function Wh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qn=s}function Ql(s){if(!He||s!==Qn)return!1;if(!Kt)return Wh(s),Kt=!0,!1;if(s.tag!==3&&(s.tag!==5||lt(s.type)&&!Ne(s.type,s.memoizedProps))){var a=pr;if(a){if(rc(s))throw qh(),Error(c(418));for(;a;)Gh(s,a),a=K(a)}}if(Wh(s),s.tag===13){if(!He)throw Error(c(316));if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));pr=Qe(s)}else pr=Qn?K(s.stateNode):null;return!0}function qh(){for(var s=pr;s;)s=K(s)}function io(){He&&(pr=Qn=null,Qa=Kt=!1)}function sc(s){Ei===null?Ei=[s]:Ei.push(s)}var D0=h.ReactCurrentBatchConfig;function Zl(s,a){if(_i(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var g=Object.keys(s),P=Object.keys(a);if(g.length!==P.length)return!1;for(P=0;P<g.length;P++){var b=g[P];if(!Fi.call(a,b)||!_i(s[b],a[b]))return!1}return!0}function F0(s){switch(s.tag){case 5:return Dt(s.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 2:case 15:return s=ft(s.type,!1),s;case 11:return s=ft(s.type.render,!1),s;case 1:return s=ft(s.type,!0),s;default:return""}}function so(s,a,g){if(s=g.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(c(309));var P=g.stateNode}if(!P)throw Error(c(147,s));var b=P,F=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===F?a.ref:(a=function(Q){var ue=b.refs;Q===null?delete ue[F]:ue[F]=Q},a._stringRef=F,a)}if(typeof s!="string")throw Error(c(284));if(!g._owner)throw Error(c(290,s))}return s}function Jl(s,a){throw s=Object.prototype.toString.call(a),Error(c(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Hh(s){var a=s._init;return a(s._payload)}function Kh(s){function a(ge,he){if(s){var xe=ge.deletions;xe===null?(ge.deletions=[he],ge.flags|=16):xe.push(he)}}function g(ge,he){if(!s)return null;for(;he!==null;)a(ge,he),he=he.sibling;return null}function P(ge,he){for(ge=new Map;he!==null;)he.key!==null?ge.set(he.key,he):ge.set(he.index,he),he=he.sibling;return ge}function b(ge,he){return ge=fs(ge,he),ge.index=0,ge.sibling=null,ge}function F(ge,he,xe){return ge.index=xe,s?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<he?(ge.flags|=2,he):xe):(ge.flags|=2,he)):(ge.flags|=1048576,he)}function Q(ge){return s&&ge.alternate===null&&(ge.flags|=2),ge}function ue(ge,he,xe,Oe){return he===null||he.tag!==6?(he=Mu(xe,ge.mode,Oe),he.return=ge,he):(he=b(he,xe),he.return=ge,he)}function ye(ge,he,xe,Oe){var Je=xe.type;return Je===x?Ue(ge,he,xe.props.children,Oe,xe.key):he!==null&&(he.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===C&&Hh(Je)===he.type)?(Oe=b(he,xe.props),Oe.ref=so(ge,he,xe),Oe.return=ge,Oe):(Oe=Tu(xe.type,xe.key,xe.props,null,ge.mode,Oe),Oe.ref=so(ge,he,xe),Oe.return=ge,Oe)}function Te(ge,he,xe,Oe){return he===null||he.tag!==4||he.stateNode.containerInfo!==xe.containerInfo||he.stateNode.implementation!==xe.implementation?(he=bu(xe,ge.mode,Oe),he.return=ge,he):(he=b(he,xe.children||[]),he.return=ge,he)}function Ue(ge,he,xe,Oe,Je){return he===null||he.tag!==7?(he=To(xe,ge.mode,Oe,Je),he.return=ge,he):(he=b(he,xe),he.return=ge,he)}function at(ge,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Mu(""+he,ge.mode,xe),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case p:return xe=Tu(he.type,he.key,he.props,null,ge.mode,xe),xe.ref=so(ge,null,he),xe.return=ge,xe;case f:return he=bu(he,ge.mode,xe),he.return=ge,he;case C:var Oe=he._init;return at(ge,Oe(he._payload),xe)}if(q(he)||$(he))return he=To(he,ge.mode,xe,null),he.return=ge,he;Jl(ge,he)}return null}function Le(ge,he,xe,Oe){var Je=he!==null?he.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Je!==null?null:ue(ge,he,""+xe,Oe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:return xe.key===Je?ye(ge,he,xe,Oe):null;case f:return xe.key===Je?Te(ge,he,xe,Oe):null;case C:return Je=xe._init,Le(ge,he,Je(xe._payload),Oe)}if(q(xe)||$(xe))return Je!==null?null:Ue(ge,he,xe,Oe,null);Jl(ge,xe)}return null}function $t(ge,he,xe,Oe,Je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ge=ge.get(xe)||null,ue(he,ge,""+Oe,Je);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return ge=ge.get(Oe.key===null?xe:Oe.key)||null,ye(he,ge,Oe,Je);case f:return ge=ge.get(Oe.key===null?xe:Oe.key)||null,Te(he,ge,Oe,Je);case C:var ut=Oe._init;return $t(ge,he,xe,ut(Oe._payload),Je)}if(q(Oe)||$(Oe))return ge=ge.get(xe)||null,Ue(he,ge,Oe,Je,null);Jl(he,Oe)}return null}function zt(ge,he,xe,Oe){for(var Je=null,ut=null,ct=he,Nt=he=0,En=null;ct!==null&&Nt<xe.length;Nt++){ct.index>Nt?(En=ct,ct=null):En=ct.sibling;var At=Le(ge,ct,xe[Nt],Oe);if(At===null){ct===null&&(ct=En);break}s&&ct&&At.alternate===null&&a(ge,ct),he=F(At,he,Nt),ut===null?Je=At:ut.sibling=At,ut=At,ct=En}if(Nt===xe.length)return g(ge,ct),Kt&&Pi(ge,Nt),Je;if(ct===null){for(;Nt<xe.length;Nt++)ct=at(ge,xe[Nt],Oe),ct!==null&&(he=F(ct,he,Nt),ut===null?Je=ct:ut.sibling=ct,ut=ct);return Kt&&Pi(ge,Nt),Je}for(ct=P(ge,ct);Nt<xe.length;Nt++)En=$t(ct,ge,Nt,xe[Nt],Oe),En!==null&&(s&&En.alternate!==null&&ct.delete(En.key===null?Nt:En.key),he=F(En,he,Nt),ut===null?Je=En:ut.sibling=En,ut=En);return s&&ct.forEach(function(Ai){return a(ge,Ai)}),Kt&&Pi(ge,Nt),Je}function ar(ge,he,xe,Oe){var Je=$(xe);if(typeof Je!="function")throw Error(c(150));if(xe=Je.call(xe),xe==null)throw Error(c(151));for(var ut=Je=null,ct=he,Nt=he=0,En=null,At=xe.next();ct!==null&&!At.done;Nt++,At=xe.next()){ct.index>Nt?(En=ct,ct=null):En=ct.sibling;var Ai=Le(ge,ct,At.value,Oe);if(Ai===null){ct===null&&(ct=En);break}s&&ct&&Ai.alternate===null&&a(ge,ct),he=F(Ai,he,Nt),ut===null?Je=Ai:ut.sibling=Ai,ut=Ai,ct=En}if(At.done)return g(ge,ct),Kt&&Pi(ge,Nt),Je;if(ct===null){for(;!At.done;Nt++,At=xe.next())At=at(ge,At.value,Oe),At!==null&&(he=F(At,he,Nt),ut===null?Je=At:ut.sibling=At,ut=At);return Kt&&Pi(ge,Nt),Je}for(ct=P(ge,ct);!At.done;Nt++,At=xe.next())At=$t(ct,ge,Nt,At.value,Oe),At!==null&&(s&&At.alternate!==null&&ct.delete(At.key===null?Nt:At.key),he=F(At,he,Nt),ut===null?Je=At:ut.sibling=At,ut=At);return s&&ct.forEach(function(ps){return a(ge,ps)}),Kt&&Pi(ge,Nt),Je}function Ki(ge,he,xe,Oe){if(typeof xe=="object"&&xe!==null&&xe.type===x&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:e:{for(var Je=xe.key,ut=he;ut!==null;){if(ut.key===Je){if(Je=xe.type,Je===x){if(ut.tag===7){g(ge,ut.sibling),he=b(ut,xe.props.children),he.return=ge,ge=he;break e}}else if(ut.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===C&&Hh(Je)===ut.type){g(ge,ut.sibling),he=b(ut,xe.props),he.ref=so(ge,ut,xe),he.return=ge,ge=he;break e}g(ge,ut);break}else a(ge,ut);ut=ut.sibling}xe.type===x?(he=To(xe.props.children,ge.mode,Oe,xe.key),he.return=ge,ge=he):(Oe=Tu(xe.type,xe.key,xe.props,null,ge.mode,Oe),Oe.ref=so(ge,he,xe),Oe.return=ge,ge=Oe)}return Q(ge);case f:e:{for(ut=xe.key;he!==null;){if(he.key===ut)if(he.tag===4&&he.stateNode.containerInfo===xe.containerInfo&&he.stateNode.implementation===xe.implementation){g(ge,he.sibling),he=b(he,xe.children||[]),he.return=ge,ge=he;break e}else{g(ge,he);break}else a(ge,he);he=he.sibling}he=bu(xe,ge.mode,Oe),he.return=ge,ge=he}return Q(ge);case C:return ut=xe._init,Ki(ge,he,ut(xe._payload),Oe)}if(q(xe))return zt(ge,he,xe,Oe);if($(xe))return ar(ge,he,xe,Oe);Jl(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,he!==null&&he.tag===6?(g(ge,he.sibling),he=b(he,xe),he.return=ge,ge=he):(g(ge,he),he=Mu(xe,ge.mode,Oe),he.return=ge,ge=he),Q(ge)):g(ge,he)}return Ki}var oo=Kh(!0),Yh=Kh(!1),eu=Rt(null),tu=null,ea=null,oc=null;function ac(){oc=ea=tu=null}function Xh(s,a,g){We?(pt(eu,a._currentValue),a._currentValue=g):(pt(eu,a._currentValue2),a._currentValue2=g)}function Za(s){var a=eu.current;st(eu),We?s._currentValue=a:s._currentValue2=a}function ao(s,a,g){for(;s!==null;){var P=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,P!==null&&(P.childLanes|=a)):P!==null&&(P.childLanes&a)!==a&&(P.childLanes|=a),s===g)break;s=s.return}}function ta(s,a){tu=s,oc=ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(In=!0),s.firstContext=null)}function Gr(s){var a=We?s._currentValue:s._currentValue2;if(oc!==s)if(s={context:s,memoizedValue:a,next:null},ea===null){if(tu===null)throw Error(c(308));ea=s,tu.dependencies={lanes:0,firstContext:s}}else ea=ea.next=s;return a}var bs=null;function nu(s){bs===null?bs=[s]:bs.push(s)}function lc(s,a,g,P){var b=a.interleaved;return b===null?(g.next=g,nu(a)):(g.next=b.next,b.next=g),a.interleaved=g,ki(s,P)}function ki(s,a){s.lanes|=a;var g=s.alternate;for(g!==null&&(g.lanes|=a),g=s,s=s.return;s!==null;)s.childLanes|=a,g=s.alternate,g!==null&&(g.childLanes|=a),g=s,s=s.return;return g.tag===3?g.stateNode:null}var Wr=!1;function uc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function os(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function as(s,a,g){var P=s.updateQueue;if(P===null)return null;if(P=P.shared,(xt&2)!==0){var b=P.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),P.pending=a,ki(s,g)}return b=P.interleaved,b===null?(a.next=a,nu(P)):(a.next=b.next,b.next=a),P.interleaved=a,ki(s,g)}function Ja(s,a,g){if(a=a.updateQueue,a!==null&&(a=a.shared,(g&4194240)!==0)){var P=a.lanes;P&=s.pendingLanes,g|=P,a.lanes=g,zi(s,g)}}function na(s,a){var g=s.updateQueue,P=s.alternate;if(P!==null&&(P=P.updateQueue,g===P)){var b=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var Q={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};F===null?b=F=Q:F=F.next=Q,g=g.next}while(g!==null);F===null?b=F=a:F=F.next=a}else b=F=a;g={baseState:P.baseState,firstBaseUpdate:b,lastBaseUpdate:F,shared:P.shared,effects:P.effects},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=a:s.next=a,g.lastBaseUpdate=a}function Ns(s,a,g,P){var b=s.updateQueue;Wr=!1;var F=b.firstBaseUpdate,Q=b.lastBaseUpdate,ue=b.shared.pending;if(ue!==null){b.shared.pending=null;var ye=ue,Te=ye.next;ye.next=null,Q===null?F=Te:Q.next=Te,Q=ye;var Ue=s.alternate;Ue!==null&&(Ue=Ue.updateQueue,ue=Ue.lastBaseUpdate,ue!==Q&&(ue===null?Ue.firstBaseUpdate=Te:ue.next=Te,Ue.lastBaseUpdate=ye))}if(F!==null){var at=b.baseState;Q=0,Ue=Te=ye=null,ue=F;do{var Le=ue.lane,$t=ue.eventTime;if((P&Le)===Le){Ue!==null&&(Ue=Ue.next={eventTime:$t,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var zt=s,ar=ue;switch(Le=a,$t=g,ar.tag){case 1:if(zt=ar.payload,typeof zt=="function"){at=zt.call($t,at,Le);break e}at=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=ar.payload,Le=typeof zt=="function"?zt.call($t,at,Le):zt,Le==null)break e;at=d({},at,Le);break e;case 2:Wr=!0}}ue.callback!==null&&ue.lane!==0&&(s.flags|=64,Le=b.effects,Le===null?b.effects=[ue]:Le.push(ue))}else $t={eventTime:$t,lane:Le,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Ue===null?(Te=Ue=$t,ye=at):Ue=Ue.next=$t,Q|=Le;if(ue=ue.next,ue===null){if(ue=b.shared.pending,ue===null)break;Le=ue,ue=Le.next,Le.next=null,b.lastBaseUpdate=Le,b.shared.pending=null}}while(!0);if(Ue===null&&(ye=at),b.baseState=ye,b.firstBaseUpdate=Te,b.lastBaseUpdate=Ue,a=b.shared.interleaved,a!==null){b=a;do Q|=b.lane,b=b.next;while(b!==a)}else F===null&&(b.shared.lanes=0);Ti|=Q,s.lanes=Q,s.memoizedState=at}}function Zh(s,a,g){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var P=s[a],b=P.callback;if(b!==null){if(P.callback=null,P=g,typeof b!="function")throw Error(c(191,b));b.call(P)}}}var As={},ui=Rt(As),ra=Rt(As),js=Rt(As);function ci(s){if(s===As)throw Error(c(174));return s}function ru(s,a){pt(js,a),pt(ra,s),pt(ui,As),s=Z(a),st(ui),pt(ui,s)}function lo(){st(ui),st(ra),st(js)}function dc(s){var a=ci(js.current),g=ci(ui.current);a=re(g,s.type,a),g!==a&&(pt(ra,s),pt(ui,a))}function hc(s){ra.current===s&&(st(ui),st(ra))}var cn=Rt(0);function iu(s){for(var a=s;a!==null;){if(a.tag===13){var g=a.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Bl(g)||D(g)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fc=[];function pc(){for(var s=0;s<fc.length;s++){var a=fc[s];We?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}fc.length=0}var br=h.ReactCurrentDispatcher,uo=h.ReactCurrentBatchConfig,Is=0,Jt=null,Sn=null,jn=null,ia=!1,el=!1,tl=0,sa=0;function Gn(){throw Error(c(321))}function co(s,a){if(a===null)return!1;for(var g=0;g<a.length&&g<s.length;g++)if(!_i(s[g],a[g]))return!1;return!0}function nl(s,a,g,P,b,F){if(Is=F,Jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,br.current=s===null||s.memoizedState===null?Pc:Ec,s=g(P,b),el){F=0;do{if(el=!1,tl=0,25<=F)throw Error(c(301));F+=1,jn=Sn=null,a.updateQueue=null,br.current=kc,s=g(P,b)}while(el)}if(br.current=go,a=Sn!==null&&Sn.next!==null,Is=0,jn=Sn=Jt=null,ia=!1,a)throw Error(c(300));return s}function su(){var s=tl!==0;return tl=0,s}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Jt.memoizedState=jn=s:jn=jn.next=s,jn}function Zn(){if(Sn===null){var s=Jt.alternate;s=s!==null?s.memoizedState:null}else s=Sn.next;var a=jn===null?Jt.memoizedState:jn.next;if(a!==null)jn=a,Sn=s;else{if(s===null)throw Error(c(310));Sn=s,s={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},jn===null?Jt.memoizedState=jn=s:jn=jn.next=s}return jn}function ho(s,a){return typeof a=="function"?a(s):a}function ou(s){var a=Zn(),g=a.queue;if(g===null)throw Error(c(311));g.lastRenderedReducer=s;var P=Sn,b=P.baseQueue,F=g.pending;if(F!==null){if(b!==null){var Q=b.next;b.next=F.next,F.next=Q}P.baseQueue=b=F,g.pending=null}if(b!==null){F=b.next,P=P.baseState;var ue=Q=null,ye=null,Te=F;do{var Ue=Te.lane;if((Is&Ue)===Ue)ye!==null&&(ye=ye.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),P=Te.hasEagerState?Te.eagerState:s(P,Te.action);else{var at={lane:Ue,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};ye===null?(ue=ye=at,Q=P):ye=ye.next=at,Jt.lanes|=Ue,Ti|=Ue}Te=Te.next}while(Te!==null&&Te!==F);ye===null?Q=P:ye.next=ue,_i(P,a.memoizedState)||(In=!0),a.memoizedState=P,a.baseState=Q,a.baseQueue=ye,g.lastRenderedState=P}if(s=g.interleaved,s!==null){b=s;do F=b.lane,Jt.lanes|=F,Ti|=F,b=b.next;while(b!==s)}else b===null&&(g.lanes=0);return[a.memoizedState,g.dispatch]}function oa(s){var a=Zn(),g=a.queue;if(g===null)throw Error(c(311));g.lastRenderedReducer=s;var P=g.dispatch,b=g.pending,F=a.memoizedState;if(b!==null){g.pending=null;var Q=b=b.next;do F=s(F,Q.action),Q=Q.next;while(Q!==b);_i(F,a.memoizedState)||(In=!0),a.memoizedState=F,a.baseQueue===null&&(a.baseState=F),g.lastRenderedState=F}return[F,P]}function mc(){}function gc(s,a){var g=Jt,P=Zn(),b=a(),F=!_i(P.memoizedState,b);if(F&&(P.memoizedState=b,In=!0),P=P.queue,uu(xc.bind(null,g,P,s),[s]),P.getSnapshot!==a||F||jn!==null&&jn.memoizedState.tag&1){if(g.flags|=2048,fo(9,yc.bind(null,g,P,b,a),void 0,null),_n===null)throw Error(c(349));(Is&30)!==0||vc(g,a,b)}return b}function vc(s,a,g){s.flags|=16384,s={getSnapshot:a,value:g},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.stores=[s]):(g=a.stores,g===null?a.stores=[s]:g.push(s))}function yc(s,a,g,P){a.value=g,a.getSnapshot=P,wc(a)&&ls(s)}function xc(s,a,g){return g(function(){wc(a)&&ls(s)})}function wc(s){var a=s.getSnapshot;s=s.value;try{var g=a();return!_i(s,g)}catch{return!0}}function ls(s){var a=ki(s,1);a!==null&&or(a,s,1,-1)}function au(s){var a=qr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:s},a.queue=s,s=s.dispatch=z0.bind(null,Jt,s),[a.memoizedState,s]}function fo(s,a,g,P){return s={tag:s,create:a,destroy:g,deps:P,next:null},a=Jt.updateQueue,a===null?(a={lastEffect:null,stores:null},Jt.updateQueue=a,a.lastEffect=s.next=s):(g=a.lastEffect,g===null?a.lastEffect=s.next=s:(P=g.next,g.next=s,s.next=P,a.lastEffect=s)),s}function Jh(){return Zn().memoizedState}function lu(s,a,g,P){var b=qr();Jt.flags|=s,b.memoizedState=fo(1|a,g,void 0,P===void 0?null:P)}function Ls(s,a,g,P){var b=Zn();P=P===void 0?null:P;var F=void 0;if(Sn!==null){var Q=Sn.memoizedState;if(F=Q.destroy,P!==null&&co(P,Q.deps)){b.memoizedState=fo(a,g,F,P);return}}Jt.flags|=s,b.memoizedState=fo(1|a,g,F,P)}function ef(s,a){return lu(8390656,8,s,a)}function uu(s,a){return Ls(2048,8,s,a)}function Sc(s,a){return Ls(4,2,s,a)}function Gt(s,a){return Ls(4,4,s,a)}function cu(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rl(s,a,g){return g=g!=null?g.concat([s]):null,Ls(4,4,cu.bind(null,a,s),g)}function po(){}function _c(s,a){var g=Zn();a=a===void 0?null:a;var P=g.memoizedState;return P!==null&&a!==null&&co(a,P[1])?P[0]:(g.memoizedState=[s,a],s)}function du(s,a){var g=Zn();a=a===void 0?null:a;var P=g.memoizedState;return P!==null&&a!==null&&co(a,P[1])?P[0]:(s=s(),g.memoizedState=[s,a],s)}function aa(s,a,g){return(Is&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=g):(_i(g,a)||(g=Gl(),Jt.lanes|=g,Ti|=g,s.baseState=!0),a)}function hu(s,a){var g=Pt;Pt=g!==0&&4>g?g:4,s(!0);var P=uo.transition;uo.transition={};try{s(!1),a()}finally{Pt=g,uo.transition=P}}function mo(){return Zn().memoizedState}function tf(s,a,g){var P=gi(s);if(g={lane:P,action:g,hasEagerState:!1,eagerState:null,next:null},nf(s))Cc(a,g);else if(g=lc(s,a,g,P),g!==null){var b=Ln();or(g,s,P,b),il(g,a,P)}}function z0(s,a,g){var P=gi(s),b={lane:P,action:g,hasEagerState:!1,eagerState:null,next:null};if(nf(s))Cc(a,b);else{var F=s.alternate;if(s.lanes===0&&(F===null||F.lanes===0)&&(F=a.lastRenderedReducer,F!==null))try{var Q=a.lastRenderedState,ue=F(Q,g);if(b.hasEagerState=!0,b.eagerState=ue,_i(ue,Q)){var ye=a.interleaved;ye===null?(b.next=b,nu(a)):(b.next=ye.next,ye.next=b),a.interleaved=b;return}}catch{}finally{}g=lc(s,a,b,P),g!==null&&(b=Ln(),or(g,s,P,b),il(g,a,P))}}function nf(s){var a=s.alternate;return s===Jt||a!==null&&a===Jt}function Cc(s,a){el=ia=!0;var g=s.pending;g===null?a.next=a:(a.next=g.next,g.next=a),s.pending=a}function il(s,a,g){if((g&4194240)!==0){var P=a.lanes;P&=s.pendingLanes,g|=P,a.lanes=g,zi(s,g)}}var go={readContext:Gr,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Pc={readContext:Gr,useCallback:function(s,a){return qr().memoizedState=[s,a===void 0?null:a],s},useContext:Gr,useEffect:ef,useImperativeHandle:function(s,a,g){return g=g!=null?g.concat([s]):null,lu(4194308,4,cu.bind(null,a,s),g)},useLayoutEffect:function(s,a){return lu(4194308,4,s,a)},useInsertionEffect:function(s,a){return lu(4,2,s,a)},useMemo:function(s,a){var g=qr();return a=a===void 0?null:a,s=s(),g.memoizedState=[s,a],s},useReducer:function(s,a,g){var P=qr();return a=g!==void 0?g(a):a,P.memoizedState=P.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},P.queue=s,s=s.dispatch=tf.bind(null,Jt,s),[P.memoizedState,s]},useRef:function(s){var a=qr();return s={current:s},a.memoizedState=s},useState:au,useDebugValue:po,useDeferredValue:function(s){return qr().memoizedState=s},useTransition:function(){var s=au(!1),a=s[0];return s=hu.bind(null,s[1]),qr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,g){var P=Jt,b=qr();if(Kt){if(g===void 0)throw Error(c(407));g=g()}else{if(g=a(),_n===null)throw Error(c(349));(Is&30)!==0||vc(P,a,g)}b.memoizedState=g;var F={value:g,getSnapshot:a};return b.queue=F,ef(xc.bind(null,P,F,s),[s]),P.flags|=2048,fo(9,yc.bind(null,P,F,g,a),void 0,null),g},useId:function(){var s=qr(),a=_n.identifierPrefix;if(Kt){var g=Ci,P=Mr;g=(P&~(1<<32-Br(P)-1)).toString(32)+g,a=":"+a+"R"+g,g=tl++,0<g&&(a+="H"+g.toString(32)),a+=":"}else g=sa++,a=":"+a+"r"+g.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Ec={readContext:Gr,useCallback:_c,useContext:Gr,useEffect:uu,useImperativeHandle:rl,useInsertionEffect:Sc,useLayoutEffect:Gt,useMemo:du,useReducer:ou,useRef:Jh,useState:function(){return ou(ho)},useDebugValue:po,useDeferredValue:function(s){var a=Zn();return aa(a,Sn.memoizedState,s)},useTransition:function(){var s=ou(ho)[0],a=Zn().memoizedState;return[s,a]},useMutableSource:mc,useSyncExternalStore:gc,useId:mo,unstable_isNewReconciler:!1},kc={readContext:Gr,useCallback:_c,useContext:Gr,useEffect:uu,useImperativeHandle:rl,useInsertionEffect:Sc,useLayoutEffect:Gt,useMemo:du,useReducer:oa,useRef:Jh,useState:function(){return oa(ho)},useDebugValue:po,useDeferredValue:function(s){var a=Zn();return Sn===null?a.memoizedState=s:aa(a,Sn.memoizedState,s)},useTransition:function(){var s=oa(ho)[0],a=Zn().memoizedState;return[s,a]},useMutableSource:mc,useSyncExternalStore:gc,useId:mo,unstable_isNewReconciler:!1};function Hr(s,a){if(s&&s.defaultProps){a=d({},a),s=s.defaultProps;for(var g in s)a[g]===void 0&&(a[g]=s[g]);return a}return a}function Rc(s,a,g,P){a=s.memoizedState,g=g(P,a),g=g==null?a:d({},a,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var sl={isMounted:function(s){return(s=s._reactInternals)?H(s)===s:!1},enqueueSetState:function(s,a,g){s=s._reactInternals;var P=Ln(),b=gi(s),F=os(P,b);F.payload=a,g!=null&&(F.callback=g),a=as(s,F,b),a!==null&&(or(a,s,b,P),Ja(a,s,b))},enqueueReplaceState:function(s,a,g){s=s._reactInternals;var P=Ln(),b=gi(s),F=os(P,b);F.tag=1,F.payload=a,g!=null&&(F.callback=g),a=as(s,F,b),a!==null&&(or(a,s,b,P),Ja(a,s,b))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var g=Ln(),P=gi(s),b=os(g,P);b.tag=2,a!=null&&(b.callback=a),a=as(s,b,P),a!==null&&(or(a,s,P,g),Ja(a,s,P))}};function rf(s,a,g,P,b,F,Q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(P,F,Q):a.prototype&&a.prototype.isPureReactComponent?!Zl(g,P)||!Zl(b,F):!0}function sf(s,a,g){var P=!1,b=Vn,F=a.contextType;return typeof F=="object"&&F!==null?F=Gr(F):(b=Bn(a)?hr:wn.current,P=a.contextTypes,F=(P=P!=null)?rs(s,b):Vn),a=new a(g,F),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=sl,s.stateNode=a,a._reactInternals=s,P&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=F),a}function fu(s,a,g,P){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(g,P),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(g,P),a.state!==s&&sl.enqueueReplaceState(a,a.state,null)}function Vi(s,a,g,P){var b=s.stateNode;b.props=g,b.state=s.memoizedState,b.refs={},uc(s);var F=a.contextType;typeof F=="object"&&F!==null?b.context=Gr(F):(F=Bn(a)?hr:wn.current,b.context=rs(s,F)),b.state=s.memoizedState,F=a.getDerivedStateFromProps,typeof F=="function"&&(Rc(s,a,F,g),b.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&sl.enqueueReplaceState(b,b.state,null),Ns(s,g,b,P),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function vo(s,a){try{var g="",P=a;do g+=F0(P),P=P.return;while(P);var b=g}catch(F){b=`
Error generating stack: `+F.message+`
`+F.stack}return{value:s,source:a,stack:b,digest:null}}function Os(s,a,g){return{value:s,source:null,stack:g??null,digest:a??null}}function di(s,a){try{console.error(a.value)}catch(g){setTimeout(function(){throw g})}}var ol=typeof WeakMap=="function"?WeakMap:Map;function Bi(s,a,g){g=os(-1,g),g.tag=3,g.payload={element:null};var P=a.value;return g.callback=function(){qt||(qt=!0,va=P),di(s,a)},g}function pu(s,a,g){g=os(-1,g),g.tag=3;var P=s.type.getDerivedStateFromError;if(typeof P=="function"){var b=a.value;g.payload=function(){return P(b)},g.callback=function(){di(s,a)}}var F=s.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){di(s,a),typeof P!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var Q=a.stack;this.componentDidCatch(a.value,{componentStack:Q!==null?Q:""})}),g}function of(s,a,g){var P=s.pingCache;if(P===null){P=s.pingCache=new ol;var b=new Set;P.set(a,b)}else b=P.get(a),b===void 0&&(b=new Set,P.set(a,b));b.has(g)||(b.add(g),s=Uc.bind(null,s,a,g),a.then(s,s))}function af(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ds(s,a,g,P,b){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(a=os(-1,1),a.tag=2,as(g,a,1))),g.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var al=h.ReactCurrentOwner,In=!1;function Wn(s,a,g,P){a.child=s===null?Yh(a,null,g,P):oo(a,s.child,g,P)}function mu(s,a,g,P,b){g=g.render;var F=a.ref;return ta(a,b),P=nl(s,a,g,P,F,b),g=su(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~b,cs(s,a,b)):(Kt&&g&&Ya(a),a.flags|=1,Wn(s,a,P,b),a.child)}function yo(s,a,g,P,b){if(s===null){var F=g.type;return typeof F=="function"&&!Ru(F)&&F.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(a.tag=15,a.type=F,us(s,a,F,P,b)):(s=Tu(g.type,null,P,a,a.mode,b),s.ref=a.ref,s.return=a,a.child=s)}if(F=s.child,(s.lanes&b)===0){var Q=F.memoizedProps;if(g=g.compare,g=g!==null?g:Zl,g(Q,P)&&s.ref===a.ref)return cs(s,a,b)}return a.flags|=1,s=fs(F,P),s.ref=a.ref,s.return=a,a.child=s}function us(s,a,g,P,b){if(s!==null){var F=s.memoizedProps;if(Zl(F,P)&&s.ref===a.ref)if(In=!1,a.pendingProps=P=F,(s.lanes&b)!==0)(s.flags&131072)!==0&&(In=!0);else return a.lanes=s.lanes,cs(s,a,b)}return $i(s,a,g,P,b)}function Wt(s,a,g){var P=a.pendingProps,b=P.children,F=s!==null?s.memoizedState:null;if(P.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ko,Ar),Ar|=g;else{if((g&1073741824)===0)return s=F!==null?F.baseLanes|g:g,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,pt(ko,Ar),Ar|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=F!==null?F.baseLanes:g,pt(ko,Ar),Ar|=P}else F!==null?(P=F.baseLanes|g,a.memoizedState=null):P=g,pt(ko,Ar),Ar|=P;return Wn(s,a,b,g),a.child}function Vt(s,a){var g=a.ref;(s===null&&g!==null||s!==null&&s.ref!==g)&&(a.flags|=512,a.flags|=2097152)}function $i(s,a,g,P,b){var F=Bn(g)?hr:wn.current;return F=rs(a,F),ta(a,b),g=nl(s,a,g,P,F,b),P=su(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~b,cs(s,a,b)):(Kt&&P&&Ya(a),a.flags|=1,Wn(s,a,g,b),a.child)}function Jn(s,a,g,P,b){if(Bn(g)){var F=!0;qo(a)}else F=!1;if(ta(a,b),a.stateNode===null)ll(s,a),sf(a,g,P),Vi(a,g,P,b),P=!0;else if(s===null){var Q=a.stateNode,ue=a.memoizedProps;Q.props=ue;var ye=Q.context,Te=g.contextType;typeof Te=="object"&&Te!==null?Te=Gr(Te):(Te=Bn(g)?hr:wn.current,Te=rs(a,Te));var Ue=g.getDerivedStateFromProps,at=typeof Ue=="function"||typeof Q.getSnapshotBeforeUpdate=="function";at||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==P||ye!==Te)&&fu(a,Q,P,Te),Wr=!1;var Le=a.memoizedState;Q.state=Le,Ns(a,P,Q,b),ye=a.memoizedState,ue!==P||Le!==ye||un.current||Wr?(typeof Ue=="function"&&(Rc(a,g,Ue,P),ye=a.memoizedState),(ue=Wr||rf(a,g,ue,P,Le,ye,Te))?(at||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(a.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=P,a.memoizedState=ye),Q.props=P,Q.state=ye,Q.context=Te,P=ue):(typeof Q.componentDidMount=="function"&&(a.flags|=4194308),P=!1)}else{Q=a.stateNode,Qh(s,a),ue=a.memoizedProps,Te=a.type===a.elementType?ue:Hr(a.type,ue),Q.props=Te,at=a.pendingProps,Le=Q.context,ye=g.contextType,typeof ye=="object"&&ye!==null?ye=Gr(ye):(ye=Bn(g)?hr:wn.current,ye=rs(a,ye));var $t=g.getDerivedStateFromProps;(Ue=typeof $t=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==at||Le!==ye)&&fu(a,Q,P,ye),Wr=!1,Le=a.memoizedState,Q.state=Le,Ns(a,P,Q,b);var zt=a.memoizedState;ue!==at||Le!==zt||un.current||Wr?(typeof $t=="function"&&(Rc(a,g,$t,P),zt=a.memoizedState),(Te=Wr||rf(a,g,Te,P,Le,zt,ye)||!1)?(Ue||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(P,zt,ye),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(P,zt,ye)),typeof Q.componentDidUpdate=="function"&&(a.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ue===s.memoizedProps&&Le===s.memoizedState||(a.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===s.memoizedProps&&Le===s.memoizedState||(a.flags|=1024),a.memoizedProps=P,a.memoizedState=zt),Q.props=P,Q.state=zt,Q.context=ye,P=Te):(typeof Q.componentDidUpdate!="function"||ue===s.memoizedProps&&Le===s.memoizedState||(a.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===s.memoizedProps&&Le===s.memoizedState||(a.flags|=1024),P=!1)}return ir(s,a,g,P,F,b)}function ir(s,a,g,P,b,F){Vt(s,a);var Q=(a.flags&128)!==0;if(!P&&!Q)return b&&tc(a,g,!1),cs(s,a,F);P=a.stateNode,al.current=a;var ue=Q&&typeof g.getDerivedStateFromError!="function"?null:P.render();return a.flags|=1,s!==null&&Q?(a.child=oo(a,s.child,null,F),a.child=oo(a,null,ue,F)):Wn(s,a,ue,F),a.memoizedState=P.state,b&&tc(a,g,!0),a.child}function Fs(s){var a=s.stateNode;a.pendingContext?Oh(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Oh(s,a.context,!1),ru(s,a.containerInfo)}function xo(s,a,g,P,b){return io(),sc(b),a.flags|=256,Wn(s,a,g,P),a.child}var sr={dehydrated:null,treeContext:null,retryLane:0};function la(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tc(s,a,g){var P=a.pendingProps,b=cn.current,F=!1,Q=(a.flags&128)!==0,ue;if((ue=Q)||(ue=s!==null&&s.memoizedState===null?!1:(b&2)!==0),ue?(F=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),pt(cn,b&1),s===null)return ic(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:D(s)?a.lanes=8:a.lanes=1073741824,null):(Q=P.children,s=P.fallback,F?(P=a.mode,F=a.child,Q={mode:"hidden",children:Q},(P&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=Q):F=yl(Q,P,0,null),s=To(s,P,g,null),F.return=a,s.return=a,F.sibling=s,a.child=F,a.child.memoizedState=la(g),a.memoizedState=sr,s):gu(a,Q));if(b=s.memoizedState,b!==null&&(ue=b.dehydrated,ue!==null))return lf(s,a,Q,P,ue,b,g);if(F){F=P.fallback,Q=a.mode,b=s.child,ue=b.sibling;var ye={mode:"hidden",children:P.children};return(Q&1)===0&&a.child!==b?(P=a.child,P.childLanes=0,P.pendingProps=ye,a.deletions=null):(P=fs(b,ye),P.subtreeFlags=b.subtreeFlags&14680064),ue!==null?F=fs(ue,F):(F=To(F,Q,g,null),F.flags|=2),F.return=a,P.return=a,P.sibling=F,a.child=P,P=F,F=a.child,Q=s.child.memoizedState,Q=Q===null?la(g):{baseLanes:Q.baseLanes|g,cachePool:null,transitions:Q.transitions},F.memoizedState=Q,F.childLanes=s.childLanes&~g,a.memoizedState=sr,P}return F=s.child,s=F.sibling,P=fs(F,{mode:"visible",children:P.children}),(a.mode&1)===0&&(P.lanes=g),P.return=a,P.sibling=null,s!==null&&(g=a.deletions,g===null?(a.deletions=[s],a.flags|=16):g.push(s)),a.child=P,a.memoizedState=null,P}function gu(s,a){return a=yl({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function wo(s,a,g,P){return P!==null&&sc(P),oo(a,s.child,null,g),s=gu(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function lf(s,a,g,P,b,F,Q){if(g)return a.flags&256?(a.flags&=-257,P=Os(Error(c(422))),wo(s,a,Q,P)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(F=P.fallback,b=a.mode,P=yl({mode:"visible",children:P.children},b,0,null),F=To(F,b,Q,null),F.flags|=2,P.return=a,F.return=a,P.sibling=F,a.child=P,(a.mode&1)!==0&&oo(a,s.child,null,Q),a.child.memoizedState=la(Q),a.memoizedState=sr,F);if((a.mode&1)===0)return wo(s,a,Q,null);if(D(b))return P=M(b).digest,F=Error(c(419)),P=Os(F,P,void 0),wo(s,a,Q,P);if(g=(Q&s.childLanes)!==0,In||g){if(P=_n,P!==null){switch(Q&-Q){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(P.suspendedLanes|Q))!==0?0:b,b!==0&&b!==F.retryLane&&(F.retryLane=b,ki(s,b),or(P,s,b,-1))}return Eu(),P=Os(Error(c(421))),wo(s,a,Q,P)}return Bl(b)?(a.flags|=128,a.child=s.child,a=pf.bind(null,s),z(b,a),null):(s=F.treeContext,He&&(pr=Xe(b),Qn=a,Kt=!0,Ei=null,Qa=!1,s!==null&&(fr[$r++]=Mr,fr[$r++]=Ci,fr[$r++]=An,Mr=s.id,Ci=s.overflow,An=a)),a=gu(a,P.children),a.flags|=4096,a)}function Gi(s,a,g){s.lanes|=a;var P=s.alternate;P!==null&&(P.lanes|=a),ao(s.return,a,g)}function ua(s,a,g,P,b){var F=s.memoizedState;F===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:P,tail:g,tailMode:b}:(F.isBackwards=a,F.rendering=null,F.renderingStartTime=0,F.last=P,F.tail=g,F.tailMode=b)}function vu(s,a,g){var P=a.pendingProps,b=P.revealOrder,F=P.tail;if(Wn(s,a,P.children,g),P=cn.current,(P&2)!==0)P=P&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gi(s,g,a);else if(s.tag===19)Gi(s,g,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}P&=1}if(pt(cn,P),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(g=a.child,b=null;g!==null;)s=g.alternate,s!==null&&iu(s)===null&&(b=g),g=g.sibling;g=b,g===null?(b=a.child,a.child=null):(b=g.sibling,g.sibling=null),ua(a,!1,b,g,F);break;case"backwards":for(g=null,b=a.child,a.child=null;b!==null;){if(s=b.alternate,s!==null&&iu(s)===null){a.child=b;break}s=b.sibling,b.sibling=g,g=b,b=s}ua(a,!0,g,null,F);break;case"together":ua(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ll(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function cs(s,a,g){if(s!==null&&(a.dependencies=s.dependencies),Ti|=a.lanes,(g&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(c(153));if(a.child!==null){for(s=a.child,g=fs(s,s.pendingProps),a.child=g,g.return=a;s.sibling!==null;)s=s.sibling,g=g.sibling=fs(s,s.pendingProps),g.return=a;g.sibling=null}return a.child}function zs(s,a,g){switch(a.tag){case 3:Fs(a),io();break;case 5:dc(a);break;case 1:Bn(a.type)&&qo(a);break;case 4:ru(a,a.stateNode.containerInfo);break;case 10:Xh(a,a.type._context,a.memoizedProps.value);break;case 13:var P=a.memoizedState;if(P!==null)return P.dehydrated!==null?(pt(cn,cn.current&1),a.flags|=128,null):(g&a.child.childLanes)!==0?Tc(s,a,g):(pt(cn,cn.current&1),s=cs(s,a,g),s!==null?s.sibling:null);pt(cn,cn.current&1);break;case 19:if(P=(g&a.childLanes)!==0,(s.flags&128)!==0){if(P)return vu(s,a,g);a.flags|=128}var b=a.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),pt(cn,cn.current),P)break;return null;case 22:case 23:return a.lanes=0,Wt(s,a,g)}return cs(s,a,g)}function mr(s){s.flags|=4}function So(s,a){if(s!==null&&s.child===a.child)return!0;if((a.flags&16)!==0)return!1;for(s=a.child;s!==null;){if((s.flags&12854)!==0||(s.subtreeFlags&12854)!==0)return!1;s=s.sibling}return!0}var Us,Vs,gr,vr;if(De)Us=function(s,a){for(var g=a.child;g!==null;){if(g.tag===5||g.tag===6)oe(s,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break;for(;g.sibling===null;){if(g.return===null||g.return===a)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Vs=function(){},gr=function(s,a,g,P,b){if(s=s.memoizedProps,s!==P){var F=a.stateNode,Q=ci(ui.current);g=we(F,g,s,P,b,Q),(a.updateQueue=g)&&mr(a)}},vr=function(s,a,g,P){g!==P&&mr(a)};else if(et){Us=function(s,a,g,P){for(var b=a.child;b!==null;){if(b.tag===5){var F=b.stateNode;g&&P&&(F=Yn(F,b.type,b.memoizedProps,b)),oe(s,F)}else if(b.tag===6)F=b.stateNode,g&&P&&(F=Ga(F,b.memoizedProps,b)),oe(s,F);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)F=b.child,F!==null&&(F.return=b),Us(s,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===a)break;for(;b.sibling===null;){if(b.return===null||b.return===a)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var Bs=function(s,a,g,P){for(var b=a.child;b!==null;){if(b.tag===5){var F=b.stateNode;g&&P&&(F=Yn(F,b.type,b.memoizedProps,b)),Go(s,F)}else if(b.tag===6)F=b.stateNode,g&&P&&(F=Ga(F,b.memoizedProps,b)),Go(s,F);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)F=b.child,F!==null&&(F.return=b),Bs(s,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===a)break;for(;b.sibling===null;){if(b.return===null||b.return===a)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Vs=function(s,a){var g=a.stateNode;if(!So(s,a)){s=g.containerInfo;var P=$a(s);Bs(P,a,!1,!1),g.pendingChildren=P,mr(a),Vl(s,P)}},gr=function(s,a,g,P,b){var F=s.stateNode,Q=s.memoizedProps;if((s=So(s,a))&&Q===P)a.stateNode=F;else{var ue=a.stateNode,ye=ci(ui.current),Te=null;Q!==P&&(Te=we(ue,g,Q,P,b,ye)),s&&Te===null?a.stateNode=F:(F=$o(F,Te,g,Q,P,a,s,ue),_e(F,g,P,b,ye)&&mr(a),a.stateNode=F,s?mr(a):Us(F,a,!1,!1))}},vr=function(s,a,g,P){g!==P?(s=ci(js.current),g=ci(ui.current),a.stateNode=Re(P,s,g,a),mr(a)):a.stateNode=s.stateNode}}else Vs=function(){},gr=function(){},vr=function(){};function Kr(s,a){if(!Kt)switch(s.tailMode){case"hidden":a=s.tail;for(var g=null;a!==null;)a.alternate!==null&&(g=a),a=a.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var P=null;g!==null;)g.alternate!==null&&(P=g),g=g.sibling;P===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:P.sibling=null}}function en(s){var a=s.alternate!==null&&s.alternate.child===s.child,g=0,P=0;if(a)for(var b=s.child;b!==null;)g|=b.lanes|b.childLanes,P|=b.subtreeFlags&14680064,P|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)g|=b.lanes|b.childLanes,P|=b.subtreeFlags,P|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=P,s.childLanes=g,a}function _o(s,a,g){var P=a.pendingProps;switch(Xa(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return Bn(a.type)&&no(),en(a),null;case 3:return g=a.stateNode,lo(),st(un),st(wn),pc(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Ql(a)?mr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ei!==null&&(pl(Ei),Ei=null))),Vs(s,a),en(a),null;case 5:hc(a),g=ci(js.current);var b=a.type;if(s!==null&&a.stateNode!=null)gr(s,a,b,P,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!P){if(a.stateNode===null)throw Error(c(166));return en(a),null}if(s=ci(ui.current),Ql(a)){if(!He)throw Error(c(175));s=Fe(a.stateNode,a.type,a.memoizedProps,g,s,a,!Qa),a.updateQueue=s,s!==null&&mr(a)}else{var F=le(b,P,g,s,a);Us(F,a,!1,!1),a.stateNode=F,_e(F,b,P,g,s)&&mr(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return en(a),null;case 6:if(s&&a.stateNode!=null)vr(s,a,s.memoizedProps,P);else{if(typeof P!="string"&&a.stateNode===null)throw Error(c(166));if(s=ci(js.current),g=ci(ui.current),Ql(a)){if(!He)throw Error(c(176));if(s=a.stateNode,g=a.memoizedProps,(P=wt(s,g,a,!Qa))&&(b=Qn,b!==null))switch(b.tag){case 3:be(b.stateNode.containerInfo,s,g,(b.mode&1)!==0);break;case 5:Ze(b.type,b.memoizedProps,b.stateNode,s,g,(b.mode&1)!==0)}P&&mr(a)}else a.stateNode=Re(P,s,g,a)}return en(a),null;case 13:if(st(cn),P=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Kt&&pr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)qh(),io(),a.flags|=98560,b=!1;else if(b=Ql(a),P!==null&&P.dehydrated!==null){if(s===null){if(!b)throw Error(c(318));if(!He)throw Error(c(344));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(c(317));vt(b,a)}else io(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),b=!1}else Ei!==null&&(pl(Ei),Ei=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=g,a):(g=P!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(cn.current&1)!==0?nn===0&&(nn=3):Eu())),a.updateQueue!==null&&(a.flags|=4),en(a),null);case 4:return lo(),Vs(s,a),s===null&&St(a.stateNode.containerInfo),en(a),null;case 10:return Za(a.type._context),en(a),null;case 17:return Bn(a.type)&&no(),en(a),null;case 19:if(st(cn),b=a.memoizedState,b===null)return en(a),null;if(P=(a.flags&128)!==0,F=b.rendering,F===null)if(P)Kr(b,!1);else{if(nn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(F=iu(s),F!==null){for(a.flags|=128,Kr(b,!1),s=F.updateQueue,s!==null&&(a.updateQueue=s,a.flags|=4),a.subtreeFlags=0,s=g,g=a.child;g!==null;)P=g,b=s,P.flags&=14680066,F=P.alternate,F===null?(P.childLanes=0,P.lanes=b,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=F.childLanes,P.lanes=F.lanes,P.child=F.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=F.memoizedProps,P.memoizedState=F.memoizedState,P.updateQueue=F.updateQueue,P.type=F.type,b=F.dependencies,P.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),g=g.sibling;return pt(cn,cn.current&1|2),a.child}s=s.sibling}b.tail!==null&&$n()>Ws&&(a.flags|=128,P=!0,Kr(b,!1),a.lanes=4194304)}else{if(!P)if(s=iu(F),s!==null){if(a.flags|=128,P=!0,s=s.updateQueue,s!==null&&(a.updateQueue=s,a.flags|=4),Kr(b,!0),b.tail===null&&b.tailMode==="hidden"&&!F.alternate&&!Kt)return en(a),null}else 2*$n()-b.renderingStartTime>Ws&&g!==1073741824&&(a.flags|=128,P=!0,Kr(b,!1),a.lanes=4194304);b.isBackwards?(F.sibling=a.child,a.child=F):(s=b.last,s!==null?s.sibling=F:a.child=F,b.last=F)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=$n(),a.sibling=null,s=cn.current,pt(cn,P?s&1|2:s&1),a):(en(a),null);case 22:case 23:return ml(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ar&1073741824)!==0&&(en(a),De&&a.subtreeFlags&6&&(a.flags|=8192)):en(a),null;case 24:return null;case 25:return null}throw Error(c(156,a.tag))}function uf(s,a){switch(Xa(a),a.tag){case 1:return Bn(a.type)&&no(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return lo(),st(un),st(wn),pc(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return hc(a),null;case 13:if(st(cn),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(c(340));io()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(cn),null;case 4:return lo(),null;case 10:return Za(a.type._context),null;case 22:case 23:return ml(),null;case 24:return null;default:return null}}var ca=!1,qn=!1,Yr=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ft(s,a){var g=s.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(P){Xt(s,a,P)}else g.current=null}function Xr(s,a,g){try{g()}catch(P){Xt(s,a,P)}}var Mc=!1;function cf(s,a){for(se(s.containerInfo),Ie=a;Ie!==null;)if(s=Ie,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ie=a;else for(;Ie!==null;){s=Ie;try{var g=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var P=g.memoizedProps,b=g.memoizedState,F=s.stateNode,Q=F.getSnapshotBeforeUpdate(s.elementType===s.type?P:Hr(s.type,P),b);F.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:De&&ks(s.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ue){Xt(s,s.return,ue)}if(a=s.sibling,a!==null){a.return=s.return,Ie=a;break}Ie=s.return}return g=Mc,Mc=!1,g}function Co(s,a,g){var P=a.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var b=P=P.next;do{if((b.tag&s)===s){var F=b.destroy;b.destroy=void 0,F!==void 0&&Xr(a,g,F)}b=b.next}while(b!==P)}}function da(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var g=a=a.next;do{if((g.tag&s)===s){var P=g.create;g.destroy=P()}g=g.next}while(g!==a)}}function yu(s){var a=s.ref;if(a!==null){var g=s.stateNode;switch(s.tag){case 5:s=J(g);break;default:s=g}typeof a=="function"?a(s):a.current=s}}function ul(s){var a=s.alternate;a!==null&&(s.alternate=null,ul(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ht(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function bc(s){return s.tag===5||s.tag===3||s.tag===4}function Po(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||bc(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cl(s,a,g){var P=s.tag;if(P===5||P===6)s=s.stateNode,a?Rr(g,s,a):ai(g,s);else if(P!==4&&(s=s.child,s!==null))for(cl(s,a,g),s=s.sibling;s!==null;)cl(s,a,g),s=s.sibling}function Nc(s,a,g){var P=s.tag;if(P===5||P===6)s=s.stateNode,a?Vo(g,s,a):Er(g,s);else if(P!==4&&(s=s.child,s!==null))for(Nc(s,a,g),s=s.sibling;s!==null;)Nc(s,a,g),s=s.sibling}var Bt=null,Nr=!1;function Qr(s,a,g){for(g=g.child;g!==null;)$s(s,a,g),g=g.sibling}function $s(s,a,g){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Ts,g)}catch{}switch(g.tag){case 5:qn||Ft(g,a);case 6:if(De){var P=Bt,b=Nr;Bt=null,Qr(s,a,g),Bt=P,Nr=b,Bt!==null&&(Nr?Ba(Bt,g.stateNode):ec(Bt,g.stateNode))}else Qr(s,a,g);break;case 18:De&&Bt!==null&&(Nr?it(Bt,g.stateNode):ht(Bt,g.stateNode));break;case 4:De?(P=Bt,b=Nr,Bt=g.stateNode.containerInfo,Nr=!0,Qr(s,a,g),Bt=P,Nr=b):(et&&(P=g.stateNode.containerInfo,b=$a(P),Wo(P,b)),Qr(s,a,g));break;case 0:case 11:case 14:case 15:if(!qn&&(P=g.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){b=P=P.next;do{var F=b,Q=F.destroy;F=F.tag,Q!==void 0&&((F&2)!==0||(F&4)!==0)&&Xr(g,a,Q),b=b.next}while(b!==P)}Qr(s,a,g);break;case 1:if(!qn&&(Ft(g,a),P=g.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=g.memoizedProps,P.state=g.memoizedState,P.componentWillUnmount()}catch(ue){Xt(g,a,ue)}Qr(s,a,g);break;case 21:Qr(s,a,g);break;case 22:g.mode&1?(qn=(P=qn)||g.memoizedState!==null,Qr(s,a,g),qn=P):Qr(s,a,g);break;default:Qr(s,a,g)}}function xu(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var g=s.stateNode;g===null&&(g=s.stateNode=new Yr),a.forEach(function(P){var b=mf.bind(null,s,P);g.has(P)||(g.add(P),P.then(b,b))})}}function Zr(s,a){var g=a.deletions;if(g!==null)for(var P=0;P<g.length;P++){var b=g[P];try{var F=s,Q=a;if(De){var ue=Q;e:for(;ue!==null;){switch(ue.tag){case 5:Bt=ue.stateNode,Nr=!1;break e;case 3:Bt=ue.stateNode.containerInfo,Nr=!0;break e;case 4:Bt=ue.stateNode.containerInfo,Nr=!0;break e}ue=ue.return}if(Bt===null)throw Error(c(160));$s(F,Q,b),Bt=null,Nr=!1}else $s(F,Q,b);var ye=b.alternate;ye!==null&&(ye.return=null),b.return=null}catch(Te){Xt(b,a,Te)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wu(a,s),a=a.sibling}function wu(s,a){var g=s.alternate,P=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zr(a,s),hi(s),P&4){try{Co(3,s,s.return),da(3,s)}catch(Le){Xt(s,s.return,Le)}try{Co(5,s,s.return)}catch(Le){Xt(s,s.return,Le)}}break;case 1:Zr(a,s),hi(s),P&512&&g!==null&&Ft(g,g.return);break;case 5:if(Zr(a,s),hi(s),P&512&&g!==null&&Ft(g,g.return),De){if(s.flags&32){var b=s.stateNode;try{Zs(b)}catch(Le){Xt(s,s.return,Le)}}if(P&4&&(b=s.stateNode,b!=null)){var F=s.memoizedProps;if(g=g!==null?g.memoizedProps:F,P=s.type,a=s.updateQueue,s.updateQueue=null,a!==null)try{Uo(b,a,P,g,F,s)}catch(Le){Xt(s,s.return,Le)}}}break;case 6:if(Zr(a,s),hi(s),P&4&&De){if(s.stateNode===null)throw Error(c(162));b=s.stateNode,F=s.memoizedProps,g=g!==null?g.memoizedProps:F;try{zn(b,g,F)}catch(Le){Xt(s,s.return,Le)}}break;case 3:if(Zr(a,s),hi(s),P&4){if(De&&He&&g!==null&&g.memoizedState.isDehydrated)try{yt(a.containerInfo)}catch(Le){Xt(s,s.return,Le)}if(et){b=a.containerInfo,F=a.pendingChildren;try{Wo(b,F)}catch(Le){Xt(s,s.return,Le)}}}break;case 4:if(Zr(a,s),hi(s),P&4&&et){F=s.stateNode,b=F.containerInfo,F=F.pendingChildren;try{Wo(b,F)}catch(Le){Xt(s,s.return,Le)}}break;case 13:Zr(a,s),hi(s),b=s.child,b.flags&8192&&(F=b.memoizedState!==null,b.stateNode.isHidden=F,!F||b.alternate!==null&&b.alternate.memoizedState!==null||(hl=$n())),P&4&&xu(s);break;case 22:var Q=g!==null&&g.memoizedState!==null;if(s.mode&1?(qn=(g=qn)||Q,Zr(a,s),qn=g):Zr(a,s),hi(s),P&8192){if(g=s.memoizedState!==null,(s.stateNode.isHidden=g)&&!Q&&(s.mode&1)!==0)for(Ie=s,P=s.child;P!==null;){for(a=Ie=P;Ie!==null;){Q=Ie;var ue=Q.child;switch(Q.tag){case 0:case 11:case 14:case 15:Co(4,Q,Q.return);break;case 1:Ft(Q,Q.return);var ye=Q.stateNode;if(typeof ye.componentWillUnmount=="function"){var Te=Q,Ue=Q.return;try{var at=Te;ye.props=at.memoizedProps,ye.state=at.memoizedState,ye.componentWillUnmount()}catch(Le){Xt(Te,Ue,Le)}}break;case 5:Ft(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Su(a);continue}}ue!==null?(ue.return=Q,Ie=ue):Su(a)}P=P.sibling}if(De){e:if(P=null,De)for(a=s;;){if(a.tag===5){if(P===null){P=a;try{b=a.stateNode,g?Bo(b):eo(a.stateNode,a.memoizedProps)}catch(Le){Xt(s,s.return,Le)}}}else if(a.tag===6){if(P===null)try{F=a.stateNode,g?Js(F):Es(F,a.memoizedProps)}catch(Le){Xt(s,s.return,Le)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;P===a&&(P=null),a=a.return}P===a&&(P=null),a.sibling.return=a.return,a=a.sibling}}}break;case 19:Zr(a,s),hi(s),P&4&&xu(s);break;case 21:break;default:Zr(a,s),hi(s)}}function hi(s){var a=s.flags;if(a&2){try{if(De){e:{for(var g=s.return;g!==null;){if(bc(g)){var P=g;break e}g=g.return}throw Error(c(160))}switch(P.tag){case 5:var b=P.stateNode;P.flags&32&&(Zs(b),P.flags&=-33);var F=Po(s);Nc(s,F,b);break;case 3:case 4:var Q=P.stateNode.containerInfo,ue=Po(s);cl(s,ue,Q);break;default:throw Error(c(161))}}}catch(ye){Xt(s,s.return,ye)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ha(s,a,g){Ie=s,Jr(s)}function Jr(s,a,g){for(var P=(s.mode&1)!==0;Ie!==null;){var b=Ie,F=b.child;if(b.tag===22&&P){var Q=b.memoizedState!==null||ca;if(!Q){var ue=b.alternate,ye=ue!==null&&ue.memoizedState!==null||qn;ue=ca;var Te=qn;if(ca=Q,(qn=ye)&&!Te)for(Ie=b;Ie!==null;)Q=Ie,ye=Q.child,Q.tag===22&&Q.memoizedState!==null?Ac(b):ye!==null?(ye.return=Q,Ie=ye):Ac(b);for(;F!==null;)Ie=F,Jr(F),F=F.sibling;Ie=b,ca=ue,qn=Te}Gs(s)}else(b.subtreeFlags&8772)!==0&&F!==null?(F.return=b,Ie=F):Gs(s)}}function Gs(s){for(;Ie!==null;){var a=Ie;if((a.flags&8772)!==0){var g=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:qn||da(5,a);break;case 1:var P=a.stateNode;if(a.flags&4&&!qn)if(g===null)P.componentDidMount();else{var b=a.elementType===a.type?g.memoizedProps:Hr(a.type,g.memoizedProps);P.componentDidUpdate(b,g.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var F=a.updateQueue;F!==null&&Zh(a,F,P);break;case 3:var Q=a.updateQueue;if(Q!==null){if(g=null,a.child!==null)switch(a.child.tag){case 5:g=J(a.child.stateNode);break;case 1:g=a.child.stateNode}Zh(a,Q,g)}break;case 5:var ue=a.stateNode;g===null&&a.flags&4&&kr(ue,a.type,a.memoizedProps,a);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&a.memoizedState===null){var ye=a.alternate;if(ye!==null){var Te=ye.memoizedState;if(Te!==null){var Ue=Te.dehydrated;Ue!==null&&Ke(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}qn||a.flags&512&&yu(a)}catch(at){Xt(a,a.return,at)}}if(a===s){Ie=null;break}if(g=a.sibling,g!==null){g.return=a.return,Ie=g;break}Ie=a.return}}function Su(s){for(;Ie!==null;){var a=Ie;if(a===s){Ie=null;break}var g=a.sibling;if(g!==null){g.return=a.return,Ie=g;break}Ie=a.return}}function Ac(s){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var g=a.return;try{da(4,a)}catch(ye){Xt(a,g,ye)}break;case 1:var P=a.stateNode;if(typeof P.componentDidMount=="function"){var b=a.return;try{P.componentDidMount()}catch(ye){Xt(a,b,ye)}}var F=a.return;try{yu(a)}catch(ye){Xt(a,F,ye)}break;case 5:var Q=a.return;try{yu(a)}catch(ye){Xt(a,Q,ye)}}}catch(ye){Xt(a,a.return,ye)}if(a===s){Ie=null;break}var ue=a.sibling;if(ue!==null){ue.return=a.return,Ie=ue;break}Ie=a.return}}var fi=0,Ri=1,fa=2,dl=3,pi=4;if(typeof Symbol=="function"&&Symbol.for){var mi=Symbol.for;fi=mi("selector.component"),Ri=mi("selector.has_pseudo_class"),fa=mi("selector.role"),dl=mi("selector.test_id"),pi=mi("selector.text")}function pa(s){var a=Zt(s);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(c(364));return a}if(s=_t(s),s===null)throw Error(c(362));return s.stateNode.current}function _u(s,a){switch(a.$$typeof){case fi:if(s.type===a.value)return!0;break;case Ri:e:{a=a.value,s=[s,0];for(var g=0;g<s.length;){var P=s[g++],b=s[g++],F=a[b];if(P.tag!==5||!Nn(P)){for(;F!=null&&_u(P,F);)b++,F=a[b];if(b===a.length){a=!0;break e}else for(P=P.child;P!==null;)s.push(P,b),P=P.sibling}}a=!1}return a;case fa:if(s.tag===5&&hn(s.stateNode,a.value))return!0;break;case pi:if((s.tag===5||s.tag===6)&&(s=Kn(s),s!==null&&0<=s.indexOf(a.value)))return!0;break;case dl:if(s.tag===5&&(s=s.memoizedProps["data-testname"],typeof s=="string"&&s.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function ma(s){switch(s.$$typeof){case fi:return"<"+(B(s.value)||"Unknown")+">";case Ri:return":has("+(ma(s)||"")+")";case fa:return'[role="'+s.value+'"]';case pi:return'"'+s.value+'"';case dl:return'[data-testname="'+s.value+'"]';default:throw Error(c(365))}}function jc(s,a){var g=[];s=[s,0];for(var P=0;P<s.length;){var b=s[P++],F=s[P++],Q=a[F];if(b.tag!==5||!Nn(b)){for(;Q!=null&&_u(b,Q);)F++,Q=a[F];if(F===a.length)g.push(b);else for(b=b.child;b!==null;)s.push(b,F),b=b.sibling}}return g}function Cu(s,a){if(!bt)throw Error(c(363));s=pa(s),s=jc(s,a),a=[],s=Array.from(s);for(var g=0;g<s.length;){var P=s[g++];if(P.tag===5)Nn(P)||a.push(P.stateNode);else for(P=P.child;P!==null;)s.push(P),P=P.sibling}return a}var Ic=Math.ceil,Eo=h.ReactCurrentDispatcher,Pu=h.ReactCurrentOwner,fn=h.ReactCurrentBatchConfig,xt=0,_n=null,tn=null,Cn=0,Ar=0,ko=Rt(0),nn=0,ga=null,Ti=0,ei=0,Ro=0,ds=null,Pn=null,hl=0,Ws=1/0,Wi=null;function qs(){Ws=$n()+500}var qt=!1,va=null,qi=null,ya=!1,Mi=null,xa=0,bi=0,Yt=null,pn=-1,vn=0;function Ln(){return(xt&6)!==0?$n():pn!==-1?pn:pn=$n()}function gi(s){return(s.mode&1)===0?1:(xt&2)!==0&&Cn!==0?Cn&-Cn:D0.transition!==null?(vn===0&&(vn=Gl()),vn):(s=Pt,s!==0?s:bn())}function or(s,a,g,P){if(50<bi)throw bi=0,Yt=null,Error(c(185));li(s,g,P),((xt&2)===0||s!==_n)&&(s===_n&&((xt&2)===0&&(ei|=g),nn===4&&tr(s,Cn)),jr(s,P),g===1&&xt===0&&(a.mode&1)===0&&(qs(),Zo&&Xn()))}function jr(s,a){var g=s.callbackNode;zh(s,a);var P=Ko(s,s===_n?Cn:0);if(P===0)g!==null&&Uh(g),s.callbackNode=null,s.callbackPriority=0;else if(a=P&-P,s.callbackPriority!==a){if(g!=null&&Uh(g),a===1)s.tag===0?Bh(ti.bind(null,s)):Yl(ti.bind(null,s)),mn?ln(function(){(xt&6)===0&&Xn()}):Ui(Wl,Xn),g=null;else{switch(Xo(P)){case 1:g=Wl;break;case 4:g=ql;break;case 16:g=Hl;break;case 536870912:g=O0;break;default:g=Hl}g=ku(g,er.bind(null,s))}s.callbackPriority=a,s.callbackNode=g}}function er(s,a){if(pn=-1,vn=0,(xt&6)!==0)throw Error(c(327));var g=s.callbackNode;if(Hi()&&s.callbackNode!==g)return null;var P=Ko(s,s===_n?Cn:0);if(P===0)return null;if((P&30)!==0||(P&s.expiredLanes)!==0||a)a=gl(s,P);else{a=P;var b=xt;xt|=2;var F=Dc();(_n!==s||Cn!==a)&&(Wi=null,qs(),hs(s,a));do try{hf();break}catch(ue){Oc(s,ue)}while(!0);ac(),Eo.current=F,xt=b,tn!==null?a=0:(_n=null,Cn=0,a=nn)}if(a!==0){if(a===2&&(b=$l(s),b!==0&&(P=b,a=fl(s,b))),a===1)throw g=ga,hs(s,0),tr(s,P),jr(s,$n()),g;if(a===6)tr(s,P);else{if(b=s.current.alternate,(P&30)===0&&!Lc(b)&&(a=gl(s,P),a===2&&(F=$l(s),F!==0&&(P=F,a=fl(s,F))),a===1))throw g=ga,hs(s,0),tr(s,P),jr(s,$n()),g;switch(s.finishedWork=b,s.finishedLanes=P,a){case 0:case 1:throw Error(c(345));case 2:Ni(s,Pn,Wi);break;case 3:if(tr(s,P),(P&130023424)===P&&(a=hl+500-$n(),10<a)){if(Ko(s,0)!==0)break;if(b=s.suspendedLanes,(b&P)!==P){Ln(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=ie(Ni.bind(null,s,Pn,Wi),a);break}Ni(s,Pn,Wi);break;case 4:if(tr(s,P),(P&4194240)===P)break;for(a=s.eventTimes,b=-1;0<P;){var Q=31-Br(P);F=1<<Q,Q=a[Q],Q>b&&(b=Q),P&=~F}if(P=b,P=$n()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*Ic(P/1960))-P,10<P){s.timeoutHandle=ie(Ni.bind(null,s,Pn,Wi),P);break}Ni(s,Pn,Wi);break;case 5:Ni(s,Pn,Wi);break;default:throw Error(c(329))}}}return jr(s,$n()),s.callbackNode===g?er.bind(null,s):null}function fl(s,a){var g=ds;return s.current.memoizedState.isDehydrated&&(hs(s,a).flags|=256),s=gl(s,a),s!==2&&(a=Pn,Pn=g,a!==null&&pl(a)),s}function pl(s){Pn===null?Pn=s:Pn.push.apply(Pn,s)}function Lc(s){for(var a=s;;){if(a.flags&16384){var g=a.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var P=0;P<g.length;P++){var b=g[P],F=b.getSnapshot;b=b.value;try{if(!_i(F(),b))return!1}catch{return!1}}}if(g=a.child,a.subtreeFlags&16384&&g!==null)g.return=a,a=g;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function tr(s,a){for(a&=~Ro,a&=~ei,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var g=31-Br(a),P=1<<g;s[g]=-1,a&=~P}}function ti(s){if((xt&6)!==0)throw Error(c(327));Hi();var a=Ko(s,0);if((a&1)===0)return jr(s,$n()),null;var g=gl(s,a);if(s.tag!==0&&g===2){var P=$l(s);P!==0&&(a=P,g=fl(s,P))}if(g===1)throw g=ga,hs(s,0),tr(s,a),jr(s,$n()),g;if(g===6)throw Error(c(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ni(s,Pn,Wi),jr(s,$n()),null}function wa(s){Mi!==null&&Mi.tag===0&&(xt&6)===0&&Hi();var a=xt;xt|=1;var g=fn.transition,P=Pt;try{if(fn.transition=null,Pt=1,s)return s()}finally{Pt=P,fn.transition=g,xt=a,(xt&6)===0&&Xn()}}function ml(){Ar=ko.current,st(ko)}function hs(s,a){s.finishedWork=null,s.finishedLanes=0;var g=s.timeoutHandle;if(g!==Ce&&(s.timeoutHandle=Ce,fe(g)),tn!==null)for(g=tn.return;g!==null;){var P=g;switch(Xa(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&no();break;case 3:lo(),st(un),st(wn),pc();break;case 5:hc(P);break;case 4:lo();break;case 13:st(cn);break;case 19:st(cn);break;case 10:Za(P.type._context);break;case 22:case 23:ml()}g=g.return}if(_n=s,tn=s=fs(s.current,null),Cn=Ar=a,nn=0,ga=null,Ro=ei=Ti=0,Pn=ds=null,bs!==null){for(a=0;a<bs.length;a++)if(g=bs[a],P=g.interleaved,P!==null){g.interleaved=null;var b=P.next,F=g.pending;if(F!==null){var Q=F.next;F.next=b,P.next=Q}g.pending=P}bs=null}return s}function Oc(s,a){do{var g=tn;try{if(ac(),br.current=go,ia){for(var P=Jt.memoizedState;P!==null;){var b=P.queue;b!==null&&(b.pending=null),P=P.next}ia=!1}if(Is=0,jn=Sn=Jt=null,el=!1,tl=0,Pu.current=null,g===null||g.return===null){nn=1,ga=a,tn=null;break}e:{var F=s,Q=g.return,ue=g,ye=a;if(a=Cn,ue.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Te=ye,Ue=ue,at=Ue.tag;if((Ue.mode&1)===0&&(at===0||at===11||at===15)){var Le=Ue.alternate;Le?(Ue.updateQueue=Le.updateQueue,Ue.memoizedState=Le.memoizedState,Ue.lanes=Le.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var $t=af(Q);if($t!==null){$t.flags&=-257,Ds($t,Q,ue,F,a),$t.mode&1&&of(F,Te,a),a=$t,ye=Te;var zt=a.updateQueue;if(zt===null){var ar=new Set;ar.add(ye),a.updateQueue=ar}else zt.add(ye);break e}else{if((a&1)===0){of(F,Te,a),Eu();break e}ye=Error(c(426))}}else if(Kt&&ue.mode&1){var Ki=af(Q);if(Ki!==null){(Ki.flags&65536)===0&&(Ki.flags|=256),Ds(Ki,Q,ue,F,a),sc(vo(ye,ue));break e}}F=ye=vo(ye,ue),nn!==4&&(nn=2),ds===null?ds=[F]:ds.push(F),F=Q;do{switch(F.tag){case 3:F.flags|=65536,a&=-a,F.lanes|=a;var ge=Bi(F,ye,a);na(F,ge);break e;case 1:ue=ye;var he=F.type,xe=F.stateNode;if((F.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(qi===null||!qi.has(xe)))){F.flags|=65536,a&=-a,F.lanes|=a;var Oe=pu(F,ue,a);na(F,Oe);break e}}F=F.return}while(F!==null)}zc(g)}catch(Je){a=Je,tn===g&&g!==null&&(tn=g=g.return);continue}break}while(!0)}function Dc(){var s=Eo.current;return Eo.current=go,s===null?go:s}function Eu(){(nn===0||nn===3||nn===2)&&(nn=4),_n===null||(Ti&268435455)===0&&(ei&268435455)===0||tr(_n,Cn)}function gl(s,a){var g=xt;xt|=2;var P=Dc();(_n!==s||Cn!==a)&&(Wi=null,hs(s,a));do try{df();break}catch(b){Oc(s,b)}while(!0);if(ac(),xt=g,Eo.current=P,tn!==null)throw Error(c(261));return _n=null,Cn=0,nn}function df(){for(;tn!==null;)Fc(tn)}function hf(){for(;tn!==null&&!Vh();)Fc(tn)}function Fc(s){var a=Bc(s.alternate,s,Ar);s.memoizedProps=s.pendingProps,a===null?zc(s):tn=a,Pu.current=null}function zc(s){var a=s;do{var g=a.alternate;if(s=a.return,(a.flags&32768)===0){if(g=_o(g,a,Ar),g!==null){tn=g;return}}else{if(g=uf(g,a),g!==null){g.flags&=32767,tn=g;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nn=6,tn=null;return}}if(a=a.sibling,a!==null){tn=a;return}tn=a=s}while(a!==null);nn===0&&(nn=5)}function Ni(s,a,g){var P=Pt,b=fn.transition;try{fn.transition=null,Pt=1,ff(s,a,g,P)}finally{fn.transition=b,Pt=P}return null}function ff(s,a,g,P){do Hi();while(Mi!==null);if((xt&6)!==0)throw Error(c(327));g=s.finishedWork;var b=s.finishedLanes;if(g===null)return null;if(s.finishedWork=null,s.finishedLanes=0,g===s.current)throw Error(c(177));s.callbackNode=null,s.callbackPriority=0;var F=g.lanes|g.childLanes;if(Rs(s,F),s===_n&&(tn=_n=null,Cn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||ya||(ya=!0,ku(Hl,function(){return Hi(),null})),F=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||F){F=fn.transition,fn.transition=null;var Q=Pt;Pt=1;var ue=xt;xt|=4,Pu.current=null,cf(s,g),wu(g,s),Y(s.containerInfo),s.current=g,ha(g),Ha(),xt=ue,Pt=Q,fn.transition=F}else s.current=g;if(ya&&(ya=!1,Mi=s,xa=b),F=s.pendingLanes,F===0&&(qi=null),Qo(g.stateNode),jr(s,$n()),a!==null)for(P=s.onRecoverableError,g=0;g<a.length;g++)b=a[g],P(b.value,{componentStack:b.stack,digest:b.digest});if(qt)throw qt=!1,s=va,va=null,s;return(xa&1)!==0&&s.tag!==0&&Hi(),F=s.pendingLanes,(F&1)!==0?s===Yt?bi++:(bi=0,Yt=s):bi=0,Xn(),null}function Hi(){if(Mi!==null){var s=Xo(xa),a=fn.transition,g=Pt;try{if(fn.transition=null,Pt=16>s?16:s,Mi===null)var P=!1;else{if(s=Mi,Mi=null,xa=0,(xt&6)!==0)throw Error(c(331));var b=xt;for(xt|=4,Ie=s.current;Ie!==null;){var F=Ie,Q=F.child;if((Ie.flags&16)!==0){var ue=F.deletions;if(ue!==null){for(var ye=0;ye<ue.length;ye++){var Te=ue[ye];for(Ie=Te;Ie!==null;){var Ue=Ie;switch(Ue.tag){case 0:case 11:case 15:Co(8,Ue,F)}var at=Ue.child;if(at!==null)at.return=Ue,Ie=at;else for(;Ie!==null;){Ue=Ie;var Le=Ue.sibling,$t=Ue.return;if(ul(Ue),Ue===Te){Ie=null;break}if(Le!==null){Le.return=$t,Ie=Le;break}Ie=$t}}}var zt=F.alternate;if(zt!==null){var ar=zt.child;if(ar!==null){zt.child=null;do{var Ki=ar.sibling;ar.sibling=null,ar=Ki}while(ar!==null)}}Ie=F}}if((F.subtreeFlags&2064)!==0&&Q!==null)Q.return=F,Ie=Q;else e:for(;Ie!==null;){if(F=Ie,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:Co(9,F,F.return)}var ge=F.sibling;if(ge!==null){ge.return=F.return,Ie=ge;break e}Ie=F.return}}var he=s.current;for(Ie=he;Ie!==null;){Q=Ie;var xe=Q.child;if((Q.subtreeFlags&2064)!==0&&xe!==null)xe.return=Q,Ie=xe;else e:for(Q=he;Ie!==null;){if(ue=Ie,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:da(9,ue)}}catch(Je){Xt(ue,ue.return,Je)}if(ue===Q){Ie=null;break e}var Oe=ue.sibling;if(Oe!==null){Oe.return=ue.return,Ie=Oe;break e}Ie=ue.return}}if(xt=b,Xn(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Ts,s)}catch{}P=!0}return P}finally{Pt=g,fn.transition=a}}return!1}function vl(s,a,g){a=vo(g,a),a=Bi(s,a,1),s=as(s,a,1),a=Ln(),s!==null&&(li(s,1,a),jr(s,a))}function Xt(s,a,g){if(s.tag===3)vl(s,s,g);else for(;a!==null;){if(a.tag===3){vl(a,s,g);break}else if(a.tag===1){var P=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(qi===null||!qi.has(P))){s=vo(g,s),s=pu(a,s,1),a=as(a,s,1),s=Ln(),a!==null&&(li(a,1,s),jr(a,s));break}}a=a.return}}function Uc(s,a,g){var P=s.pingCache;P!==null&&P.delete(a),a=Ln(),s.pingedLanes|=s.suspendedLanes&g,_n===s&&(Cn&g)===g&&(nn===4||nn===3&&(Cn&130023424)===Cn&&500>$n()-hl?hs(s,0):Ro|=g),jr(s,a)}function Vc(s,a){a===0&&((s.mode&1)===0?a=1:(a=qa,qa<<=1,(qa&130023424)===0&&(qa=4194304)));var g=Ln();s=ki(s,a),s!==null&&(li(s,a,g),jr(s,g))}function pf(s){var a=s.memoizedState,g=0;a!==null&&(g=a.retryLane),Vc(s,g)}function mf(s,a){var g=0;switch(s.tag){case 13:var P=s.stateNode,b=s.memoizedState;b!==null&&(g=b.retryLane);break;case 19:P=s.stateNode;break;default:throw Error(c(314))}P!==null&&P.delete(a),Vc(s,g)}var Bc;Bc=function(s,a,g){if(s!==null)if(s.memoizedProps!==a.pendingProps||un.current)In=!0;else{if((s.lanes&g)===0&&(a.flags&128)===0)return In=!1,zs(s,a,g);In=(s.flags&131072)!==0}else In=!1,Kt&&(a.flags&1048576)!==0&&$h(a,ro,a.index);switch(a.lanes=0,a.tag){case 2:var P=a.type;ll(s,a),s=a.pendingProps;var b=rs(a,wn.current);ta(a,g),b=nl(null,a,P,s,b,g);var F=su();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bn(P)?(F=!0,qo(a)):F=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,uc(a),b.updater=sl,a.stateNode=b,b._reactInternals=a,Vi(a,P,s,g),a=ir(null,a,P,!0,F,g)):(a.tag=0,Kt&&F&&Ya(a),Wn(null,a,b,g),a=a.child),a;case 16:P=a.elementType;e:{switch(ll(s,a),s=a.pendingProps,b=P._init,P=b(P._payload),a.type=P,b=a.tag=U0(P),s=Hr(P,s),b){case 0:a=$i(null,a,P,s,g);break e;case 1:a=Jn(null,a,P,s,g);break e;case 11:a=mu(null,a,P,s,g);break e;case 14:a=yo(null,a,P,Hr(P.type,s),g);break e}throw Error(c(306,P,""))}return a;case 0:return P=a.type,b=a.pendingProps,b=a.elementType===P?b:Hr(P,b),$i(s,a,P,b,g);case 1:return P=a.type,b=a.pendingProps,b=a.elementType===P?b:Hr(P,b),Jn(s,a,P,b,g);case 3:e:{if(Fs(a),s===null)throw Error(c(387));P=a.pendingProps,F=a.memoizedState,b=F.element,Qh(s,a),Ns(a,P,null,g);var Q=a.memoizedState;if(P=Q.element,He&&F.isDehydrated)if(F={element:P,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},a.updateQueue.baseState=F,a.memoizedState=F,a.flags&256){b=vo(Error(c(423)),a),a=xo(s,a,P,g,b);break e}else if(P!==b){b=vo(Error(c(424)),a),a=xo(s,a,P,g,b);break e}else for(He&&(pr=Se(a.stateNode.containerInfo),Qn=a,Kt=!0,Ei=null,Qa=!1),g=Yh(a,null,P,g),a.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(io(),P===b){a=cs(s,a,g);break e}Wn(s,a,P,g)}a=a.child}return a;case 5:return dc(a),s===null&&ic(a),P=a.type,b=a.pendingProps,F=s!==null?s.memoizedProps:null,Q=b.children,Ne(P,b)?Q=null:F!==null&&Ne(P,F)&&(a.flags|=32),Vt(s,a),Wn(s,a,Q,g),a.child;case 6:return s===null&&ic(a),null;case 13:return Tc(s,a,g);case 4:return ru(a,a.stateNode.containerInfo),P=a.pendingProps,s===null?a.child=oo(a,null,P,g):Wn(s,a,P,g),a.child;case 11:return P=a.type,b=a.pendingProps,b=a.elementType===P?b:Hr(P,b),mu(s,a,P,b,g);case 7:return Wn(s,a,a.pendingProps,g),a.child;case 8:return Wn(s,a,a.pendingProps.children,g),a.child;case 12:return Wn(s,a,a.pendingProps.children,g),a.child;case 10:e:{if(P=a.type._context,b=a.pendingProps,F=a.memoizedProps,Q=b.value,Xh(a,P,Q),F!==null)if(_i(F.value,Q)){if(F.children===b.children&&!un.current){a=cs(s,a,g);break e}}else for(F=a.child,F!==null&&(F.return=a);F!==null;){var ue=F.dependencies;if(ue!==null){Q=F.child;for(var ye=ue.firstContext;ye!==null;){if(ye.context===P){if(F.tag===1){ye=os(-1,g&-g),ye.tag=2;var Te=F.updateQueue;if(Te!==null){Te=Te.shared;var Ue=Te.pending;Ue===null?ye.next=ye:(ye.next=Ue.next,Ue.next=ye),Te.pending=ye}}F.lanes|=g,ye=F.alternate,ye!==null&&(ye.lanes|=g),ao(F.return,g,a),ue.lanes|=g;break}ye=ye.next}}else if(F.tag===10)Q=F.type===a.type?null:F.child;else if(F.tag===18){if(Q=F.return,Q===null)throw Error(c(341));Q.lanes|=g,ue=Q.alternate,ue!==null&&(ue.lanes|=g),ao(Q,g,a),Q=F.sibling}else Q=F.child;if(Q!==null)Q.return=F;else for(Q=F;Q!==null;){if(Q===a){Q=null;break}if(F=Q.sibling,F!==null){F.return=Q.return,Q=F;break}Q=Q.return}F=Q}Wn(s,a,b.children,g),a=a.child}return a;case 9:return b=a.type,P=a.pendingProps.children,ta(a,g),b=Gr(b),P=P(b),a.flags|=1,Wn(s,a,P,g),a.child;case 14:return P=a.type,b=Hr(P,a.pendingProps),b=Hr(P.type,b),yo(s,a,P,b,g);case 15:return us(s,a,a.type,a.pendingProps,g);case 17:return P=a.type,b=a.pendingProps,b=a.elementType===P?b:Hr(P,b),ll(s,a),a.tag=1,Bn(P)?(s=!0,qo(a)):s=!1,ta(a,g),sf(a,P,b),Vi(a,P,b,g),ir(null,a,P,!0,s,g);case 19:return vu(s,a,g);case 22:return Wt(s,a,g)}throw Error(c(156,a.tag))};function ku(s,a){return Ui(s,a)}function gf(s,a,g,P){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(s,a,g,P){return new gf(s,a,g,P)}function Ru(s){return s=s.prototype,!(!s||!s.isReactComponent)}function U0(s){if(typeof s=="function")return Ru(s)?1:0;if(s!=null){if(s=s.$$typeof,s===R)return 11;if(s===k)return 14}return 2}function fs(s,a){var g=s.alternate;return g===null?(g=ni(s.tag,a,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=a,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&14680064,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,a=s.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g}function Tu(s,a,g,P,b,F){var Q=2;if(P=s,typeof s=="function")Ru(s)&&(Q=1);else if(typeof s=="string")Q=5;else e:switch(s){case x:return To(g.children,b,F,a);case m:Q=8,b|=8;break;case w:return s=ni(12,g,a,b|2),s.elementType=w,s.lanes=F,s;case E:return s=ni(13,g,a,b),s.elementType=E,s.lanes=F,s;case A:return s=ni(19,g,a,b),s.elementType=A,s.lanes=F,s;case N:return yl(g,b,F,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:Q=10;break e;case _:Q=9;break e;case R:Q=11;break e;case k:Q=14;break e;case C:Q=16,P=null;break e}throw Error(c(130,s==null?s:typeof s,""))}return a=ni(Q,g,a,b),a.elementType=s,a.type=P,a.lanes=F,a}function To(s,a,g,P){return s=ni(7,s,P,a),s.lanes=g,s}function yl(s,a,g,P){return s=ni(22,s,P,a),s.elementType=N,s.lanes=g,s.stateNode={isHidden:!1},s}function Mu(s,a,g){return s=ni(6,s,null,a),s.lanes=g,s}function bu(s,a,g){return a=ni(4,s.children!==null?s.children:[],s.key,a),a.lanes=g,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Nu(s,a,g,P,b){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=P,this.onRecoverableError=b,He&&(this.mutableSourceEagerHydrationData=null)}function vf(s,a,g,P,b,F,Q,ue,ye){return s=new Nu(s,a,g,ue,ye),a===1?(a=1,F===!0&&(a|=8)):a=0,F=ni(3,null,null,a),s.current=F,F.stateNode=s,F.memoizedState={element:P,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(F),s}function yf(s){if(!s)return Vn;s=s._reactInternals;e:{if(H(s)!==s||s.tag!==1)throw Error(c(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(c(171))}if(s.tag===1){var g=s.type;if(Bn(g))return Dh(s,g,a)}return a}function xf(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(c(188)):(s=Object.keys(s).join(","),Error(c(268,s)));return s=te(a),s===null?null:s.stateNode}function Mo(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<a?g:a}}function Sa(s,a){Mo(s,a),(s=s.alternate)&&Mo(s,a)}function $c(s){return s=te(s),s===null?null:s.stateNode}function V0(){return null}return r.attemptContinuousHydration=function(s){if(s.tag===13){var a=ki(s,134217728);if(a!==null){var g=Ln();or(a,s,134217728,g)}Sa(s,134217728)}},r.attemptDiscreteHydration=function(s){if(s.tag===13){var a=ki(s,1);if(a!==null){var g=Ln();or(a,s,1,g)}Sa(s,1)}},r.attemptHydrationAtCurrentPriority=function(s){if(s.tag===13){var a=gi(s),g=ki(s,a);if(g!==null){var P=Ln();or(g,s,a,P)}Sa(s,a)}},r.attemptSynchronousHydration=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var g=Ho(a.pendingLanes);g!==0&&(zi(a,g|1),jr(a,$n()),(xt&6)===0&&(qs(),Xn()))}break;case 13:wa(function(){var P=ki(s,1);if(P!==null){var b=Ln();or(P,s,1,b)}}),Sa(s,1)}},r.batchedUpdates=function(s,a){var g=xt;xt|=1;try{return s(a)}finally{xt=g,xt===0&&(qs(),Zo&&Xn())}},r.createComponentSelector=function(s){return{$$typeof:fi,value:s}},r.createContainer=function(s,a,g,P,b,F,Q){return vf(s,a,!1,null,g,P,b,F,Q)},r.createHasPseudoClassSelector=function(s){return{$$typeof:Ri,value:s}},r.createHydrationContainer=function(s,a,g,P,b,F,Q,ue,ye){return s=vf(g,P,!0,s,b,F,Q,ue,ye),s.context=yf(null),g=s.current,P=Ln(),b=gi(g),F=os(P,b),F.callback=a??null,as(g,F,b),s.current.lanes=b,li(s,b,P),jr(s,P),s},r.createPortal=function(s,a,g){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:P==null?null:""+P,children:s,containerInfo:a,implementation:g}},r.createRoleSelector=function(s){return{$$typeof:fa,value:s}},r.createTestNameSelector=function(s){return{$$typeof:dl,value:s}},r.createTextSelector=function(s){return{$$typeof:pi,value:s}},r.deferredUpdates=function(s){var a=Pt,g=fn.transition;try{return fn.transition=null,Pt=16,s()}finally{Pt=a,fn.transition=g}},r.discreteUpdates=function(s,a,g,P,b){var F=Pt,Q=fn.transition;try{return fn.transition=null,Pt=1,s(a,g,P,b)}finally{Pt=F,fn.transition=Q,xt===0&&qs()}},r.findAllNodes=Cu,r.findBoundingRects=function(s,a){if(!bt)throw Error(c(363));a=Cu(s,a),s=[];for(var g=0;g<a.length;g++)s.push(dr(a[g]));for(a=s.length-1;0<a;a--){g=s[a];for(var P=g.x,b=P+g.width,F=g.y,Q=F+g.height,ue=a-1;0<=ue;ue--)if(a!==ue){var ye=s[ue],Te=ye.x,Ue=Te+ye.width,at=ye.y,Le=at+ye.height;if(P>=Te&&F>=at&&b<=Ue&&Q<=Le){s.splice(a,1);break}else if(P!==Te||g.width!==ye.width||Le<F||at>Q){if(!(F!==at||g.height!==ye.height||Ue<P||Te>b)){Te>P&&(ye.width+=Te-P,ye.x=P),Ue<b&&(ye.width=b-Te),s.splice(a,1);break}}else{at>F&&(ye.height+=at-F,ye.y=F),Le<Q&&(ye.height=Q-at),s.splice(a,1);break}}}return s},r.findHostInstance=xf,r.findHostInstanceWithNoPortals=function(s){return s=G(s),s=s!==null?V(s):null,s===null?null:s.stateNode},r.findHostInstanceWithWarning=function(s){return xf(s)},r.flushControlled=function(s){var a=xt;xt|=1;var g=fn.transition,P=Pt;try{fn.transition=null,Pt=1,s()}finally{Pt=P,fn.transition=g,xt=a,xt===0&&(qs(),Xn())}},r.flushPassiveEffects=Hi,r.flushSync=wa,r.focusWithin=function(s,a){if(!bt)throw Error(c(363));for(s=pa(s),a=jc(s,a),a=Array.from(a),s=0;s<a.length;){var g=a[s++];if(!Nn(g)){if(g.tag===5&&xn(g.stateNode))return!0;for(g=g.child;g!==null;)a.push(g),g=g.sibling}}return!1},r.getCurrentUpdatePriority=function(){return Pt},r.getFindAllNodesFailureDescription=function(s,a){if(!bt)throw Error(c(363));var g=0,P=[];s=[pa(s),0];for(var b=0;b<s.length;){var F=s[b++],Q=s[b++],ue=a[Q];if((F.tag!==5||!Nn(F))&&(_u(F,ue)&&(P.push(ma(ue)),Q++,Q>g&&(g=Q)),Q<a.length))for(F=F.child;F!==null;)s.push(F,Q),F=F.sibling}if(g<a.length){for(s=[];g<a.length;g++)s.push(ma(a[g]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+s.join(" > ")}return null},r.getPublicRootInstance=function(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return J(s.child.stateNode);default:return s.child.stateNode}},r.injectIntoDevTools=function(s){if(s={bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:$c,findFiberByHostInstance:s.findFiberByHostInstance||V0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")s=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)s=!0;else{try{Ts=a.inject(s),Tr=a}catch{}s=!!a.checkDCE}}return s},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(s,a,g,P){if(!bt)throw Error(c(363));s=Cu(s,a);var b=zr(s,g,P).disconnect;return{disconnect:function(){b()}}},r.registerMutableSourceForHydration=function(s,a){var g=a._getVersion;g=g(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,g]:s.mutableSourceEagerHydrationData.push(a,g)},r.runWithPriority=function(s,a){var g=Pt;try{return Pt=s,a()}finally{Pt=g}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(s,a,g,P){var b=a.current,F=Ln(),Q=gi(b);return g=yf(g),a.context===null?a.context=g:a.pendingContext=g,a=os(F,Q),a.payload={element:s},P=P===void 0?null:P,P!==null&&(a.callback=P),s=as(b,a,Q),s!==null&&(or(s,b,Q,F),Ja(s,b,Q)),Q},r}),Mp}var Xv;function yS(){return Xv||(Xv=1,Tp.exports=vS()),Tp.exports}var xS=yS();const wS=kh(xS);var bp={exports:{}},Ma={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function SS(){return Qv||(Qv=1,Ma.ConcurrentRoot=1,Ma.ContinuousEventPriority=4,Ma.DefaultEventPriority=16,Ma.DiscreteEventPriority=1,Ma.IdleEventPriority=536870912,Ma.LegacyRoot=0),Ma}var Zv;function _S(){return Zv||(Zv=1,bp.exports=SS()),bp.exports}var ox=_S(),CS=Et();const Jv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let e2=!1,t2=!1;const Gm=".react-konva-event",PS=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,ES=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,kS={};function y0(e,t,r=kS){if(!e2&&"zIndex"in t&&(console.warn(ES),e2=!0),!t2&&t.draggable){var o=t.x!==void 0||t.y!==void 0,u=t.onDragEnd||t.onDragMove;o&&!u&&(console.warn(PS),t2=!0)}for(var d in r)if(!Jv[d]){var c=d.slice(0,2)==="on",h=r[d]!==t[d];if(c&&h){var p=d.substr(2).toLowerCase();p.substr(0,7)==="content"&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),e.off(p,r[d])}var f=!t.hasOwnProperty(d);f&&e.setAttr(d,void 0)}var x=t._useStrictMode,m={},w=!1;const S={};for(var d in t)if(!Jv[d]){var c=d.slice(0,2)==="on",_=r[d]!==t[d];if(c&&_){var p=d.substr(2).toLowerCase();p.substr(0,7)==="content"&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),t[d]&&(S[p]=t[d])}!c&&(t[d]!==r[d]||x&&t[d]!==e.getAttr(d))&&(w=!0,m[d]=t[d])}w&&(e.setAttrs(m),Ua(e));for(var p in S)e.on(p+Gm,S[p])}function Ua(e){if(!CS.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var Np=Im();const ax={},RS={};uh.Node.prototype._applyProps=y0;function TS(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Ua(e)}function MS(e,t,r){let o=uh[e];o||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),o=uh.Group);const u={},d={};for(var c in t){var h=c.slice(0,2)==="on";h?d[c]=t[c]:u[c]=t[c]}const p=new o(u);return y0(p,d),p}function bS(e,t,r){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function NS(e,t,r){return!1}function AS(e){return e}function jS(){return null}function IS(){return null}function LS(e,t,r,o){return RS}function OS(){}function DS(e){}function FS(e,t){return!1}function zS(){return ax}function US(){return ax}const VS=setTimeout,BS=clearTimeout,$S=-1;function GS(e,t){return!1}const WS=!1,qS=!0,HS=!0;function KS(e,t){t.parent===e?t.moveToTop():e.add(t),Ua(e)}function YS(e,t){t.parent===e?t.moveToTop():e.add(t),Ua(e)}function lx(e,t,r){t._remove(),e.add(t),t.setZIndex(r.getZIndex()),Ua(e)}function XS(e,t,r){lx(e,t,r)}function QS(e,t){t.destroy(),t.off(Gm),Ua(e)}function ZS(e,t){t.destroy(),t.off(Gm),Ua(e)}function JS(e,t,r){console.error(`Text components are not yet supported in ReactKonva. You text is: "${r}"`)}function e_(e,t,r){}function t_(e,t,r,o,u){y0(e,u,o)}function n_(e){e.hide(),Ua(e)}function r_(e){}function i_(e,t){(t.visible==null||t.visible)&&e.show()}function s_(e,t){}function o_(e){}function a_(){}const l_=()=>ox.DefaultEventPriority,u_=Object.freeze(Object.defineProperty({__proto__:null,appendChild:KS,appendChildToContainer:YS,appendInitialChild:TS,cancelTimeout:BS,clearContainer:o_,commitMount:e_,commitTextUpdate:JS,commitUpdate:t_,createInstance:MS,createTextInstance:bS,detachDeletedInstance:a_,finalizeInitialChildren:NS,getChildHostContext:US,getCurrentEventPriority:l_,getPublicInstance:AS,getRootHostContext:zS,hideInstance:n_,hideTextInstance:r_,idlePriority:Np.unstable_IdlePriority,insertBefore:lx,insertInContainerBefore:XS,isPrimaryRenderer:WS,noTimeout:$S,now:Np.unstable_now,prepareForCommit:jS,preparePortalMount:IS,prepareUpdate:LS,removeChild:QS,removeChildFromContainer:ZS,resetAfterCommit:OS,resetTextContent:DS,run:Np.unstable_runWithPriority,scheduleTimeout:VS,shouldDeprioritizeSubtree:FS,shouldSetTextContent:GS,supportsMutation:HS,unhideInstance:i_,unhideTextInstance:s_,warnsIfNotActing:qS},Symbol.toStringTag,{value:"Module"}));var c_=Object.defineProperty,d_=Object.defineProperties,h_=Object.getOwnPropertyDescriptors,n2=Object.getOwnPropertySymbols,f_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable,r2=(e,t,r)=>t in e?c_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i2=(e,t)=>{for(var r in t||(t={}))f_.call(t,r)&&r2(e,r,t[r]);if(n2)for(var r of n2(t))p_.call(t,r)&&r2(e,r,t[r]);return e},m_=(e,t)=>d_(e,h_(t)),s2,o2;typeof window<"u"&&((s2=window.document)!=null&&s2.createElement||((o2=window.navigator)==null?void 0:o2.product)==="ReactNative")?ee.useLayoutEffect:ee.useEffect;function ux(e,t,r){if(!e)return;if(r(e)===!0)return e;let o=e.child;for(;o;){const u=ux(o,t,r);if(u)return u;o=o.sibling}}function cx(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const a2=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=a2;return}return a2.apply(this,arguments)};const Wm=cx(ee.createContext(null));class dx extends ee.Component{render(){return ee.createElement(Wm.Provider,{value:this._reactInternals},this.props.children)}}function g_(){const e=ee.useContext(Wm);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=ee.useId();return ee.useMemo(()=>{for(const o of[e,e==null?void 0:e.alternate]){if(!o)continue;const u=ux(o,!1,d=>{let c=d.memoizedState;for(;c;){if(c.memoizedState===t)return!0;c=c.next}});if(u)return u}},[e,t])}function v_(){const e=g_(),[t]=ee.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&typeof r.type=="object"){const u=r.type._context===void 0&&r.type.Provider===r.type?r.type:r.type._context;u&&u!==Wm&&!t.has(u)&&t.set(u,ee.useContext(cx(u)))}r=r.return}return t}function y_(){const e=v_();return ee.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>o=>ee.createElement(t,null,ee.createElement(r.Provider,m_(i2({},o),{value:e.get(r)}))),t=>ee.createElement(dx,i2({},t))),[e])}function x_(e){const t=on.useRef({});return on.useLayoutEffect(()=>{t.current=e}),on.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const w_=e=>{const t=on.useRef(),r=on.useRef(),o=on.useRef(),u=x_(e),d=y_(),c=h=>{const{forwardedRef:p}=e;p&&(typeof p=="function"?p(h):p.current=h)};return on.useLayoutEffect(()=>(r.current=new uh.Stage({width:e.width,height:e.height,container:t.current}),c(r.current),o.current=Kd.createContainer(r.current,ox.LegacyRoot,!1,null),Kd.updateContainer(on.createElement(d,{},e.children),o.current),()=>{uh.isBrowser&&(c(null),Kd.updateContainer(null,o.current,null),r.current.destroy())}),[]),on.useLayoutEffect(()=>{c(r.current),y0(r.current,e,u),Kd.updateContainer(on.createElement(d,{},e.children),o.current,null)}),on.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},qm="Layer",Ut="Group",oi="Rect",Ge="Circle",qe="Line",zl="Text",Qf="Star",Da="Ring",Cr="RegularPolygon",Kd=wS(u_);Kd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:on.version,rendererPackageName:"react-konva"});const Hm=on.forwardRef((e,t)=>on.createElement(dx,{},on.createElement(w_,{...e,forwardedRef:t})));function hx({TankComponent:e,scale:t,username:r}){const[o,u]=ee.useState(0);return ee.useEffect(()=>{const d=setInterval(()=>{u(c=>(c+.5)%360)},50);return()=>clearInterval(d)},[]),v.jsx("div",{className:"relative flex items-center justify-center z-10",style:{transform:`scale(${t})`,transition:"transform 0.1s ease-out"},children:v.jsx("div",{className:"w-48 h-48 flex items-center justify-center",children:v.jsx(Hm,{width:200,height:120,children:v.jsx(qm,{children:v.jsx(e,{x:100,y:60,rotation:o,hp:100,username:r,isDead:!1})})})})})}hx.propTypes={TankComponent:X.func.isRequired,scale:X.number.isRequired,username:X.string.isRequired};function fx({upgradePoints:e,tankColor:t}){return v.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end",children:[v.jsxs("div",{className:"relative",children:[v.jsxs("svg",{width:"150",height:"60",viewBox:"0 0 150 60",className:"filter drop-shadow-lg",children:[v.jsx("polygon",{points:"15,0 150,0 150,40 135,60 0,60 0,20",fill:"rgba(10,12,18,0.9)",stroke:t,strokeWidth:"1.5"}),v.jsx("rect",{x:"0",y:"20",width:"5",height:"40",fill:t}),v.jsx("line",{x1:"15",y1:"0",x2:"0",y2:"20",stroke:t,strokeWidth:"1"}),v.jsx("line",{x1:"150",y1:"40",x2:"135",y2:"60",stroke:t,strokeWidth:"1"}),v.jsx("rect",{x:"125",y:"0",width:"25",height:"5",fill:t}),v.jsx("rect",{x:"0",y:"30",width:"150",height:"1",fill:je(t,.3)}),v.jsx("rect",{x:"20",y:"45",width:"115",height:"1",fill:je(t,.2)})]}),v.jsxs("div",{className:"absolute inset-0 flex items-center px-3",children:[v.jsxs("div",{className:"flex flex-col mr-3",children:[v.jsx("span",{className:"text-[10px] font-mono leading-tight tracking-wider opacity-70 uppercase",style:{color:je(t,.8)},children:"Tactical"}),v.jsx("span",{className:"text-xs font-mono leading-tight tracking-wider font-semibold uppercase",style:{color:t},children:"Points"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"relative mr-2",children:v.jsxs("svg",{width:"26",height:"30",viewBox:"0 0 26 30",children:[v.jsx("polygon",{points:"13,0 26,7.5 26,22.5 13,30 0,22.5 0,7.5",fill:"rgba(0,0,0,0.5)",stroke:t,strokeWidth:"1.5"}),v.jsx("polygon",{points:"13,5 21,9.5 21,20.5 13,25 5,20.5 5,9.5",fill:"transparent",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("circle",{cx:"13",cy:"15",r:"2",fill:t}),v.jsx("line",{x1:"13",y1:"5",x2:"13",y2:"0",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("line",{x1:"13",y1:"25",x2:"13",y2:"30",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("line",{x1:"5",y1:"9.5",x2:"0",y2:"7.5",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("line",{x1:"21",y1:"9.5",x2:"26",y2:"7.5",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("line",{x1:"5",y1:"20.5",x2:"0",y2:"22.5",stroke:je(t,.7),strokeWidth:"1"}),v.jsx("line",{x1:"21",y1:"20.5",x2:"26",y2:"22.5",stroke:je(t,.7),strokeWidth:"1"})]})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"text-2xl font-bold font-mono",style:{color:t},children:e}),v.jsx("div",{className:"h-1 w-full",style:{backgroundColor:je(t,.5)}})]})]})]})]}),v.jsx("div",{className:"mt-1 px-3 py-1 bg-black bg-opacity-70 relative",style:{borderLeft:`2px solid ${t}`},children:v.jsx("span",{className:"text-[10px] font-mono opacity-80",style:{color:t},children:"UPGRADES AVAILABLE"})})]})}fx.propTypes={upgradePoints:X.number.isRequired,tankColor:X.string.isRequired};function px({tankColor:e}){return v.jsxs("svg",{width:"300",height:"300",viewBox:"0 0 300 300",className:"absolute",children:[v.jsx("polygon",{points:"150,0 300,75 300,225 150,300 0,225 0,75",fill:"none",stroke:je(e,.3),strokeWidth:"1"}),v.jsx("polygon",{points:"150,50 250,100 250,200 150,250 50,200 50,100",fill:"none",stroke:je(e,.2),strokeWidth:"1"}),v.jsx("polygon",{points:"150,100 200,125 200,175 150,200 100,175 100,125",fill:"none",stroke:je(e,.4),strokeWidth:"1"})]})}px.propTypes={tankColor:X.string.isRequired};function mx({tankColor:e}){return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-2 border-l-2",style:{borderColor:e}}),v.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-2 border-r-2",style:{borderColor:e}}),v.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-2 border-l-2",style:{borderColor:e}}),v.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-2 border-r-2",style:{borderColor:e}})]})}mx.propTypes={tankColor:X.string.isRequired};function gx({tankColor:e}){return v.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`linear-gradient(to right, ${je(e,.1)} 1px, transparent 1px), 
                        linear-gradient(to bottom, ${je(e,.1)} 1px, transparent 1px)`,backgroundSize:"20px 20px"}})}gx.propTypes={tankColor:X.string.isRequired};function vx({onClose:e,TankComponent:t,tankColor:r,stats:o,username:u,upgradePoints:d,onUpgrade:c}){const[h,p]=ee.useState(o),[f,x]=ee.useState(null),{scale:m,containerRef:w}=Mw(),S=R=>{if(d<=0||h[R]>=10||!c(R))return;const A={...h,[R]:Math.min(h[R]+1,10)};p(A),x(R),setTimeout(()=>x(null),1e3)},_=[{x:-120,y:-80,label:"ARMOR PLATING",value:`${(h==null?void 0:h.defense)||0}/10`,statKey:"defense",upgradable:(h==null?void 0:h.defense)<10&&d>0},{x:120,y:-80,label:"WEAPON SYSTEMS",value:`${(h==null?void 0:h.damage)||0}/10`,statKey:"damage",upgradable:(h==null?void 0:h.damage)<10&&d>0},{x:-120,y:80,label:"ENGINE OUTPUT",value:`${(h==null?void 0:h.speed)||0}/10`,statKey:"speed",upgradable:(h==null?void 0:h.speed)<10&&d>0},{x:120,y:80,label:"SPECIALTY",value:(h==null?void 0:h.specialty)||"N/A"}];return v.jsxs("div",{ref:w,className:"relative w-full h-full flex items-center justify-center touch-none",children:[v.jsx(zm,{onClose:e,text:"CLOSE",color:r,type:"close",className:"absolute top-4 left-4 z-20 focus:outline-none active:opacity-80 transition-opacity duration-100"}),v.jsx(px,{tankColor:r}),v.jsx(Z5,{points:_,tankColor:r,scale:m,onUpgrade:S,upgradeEffect:f}),v.jsx(hx,{TankComponent:t,scale:m,username:u}),v.jsx(gx,{tankColor:r}),v.jsx(mx,{tankColor:r}),v.jsx(fx,{upgradePoints:d,tankColor:r}),v.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-xs font-mono text-gray-400 opacity-50",children:"Pinch to zoom  Tap + to upgrade"})]})}vx.propTypes={onClose:X.func.isRequired,TankComponent:X.func.isRequired,tankColor:X.string.isRequired,stats:X.shape({defense:X.number,damage:X.number,speed:X.number,specialty:X.string}),username:X.string.isRequired,upgradePoints:X.number.isRequired,onUpgrade:X.func.isRequired};var Ap={},l2={},u2;function S_(){return u2||(u2=1,ArrayBuffer.isView||(ArrayBuffer.isView=e=>e!==null&&typeof e=="object"&&e.buffer instanceof ArrayBuffer),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window)),l2}var jo={},jp={},c2;function Km(){return c2||(c2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.CloseCode=void 0,function(r){r[r.CONSENTED=4e3]="CONSENTED",r[r.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(e.CloseCode||(e.CloseCode={}));class t extends Error{constructor(o,u){super(u),this.name="ServerError",this.code=o}}e.ServerError=t}(jp)),jp}var ys={},kl={},d2;function __(){if(d2)return kl;d2=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.decode=kl.encode=void 0;function e(f,x){if(this._offset=x,f instanceof ArrayBuffer)this._buffer=f,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(f))this._buffer=f.buffer,this._view=new DataView(this._buffer,f.byteOffset,f.byteLength);else throw new Error("Invalid argument")}function t(f,x,m){for(var w="",S=0,_=x,R=x+m;_<R;_++){var E=f.getUint8(_);if((E&128)===0){w+=String.fromCharCode(E);continue}if((E&224)===192){w+=String.fromCharCode((E&31)<<6|f.getUint8(++_)&63);continue}if((E&240)===224){w+=String.fromCharCode((E&15)<<12|(f.getUint8(++_)&63)<<6|(f.getUint8(++_)&63)<<0);continue}if((E&248)===240){S=(E&7)<<18|(f.getUint8(++_)&63)<<12|(f.getUint8(++_)&63)<<6|(f.getUint8(++_)&63)<<0,S>=65536?(S-=65536,w+=String.fromCharCode((S>>>10)+55296,(S&1023)+56320)):w+=String.fromCharCode(S);continue}throw new Error("Invalid byte "+E.toString(16))}return w}e.prototype._array=function(f){for(var x=new Array(f),m=0;m<f;m++)x[m]=this._parse();return x},e.prototype._map=function(f){for(var x="",m={},w=0;w<f;w++)x=this._parse(),m[x]=this._parse();return m},e.prototype._str=function(f){var x=t(this._view,this._offset,f);return this._offset+=f,x},e.prototype._bin=function(f){var x=this._buffer.slice(this._offset,this._offset+f);return this._offset+=f,x},e.prototype._parse=function(){var f=this._view.getUint8(this._offset++),x,m=0,w=0,S=0,_=0;if(f<192)return f<128?f:f<144?this._map(f&15):f<160?this._array(f&15):this._str(f&31);if(f>223)return(255-f+1)*-1;switch(f){case 192:return null;case 194:return!1;case 195:return!0;case 196:return m=this._view.getUint8(this._offset),this._offset+=1,this._bin(m);case 197:return m=this._view.getUint16(this._offset),this._offset+=2,this._bin(m);case 198:return m=this._view.getUint32(this._offset),this._offset+=4,this._bin(m);case 199:if(m=this._view.getUint8(this._offset),w=this._view.getInt8(this._offset+1),this._offset+=2,w===-1){var R=this._view.getUint32(this._offset);return S=this._view.getInt32(this._offset+4),_=this._view.getUint32(this._offset+8),this._offset+=12,new Date((S*4294967296+_)*1e3+R/1e6)}return[w,this._bin(m)];case 200:return m=this._view.getUint16(this._offset),w=this._view.getInt8(this._offset+2),this._offset+=3,[w,this._bin(m)];case 201:return m=this._view.getUint32(this._offset),w=this._view.getInt8(this._offset+4),this._offset+=5,[w,this._bin(m)];case 202:return x=this._view.getFloat32(this._offset),this._offset+=4,x;case 203:return x=this._view.getFloat64(this._offset),this._offset+=8,x;case 204:return x=this._view.getUint8(this._offset),this._offset+=1,x;case 205:return x=this._view.getUint16(this._offset),this._offset+=2,x;case 206:return x=this._view.getUint32(this._offset),this._offset+=4,x;case 207:return S=this._view.getUint32(this._offset)*Math.pow(2,32),_=this._view.getUint32(this._offset+4),this._offset+=8,S+_;case 208:return x=this._view.getInt8(this._offset),this._offset+=1,x;case 209:return x=this._view.getInt16(this._offset),this._offset+=2,x;case 210:return x=this._view.getInt32(this._offset),this._offset+=4,x;case 211:return S=this._view.getInt32(this._offset)*Math.pow(2,32),_=this._view.getUint32(this._offset+4),this._offset+=8,S+_;case 212:if(w=this._view.getInt8(this._offset),this._offset+=1,w===0){this._offset+=1;return}return[w,this._bin(1)];case 213:return w=this._view.getInt8(this._offset),this._offset+=1,[w,this._bin(2)];case 214:return w=this._view.getInt8(this._offset),this._offset+=1,w===-1?(x=this._view.getUint32(this._offset),this._offset+=4,new Date(x*1e3)):[w,this._bin(4)];case 215:if(w=this._view.getInt8(this._offset),this._offset+=1,w===0)return S=this._view.getInt32(this._offset)*Math.pow(2,32),_=this._view.getUint32(this._offset+4),this._offset+=8,new Date(S+_);if(w===-1){S=this._view.getUint32(this._offset),_=this._view.getUint32(this._offset+4),this._offset+=8;var E=(S&3)*4294967296+_;return new Date(E*1e3+(S>>>2)/1e6)}return[w,this._bin(8)];case 216:return w=this._view.getInt8(this._offset),this._offset+=1,[w,this._bin(16)];case 217:return m=this._view.getUint8(this._offset),this._offset+=1,this._str(m);case 218:return m=this._view.getUint16(this._offset),this._offset+=2,this._str(m);case 219:return m=this._view.getUint32(this._offset),this._offset+=4,this._str(m);case 220:return m=this._view.getUint16(this._offset),this._offset+=2,this._array(m);case 221:return m=this._view.getUint32(this._offset),this._offset+=4,this._array(m);case 222:return m=this._view.getUint16(this._offset),this._offset+=2,this._map(m);case 223:return m=this._view.getUint32(this._offset),this._offset+=4,this._map(m)}throw new Error("Could not parse")};function r(f,x=0){var m=new e(f,x),w=m._parse();if(m._offset!==f.byteLength)throw new Error(f.byteLength-m._offset+" trailing bytes");return w}kl.decode=r;var o=4294967296-1,u=17179869184-1;function d(f,x,m){for(var w=0,S=0,_=m.length;S<_;S++)w=m.charCodeAt(S),w<128?f.setUint8(x++,w):w<2048?(f.setUint8(x++,192|w>>6),f.setUint8(x++,128|w&63)):w<55296||w>=57344?(f.setUint8(x++,224|w>>12),f.setUint8(x++,128|w>>6&63),f.setUint8(x++,128|w&63)):(S++,w=65536+((w&1023)<<10|m.charCodeAt(S)&1023),f.setUint8(x++,240|w>>18),f.setUint8(x++,128|w>>12&63),f.setUint8(x++,128|w>>6&63),f.setUint8(x++,128|w&63))}function c(f){for(var x=0,m=0,w=0,S=f.length;w<S;w++)x=f.charCodeAt(w),x<128?m+=1:x<2048?m+=2:x<55296||x>=57344?m+=3:(w++,m+=4);return m}function h(f,x,m){var w=typeof m,S=0,_=0,R=0,E=0,A=0,k=0;if(w==="string"){if(A=c(m),A<32)f.push(A|160),k=1;else if(A<256)f.push(217,A),k=2;else if(A<65536)f.push(218,A>>8,A),k=3;else if(A<4294967296)f.push(219,A>>24,A>>16,A>>8,A),k=5;else throw new Error("String too long");return x.push({_str:m,_length:A,_offset:f.length}),k+A}if(w==="number")return Math.floor(m)!==m||!isFinite(m)?(f.push(203),x.push({_float:m,_length:8,_offset:f.length}),9):m>=0?m<128?(f.push(m),1):m<256?(f.push(204,m),2):m<65536?(f.push(205,m>>8,m),3):m<4294967296?(f.push(206,m>>24,m>>16,m>>8,m),5):(R=m/Math.pow(2,32)>>0,E=m>>>0,f.push(207,R>>24,R>>16,R>>8,R,E>>24,E>>16,E>>8,E),9):m>=-32?(f.push(m),1):m>=-128?(f.push(208,m),2):m>=-32768?(f.push(209,m>>8,m),3):m>=-2147483648?(f.push(210,m>>24,m>>16,m>>8,m),5):(R=Math.floor(m/Math.pow(2,32)),E=m>>>0,f.push(211,R>>24,R>>16,R>>8,R,E>>24,E>>16,E>>8,E),9);if(w==="object"){if(m===null)return f.push(192),1;if(Array.isArray(m)){if(A=m.length,A<16)f.push(A|144),k=1;else if(A<65536)f.push(220,A>>8,A),k=3;else if(A<4294967296)f.push(221,A>>24,A>>16,A>>8,A),k=5;else throw new Error("Array too large");for(S=0;S<A;S++)k+=h(f,x,m[S]);return k}if(m instanceof Date){var C=m.getTime(),N=Math.floor(C/1e3),j=(C-N*1e3)*1e6;return N>=0&&j>=0&&N<=u?j===0&&N<=o?(f.push(214,255,N>>24,N>>16,N>>8,N),6):(R=N/4294967296,E=N&4294967295,f.push(215,255,j>>22,j>>14,j>>6,R,E>>24,E>>16,E>>8,E),10):(R=Math.floor(N/4294967296),E=N>>>0,f.push(199,12,255,j>>24,j>>16,j>>8,j,R>>24,R>>16,R>>8,R,E>>24,E>>16,E>>8,E),15)}if(m instanceof ArrayBuffer){if(A=m.byteLength,A<256)f.push(196,A),k=2;else if(A<65536)f.push(197,A>>8,A),k=3;else if(A<4294967296)f.push(198,A>>24,A>>16,A>>8,A),k=5;else throw new Error("Buffer too large");return x.push({_bin:m,_length:A,_offset:f.length}),k+A}if(typeof m.toJSON=="function")return h(f,x,m.toJSON());var $=[],B="",L=Object.keys(m);for(S=0,_=L.length;S<_;S++)B=L[S],m[B]!==void 0&&typeof m[B]!="function"&&$.push(B);if(A=$.length,A<16)f.push(A|128),k=1;else if(A<65536)f.push(222,A>>8,A),k=3;else if(A<4294967296)f.push(223,A>>24,A>>16,A>>8,A),k=5;else throw new Error("Object too large");for(S=0;S<A;S++)B=$[S],k+=h(f,x,B),k+=h(f,x,m[B]);return k}if(w==="boolean")return f.push(m?195:194),1;if(w==="undefined")return f.push(192),1;if(typeof m.toJSON=="function")return h(f,x,m.toJSON());throw new Error("Could not encode")}function p(f){var x=[],m=[],w=h(x,m,f),S=new ArrayBuffer(w),_=new DataView(S),R=0,E=0,A=-1;m.length>0&&(A=m[0]._offset);for(var k,C=0,N=0,j=0,$=x.length;j<$;j++)if(_.setUint8(E+j,x[j]),j+1===A){if(k=m[R],C=k._length,N=E+A,k._bin)for(var B=new Uint8Array(k._bin),L=0;L<C;L++)_.setUint8(N+L,B[L]);else k._str?d(_,N,k._str):k._float!==void 0&&_.setFloat64(N,k._float);R++,E+=C,m[R]&&(A=m[R]._offset)}return S}return kl.encode=p,kl}var Fd={},Rl={},Ip,h2;function C_(){return h2||(h2=1,Ip=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),Ip}var f2;function P_(){if(f2)return Rl;f2=1;var e=Rl&&Rl.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.WebSocketTransport=void 0;const t=e(C_()),r=globalThis.WebSocket||t.default;let o=class{constructor(d){this.events=d}send(d){d instanceof ArrayBuffer?this.ws.send(d):Array.isArray(d)&&this.ws.send(new Uint8Array(d).buffer)}connect(d){this.ws=new r(d,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(d,c){this.ws.close(d,c)}get isOpen(){return this.ws.readyState===r.OPEN}};return Rl.WebSocketTransport=o,Rl}var p2;function E_(){if(p2)return Fd;p2=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.Connection=void 0;const e=P_();let t=class{constructor(){this.events={},this.transport=new e.WebSocketTransport(this.events)}send(o){this.transport.send(o)}connect(o){this.transport.connect(o)}close(o,u){this.transport.close(o,u)}get isOpen(){return this.transport.isOpen}};return Fd.Connection=t,Fd}var Lp={},m2;function yx(){return m2||(m2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Length=e.utf8Read=e.ErrorCode=e.Protocol=void 0,function(o){o[o.HANDSHAKE=9]="HANDSHAKE",o[o.JOIN_ROOM=10]="JOIN_ROOM",o[o.ERROR=11]="ERROR",o[o.LEAVE_ROOM=12]="LEAVE_ROOM",o[o.ROOM_DATA=13]="ROOM_DATA",o[o.ROOM_STATE=14]="ROOM_STATE",o[o.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",o[o.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",o[o.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),function(o){o[o.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",o[o.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",o[o.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",o[o.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",o[o.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",o[o.AUTH_FAILED=4215]="AUTH_FAILED",o[o.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(e.ErrorCode||(e.ErrorCode={}));function t(o,u){const d=o[u++];for(var c="",h=0,p=u,f=u+d;p<f;p++){var x=o[p];if((x&128)===0){c+=String.fromCharCode(x);continue}if((x&224)===192){c+=String.fromCharCode((x&31)<<6|o[++p]&63);continue}if((x&240)===224){c+=String.fromCharCode((x&15)<<12|(o[++p]&63)<<6|(o[++p]&63)<<0);continue}if((x&248)===240){h=(x&7)<<18|(o[++p]&63)<<12|(o[++p]&63)<<6|(o[++p]&63)<<0,h>=65536?(h-=65536,c+=String.fromCharCode((h>>>10)+55296,(h&1023)+56320)):c+=String.fromCharCode(h);continue}throw new Error("Invalid byte "+x.toString(16))}return c}e.utf8Read=t;function r(o=""){let u=0,d=0;for(let c=0,h=o.length;c<h;c++)u=o.charCodeAt(c),u<128?d+=1:u<2048?d+=2:u<55296||u>=57344?d+=3:(c++,d+=4);return d+1}e.utf8Length=r}(Lp)),Lp}var Tl={},g2;function xx(){if(g2)return Tl;g2=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.getSerializer=Tl.registerSerializer=void 0;const e={};function t(o,u){e[o]=u}Tl.registerSerializer=t;function r(o){const u=e[o];if(!u)throw new Error("missing serializer: "+o);return u}return Tl.getSerializer=r,Tl}var zd={},v2;function wx(){if(v2)return zd;v2=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.createNanoEvents=void 0;const e=()=>({emit(t,...r){let o=this.events[t]||[];for(let u=0,d=o.length;u<d;u++)o[u](...r)},events:{},on(t,r){var o;return!((o=this.events[t])===null||o===void 0)&&o.push(r)||(this.events[t]=[r]),()=>{var u;this.events[t]=(u=this.events[t])===null||u===void 0?void 0:u.filter(d=>r!==d)}}});return zd.createNanoEvents=e,zd}var Ml={},y2;function k_(){if(y2)return Ml;y2=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.createSignal=Ml.EventEmitter=void 0;class e{constructor(){this.handlers=[]}register(o,u=!1){return this.handlers.push(o),this}invoke(...o){this.handlers.forEach(u=>u.apply(this,o))}invokeAsync(...o){return Promise.all(this.handlers.map(u=>u.apply(this,o)))}remove(o){const u=this.handlers.indexOf(o);this.handlers[u]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}Ml.EventEmitter=e;function t(){const r=new e;function o(u){return r.register(u,this===null)}return o.once=u=>{const d=function(...c){u.apply(this,c),r.remove(d)};r.register(d)},o.remove=u=>r.remove(u),o.invoke=(...u)=>r.invoke(...u),o.invokeAsync=(...u)=>r.invokeAsync(...u),o.clear=()=>r.clear(),o}return Ml.createSignal=t,Ml}var Yd={exports:{}},R_=Yd.exports,x2;function Sx(){return x2||(x2=1,function(e,t){(function(r,o){o(t)})(R_,function(r){var o=function(D,M){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,K){z.__proto__=K}||function(z,K){for(var de in K)Object.prototype.hasOwnProperty.call(K,de)&&(z[de]=K[de])},o(D,M)};function u(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");o(D,M);function z(){this.constructor=D}D.prototype=M===null?Object.create(M):(z.prototype=M.prototype,new z)}function d(D,M,z,K){var de=arguments.length,Se=de<3?M:K,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(D,M,z,K);else for(var Fe=D.length-1;Fe>=0;Fe--)(Xe=D[Fe])&&(Se=(de<3?Xe(Se):de>3?Xe(M,z,Se):Xe(M,z))||Se);return de>3&&Se&&Object.defineProperty(M,z,Se),Se}function c(D,M,z){if(arguments.length===2)for(var K=0,de=M.length,Se;K<de;K++)(Se||!(K in M))&&(Se||(Se=Array.prototype.slice.call(M,0,K)),Se[K]=M[K]);return D.concat(Se||Array.prototype.slice.call(M))}typeof SuppressedError=="function"&&SuppressedError;var h=255,p=213;r.OPERATION=void 0,function(D){D[D.ADD=128]="ADD",D[D.REPLACE=0]="REPLACE",D[D.DELETE=64]="DELETE",D[D.DELETE_AND_ADD=192]="DELETE_AND_ADD",D[D.TOUCH=1]="TOUCH",D[D.CLEAR=10]="CLEAR"}(r.OPERATION||(r.OPERATION={}));var f=function(){function D(M,z,K){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=M,this.setParent(z,K)}return D.prototype.setParent=function(M,z,K){var de=this;if(this.indexes||(this.indexes=this.ref instanceof Yn?this.ref._definition.indexes:{}),this.parent=M,this.parentIndex=K,!!z)if(this.root=z,this.ref instanceof Yn){var Se=this.ref._definition;for(var Xe in Se.schema){var Fe=this.ref[Xe];if(Fe&&Fe.$changes){var wt=Se.indexes[Xe];Fe.$changes.setParent(this.ref,z,wt)}}}else typeof this.ref=="object"&&this.ref.forEach(function(vt,Qe){if(vt instanceof Yn){var yt=vt.$changes,Ke=de.ref.$changes.indexes[Qe];yt.setParent(de.ref,de.root,Ke)}})},D.prototype.operation=function(M){this.changes.set(--this.currentCustomOperation,M)},D.prototype.change=function(M,z){z===void 0&&(z=r.OPERATION.ADD);var K=typeof M=="number"?M:this.indexes[M];this.assertValidIndex(K,M);var de=this.changes.get(K);(!de||de.op===r.OPERATION.DELETE||de.op===r.OPERATION.TOUCH)&&this.changes.set(K,{op:de&&de.op===r.OPERATION.DELETE?r.OPERATION.DELETE_AND_ADD:z,index:K}),this.allChanges.add(K),this.changed=!0,this.touchParents()},D.prototype.touch=function(M){var z=typeof M=="number"?M:this.indexes[M];this.assertValidIndex(z,M),this.changes.has(z)||this.changes.set(z,{op:r.OPERATION.TOUCH,index:z}),this.allChanges.add(z),this.touchParents()},D.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},D.prototype.getType=function(M){if(this.ref._definition){var z=this.ref._definition;return z.schema[z.fieldsByIndex[M]]}else{var z=this.parent._definition,K=z.schema[z.fieldsByIndex[this.parentIndex]];return Object.values(K)[0]}},D.prototype.getChildrenFilter=function(){var M=this.parent._definition.childFilters;return M&&M[this.parentIndex]},D.prototype.getValue=function(M){return this.ref.getByIndex(M)},D.prototype.delete=function(M){var z=typeof M=="number"?M:this.indexes[M];if(z===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(M," (").concat(z,")"));return}var K=this.getValue(z);this.changes.set(z,{op:r.OPERATION.DELETE,index:z}),this.allChanges.delete(z),delete this.caches[z],K&&K.$changes&&(K.$changes.parent=void 0),this.changed=!0,this.touchParents()},D.prototype.discard=function(M,z){var K=this;M===void 0&&(M=!1),z===void 0&&(z=!1),this.ref instanceof Yn||this.changes.forEach(function(de){if(de.op===r.OPERATION.DELETE){var Se=K.ref.getIndex(de.index);delete K.indexes[Se]}}),this.changes.clear(),this.changed=M,z&&this.allChanges.clear(),this.currentCustomOperation=0},D.prototype.discardAll=function(){var M=this;this.changes.forEach(function(z){var K=M.getValue(z.index);K&&K.$changes&&K.$changes.discardAll()}),this.discard()},D.prototype.cache=function(M,z){this.caches[M]=z},D.prototype.clone=function(){return new D(this.ref,this.parent,this.root)},D.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},D.prototype.assertValidIndex=function(M,z){if(M===void 0)throw new Error('ChangeTree: missing index for field "'.concat(z,'"'))},D}();function x(D,M,z,K){return D[M]||(D[M]=[]),D[M].push(z),K==null||K.forEach(function(de,Se){return z(de,Se)}),function(){return w(D[M],D[M].indexOf(z))}}function m(D){var M=this,z=typeof this.$changes.getType()!="string";this.$items.forEach(function(K,de){D.push({refId:M.$changes.refId,op:r.OPERATION.DELETE,field:de,value:void 0,previousValue:K}),z&&M.$changes.root.removeRef(K.$changes.refId)})}function w(D,M){if(M===-1||M>=D.length)return!1;for(var z=D.length-1,K=M;K<z;K++)D[K]=D[K+1];return D.length=z,!0}var S=function(D,M){var z=D.toString(),K=M.toString();return z<K?-1:z>K?1:0};function _(D){return D.$proxy=!0,D=new Proxy(D,{get:function(M,z){return typeof z!="symbol"&&!isNaN(z)?M.at(z):M[z]},set:function(M,z,K){if(typeof z!="symbol"&&!isNaN(z)){var de=Array.from(M.$items.keys()),Se=parseInt(de[z]||z);K==null?M.deleteAt(Se):M.setAt(Se,K)}else M[z]=K;return!0},deleteProperty:function(M,z){return typeof z=="number"?M.deleteAt(z):delete M[z],!0},has:function(M,z){return typeof z!="symbol"&&!isNaN(Number(z))?M.$items.has(Number(z)):Reflect.has(M,z)}}),D}var R=function(){function D(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,M)}return D.prototype.onAdd=function(M,z){return z===void 0&&(z=!0),x(this.$callbacks||(this.$callbacks={}),r.OPERATION.ADD,M,z?this.$items:void 0)},D.prototype.onRemove=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.DELETE,M)},D.prototype.onChange=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.REPLACE,M)},D.is=function(M){return Array.isArray(M)||M.array!==void 0},Object.defineProperty(D.prototype,"length",{get:function(){return this.$items.size},set:function(M){M===0?this.clear():this.splice(M,this.length-M)},enumerable:!1,configurable:!0}),D.prototype.push=function(){for(var M=this,z=[],K=0;K<arguments.length;K++)z[K]=arguments[K];var de;return z.forEach(function(Se){de=M.$refId++,M.setAt(de,Se)}),de},D.prototype.pop=function(){var M=Array.from(this.$indexes.values()).pop();if(M!==void 0){this.$changes.delete(M),this.$indexes.delete(M);var z=this.$items.get(M);return this.$items.delete(M),z}},D.prototype.at=function(M){if(M=Math.trunc(M)||0,M<0&&(M+=this.length),!(M<0||M>=this.length)){var z=Array.from(this.$items.keys())[M];return this.$items.get(z)}},D.prototype.setAt=function(M,z){var K,de;if(z==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(M)!==z){z.$changes!==void 0&&z.$changes.setParent(this,this.$changes.root,M);var Se=(de=(K=this.$changes.indexes[M])===null||K===void 0?void 0:K.op)!==null&&de!==void 0?de:r.OPERATION.ADD;this.$changes.indexes[M]=M,this.$indexes.set(M,M),this.$items.set(M,z),this.$changes.change(M,Se)}},D.prototype.deleteAt=function(M){var z=Array.from(this.$items.keys())[M];return z===void 0?!1:this.$deleteAt(z)},D.prototype.$deleteAt=function(M){return this.$changes.delete(M),this.$indexes.delete(M),this.$items.delete(M)},D.prototype.clear=function(M){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),M&&m.call(this,M),this.$items.clear(),this.$changes.operation({index:0,op:r.OPERATION.CLEAR}),this.$changes.touchParents()},D.prototype.concat=function(){for(var M,z=[],K=0;K<arguments.length;K++)z[K]=arguments[K];return new(D.bind.apply(D,c([void 0],(M=Array.from(this.$items.values())).concat.apply(M,z),!1)))},D.prototype.join=function(M){return Array.from(this.$items.values()).join(M)},D.prototype.reverse=function(){var M=this,z=Array.from(this.$items.keys()),K=Array.from(this.$items.values()).reverse();return K.forEach(function(de,Se){M.setAt(z[Se],de)}),this},D.prototype.shift=function(){var M=Array.from(this.$items.keys()),z=M.shift();if(z!==void 0){var K=this.$items.get(z);return this.$deleteAt(z),K}},D.prototype.slice=function(M,z){var K=new D;return K.push.apply(K,Array.from(this.$items.values()).slice(M,z)),K},D.prototype.sort=function(M){var z=this;M===void 0&&(M=S);var K=Array.from(this.$items.keys()),de=Array.from(this.$items.values()).sort(M);return de.forEach(function(Se,Xe){z.setAt(K[Xe],Se)}),this},D.prototype.splice=function(M,z){z===void 0&&(z=this.length-M);for(var K=[],de=2;de<arguments.length;de++)K[de-2]=arguments[de];for(var Se=Array.from(this.$items.keys()),Xe=[],Fe=M;Fe<M+z;Fe++)Xe.push(this.$items.get(Se[Fe])),this.$deleteAt(Se[Fe]);for(var Fe=0;Fe<K.length;Fe++)this.setAt(M+Fe,K[Fe]);return Xe},D.prototype.unshift=function(){for(var M=this,z=[],K=0;K<arguments.length;K++)z[K]=arguments[K];var de=this.length,Se=z.length,Xe=Array.from(this.$items.values());return z.forEach(function(Fe,wt){M.setAt(wt,Fe)}),Xe.forEach(function(Fe,wt){M.setAt(Se+wt,Fe)}),de+Se},D.prototype.indexOf=function(M,z){return Array.from(this.$items.values()).indexOf(M,z)},D.prototype.lastIndexOf=function(M,z){return z===void 0&&(z=this.length-1),Array.from(this.$items.values()).lastIndexOf(M,z)},D.prototype.every=function(M,z){return Array.from(this.$items.values()).every(M,z)},D.prototype.some=function(M,z){return Array.from(this.$items.values()).some(M,z)},D.prototype.forEach=function(M,z){Array.from(this.$items.values()).forEach(M,z)},D.prototype.map=function(M,z){return Array.from(this.$items.values()).map(M,z)},D.prototype.filter=function(M,z){return Array.from(this.$items.values()).filter(M,z)},D.prototype.reduce=function(M,z){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},D.prototype.reduceRight=function(M,z){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},D.prototype.find=function(M,z){return Array.from(this.$items.values()).find(M,z)},D.prototype.findIndex=function(M,z){return Array.from(this.$items.values()).findIndex(M,z)},D.prototype.fill=function(M,z,K){throw new Error("ArraySchema#fill() not implemented")},D.prototype.copyWithin=function(M,z,K){throw new Error("ArraySchema#copyWithin() not implemented")},D.prototype.toString=function(){return this.$items.toString()},D.prototype.toLocaleString=function(){return this.$items.toLocaleString()},D.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(D,Symbol.species,{get:function(){return D},enumerable:!1,configurable:!0}),D.prototype.entries=function(){return this.$items.entries()},D.prototype.keys=function(){return this.$items.keys()},D.prototype.values=function(){return this.$items.values()},D.prototype.includes=function(M,z){return Array.from(this.$items.values()).includes(M,z)},D.prototype.flatMap=function(M,z){throw new Error("ArraySchema#flatMap() is not supported.")},D.prototype.flat=function(M){throw new Error("ArraySchema#flat() is not supported.")},D.prototype.findLast=function(){var M=Array.from(this.$items.values());return M.findLast.apply(M,arguments)},D.prototype.findLastIndex=function(){var M=Array.from(this.$items.values());return M.findLastIndex.apply(M,arguments)},D.prototype.with=function(M,z){var K=Array.from(this.$items.values());return K[M]=z,new(D.bind.apply(D,c([void 0],K,!1)))},D.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},D.prototype.toSorted=function(M){return Array.from(this.$items.values()).sort(M)},D.prototype.toSpliced=function(M,z){var K=Array.from(this.$items.values());return K.toSpliced.apply(K,arguments)},D.prototype.setIndex=function(M,z){this.$indexes.set(M,z)},D.prototype.getIndex=function(M){return this.$indexes.get(M)},D.prototype.getByIndex=function(M){return this.$items.get(this.$indexes.get(M))},D.prototype.deleteByIndex=function(M){var z=this.$indexes.get(M);this.$items.delete(z),this.$indexes.delete(M)},D.prototype.toArray=function(){return Array.from(this.$items.values())},D.prototype.toJSON=function(){return this.toArray().map(function(M){return typeof M.toJSON=="function"?M.toJSON():M})},D.prototype.clone=function(M){var z;return M?z=new(D.bind.apply(D,c([void 0],Array.from(this.$items.values()),!1))):z=new(D.bind.apply(D,c([void 0],this.map(function(K){return K.$changes?K.clone():K}),!1))),z},D}();function E(D){return D.$proxy=!0,D=new Proxy(D,{get:function(M,z){return typeof z!="symbol"&&typeof M[z]>"u"?M.get(z):M[z]},set:function(M,z,K){return typeof z!="symbol"&&z.indexOf("$")===-1&&z!=="onAdd"&&z!=="onRemove"&&z!=="onChange"?M.set(z,K):M[z]=K,!0},deleteProperty:function(M,z){return M.delete(z),!0}}),D}var A=function(){function D(M){var z=this;if(this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,M)if(M instanceof Map||M instanceof D)M.forEach(function(de,Se){return z.set(Se,de)});else for(var K in M)this.set(K,M[K])}return D.prototype.onAdd=function(M,z){return z===void 0&&(z=!0),x(this.$callbacks||(this.$callbacks={}),r.OPERATION.ADD,M,z?this.$items:void 0)},D.prototype.onRemove=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.DELETE,M)},D.prototype.onChange=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.REPLACE,M)},D.is=function(M){return M.map!==void 0},D.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(D.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(D,Symbol.species,{get:function(){return D},enumerable:!1,configurable:!0}),D.prototype.set=function(M,z){if(z==null)throw new Error("MapSchema#set('".concat(M,"', ").concat(z,"): trying to set ").concat(z," value on '").concat(M,"'."));M=M.toString();var K=typeof this.$changes.indexes[M]<"u",de=K?this.$changes.indexes[M]:this.$refId++,Se=K?r.OPERATION.REPLACE:r.OPERATION.ADD,Xe=z.$changes!==void 0;if(Xe&&z.$changes.setParent(this,this.$changes.root,de),!K)this.$changes.indexes[M]=de,this.$indexes.set(de,M);else{if(!Xe&&this.$items.get(M)===z)return;Xe&&this.$items.get(M)!==z&&(Se=r.OPERATION.ADD)}return this.$items.set(M,z),this.$changes.change(M,Se),this},D.prototype.get=function(M){return this.$items.get(M)},D.prototype.delete=function(M){return this.$changes.delete(M.toString()),this.$items.delete(M)},D.prototype.clear=function(M){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),M&&m.call(this,M),this.$items.clear(),this.$changes.operation({index:0,op:r.OPERATION.CLEAR}),this.$changes.touchParents()},D.prototype.has=function(M){return this.$items.has(M)},D.prototype.forEach=function(M){this.$items.forEach(M)},D.prototype.entries=function(){return this.$items.entries()},D.prototype.keys=function(){return this.$items.keys()},D.prototype.values=function(){return this.$items.values()},Object.defineProperty(D.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),D.prototype.setIndex=function(M,z){this.$indexes.set(M,z)},D.prototype.getIndex=function(M){return this.$indexes.get(M)},D.prototype.getByIndex=function(M){return this.$items.get(this.$indexes.get(M))},D.prototype.deleteByIndex=function(M){var z=this.$indexes.get(M);this.$items.delete(z),this.$indexes.delete(M)},D.prototype.toJSON=function(){var M={};return this.forEach(function(z,K){M[K]=typeof z.toJSON=="function"?z.toJSON():z}),M},D.prototype.clone=function(M){var z;return M?z=Object.assign(new D,this):(z=new D,this.forEach(function(K,de){K.$changes?z.set(de,K.clone()):z.set(de,K)})),z},D}(),k={};function C(D,M){k[D]=M}function N(D){return k[D]}var j=function(){function D(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return D.create=function(M){var z=new D;return z.schema=Object.assign({},M&&M.schema||{}),z.indexes=Object.assign({},M&&M.indexes||{}),z.fieldsByIndex=Object.assign({},M&&M.fieldsByIndex||{}),z.descriptors=Object.assign({},M&&M.descriptors||{}),z.deprecated=Object.assign({},M&&M.deprecated||{}),z},D.prototype.addField=function(M,z){var K=this.getNextFieldIndex();this.fieldsByIndex[K]=M,this.indexes[M]=K,this.schema[M]=Array.isArray(z)?{array:z[0]}:z},D.prototype.hasField=function(M){return this.indexes[M]!==void 0},D.prototype.addFilter=function(M,z){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[M]]=z,this.indexesWithFilters.push(this.indexes[M]),!0},D.prototype.addChildrenFilter=function(M,z){var K=this.indexes[M],de=this.schema[M];if(N(Object.keys(de)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[K]=z,!0;console.warn("@filterChildren: field '".concat(M,"' can't have children. Ignoring filter."))},D.prototype.getChildrenFilter=function(M){return this.childFilters&&this.childFilters[this.indexes[M]]},D.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},D}();function $(D){return D._context&&D._context.useFilters}var B=function(){function D(){this.types={},this.schemas=new Map,this.useFilters=!1}return D.prototype.has=function(M){return this.schemas.has(M)},D.prototype.get=function(M){return this.types[M]},D.prototype.add=function(M,z){z===void 0&&(z=this.schemas.size),M._definition=j.create(M._definition),M._typeid=z,this.types[z]=M,this.schemas.set(M,z)},D.create=function(M){return M===void 0&&(M={}),function(z){return M.context||(M.context=new D),H(z,M)}},D}(),L=new B;function H(D,M){return M===void 0&&(M={}),function(z,K){var de=M.context||L,Se=z.constructor;if(Se._context=de,!D)throw new Error("".concat(Se.name,': @type() reference provided for "').concat(K,`" is undefined. Make sure you don't have any circular dependencies.`));de.has(Se)||de.add(Se);var Xe=Se._definition;if(Xe.addField(K,D),Xe.descriptors[K]){if(Xe.deprecated[K])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(K,"' definition on '").concat(Se.name,`'.
Check @type() annotation`))}catch(Ke){var Fe=Ke.stack.split(`
`)[4].trim();throw new Error("".concat(Ke.message," ").concat(Fe))}}var wt=R.is(D),vt=!wt&&A.is(D);if(typeof D!="string"&&!Yn.is(D)){var Qe=Object.values(D)[0];typeof Qe!="string"&&!de.has(Qe)&&de.add(Qe)}if(M.manual){Xe.descriptors[K]={enumerable:!0,configurable:!0,writable:!0};return}var yt="_".concat(K);Xe.descriptors[yt]={enumerable:!1,configurable:!1,writable:!0},Xe.descriptors[K]={get:function(){return this[yt]},set:function(Ke){Ke!==this[yt]&&(Ke!=null?(wt&&!(Ke instanceof R)&&(Ke=new(R.bind.apply(R,c([void 0],Ke,!1)))),vt&&!(Ke instanceof A)&&(Ke=new A(Ke)),Ke.$proxy===void 0&&(vt?Ke=E(Ke):wt&&(Ke=_(Ke))),this.$changes.change(K),Ke.$changes&&Ke.$changes.setParent(this,this.$changes.root,this._definition.indexes[K])):this[yt]&&this.$changes.delete(K),this[yt]=Ke)},enumerable:!0,configurable:!0}}}function U(D){return function(M,z){var K=M.constructor,de=K._definition;de.addFilter(z,D)&&(K._context.useFilters=!0)}}function G(D){return function(M,z){var K=M.constructor,de=K._definition;de.addChildrenFilter(z,D)&&(K._context.useFilters=!0)}}function te(D){return D===void 0&&(D=!0),function(M,z){var K=M.constructor,de=K._definition;de.deprecated[z]=!0,D&&(de.descriptors[z]={get:function(){throw new Error("".concat(z," is deprecated."))},set:function(Se){},enumerable:!1,configurable:!0})}}function O(D,M,z){z===void 0&&(z={}),z.context||(z.context=D._context||z.context||L);for(var K in M)H(M[K],z)(D.prototype,K);return D}function V(D){for(var M=0,z=0,K=0,de=D.length;K<de;K++)M=D.charCodeAt(K),M<128?z+=1:M<2048?z+=2:M<55296||M>=57344?z+=3:(K++,z+=4);return z}function q(D,M,z){for(var K=0,de=0,Se=z.length;de<Se;de++)K=z.charCodeAt(de),K<128?D[M++]=K:K<2048?(D[M++]=192|K>>6,D[M++]=128|K&63):K<55296||K>=57344?(D[M++]=224|K>>12,D[M++]=128|K>>6&63,D[M++]=128|K&63):(de++,K=65536+((K&1023)<<10|z.charCodeAt(de)&1023),D[M++]=240|K>>18,D[M++]=128|K>>12&63,D[M++]=128|K>>6&63,D[M++]=128|K&63)}function J(D,M){D.push(M&255)}function Z(D,M){D.push(M&255)}function re(D,M){D.push(M&255),D.push(M>>8&255)}function se(D,M){D.push(M&255),D.push(M>>8&255)}function Y(D,M){D.push(M&255),D.push(M>>8&255),D.push(M>>16&255),D.push(M>>24&255)}function le(D,M){var z=M>>24,K=M>>16,de=M>>8,Se=M;D.push(Se&255),D.push(de&255),D.push(K&255),D.push(z&255)}function oe(D,M){var z=Math.floor(M/Math.pow(2,32)),K=M>>>0;le(D,K),le(D,z)}function _e(D,M){var z=M/Math.pow(2,32)>>0,K=M>>>0;le(D,K),le(D,z)}function we(D,M){Ce(D,M)}function Ne(D,M){We(D,M)}var Re=new Int32Array(2),ie=new Float32Array(Re.buffer),fe=new Float64Array(Re.buffer);function Ce(D,M){ie[0]=M,Y(D,Re[0])}function We(D,M){fe[0]=M,Y(D,Re[0]),Y(D,Re[1])}function De(D,M){return Z(D,M?1:0)}function et(D,M){M||(M="");var z=V(M),K=0;if(z<32)D.push(z|160),K=1;else if(z<256)D.push(217),Z(D,z),K=2;else if(z<65536)D.push(218),se(D,z),K=3;else if(z<4294967296)D.push(219),le(D,z),K=5;else throw new Error("String too long");return q(D,D.length,M),K+z}function He(D,M){if(isNaN(M))return He(D,0);if(isFinite(M)){if(M!==(M|0))return D.push(203),We(D,M),9}else return He(D,M>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return M>=0?M<128?(Z(D,M),1):M<256?(D.push(204),Z(D,M),2):M<65536?(D.push(205),se(D,M),3):M<4294967296?(D.push(206),le(D,M),5):(D.push(207),_e(D,M),9):M>=-32?(D.push(224|M+32),1):M>=-128?(D.push(208),J(D,M),2):M>=-32768?(D.push(209),re(D,M),3):M>=-2147483648?(D.push(210),Y(D,M),5):(D.push(211),oe(D,M),9)}var Zt=Object.freeze({__proto__:null,boolean:De,float32:we,float64:Ne,int16:re,int32:Y,int64:oe,int8:J,number:He,string:et,uint16:se,uint32:le,uint64:_e,uint8:Z,utf8Write:q,writeFloat32:Ce,writeFloat64:We});function St(D,M,z){for(var K="",de=0,Se=M,Xe=M+z;Se<Xe;Se++){var Fe=D[Se];if((Fe&128)===0){K+=String.fromCharCode(Fe);continue}if((Fe&224)===192){K+=String.fromCharCode((Fe&31)<<6|D[++Se]&63);continue}if((Fe&240)===224){K+=String.fromCharCode((Fe&15)<<12|(D[++Se]&63)<<6|(D[++Se]&63)<<0);continue}if((Fe&248)===240){de=(Fe&7)<<18|(D[++Se]&63)<<12|(D[++Se]&63)<<6|(D[++Se]&63)<<0,de>=65536?(de-=65536,K+=String.fromCharCode((de>>>10)+55296,(de&1023)+56320)):K+=String.fromCharCode(de);continue}console.error("Invalid byte "+Fe.toString(16))}return K}function bn(D,M){return Ht(D,M)<<24>>24}function Ht(D,M){return D[M.offset++]}function mn(D,M){return ln(D,M)<<16>>16}function ln(D,M){return D[M.offset++]|D[M.offset++]<<8}function bt(D,M){return D[M.offset++]|D[M.offset++]<<8|D[M.offset++]<<16|D[M.offset++]<<24}function _t(D,M){return bt(D,M)>>>0}function dr(D,M){return ai(D,M)}function Kn(D,M){return zn(D,M)}function Nn(D,M){var z=_t(D,M),K=bt(D,M)*Math.pow(2,32);return K+z}function hn(D,M){var z=_t(D,M),K=_t(D,M)*Math.pow(2,32);return K+z}var xn=new Int32Array(2),zr=new Float32Array(xn.buffer),Er=new Float64Array(xn.buffer);function ai(D,M){return xn[0]=bt(D,M),zr[0]}function zn(D,M){return xn[0]=bt(D,M),xn[1]=bt(D,M),Er[0]}function kr(D,M){return Ht(D,M)>0}function Uo(D,M){var z=D[M.offset++],K;z<192?K=z&31:z===217?K=Ht(D,M):z===218?K=ln(D,M):z===219&&(K=_t(D,M));var de=St(D,M.offset,K);return M.offset+=K,de}function Vo(D,M){var z=D[M.offset];return z<192&&z>160||z===217||z===218||z===219}function Rr(D,M){var z=D[M.offset++];if(z<128)return z;if(z===202)return ai(D,M);if(z===203)return zn(D,M);if(z===204)return Ht(D,M);if(z===205)return ln(D,M);if(z===206)return _t(D,M);if(z===207)return hn(D,M);if(z===208)return bn(D,M);if(z===209)return mn(D,M);if(z===210)return bt(D,M);if(z===211)return Nn(D,M);if(z>223)return(255-z+1)*-1}function ec(D,M){var z=D[M.offset];return z<128||z>=202&&z<=211}function Ba(D,M){return D[M.offset]<160}function Zs(D,M){return D[M.offset-1]===h&&(D[M.offset]<128||D[M.offset]>=202&&D[M.offset]<=211)}var Bo=Object.freeze({__proto__:null,arrayCheck:Ba,boolean:kr,float32:dr,float64:Kn,int16:mn,int32:bt,int64:Nn,int8:bn,number:Rr,numberCheck:ec,readFloat32:ai,readFloat64:zn,string:Uo,stringCheck:Vo,switchStructureCheck:Zs,uint16:ln,uint32:_t,uint64:hn,uint8:Ht}),Js=function(){function D(M){var z=this;this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,M&&M.forEach(function(K){return z.add(K)})}return D.prototype.onAdd=function(M,z){return z===void 0&&(z=!0),x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.ADD,M,z?this.$items:void 0)},D.prototype.onRemove=function(M){return x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.DELETE,M)},D.prototype.onChange=function(M){return x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.REPLACE,M)},D.is=function(M){return M.collection!==void 0},D.prototype.add=function(M){var z=this.$refId++,K=M.$changes!==void 0;return K&&M.$changes.setParent(this,this.$changes.root,z),this.$changes.indexes[z]=z,this.$indexes.set(z,z),this.$items.set(z,M),this.$changes.change(z),z},D.prototype.at=function(M){var z=Array.from(this.$items.keys())[M];return this.$items.get(z)},D.prototype.entries=function(){return this.$items.entries()},D.prototype.delete=function(M){for(var z=this.$items.entries(),K,de;(de=z.next())&&!de.done;)if(M===de.value[1]){K=de.value[0];break}return K===void 0?!1:(this.$changes.delete(K),this.$indexes.delete(K),this.$items.delete(K))},D.prototype.clear=function(M){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),M&&m.call(this,M),this.$items.clear(),this.$changes.operation({index:0,op:r.OPERATION.CLEAR}),this.$changes.touchParents()},D.prototype.has=function(M){return Array.from(this.$items.values()).some(function(z){return z===M})},D.prototype.forEach=function(M){var z=this;this.$items.forEach(function(K,de,Se){return M(K,de,z)})},D.prototype.values=function(){return this.$items.values()},Object.defineProperty(D.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),D.prototype.setIndex=function(M,z){this.$indexes.set(M,z)},D.prototype.getIndex=function(M){return this.$indexes.get(M)},D.prototype.getByIndex=function(M){return this.$items.get(this.$indexes.get(M))},D.prototype.deleteByIndex=function(M){var z=this.$indexes.get(M);this.$items.delete(z),this.$indexes.delete(M)},D.prototype.toArray=function(){return Array.from(this.$items.values())},D.prototype.toJSON=function(){var M=[];return this.forEach(function(z,K){M.push(typeof z.toJSON=="function"?z.toJSON():z)}),M},D.prototype.clone=function(M){var z;return M?z=Object.assign(new D,this):(z=new D,this.forEach(function(K){K.$changes?z.add(K.clone()):z.add(K)})),z},D}(),eo=function(){function D(M){var z=this;this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,M&&M.forEach(function(K){return z.add(K)})}return D.prototype.onAdd=function(M,z){return z===void 0&&(z=!0),x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.ADD,M,z?this.$items:void 0)},D.prototype.onRemove=function(M){return x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.DELETE,M)},D.prototype.onChange=function(M){return x(this.$callbacks||(this.$callbacks=[]),r.OPERATION.REPLACE,M)},D.is=function(M){return M.set!==void 0},D.prototype.add=function(M){var z,K;if(this.has(M))return!1;var de=this.$refId++;M.$changes!==void 0&&M.$changes.setParent(this,this.$changes.root,de);var Se=(K=(z=this.$changes.indexes[de])===null||z===void 0?void 0:z.op)!==null&&K!==void 0?K:r.OPERATION.ADD;return this.$changes.indexes[de]=de,this.$indexes.set(de,de),this.$items.set(de,M),this.$changes.change(de,Se),de},D.prototype.entries=function(){return this.$items.entries()},D.prototype.delete=function(M){for(var z=this.$items.entries(),K,de;(de=z.next())&&!de.done;)if(M===de.value[1]){K=de.value[0];break}return K===void 0?!1:(this.$changes.delete(K),this.$indexes.delete(K),this.$items.delete(K))},D.prototype.clear=function(M){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),M&&m.call(this,M),this.$items.clear(),this.$changes.operation({index:0,op:r.OPERATION.CLEAR}),this.$changes.touchParents()},D.prototype.has=function(M){for(var z=this.$items.values(),K=!1,de;(de=z.next())&&!de.done;)if(M===de.value){K=!0;break}return K},D.prototype.forEach=function(M){var z=this;this.$items.forEach(function(K,de,Se){return M(K,de,z)})},D.prototype.values=function(){return this.$items.values()},Object.defineProperty(D.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),D.prototype.setIndex=function(M,z){this.$indexes.set(M,z)},D.prototype.getIndex=function(M){return this.$indexes.get(M)},D.prototype.getByIndex=function(M){return this.$items.get(this.$indexes.get(M))},D.prototype.deleteByIndex=function(M){var z=this.$indexes.get(M);this.$items.delete(z),this.$indexes.delete(M)},D.prototype.toArray=function(){return Array.from(this.$items.values())},D.prototype.toJSON=function(){var M=[];return this.forEach(function(z,K){M.push(typeof z.toJSON=="function"?z.toJSON():z)}),M},D.prototype.clone=function(M){var z;return M?z=Object.assign(new D,this):(z=new D,this.forEach(function(K){K.$changes?z.add(K.clone()):z.add(K)})),z},D}(),Es=function(){function D(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return D.prototype.addRefId=function(M){this.refIds.has(M)||(this.refIds.add(M),this.containerIndexes.set(M,new Set))},D.get=function(M){return M.$filterState===void 0&&(M.$filterState=new D),M.$filterState},D}(),ks=function(){function D(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return D.prototype.getNextUniqueId=function(){return this.nextUniqueId++},D.prototype.addRef=function(M,z,K){K===void 0&&(K=!0),this.refs.set(M,z),K&&(this.refCounts[M]=(this.refCounts[M]||0)+1)},D.prototype.removeRef=function(M){var z=this.refCounts[M];if(z===void 0){console.warn("trying to remove reference ".concat(M," that doesn't exist"));return}if(z===0){console.warn("trying to remove reference ".concat(M," with 0 refCount"));return}this.refCounts[M]=z-1,this.deletedRefs.add(M)},D.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},D.prototype.garbageCollectDeletedRefs=function(){var M=this;this.deletedRefs.forEach(function(z){if(!(M.refCounts[z]>0)){var K=M.refs.get(z);if(K instanceof Yn)for(var de in K._definition.schema)typeof K._definition.schema[de]!="string"&&K[de]&&K[de].$changes&&M.removeRef(K[de].$changes.refId);else{var Se=K.$changes.parent._definition,Xe=Se.schema[Se.fieldsByIndex[K.$changes.parentIndex]];typeof Object.values(Xe)[0]=="function"&&Array.from(K.values()).forEach(function(Fe){return M.removeRef(Fe.$changes.refId)})}M.refs.delete(z),delete M.refCounts[z]}}),this.deletedRefs.clear()},D}(),$o=function(D){u(M,D);function M(){return D!==null&&D.apply(this,arguments)||this}return M}(Error);function $a(D,M,z,K){var de,Se=!1;switch(M){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":de="number",isNaN(D)&&console.log('trying to encode "NaN" in '.concat(z.constructor.name,"#").concat(K));break;case"string":de="string",Se=!0;break;case"boolean":return}if(typeof D!==de&&(!Se||Se&&D!==null)){var Xe="'".concat(JSON.stringify(D),"'").concat(D&&D.constructor&&" (".concat(D.constructor.name,")")||"");throw new $o("a '".concat(de,"' was expected, but ").concat(Xe," was provided in ").concat(z.constructor.name,"#").concat(K))}}function Go(D,M,z,K){if(!(D instanceof M))throw new $o("a '".concat(M.name,"' was expected, but '").concat(D.constructor.name,"' was provided in ").concat(z.constructor.name,"#").concat(K))}function Vl(D,M,z,K,de){$a(z,D,K,de);var Se=Zt[D];if(Se)Se(M,z);else throw new $o("a '".concat(D,"' was expected, but ").concat(z," was provided in ").concat(K.constructor.name,"#").concat(de))}function Wo(D,M,z){return Bo[D](M,z)}var Yn=function(){function D(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];Object.defineProperties(this,{$changes:{value:new f(this,void 0,new ks),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var K=this._definition.descriptors;K&&Object.defineProperties(this,K),M[0]&&this.assign(M[0])}return D.onError=function(M){console.error(M)},D.is=function(M){return M._definition&&M._definition.schema!==void 0},D.prototype.onChange=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.REPLACE,M)},D.prototype.onRemove=function(M){return x(this.$callbacks||(this.$callbacks={}),r.OPERATION.DELETE,M)},D.prototype.assign=function(M){return Object.assign(this,M),this},Object.defineProperty(D.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),D.prototype.setDirty=function(M,z){this.$changes.change(M,z)},D.prototype.listen=function(M,z,K){var de=this;return K===void 0&&(K=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[M]||(this.$callbacks[M]=[]),this.$callbacks[M].push(z),K&&this[M]!==void 0&&z(this[M],void 0),function(){return w(de.$callbacks[M],de.$callbacks[M].indexOf(z))}},D.prototype.decode=function(M,z,K){z===void 0&&(z={offset:0}),K===void 0&&(K=this);var de=[],Se=this.$changes.root,Xe=M.length,Fe=0;for(Se.refs.set(Fe,this);z.offset<Xe;){var wt=M[z.offset++];if(wt==h){Fe=Rr(M,z);var vt=Se.refs.get(Fe);if(!vt)throw new Error('"refId" not found: '.concat(Fe));K=vt;continue}var Qe=K.$changes,yt=K._definition!==void 0,Ke=yt?wt>>6<<6:wt;if(Ke===r.OPERATION.CLEAR){K.clear(de);continue}var ht=yt?wt%(Ke||255):Rr(M,z),it=yt?K._definition.fieldsByIndex[ht]:"",lt=Qe.getType(ht),be=void 0,Ze=void 0,Un=void 0;if(yt?Ze=K["_".concat(it)]:(Ze=K.getByIndex(ht),(Ke&r.OPERATION.ADD)===r.OPERATION.ADD?(Un=K instanceof A?Uo(M,z):ht,K.setIndex(ht,Un)):Un=K.getIndex(ht)),(Ke&r.OPERATION.DELETE)===r.OPERATION.DELETE&&(Ke!==r.OPERATION.DELETE_AND_ADD&&K.deleteByIndex(ht),Ze&&Ze.$changes&&Se.removeRef(Ze.$changes.refId),be=null),it===void 0){console.warn("@colyseus/schema: definition mismatch");for(var Dt={offset:z.offset};z.offset<Xe&&!(Zs(M,z)&&(Dt.offset=z.offset+1,Se.refs.has(Rr(M,Dt))));)z.offset++;continue}else if(Ke!==r.OPERATION.DELETE)if(D.is(lt)){var dt=Rr(M,z);if(be=Se.refs.get(dt),Ke!==r.OPERATION.REPLACE){var ft=this.getSchemaType(M,z,lt);be||(be=this.createTypeInstance(ft),be.$changes.refId=dt,Ze&&(be.$callbacks=Ze.$callbacks,Ze.$changes.refId&&dt!==Ze.$changes.refId&&Se.removeRef(Ze.$changes.refId))),Se.addRef(dt,be,be!==Ze)}}else if(typeof lt=="string")be=Wo(lt,M,z);else{var Fi=N(Object.keys(lt)[0]),Vr=Rr(M,z),gn=Se.refs.has(Vr)?Ze||Se.refs.get(Vr):new Fi.constructor;if(be=gn.clone(!0),be.$changes.refId=Vr,Ze&&(be.$callbacks=Ze.$callbacks,Ze.$changes.refId&&Vr!==Ze.$changes.refId)){Se.removeRef(Ze.$changes.refId);for(var Rt=Ze.entries(),st=void 0;(st=Rt.next())&&!st.done;){var pt=st.value,Vn=pt[0],wn=pt[1];de.push({refId:Vr,op:r.OPERATION.DELETE,field:Vn,value:void 0,previousValue:wn})}}Se.addRef(Vr,be,gn!==Ze)}if(be!=null){if(be.$changes&&be.$changes.setParent(Qe.ref,Qe.root,ht),K instanceof D)K[it]=be;else if(K instanceof A){var Vn=Un;K.$items.set(Vn,be),K.$changes.allChanges.add(ht)}else if(K instanceof R)K.setAt(ht,be);else if(K instanceof Js){var un=K.add(be);K.setIndex(ht,un)}else if(K instanceof eo){var un=K.add(be);un!==!1&&K.setIndex(ht,un)}}Ze!==be&&de.push({refId:Fe,op:Ke,field:it,dynamicIndex:Un,value:be,previousValue:Ze})}return this._triggerChanges(de),Se.garbageCollectDeletedRefs(),de},D.prototype.encode=function(M,z,K){M===void 0&&(M=!1),z===void 0&&(z=[]),K===void 0&&(K=!1);for(var de=this.$changes,Se=new WeakSet,Xe=[de],Fe=1,wt=0;wt<Fe;wt++){var vt=Xe[wt],Qe=vt.ref,yt=Qe instanceof D;vt.ensureRefId(),Se.add(vt),vt!==de&&(vt.changed||M)&&(Z(z,h),He(z,vt.refId));for(var Ke=M?Array.from(vt.allChanges):Array.from(vt.changes.values()),ht=0,it=Ke.length;ht<it;ht++){var lt=M?{op:r.OPERATION.ADD,index:Ke[ht]}:Ke[ht],be=lt.index,Ze=yt?Qe._definition.fieldsByIndex&&Qe._definition.fieldsByIndex[be]:be,Un=z.length;if(lt.op!==r.OPERATION.TOUCH)if(yt)Z(z,be|lt.op);else{if(Z(z,lt.op),lt.op===r.OPERATION.CLEAR)continue;He(z,be)}if(!yt&&(lt.op&r.OPERATION.ADD)==r.OPERATION.ADD&&Qe instanceof A){var Dt=vt.ref.$indexes.get(be);et(z,Dt)}if(lt.op!==r.OPERATION.DELETE){var dt=vt.getType(be),ft=vt.getValue(be);if(ft&&ft.$changes&&!Se.has(ft.$changes)&&(Xe.push(ft.$changes),ft.$changes.ensureRefId(),Fe++),lt.op!==r.OPERATION.TOUCH){if(D.is(dt))Go(ft,dt,Qe,Ze),He(z,ft.$changes.refId),(lt.op&r.OPERATION.ADD)===r.OPERATION.ADD&&this.tryEncodeTypeId(z,dt,ft.constructor);else if(typeof dt=="string")Vl(dt,z,ft,Qe,Ze);else{var Fi=N(Object.keys(dt)[0]);Go(Qe["_".concat(Ze)],Fi.constructor,Qe,Ze),He(z,ft.$changes.refId)}K&&vt.cache(be,z.slice(Un))}}}!M&&!K&&vt.discard()}return z},D.prototype.encodeAll=function(M){return this.encode(!0,[],M)},D.prototype.applyFilters=function(M,z){var K,de;z===void 0&&(z=!1);for(var Se=this,Xe=new Set,Fe=Es.get(M),wt=[this.$changes],vt=1,Qe=[],yt=function(ht){var it=wt[ht];if(Xe.has(it.refId))return"continue";var lt=it.ref,be=lt instanceof D;Z(Qe,h),He(Qe,it.refId);var Ze=Fe.refIds.has(it),Un=z||!Ze;Fe.addRefId(it);var Dt=Fe.containerIndexes.get(it),dt=Un?Array.from(it.allChanges):Array.from(it.changes.values());if(!z&&be&&lt._definition.indexesWithFilters){var ft=lt._definition.indexesWithFilters;ft.forEach(function(hr){!Dt.has(hr)&&it.allChanges.has(hr)&&(Un?dt.push(hr):dt.push({op:r.OPERATION.ADD,index:hr}))})}for(var Fi=0,Vr=dt.length;Fi<Vr;Fi++){var gn=Un?{op:r.OPERATION.ADD,index:dt[Fi]}:dt[Fi];if(gn.op===r.OPERATION.CLEAR){Z(Qe,gn.op);continue}var Rt=gn.index;if(gn.op===r.OPERATION.DELETE){be?Z(Qe,gn.op|Rt):(Z(Qe,gn.op),He(Qe,Rt));continue}var st=it.getValue(Rt),pt=it.getType(Rt);if(be){var Vn=lt._definition.filters&&lt._definition.filters[Rt];if(Vn&&!Vn.call(lt,M,st,Se)){st&&st.$changes&&Xe.add(st.$changes.refId);continue}}else{var wn=it.parent,Vn=it.getChildrenFilter();if(Vn&&!Vn.call(wn,M,lt.$indexes.get(Rt),st,Se)){st&&st.$changes&&Xe.add(st.$changes.refId);continue}}if(st.$changes&&(wt.push(st.$changes),vt++),gn.op!==r.OPERATION.TOUCH)if(gn.op===r.OPERATION.ADD||be)Qe.push.apply(Qe,(K=it.caches[Rt])!==null&&K!==void 0?K:[]),Dt.add(Rt);else if(Dt.has(Rt))Qe.push.apply(Qe,(de=it.caches[Rt])!==null&&de!==void 0?de:[]);else{if(Dt.add(Rt),Z(Qe,r.OPERATION.ADD),He(Qe,Rt),lt instanceof A){var un=it.ref.$indexes.get(Rt);et(Qe,un)}st.$changes?He(Qe,st.$changes.refId):Zt[pt](Qe,st)}else if(st.$changes&&!be){if(Z(Qe,r.OPERATION.ADD),He(Qe,Rt),lt instanceof A){var un=it.ref.$indexes.get(Rt);et(Qe,un)}He(Qe,st.$changes.refId)}}},Ke=0;Ke<vt;Ke++)yt(Ke);return Qe},D.prototype.clone=function(){var M,z=new this.constructor,K=this._definition.schema;for(var de in K)typeof this[de]=="object"&&typeof((M=this[de])===null||M===void 0?void 0:M.clone)=="function"?z[de]=this[de].clone():z[de]=this[de];return z},D.prototype.toJSON=function(){var M=this._definition.schema,z=this._definition.deprecated,K={};for(var de in M)!z[de]&&this[de]!==null&&typeof this[de]<"u"&&(K[de]=typeof this[de].toJSON=="function"?this[de].toJSON():this["_".concat(de)]);return K},D.prototype.discardAllChanges=function(){this.$changes.discardAll()},D.prototype.getByIndex=function(M){return this[this._definition.fieldsByIndex[M]]},D.prototype.deleteByIndex=function(M){this[this._definition.fieldsByIndex[M]]=void 0},D.prototype.tryEncodeTypeId=function(M,z,K){z._typeid!==K._typeid&&(Z(M,p),He(M,K._typeid))},D.prototype.getSchemaType=function(M,z,K){var de;return M[z.offset]===p&&(z.offset++,de=this.constructor._context.get(Rr(M,z))),de||K},D.prototype.createTypeInstance=function(M){var z=new M;return z.$changes.root=this.$changes.root,z},D.prototype._triggerChanges=function(M){for(var z,K,de,Se,Xe,Fe,wt,vt,Qe,yt=new Set,Ke=this.$changes.root.refs,ht=function(lt){var be=M[lt],Ze=be.refId,Un=Ke.get(Ze),Dt=Un.$callbacks;if((be.op&r.OPERATION.DELETE)===r.OPERATION.DELETE&&be.previousValue instanceof D&&((K=(z=be.previousValue.$callbacks)===null||z===void 0?void 0:z[r.OPERATION.DELETE])===null||K===void 0||K.forEach(function(dt){return dt()})),!Dt)return"continue";if(Un instanceof D){if(!yt.has(Ze))try{(de=Dt==null?void 0:Dt[r.OPERATION.REPLACE])===null||de===void 0||de.forEach(function(dt){return dt()})}catch(dt){D.onError(dt)}try{Dt.hasOwnProperty(be.field)&&((Se=Dt[be.field])===null||Se===void 0||Se.forEach(function(dt){return dt(be.value,be.previousValue)}))}catch(dt){D.onError(dt)}}else be.op===r.OPERATION.ADD&&be.previousValue===void 0?(Xe=Dt[r.OPERATION.ADD])===null||Xe===void 0||Xe.forEach(function(dt){var ft;return dt(be.value,(ft=be.dynamicIndex)!==null&&ft!==void 0?ft:be.field)}):be.op===r.OPERATION.DELETE?be.previousValue!==void 0&&((Fe=Dt[r.OPERATION.DELETE])===null||Fe===void 0||Fe.forEach(function(dt){var ft;return dt(be.previousValue,(ft=be.dynamicIndex)!==null&&ft!==void 0?ft:be.field)})):be.op===r.OPERATION.DELETE_AND_ADD&&(be.previousValue!==void 0&&((wt=Dt[r.OPERATION.DELETE])===null||wt===void 0||wt.forEach(function(dt){var ft;return dt(be.previousValue,(ft=be.dynamicIndex)!==null&&ft!==void 0?ft:be.field)})),(vt=Dt[r.OPERATION.ADD])===null||vt===void 0||vt.forEach(function(dt){var ft;return dt(be.value,(ft=be.dynamicIndex)!==null&&ft!==void 0?ft:be.field)})),be.value!==be.previousValue&&((Qe=Dt[r.OPERATION.REPLACE])===null||Qe===void 0||Qe.forEach(function(dt){var ft;return dt(be.value,(ft=be.dynamicIndex)!==null&&ft!==void 0?ft:be.field)}));yt.add(Ze)},it=0;it<M.length;it++)ht(it)},D._definition=j.create(),D}();function Ga(D){for(var M=[D.$changes],z=1,K={},de=K,Se=function(Fe){var wt=M[Fe];wt.changes.forEach(function(vt){var Qe=wt.ref,yt=vt.index,Ke=Qe._definition?Qe._definition.fieldsByIndex[yt]:Qe.$indexes.get(yt);de[Ke]=wt.getValue(yt)})},Xe=0;Xe<z;Xe++)Se(Xe);return K}var Ur={context:new B},to=function(D){u(M,D);function M(){return D!==null&&D.apply(this,arguments)||this}return d([H("string",Ur)],M.prototype,"name",void 0),d([H("string",Ur)],M.prototype,"type",void 0),d([H("number",Ur)],M.prototype,"referencedType",void 0),M}(Yn),ns=function(D){u(M,D);function M(){var z=D!==null&&D.apply(this,arguments)||this;return z.fields=new R,z}return d([H("number",Ur)],M.prototype,"id",void 0),d([H([to],Ur)],M.prototype,"fields",void 0),M}(Yn),Bl=function(D){u(M,D);function M(){var z=D!==null&&D.apply(this,arguments)||this;return z.types=new R,z}return M.encode=function(z){var K,de=z.constructor,Se=new M;Se.rootType=de._typeid;var Xe=function(Qe,yt){for(var Ke in yt){var ht=new to;ht.name=Ke;var it=void 0;if(typeof yt[Ke]=="string")it=yt[Ke];else{var lt=yt[Ke],be=void 0;Yn.is(lt)?(it="ref",be=yt[Ke]):(it=Object.keys(lt)[0],typeof lt[it]=="string"?it+=":"+lt[it]:be=lt[it]),ht.referencedType=be?be._typeid:-1}ht.type=it,Qe.fields.push(ht)}Se.types.push(Qe)},Fe=(K=de._context)===null||K===void 0?void 0:K.types;for(var wt in Fe){var vt=new ns;vt.id=Number(wt),Xe(vt,Fe[wt]._definition.schema)}return Se.encodeAll()},M.decode=function(z,K){var de=new B,Se=new M;Se.decode(z,K);var Xe=Se.types.reduce(function(yt,Ke){var ht=function(lt){u(be,lt);function be(){return lt!==null&&lt.apply(this,arguments)||this}return be}(Yn),it=Ke.id;return yt[it]=ht,de.add(ht,it),yt},{});Se.types.forEach(function(yt){var Ke=Xe[yt.id];yt.fields.forEach(function(ht){var it;if(ht.referencedType!==void 0){var lt=ht.type,be=Xe[ht.referencedType];if(!be){var Ze=ht.type.split(":");lt=Ze[0],be=Ze[1]}lt==="ref"?H(be,{context:de})(Ke.prototype,ht.name):H((it={},it[lt]=be,it),{context:de})(Ke.prototype,ht.name)}else H(ht.type,{context:de})(Ke.prototype,ht.name)})});var Fe=Xe[Se.rootType],wt=new Fe;for(var vt in Fe._definition.schema){var Qe=Fe._definition.schema[vt];typeof Qe!="string"&&(wt[vt]=typeof Qe=="function"?new Qe:new(N(Object.keys(Qe)[0])).constructor)}return wt},d([H([ns],Ur)],M.prototype,"types",void 0),d([H("number",Ur)],M.prototype,"rootType",void 0),M}(Yn);C("map",{constructor:A}),C("array",{constructor:R}),C("set",{constructor:eo}),C("collection",{constructor:Js}),r.ArraySchema=R,r.CollectionSchema=Js,r.Context=B,r.MapSchema=A,r.Reflection=Bl,r.ReflectionField=to,r.ReflectionType=ns,r.Schema=Yn,r.SchemaDefinition=j,r.SetSchema=eo,r.decode=Bo,r.defineTypes=O,r.deprecated=te,r.dumpChanges=Ga,r.encode=Zt,r.filter=U,r.filterChildren=G,r.hasFilter=$,r.registerType=C,r.type=H})}(Yd,Yd.exports)),Yd.exports}var w2;function Cx(){if(w2)return ys;w2=1;var e=ys&&ys.__createBinding||(Object.create?function(w,S,_,R){R===void 0&&(R=_);var E=Object.getOwnPropertyDescriptor(S,_);(!E||("get"in E?!S.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(w,R,E)}:function(w,S,_,R){R===void 0&&(R=_),w[R]=S[_]}),t=ys&&ys.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=ys&&ys.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var _ in w)_!=="default"&&Object.prototype.hasOwnProperty.call(w,_)&&e(S,w,_);return t(S,w),S};Object.defineProperty(ys,"__esModule",{value:!0}),ys.Room=void 0;const o=r(__()),u=E_(),d=yx(),c=xx(),h=wx(),p=k_(),f=Sx(),x=Km();let m=class _x{constructor(S,_){this.onStateChange=(0,p.createSignal)(),this.onError=(0,p.createSignal)(),this.onLeave=(0,p.createSignal)(),this.onJoin=(0,p.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,h.createNanoEvents)(),this.roomId=null,this.name=S,_&&(this.serializer=new((0,c.getSerializer)("schema")),this.rootSchema=_,this.serializer.state=new _),this.onError((R,E)=>{var A;return(A=console.warn)===null||A===void 0?void 0:A.call(console,`colyseus.js - onError => (${R}) ${E}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(S,_,R=this){const E=new u.Connection;R.connection=E,E.events.onmessage=_x.prototype.onMessageCallback.bind(R),E.events.onclose=function(A){var k;if(!R.hasJoined){(k=console.warn)===null||k===void 0||k.call(console,`Room connection was closed unexpectedly (${A.code}): ${A.reason}`),R.onError.invoke(A.code,A.reason);return}A.code===x.CloseCode.DEVMODE_RESTART&&_?_():(R.onLeave.invoke(A.code,A.reason),R.destroy())},E.events.onerror=function(A){var k;(k=console.warn)===null||k===void 0||k.call(console,`Room, onError (${A.code}): ${A.reason}`),R.onError.invoke(A.code,A.reason)},E.connect(S)}leave(S=!0){return new Promise(_=>{this.onLeave(R=>_(R)),this.connection?S?this.connection.send([d.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(x.CloseCode.CONSENTED)})}onMessage(S,_){return this.onMessageHandlers.on(this.getMessageHandlerKey(S),_)}send(S,_){const R=[d.Protocol.ROOM_DATA];typeof S=="string"?f.encode.string(R,S):f.encode.number(R,S);let E;if(_!==void 0){const A=o.encode(_);E=new Uint8Array(R.length+A.byteLength),E.set(new Uint8Array(R),0),E.set(new Uint8Array(A),R.length)}else E=new Uint8Array(R);this.connection.send(E.buffer)}sendBytes(S,_){const R=[d.Protocol.ROOM_DATA_BYTES];typeof S=="string"?f.encode.string(R,S):f.encode.number(R,S);let E;E=new Uint8Array(R.length+(_.byteLength||_.length)),E.set(new Uint8Array(R),0),E.set(new Uint8Array(_),R.length),this.connection.send(E.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(S){const _=Array.from(new Uint8Array(S.data)),R=_[0];if(R===d.Protocol.JOIN_ROOM){let E=1;const A=(0,d.utf8Read)(_,E);if(E+=(0,d.utf8Length)(A),this.serializerId=(0,d.utf8Read)(_,E),E+=(0,d.utf8Length)(this.serializerId),!this.serializer){const k=(0,c.getSerializer)(this.serializerId);this.serializer=new k}_.length>E&&this.serializer.handshake&&this.serializer.handshake(_,{offset:E}),this.reconnectionToken=`${this.roomId}:${A}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([d.Protocol.JOIN_ROOM])}else if(R===d.Protocol.ERROR){const E={offset:1},A=f.decode.number(_,E),k=f.decode.string(_,E);this.onError.invoke(A,k)}else if(R===d.Protocol.LEAVE_ROOM)this.leave();else if(R===d.Protocol.ROOM_DATA_SCHEMA){const E={offset:1},k=this.serializer.getState().constructor._context.get(f.decode.number(_,E)),C=new k;C.decode(_,E),this.dispatchMessage(k,C)}else if(R===d.Protocol.ROOM_STATE)_.shift(),this.setState(_);else if(R===d.Protocol.ROOM_STATE_PATCH)_.shift(),this.patch(_);else if(R===d.Protocol.ROOM_DATA){const E={offset:1},A=f.decode.stringCheck(_,E)?f.decode.string(_,E):f.decode.number(_,E),k=_.length>E.offset?o.decode(S.data,E.offset):void 0;this.dispatchMessage(A,k)}else if(R===d.Protocol.ROOM_DATA_BYTES){const E={offset:1},A=f.decode.stringCheck(_,E)?f.decode.string(_,E):f.decode.number(_,E);this.dispatchMessage(A,new Uint8Array(_.slice(E.offset)))}}setState(S){this.serializer.setState(S),this.onStateChange.invoke(this.serializer.getState())}patch(S){this.serializer.patch(S),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(S,_){var R;const E=this.getMessageHandlerKey(S);this.onMessageHandlers.events[E]?this.onMessageHandlers.emit(E,_):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",S,_):(R=console.warn)===null||R===void 0||R.call(console,`colyseus.js: onMessage() not registered for type '${S}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(S){switch(typeof S){case"function":return`$${S._typeid}`;case"string":return S;case"number":return`i${S}`;default:throw new Error("invalid message type.")}}};return ys.Room=m,ys}var xs={};function S2(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function Ps(e,t,r){return new Promise(function(o,u){r=r||{};var d=new XMLHttpRequest,c,h,p,f=r.body,x=r.headers||{};r.timeout&&(d.timeout=r.timeout),d.ontimeout=d.onerror=function(m){m.timeout=m.type=="timeout",u(m)},d.open(e,t.href||t),d.onload=function(){for(p=d.getAllResponseHeaders().trim().split(/[\r\n]+/),S2(d,d);h=p.shift();)h=h.split(": "),d.headers[h.shift().toLowerCase()]=h.join(": ");if(h=d.headers["content-type"],h&&~h.indexOf("application/json"))try{d.data=JSON.parse(d.data,r.reviver)}catch(m){return S2(d,m),u(m)}(d.status>=400?u:o)(d)},typeof FormData<"u"&&f instanceof FormData||f&&typeof f=="object"&&(x["content-type"]="application/json",f=JSON.stringify(f)),d.withCredentials=!!r.withCredentials;for(c in x)d.setRequestHeader(c,x[c]);d.send(f)})}var T_=Ps.bind(Ps,"GET"),M_=Ps.bind(Ps,"POST"),b_=Ps.bind(Ps,"PATCH"),N_=Ps.bind(Ps,"DELETE"),A_=Ps.bind(Ps,"PUT");const j_=Object.freeze(Object.defineProperty({__proto__:null,del:N_,get:T_,patch:b_,post:M_,put:A_,send:Ps},Symbol.toStringTag,{value:"Module"})),I_=B8(j_);var _2;function L_(){if(_2)return xs;_2=1;var e=xs&&xs.__createBinding||(Object.create?function(c,h,p,f){f===void 0&&(f=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(c,f,x)}:function(c,h,p,f){f===void 0&&(f=p),c[f]=h[p]}),t=xs&&xs.__setModuleDefault||(Object.create?function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}:function(c,h){c.default=h}),r=xs&&xs.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&e(h,c,p);return t(h,c),h};Object.defineProperty(xs,"__esModule",{value:!0}),xs.HTTP=void 0;const o=Km(),u=r(I_);let d=class{constructor(h){this.client=h}get(h,p={}){return this.request("get",h,p)}post(h,p={}){return this.request("post",h,p)}del(h,p={}){return this.request("del",h,p)}put(h,p={}){return this.request("put",h,p)}request(h,p,f={}){return u[h](this.client.getHttpEndpoint(p),this.getOptions(f)).catch(x=>{var m;const w=x.statusCode,S=((m=x.data)===null||m===void 0?void 0:m.error)||x.statusMessage||x.message;throw!w&&!S?x:new o.ServerError(w,S)})}getOptions(h){return this.authToken&&(h.headers||(h.headers={}),h.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(h.withCredentials=!0),h}};return xs.HTTP=d,xs}var ws={},Io={},C2;function O_(){if(C2)return Io;C2=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.getItem=Io.removeItem=Io.setItem=void 0;let e;function t(){if(!e)try{e=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return e||(e={cache:{},setItem:function(d,c){this.cache[d]=c},getItem:function(d){this.cache[d]},removeItem:function(d){delete this.cache[d]}}),e}function r(d,c){t().setItem(d,c)}Io.setItem=r;function o(d){t().removeItem(d)}Io.removeItem=o;function u(d,c){const h=t().getItem(d);typeof Promise>"u"||!(h instanceof Promise)?c(h):h.then(p=>c(p))}return Io.getItem=u,Io}var P2;function Px(){if(P2)return ws;P2=1;var e=ws&&ws.__awaiter||function(x,m,w,S){function _(R){return R instanceof w?R:new w(function(E){E(R)})}return new(w||(w=Promise))(function(R,E){function A(N){try{C(S.next(N))}catch(j){E(j)}}function k(N){try{C(S.throw(N))}catch(j){E(j)}}function C(N){N.done?R(N.value):_(N.value).then(A,k)}C((S=S.apply(x,m||[])).next())})},t=ws&&ws.__classPrivateFieldGet||function(x,m,w,S){if(w==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof m=="function"?x!==m||!S:!m.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?S:w==="a"?S.call(x):S?S.value:m.get(x)},r=ws&&ws.__classPrivateFieldSet||function(x,m,w,S,_){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof m=="function"?x!==m||!_:!m.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?_.call(x,w):_?_.value=w:m.set(x,w),w},o,u,d,c;Object.defineProperty(ws,"__esModule",{value:!0}),ws.Auth=void 0;const h=O_(),p=wx();let f=class{constructor(m){this.http=m,this.settings={path:"/auth",key:"colyseus-auth-token"},o.set(this,!1),u.set(this,void 0),d.set(this,void 0),c.set(this,(0,p.createNanoEvents)()),(0,h.getItem)(this.settings.key,w=>this.token=w)}set token(m){this.http.authToken=m}get token(){return this.http.authToken}onChange(m){const w=t(this,c,"f").on("change",m);return t(this,o,"f")||r(this,u,new Promise((S,_)=>{this.getUserData().then(R=>{this.emitChange(Object.assign(Object.assign({},R),{token:this.token}))}).catch(R=>{this.emitChange({user:null,token:void 0})}).finally(()=>{S()})}),"f"),r(this,o,!0,"f"),w}getUserData(){return e(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(m,w,S){return e(this,void 0,void 0,function*(){const _=(yield this.http.post(`${this.settings.path}/register`,{body:{email:m,password:w,options:S}})).data;return this.emitChange(_),_})}signInWithEmailAndPassword(m,w){return e(this,void 0,void 0,function*(){const S=(yield this.http.post(`${this.settings.path}/login`,{body:{email:m,password:w}})).data;return this.emitChange(S),S})}signInAnonymously(m){return e(this,void 0,void 0,function*(){const w=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:m}})).data;return this.emitChange(w),w})}sendPasswordResetEmail(m){return e(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:m}})).data})}signInWithProvider(m,w={}){return e(this,void 0,void 0,function*(){return new Promise((S,_)=>{const R=w.width||480,E=w.height||768,A=this.token?`?token=${this.token}`:"",k=`Login with ${m[0].toUpperCase()+m.substring(1)}`,C=this.http.client.getHttpEndpoint(`${w.prefix||`${this.settings.path}/provider`}/${m}${A}`),N=screen.width/2-R/2,j=screen.height/2-E/2;r(this,d,window.open(C,k,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+R+", height="+E+", top="+j+", left="+N),"f");const $=L=>{L.data.user===void 0&&L.data.token===void 0||(clearInterval(B),t(this,d,"f").close(),r(this,d,void 0,"f"),window.removeEventListener("message",$),L.data.error!==void 0?_(L.data.error):(S(L.data),this.emitChange(L.data)))},B=setInterval(()=>{(!t(this,d,"f")||t(this,d,"f").closed)&&(r(this,d,void 0,"f"),_("cancelled"),window.removeEventListener("message",$))},200);window.addEventListener("message",$)})})}signOut(){return e(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(m){m.token!==void 0&&(this.token=m.token,m.token===null?(0,h.removeItem)(this.settings.key):(0,h.setItem)(this.settings.key,m.token)),t(this,c,"f").emit("change",m)}};return ws.Auth=f,o=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,ws}var Ud={},E2;function D_(){if(E2)return Ud;E2=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.discordURLBuilder=void 0;function e(t){var r;const o=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.hostname)||"localhost",u=t.hostname.split("."),d=!t.hostname.includes("trycloudflare.com")&&!t.hostname.includes("discordsays.com")&&u.length>2?`/${u[0]}`:"";return t.pathname.startsWith("/.proxy")?`${t.protocol}//${o}${d}${t.pathname}${t.search}`:`${t.protocol}//${o}/.proxy/colyseus${d}${t.pathname}${t.search}`}return Ud.discordURLBuilder=e,Ud}var k2;function F_(){if(k2)return jo;k2=1;var e=jo&&jo.__awaiter||function(x,m,w,S){function _(R){return R instanceof w?R:new w(function(E){E(R)})}return new(w||(w=Promise))(function(R,E){function A(N){try{C(S.next(N))}catch(j){E(j)}}function k(N){try{C(S.throw(N))}catch(j){E(j)}}function C(N){N.done?R(N.value):_(N.value).then(A,k)}C((S=S.apply(x,m||[])).next())})},t;Object.defineProperty(jo,"__esModule",{value:!0}),jo.Client=jo.MatchMakeError=void 0;const r=Km(),o=Cx(),u=L_(),d=Px(),c=D_();class h extends Error{constructor(m,w){super(m),this.code=w,Object.setPrototypeOf(this,h.prototype)}}jo.MatchMakeError=h;const p=typeof window<"u"&&typeof((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";let f=class{constructor(m=p,w){var S,_;if(typeof m=="string"){const R=m.startsWith("/")?new URL(m,p):new URL(m),E=R.protocol==="https:"||R.protocol==="wss:",A=Number(R.port||(E?443:80));this.settings={hostname:R.hostname,pathname:R.pathname,port:A,secure:E}}else m.port===void 0&&(m.port=m.secure?443:80),m.pathname===void 0&&(m.pathname=""),this.settings=m;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new u.HTTP(this),this.auth=new d.Auth(this.http),this.urlBuilder=w,!this.urlBuilder&&typeof window<"u"&&(!((_=(S=window==null?void 0:window.location)===null||S===void 0?void 0:S.hostname)===null||_===void 0)&&_.includes("discordsays.com"))&&(this.urlBuilder=c.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(m,w={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",m,w,S)})}create(m,w={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",m,w,S)})}join(m,w={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",m,w,S)})}joinById(m,w={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",m,w,S)})}reconnect(m,w){return e(this,void 0,void 0,function*(){if(typeof m=="string"&&typeof w=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[S,_]=m.split(":");if(!S||!_)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",S,{reconnectionToken:_},w)})}getAvailableRooms(m=""){return e(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${m}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(m,w,S){return e(this,void 0,void 0,function*(){const _=this.createRoom(m.room.name,w);_.roomId=m.room.roomId,_.sessionId=m.sessionId;const R={sessionId:_.sessionId};m.reconnectionToken&&(R.reconnectionToken=m.reconnectionToken);const E=S||_;return _.connect(this.buildEndpoint(m.room,R),m.devMode&&(()=>e(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${_.roomId}'...`);let A=0,k=8;const C=()=>e(this,void 0,void 0,function*(){A++;try{yield this.consumeSeatReservation(m,w,E),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${_.roomId}'`)}catch{A<k?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${A} out of ${k})`),setTimeout(C,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(C,2e3)})),E),new Promise((A,k)=>{const C=(N,j)=>k(new r.ServerError(N,j));E.onError.once(C),E.onJoin.once(()=>{E.onError.remove(C),A(E)})})})}createMatchMakeRequest(m,w,S={},_,R){return e(this,void 0,void 0,function*(){const E=(yield this.http.post(`matchmake/${m}/${w}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(S)})).data;if(E.error)throw new h(E.error,E.code);return m==="reconnect"&&(E.reconnectionToken=S.reconnectionToken),yield this.consumeSeatReservation(E,_,R)})}createRoom(m,w){return new o.Room(m,w)}buildEndpoint(m,w={}){const S=[];for(const E in w)w.hasOwnProperty(E)&&S.push(`${E}=${w[E]}`);let _=this.settings.secure?"wss://":"ws://";m.publicAddress?_+=`${m.publicAddress}`:_+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const R=`${_}/${m.processId}/${m.roomId}?${S.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(R)):R}getHttpEndpoint(m=""){const w=m.startsWith("/")?m:`/${m}`,S=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${w}`;return this.urlBuilder?this.urlBuilder(new URL(S)):S}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};return jo.Client=f,jo}var Vd={},R2;function z_(){if(R2)return Vd;R2=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.SchemaSerializer=void 0;const e=Sx();let t=class{setState(o){return this.state.decode(o)}getState(){return this.state}patch(o){return this.state.decode(o)}teardown(){var o,u;(u=(o=this.state)===null||o===void 0?void 0:o.$changes)===null||u===void 0||u.root.clearRefs()}handshake(o,u){this.state?new e.Reflection().decode(o,u):this.state=e.Reflection.decode(o,u)}};return Vd.SchemaSerializer=t,Vd}var Bd={},T2;function U_(){if(T2)return Bd;T2=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.NoneSerializer=void 0;let e=class{setState(r){}getState(){return null}patch(r){}teardown(){}handshake(r){}};return Bd.NoneSerializer=e,Bd}var M2;function V_(){return M2||(M2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=e.registerSerializer=e.Auth=e.Room=e.ErrorCode=e.Protocol=e.Client=void 0,S_();var t=F_();Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return t.Client}});var r=yx();Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return r.Protocol}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return r.ErrorCode}});var o=Cx();Object.defineProperty(e,"Room",{enumerable:!0,get:function(){return o.Room}});var u=Px();Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return u.Auth}});const d=z_();Object.defineProperty(e,"SchemaSerializer",{enumerable:!0,get:function(){return d.SchemaSerializer}});const c=U_(),h=xx();Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return h.registerSerializer}}),(0,h.registerSerializer)("schema",d.SchemaSerializer),(0,h.registerSerializer)("none",c.NoneSerializer)}(Ap)),Ap}var Ex=V_();const B_={BASE_URL:"/tanki.io/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://tanki-io.onrender.com/api",VITE_CLIENT_URL:"https://zestones.github.io/tanki.io/",VITE_WS_URL:"https://tanki-io.onrender.com/"},x0={wsUrl:"https://tanki-io.onrender.com/",clientUrl:"https://zestones.github.io/tanki.io/",apiUrl:"https://tanki-io.onrender.com/api"},$_="production";console.log("Current mode:",$_);console.log("VITE_WS_URL:","https://tanki-io.onrender.com/");console.log("VITE_CLIENT_URL:","https://zestones.github.io/tanki.io/");console.log("All env vars:",B_);function G_(){const e=Om(),[t,r]=ee.useState(null),[o,u]=ee.useState(3),[d,c]=ee.useState(""),[h,p]=ee.useState(),[f,x]=ee.useState(!0),[m,w]=ee.useState(null),[S,_]=ee.useState(0),[R,E]=ee.useState(0),[A,k]=ee.useState({cooldown:0,duration:0,isActive:!1,lastActivationTime:0,remainingCooldown:0,cooldownUntil:0,activeUntil:0}),C=ee.useRef(!1),N=ee.useRef({movement:{direction:0,moving:!1},aiming:{direction:0,active:!1}});ee.useEffect(()=>{if(C.current)return;const U=sessionStorage.getItem("username"),G=JSON.parse(sessionStorage.getItem("tank"));if(!U||!G){e("/tanki.io");return}c(U),p(G);const te=new Ex.Client(x0.wsUrl);return x(!0),C.current=!0,te.joinOrCreate("game",{username:U,tankType:G.codeName}).then(O=>{r(O),x(!1),O.onStateChange(V=>{const q=V.players.get(O.sessionId);if(q){u(q.hp),E(q.score),_(q.upgradePoints);const J=q.tank.specialist,Z=J.isActive?J.lastActivationTime+J.duration:0,re=!J.isActive&&J.lastActivationTime>0?J.lastActivationTime+J.cooldown:0;k({cooldown:J.cooldown||0,duration:J.duration||0,isActive:!!J.isActive,lastActivationTime:J.lastActivationTime||0,remainingCooldown:J.remainingCooldown||0,activeUntil:Z,cooldownUntil:re})}})}).catch(O=>{C.current=!1,console.error("Could not join room:",O),x(!1),e("/tanki.io")}),()=>{t&&t.leave()}},[e]),ee.useEffect(()=>{if(t)return t.onMessage("respawnCountdown",U=>{w(U.countdown)}),t.onMessage("playerRespawned",()=>{w(null)}),()=>{t.removeAllListeners("respawnCountdown"),t.removeAllListeners("playerRespawned")}},[t]),ee.useEffect(()=>{if(!t)return;const U=setInterval(()=>{const G=N.current;t.send("dualStickInput",{movement:{direction:G.movement.direction,moving:G.movement.moving},aiming:{direction:G.aiming.direction,shooting:G.aiming.active}})},1e3/30);return()=>clearInterval(U)},[t]);const j=(U,G,te)=>{te==="movement"?N.current.movement={direction:U,moving:G}:te==="aiming"&&(N.current.aiming={direction:U,active:G})};return{room:t,health:o,username:d,tank:h,isConnecting:f,respawnCountdown:m,score:R,upgradePoints:S,specialistState:A,handleMove:j,handleStopMoving:(U,G)=>{G==="movement"?N.current.movement={direction:U,moving:!1}:G==="aiming"&&(N.current.aiming={direction:U,active:!1})},handleAim:(U,G)=>{j(U,G,"aiming")},handleUpgradeTank:U=>{var te;if(!t||S<=0)return!1;t.send("upgradeTank",{stat:U});const G={...(h==null?void 0:h.stats)||{},[U]:Math.min((((te=h==null?void 0:h.stats)==null?void 0:te[U])||0)+1,10)};return p({...h,stats:G}),!0},activateSpecialist:()=>{if(!t)return!1;const U=Date.now();return A.isActive?(console.log("Specialist is already active"),!1):U<A.cooldownUntil?(console.log("Specialist is still in cooldown"),!1):(t.send("activateSpecialist"),!0)}}}function Xu({hp:e,x:t,y:r,size:o,color:u}){return v.jsxs(v.Fragment,{children:[v.jsx(oi,{x:t-25,y:r-o-15,width:50,height:8,fill:"rgba(0,0,0,0.6)",cornerRadius:4,shadowColor:"black",shadowBlur:2,shadowOffset:{x:0,y:1},shadowOpacity:.5}),v.jsx(oi,{x:t-23,y:r-o-14,width:e/100*46,height:6,fill:u,cornerRadius:3})]})}Xu.propTypes={hp:X.number.isRequired,x:X.number.isRequired,y:X.number.isRequired,size:X.number.isRequired,color:X.string.isRequired};const wr=38;function kx({x:e,y:t,rotation:r,hp:o,username:u,isDead:d,color:c="#3498db"}){if(d)return null;const h=wr*.8,p=6,f=5;let x="#4CAF50";o<=66&&o>33&&(x="#FFC107"),o<=33&&(x="#F44336");const m=r*Math.PI/180,w=Math.cos(m),S=-Math.sin(m),_=-Math.sin(m),R=-Math.cos(m),E=e+f*_,A=t+f*R,k=e-f*_,C=t-f*R,N=E+w*h,j=A+S*h,$=k+w*h,B=C+S*h;return v.jsxs(Ut,{children:[v.jsx(Cr,{x:e+5,y:t+5,sides:6,radius:wr/2,rotation:0,fill:"rgba(0,0,0,0.5)",opacity:.6}),v.jsx(oi,{x:e-wr/2-5,y:t-wr/3,width:wr+10,height:wr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(oi,{x:e-wr/2-5,y:t+wr/12,width:wr+10,height:wr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(Cr,{x:e,y:t,sides:6,radius:wr/2,rotation:0,fillRadialGradientStartPoint:{x:-38/4,y:-38/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:wr,fillRadialGradientColorStops:[0,Li(x,30),1,Li(x,-30)],stroke:"#333",strokeWidth:3}),v.jsx(Cr,{x:e,y:t,sides:6,radius:wr/2-5,fill:Li(x,-40),stroke:"#222",strokeWidth:1}),v.jsx(Ge,{x:e,y:t,radius:wr/3,fill:"#444",stroke:"#333",strokeWidth:2}),v.jsx(Ge,{x:e,y:t,radius:wr/5,fill:"#555",stroke:"#333",strokeWidth:1}),v.jsx(qe,{points:[E+3,A+3,N+3,j+3],stroke:"rgba(0,0,0,0.6)",strokeWidth:p+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[k+3,C+3,$+3,B+3],stroke:"rgba(0,0,0,0.6)",strokeWidth:p+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[E,A,N,j],stroke:"#333",strokeWidth:p,lineCap:"round"}),v.jsx(qe,{points:[k,C,$,B],stroke:"#333",strokeWidth:p,lineCap:"round"}),v.jsx(zl,{x:e-50,y:t+wr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),v.jsx(Xu,{hp:o,x:e,y:t,size:wr,color:x})]})}kx.propTypes={x:X.number.isRequired,y:X.number.isRequired,rotation:X.number.isRequired,hp:X.number.isRequired,username:X.string.isRequired,isDead:X.bool.isRequired,color:X.string};const Sr=38;function Rx({x:e,y:t,rotation:r,hp:o,username:u,isDead:d,color:c="#f1c40f"}){if(d)return null;const h=Sr*1.2,p=8;let f="#4CAF50";return o<=66&&o>33&&(f="#FFC107"),o<=33&&(f="#F44336"),v.jsxs(Ut,{children:[v.jsx(Ge,{x:e+5,y:t+5,radius:Sr/2+3,fill:"rgba(0,0,0,0.5)",opacity:.6}),v.jsx(oi,{x:e-Sr/2-5,y:t-Sr/3,width:Sr+10,height:Sr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(oi,{x:e-Sr/2-5,y:t+Sr/12,width:Sr+10,height:Sr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(Cr,{x:e,y:t,sides:8,radius:Sr/2,fillRadialGradientStartPoint:{x:-38/4,y:-38/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Sr,fillRadialGradientColorStops:[0,Li(f,30),1,Li(f,-30)],stroke:"#333",strokeWidth:3,rotation:45}),v.jsx(Cr,{x:e,y:t,sides:8,radius:Sr/2-8,fill:Li(f,-40),stroke:"#222",strokeWidth:1,rotation:45}),v.jsx(qe,{points:[e+3,t+3,e+3+Math.cos(r*Math.PI/180)*h,t+3-Math.sin(r*Math.PI/180)*h],stroke:"rgba(0,0,0,0.6)",strokeWidth:p+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[e,t,e+Math.cos(r*Math.PI/180)*h,t-Math.sin(r*Math.PI/180)*h],stroke:"#333",strokeWidth:p,lineCap:"round"}),v.jsx(qe,{points:[e,t,e+Math.cos(r*Math.PI/180)*(h/3),t-Math.sin(r*Math.PI/180)*(h/3)],stroke:"#222",strokeWidth:p+4,lineCap:"round"}),v.jsx(Ge,{x:e,y:t,radius:Sr/3,fill:Li(f,-20),stroke:"#333",strokeWidth:2}),v.jsx(Ge,{x:e,y:t,radius:Sr/5,fill:"#444",stroke:"#222",strokeWidth:1}),v.jsx(zl,{x:e-50,y:t+Sr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),v.jsx(Xu,{hp:o,x:e,y:t,size:Sr,color:f})]})}Rx.propTypes={x:X.number.isRequired,y:X.number.isRequired,rotation:X.number.isRequired,hp:X.number.isRequired,username:X.string.isRequired,isDead:X.bool.isRequired,color:X.string};const bl=30;function Tx({x:e,y:t,rotation:r,hp:o,username:u,isDead:d,color:c="#2ecc71"}){if(d)return null;const h=bl;let p="#4CAF50";return o<=66&&o>33&&(p="#FFC107"),o<=33&&(p="#F44336"),v.jsxs(Ut,{children:[v.jsx(Ge,{x:e+4,y:t+4,radius:bl/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),v.jsx(Ge,{x:e,y:t,radius:bl/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:bl,fillRadialGradientColorStops:[0,Li(p,40),1,Li(p,-20)],stroke:"#000",strokeWidth:2}),v.jsx(qe,{points:[e+2,t+2,e+2+Math.cos(r*Math.PI/180)*h,t+2-Math.sin(r*Math.PI/180)*h],stroke:"rgba(0,0,0,0.5)",strokeWidth:6,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[e,t,e+Math.cos(r*Math.PI/180)*h,t-Math.sin(r*Math.PI/180)*h],stroke:"#333",strokeWidth:5,lineCap:"round"}),v.jsx(Ge,{x:e,y:t,radius:bl/4,fill:"#333",stroke:"#000",strokeWidth:1}),v.jsx(zl,{x:e-50,y:t+bl+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),v.jsx(Xu,{hp:o,x:e,y:t,size:bl,color:p})]})}Tx.propTypes={x:X.number.isRequired,y:X.number.isRequired,rotation:X.number.isRequired,hp:X.number.isRequired,username:X.string.isRequired,isDead:X.bool.isRequired,color:X.string};const Or=30;function Mx({x:e,y:t,rotation:r,hp:o,username:u,isDead:d,color:c="#e74c3c"}){if(d)return null;const h=Or*.8,p=Or*.6,f=4,x=4,m=r*Math.PI/180,w=Math.cos(m),S=-Math.sin(m),_=-Math.sin(m),R=-Math.cos(m),E=e,A=t,k=e+w*h,C=t+S*h,N=e+x*_,j=t+x*R,$=N+w*p,B=j+S*p,L=e-x*_,H=t-x*R,U=L+w*p,G=H+S*p;let te="#4CAF50";return o<=66&&o>33&&(te="#FFC107"),o<=33&&(te="#F44336"),v.jsxs(Ut,{children:[v.jsx(Ge,{x:e+4,y:t+4,radius:Or/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),v.jsx(oi,{x:e-Or/2-5,y:t-Or/3,width:Or+10,height:Or/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(oi,{x:e-Or/2-5,y:t+Or/12,width:Or+10,height:Or/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(Ge,{x:e,y:t,radius:Or/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Or,fillRadialGradientColorStops:[0,Li(te,40),1,Li(te,-20)],stroke:"#000",strokeWidth:2}),v.jsx(qe,{points:[E+2,A+2,k+2,C+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[N+2,j+2,$+2,B+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[L+2,H+2,U+2,G+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[E,A,k,C],stroke:"#333",strokeWidth:f,lineCap:"round"}),v.jsx(qe,{points:[N,j,$,B],stroke:"#333",strokeWidth:f,lineCap:"round"}),v.jsx(qe,{points:[L,H,U,G],stroke:"#333",strokeWidth:f,lineCap:"round"}),v.jsx(Ge,{x:e,y:t,radius:Or/4,fill:"#333",stroke:"#000",strokeWidth:1}),v.jsx(zl,{x:e-50,y:t+Or+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),v.jsx(Xu,{hp:o,x:e,y:t,size:Or,color:te})]})}Mx.propTypes={x:X.number.isRequired,y:X.number.isRequired,rotation:X.number.isRequired,hp:X.number.isRequired,username:X.string.isRequired,isDead:X.bool.isRequired,color:X.string};const ii=30;function bx({x:e,y:t,rotation:r,hp:o,username:u,isDead:d,color:c="#9b59b6"}){if(d)return null;const h=ii,p=5,f=[.25,.5,.75],x=6,m=10,w="#00BFFF";let S="#4CAF50";o<=66&&o>33&&(S="#FFC107"),o<=33&&(S="#F44336");const _=r*Math.PI/180,R=Math.cos(_),E=-Math.sin(_),A=-Math.sin(_),k=-Math.cos(_),C=e,N=t,j=e+R*h,$=t+E*h,B=[-1,-4,1,-2,-1,0,1,2,-1,4],L=B.map((G,te)=>te%2===0?e+m+G:t+G),U=B.map((G,te)=>te%2===0?-G:G).map((G,te)=>te%2===0?e-m+G:t+G);return v.jsxs(Ut,{children:[v.jsx(Ge,{x:e+4,y:t+4,radius:ii/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),v.jsx(oi,{x:e-ii/2-5,y:t-ii/3,width:ii+10,height:ii/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(oi,{x:e-ii/2-5,y:t+ii/12,width:ii+10,height:ii/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),v.jsx(Cr,{x:e,y:t,sides:6,radius:ii/2,rotation:0,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:ii,fillRadialGradientColorStops:[0,Li(S,40),1,Li(S,-20)],stroke:"#000",strokeWidth:2}),v.jsx(qe,{points:L,stroke:w,strokeWidth:2}),v.jsx(qe,{points:U,stroke:w,strokeWidth:2}),v.jsx(qe,{points:[C+2,N+2,j+2,$+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:p+2,lineCap:"round",opacity:.5}),v.jsx(qe,{points:[C,N,j,$],stroke:"#333",strokeWidth:p,lineCap:"round"}),f.map(G=>{const te=C+G*(j-C),O=N+G*($-N);return v.jsx(qe,{points:[te-x/2*A,O-x/2*k,te+x/2*A,O+x/2*k],stroke:w,strokeWidth:2,lineCap:"round"},G)}),v.jsx(Ge,{x:e,y:t,radius:ii/4,fill:"#333",stroke:"#000",strokeWidth:1}),v.jsx(zl,{x:e-50,y:t+ii+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:110,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),v.jsx(Xu,{hp:o,x:e,y:t,size:ii,color:S})]})}bx.propTypes={x:X.number.isRequired,y:X.number.isRequired,rotation:X.number.isRequired,hp:X.number.isRequired,username:X.string.isRequired,isDead:X.bool.isRequired,color:X.string};const Ym={"ST-N01":Tx,"GD-N02":kx,"SH-N03":Mx,"JG-N04":Rx,"TB-N05":bx};function W_(){const e=ee.useRef(null),[t,r]=ee.useState(!1),{isConnecting:o,username:u,tank:d,health:c,score:h,upgradePoints:p,respawnCountdown:f,specialistState:x,handleMove:m,handleStopMoving:w,handleAim:S,handleUpgradeTank:_,activateSpecialist:R}=G_(),E=(d==null?void 0:d.color)??"#ff8c00";return ee.useEffect(()=>{const A=e.current;if(A){const k=C=>{C.touches.length>1&&C.preventDefault()};return A.addEventListener("touchstart",k,{passive:!1}),()=>{A.removeEventListener("touchstart",k)}}},[]),o?v.jsx(Rh,{title:"Initiating Combat Systems",message:"Establishing neural link to tactical warfare network... Stand by, Commander."}):v.jsxs("div",{ref:e,className:"relative h-screen w-screen bg-[#1a1a20] overflow-hidden touch-none flex flex-col",children:[v.jsxs("div",{className:"absolute inset-0 bg-[#141418] z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-10"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#141418] via-transparent to-[#141418] opacity-70"}),v.jsx("div",{className:"absolute inset-0",style:{background:`radial-gradient(circle at center, ${je(E,.05)}, transparent 70%)`}})]}),v.jsx("div",{className:"absolute top-4 left-4 w-20 h-20",children:v.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:je(E,.2)}),v.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:je(E,.5)})]})}),v.jsx("div",{className:"absolute top-4 right-4 w-20 h-20",children:v.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleX(-1)"},children:[v.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:je(E,.2)}),v.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:je(E,.5)})]})}),v.jsx("div",{className:"absolute bottom-4 left-4 w-20 h-20",children:v.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleY(-1)"},children:[v.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:je(E,.2)}),v.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:je(E,.5)})]})}),v.jsx("div",{className:"absolute bottom-4 right-4 w-20 h-20",children:v.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(-1)"},children:[v.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:je(E,.2)}),v.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:je(E,.5)})]})}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 opacity-15 pointer-events-none",children:v.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[v.jsx("polygon",{points:"50,3 97,25 97,75 50,97 3,75 3,25",stroke:je(E,.3),strokeWidth:"1"}),v.jsx("polygon",{points:"50,15 85,30 85,70 50,85 15,70 15,30",stroke:je(E,.2),strokeWidth:"1"}),v.jsx("polygon",{points:"50,30 70,40 70,60 50,70 30,60 30,40",stroke:je(E,.4),strokeWidth:"1"})]})}),f>0&&v.jsx(X5,{countdown:f}),!t&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 z-10",children:v.jsx(Y5,{onToggleStats:()=>r(!0),username:u,tankType:d==null?void 0:d.codeName,health:c,score:h,tankColor:E})}),v.jsx("div",{className:"absolute bottom-10 left-10 z-10",children:v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute -inset-4 -z-10",children:v.jsx("svg",{viewBox:"0 0 180 180",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:v.jsx("polygon",{points:"30,15 150,15 170,90 150,165 30,165 10,90",fill:"rgba(0,0,0,0.7)",stroke:"rgba(0,128,255,0.5)",strokeWidth:"2"})})}),v.jsx("div",{className:"absolute -bottom-6 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-500/30 to-transparent"}),v.jsx(rm,{onMove:m,onStop:w,type:"movement"})]})}),v.jsx("div",{className:"absolute bottom-10 right-10 z-10",children:v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute -inset-4 -z-10",children:v.jsx("svg",{viewBox:"0 0 180 180",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:v.jsx("polygon",{points:"30,15 150,15 170,90 150,165 30,165 10,90",fill:"rgba(0,0,0,0.7)",stroke:"rgba(255,0,0,0.5)",strokeWidth:"2"})})}),v.jsx("div",{className:"absolute -bottom-6 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-red-600/30 to-transparent"}),v.jsx(rm,{onMove:S,onStop:w,type:"aiming"})]})}),v.jsxs("div",{className:"absolute bottom-36 right-60 z-30",children:[v.jsx("div",{className:"absolute -z-10 inset-0 rounded-full",style:{boxShadow:`0 0 20px ${je(E,.3)}`,background:`radial-gradient(circle, ${je(E,.1)} 0%, transparent 70%)`}}),v.jsx(H5,{specialistState:x,color:E,onActivate:R,size:80})]})]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{background:`linear-gradient(to right, ${je(E,.5)}, transparent, ${je(E,.5)})`}}),v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.03)_50%)] bg-[length:100%_2px] pointer-events-none z-10"}),t&&v.jsx(vx,{onClose:()=>r(!1),TankComponent:Ym[d==null?void 0:d.codeName],tankColor:E,stats:d==null?void 0:d.stats,username:u,upgradePoints:p,onUpgrade:_})]})}function Nx({arenaWidth:e,arenaHeight:t}){const o=[];for(let d=1;d<=5;d++){const c=d*e/6;o.push(v.jsx(qe,{points:[c,0,c,t],stroke:"rgba(78, 201, 255, 0.08)",strokeWidth:1.5,dash:[30,20,10,20]},`energy-v-${d}`));const h=d*t/6;o.push(v.jsx(qe,{points:[0,h,e,h],stroke:"rgba(78, 201, 255, 0.08)",strokeWidth:1.5,dash:[30,20,10,20]},`energy-h-${d}`))}const u=[];for(let d=1;d<=5;d++)for(let c=1;c<=5;c++){const h=d*e/6,p=c*t/6;(d+c)%2===0&&u.push(v.jsx(Ge,{x:h,y:p,radius:4,fill:"rgba(78, 201, 255, 0.3)",shadowColor:"rgba(78, 201, 255, 0.6)",shadowBlur:10,shadowOpacity:.5},`node-${d}-${c}`))}return v.jsxs(v.Fragment,{children:[o,u]})}Nx.propTypes={arenaWidth:X.number.isRequired,arenaHeight:X.number.isRequired};const Rn=5;function Ax({bullet:e}){return v.jsxs(Ut,{children:[v.jsx(Cr,{x:e.x,y:e.y,sides:6,radius:Rn*2,fill:"rgba(52, 152, 219, 0.15)",stroke:"rgba(52, 152, 219, 0.6)",strokeWidth:.8,rotation:e.direction}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*Rn*7,e.y+Math.sin(e.direction*Math.PI/180)*Rn*7,e.x-Math.cos(e.direction*Math.PI/180)*Rn*4.5,e.y+Math.sin(e.direction*Math.PI/180)*Rn*4.5,e.x-Math.cos(e.direction*Math.PI/180)*Rn*2,e.y+Math.sin(e.direction*Math.PI/180)*Rn*2,e.x,e.y],stroke:"rgba(52, 152, 219, 0.7)",strokeWidth:Rn*.8,lineCap:"round"}),v.jsx(Cr,{x:e.x,y:e.y,sides:6,radius:Rn*1.2,fill:"#3498db",rotation:e.direction+30}),v.jsx(Ge,{x:e.x,y:e.y,radius:Rn*.7,fill:"#85c1e9"}),v.jsx(Ge,{x:e.x,y:e.y,radius:Rn*1.5,stroke:"rgba(52, 152, 219, 0.8)",strokeWidth:1.5,fill:"rgba(52, 152, 219, 0.1)"}),v.jsx(qe,{points:[e.x-Rn*1.5,e.y-Rn*1.5,e.x+Rn*1.5,e.y+Rn*1.5],stroke:"rgba(142, 202, 230, 0.8)",strokeWidth:.8}),v.jsx(qe,{points:[e.x+Rn*1.5,e.y-Rn*1.5,e.x-Rn*1.5,e.y+Rn*1.5],stroke:"rgba(142, 202, 230, 0.8)",strokeWidth:.8}),v.jsx(Ge,{x:e.x-Rn/4,y:e.y-Rn/4,radius:Rn/4,fill:"rgba(255, 255, 255, 0.9)"})]})}Ax.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired};const Qt=5;function jx({bullet:e}){return v.jsxs(Ut,{children:[v.jsx(Ge,{x:e.x,y:e.y,radius:Qt*2.3,fill:"rgba(241, 196, 15, 0.08)",stroke:"rgba(241, 196, 15, 0.3)",strokeWidth:.8}),v.jsx(Cr,{x:e.x,y:e.y,sides:6,radius:Qt*2,stroke:"rgba(241, 196, 15, 0.5)",strokeWidth:1,fill:"rgba(241, 196, 15, 0.15)",rotation:e.direction*.2}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*Qt*10,e.y+Math.sin(e.direction*Math.PI/180)*Qt*10,e.x-Math.cos(e.direction*Math.PI/180)*Qt*6,e.y+Math.sin(e.direction*Math.PI/180)*Qt*6,e.x-Math.cos(e.direction*Math.PI/180)*Qt*3,e.y+Math.sin(e.direction*Math.PI/180)*Qt*3,e.x,e.y],stroke:"rgba(241, 196, 15, 0.7)",strokeWidth:Qt*1.3,lineCap:"round",tension:.2}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*Qt*8,e.y+Math.sin(e.direction*Math.PI/180)*Qt*8,e.x,e.y],stroke:"rgba(243, 213, 78, 0.6)",strokeWidth:Qt*.9,lineCap:"round"}),v.jsx(Ge,{x:e.x,y:e.y,radius:Qt*1.6,fill:"rgba(241, 196, 15, 0.6)",stroke:"rgba(243, 156, 18, 0.8)",strokeWidth:.6}),v.jsx(Cr,{x:e.x,y:e.y,sides:3,radius:Qt*1.1,fill:"#f1c40f",rotation:e.direction,stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:.8}),v.jsx(Ge,{x:e.x,y:e.y,radius:Qt*.7,fill:"#f39c12"}),v.jsx(Da,{x:e.x,y:e.y,innerRadius:Qt*2,outerRadius:Qt*2.1,fill:"rgba(241, 196, 15, 0)",stroke:"rgba(243, 156, 18, 0.7)",strokeWidth:.5}),v.jsx(Da,{x:e.x,y:e.y,innerRadius:Qt*2.3,outerRadius:Qt*2.4,fill:"rgba(241, 196, 15, 0)",stroke:"rgba(243, 156, 18, 0.4)",strokeWidth:.4}),v.jsx(qe,{points:[e.x+Math.cos(e.direction*Math.PI/180)*Qt*1.8,e.y-Math.sin(e.direction*Math.PI/180)*Qt*1.8,e.x+Math.cos(e.direction*Math.PI/180)*Qt*2.5,e.y-Math.sin(e.direction*Math.PI/180)*Qt*2.5],stroke:"rgba(243, 156, 18, 0.7)",strokeWidth:Qt*.4,lineCap:"round"}),v.jsx(Ge,{x:e.x-Qt/3,y:e.y-Qt/3,radius:Qt/2.5,fill:"rgba(255, 255, 255, 0.9)"})]})}jx.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired};const rn=5;function om({bullet:e}){return v.jsxs(Ut,{children:[v.jsx(Cr,{x:e.x,y:e.y,sides:8,radius:rn*3,fill:"rgba(46, 204, 113, 0.08)",stroke:"rgba(46, 204, 113, 0.25)",strokeWidth:.5,rotation:e.direction*.3}),v.jsx(Cr,{x:e.x,y:e.y,sides:8,radius:rn*1.8,fill:"rgba(46, 204, 113, 0.15)",stroke:"rgba(46, 204, 113, 0.5)",strokeWidth:.8,rotation:-e.direction*.2}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*rn*8,e.y+Math.sin(e.direction*Math.PI/180)*rn*8,e.x-Math.cos(e.direction*Math.PI/180)*rn*6,e.y+Math.sin(e.direction*Math.PI/180)*rn*6,e.x-Math.cos(e.direction*Math.PI/180)*rn*3,e.y+Math.sin(e.direction*Math.PI/180)*rn*3,e.x,e.y],stroke:"rgba(46, 204, 113, 0.6)",strokeWidth:rn*.9,lineCap:"round",tension:.3}),v.jsx(Ge,{x:e.x-Math.cos(e.direction*Math.PI/180)*rn*6,y:e.y+Math.sin(e.direction*Math.PI/180)*rn*6,radius:rn*.4,fill:"rgba(46, 204, 113, 0.8)"}),v.jsx(Ge,{x:e.x-Math.cos(e.direction*Math.PI/180)*rn*3,y:e.y+Math.sin(e.direction*Math.PI/180)*rn*3,radius:rn*.3,fill:"rgba(46, 204, 113, 0.8)"}),v.jsx(Cr,{x:e.x,y:e.y,sides:4,radius:rn*1.2,fill:"#2ecc71",stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:.5,rotation:e.direction*.5}),v.jsx(Cr,{x:e.x,y:e.y,sides:4,radius:rn*.9,fill:"#27ae60",rotation:-e.direction*.3}),v.jsx(Ge,{x:e.x,y:e.y,radius:rn*.6,fill:"#82e0aa"}),v.jsx(Ge,{x:e.x,y:e.y,radius:rn*2.2,stroke:"rgba(46, 204, 113, 0.5)",strokeWidth:.6,fill:"rgba(46, 204, 113, 0)"}),v.jsx(Ge,{x:e.x,y:e.y,radius:rn*1.5,stroke:"rgba(46, 204, 113, 0.7)",strokeWidth:.8,fill:"rgba(46, 204, 113, 0.1)"}),[0,90,180,270].map((t,r)=>v.jsx(qe,{points:[e.x,e.y,e.x+Math.cos((e.direction+t)*Math.PI/180)*rn*1.4,e.y-Math.sin((e.direction+t)*Math.PI/180)*rn*1.4],stroke:"rgba(46, 204, 113, 0.8)",strokeWidth:rn*.25,lineCap:"round"},"fin"+r)),v.jsx(Ge,{x:e.x-rn/4,y:e.y-rn/4,radius:rn/3,fill:"rgba(255, 255, 255, 0.9)"})]})}om.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired};const sn=5;function Ix({bullet:e}){return v.jsxs(Ut,{children:[v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*sn*8,e.y+Math.sin(e.direction*Math.PI/180)*sn*8,e.x-Math.cos(e.direction*Math.PI/180)*sn*5,e.y+Math.sin(e.direction*Math.PI/180)*sn*5,e.x-Math.cos(e.direction*Math.PI/180)*sn*2.5,e.y+Math.sin(e.direction*Math.PI/180)*sn*2.5,e.x,e.y],stroke:"rgba(231, 76, 60, 0.7)",strokeWidth:sn*.8,lineCap:"round",tension:.3}),v.jsx(Ge,{x:e.x,y:e.y,radius:sn*2.2,fill:"rgba(231, 76, 60, 0.1)",stroke:"rgba(231, 76, 60, 0.3)",strokeWidth:.5}),v.jsx(Cr,{x:e.x,y:e.y,sides:5,radius:sn,fill:"#e74c3c",rotation:e.direction*.8,stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:.5}),v.jsx(Ge,{x:e.x,y:e.y,radius:sn*.6,fill:"#f5b7b1"}),v.jsx(Qf,{x:e.x+Math.cos(e.direction*Math.PI/180+Math.PI/2)*sn*1,y:e.y-Math.sin(e.direction*Math.PI/180+Math.PI/2)*sn*1,numPoints:4,innerRadius:sn*.3,outerRadius:sn*.6,fill:"#e74c3c",rotation:e.direction}),v.jsx(Qf,{x:e.x+Math.cos(e.direction*Math.PI/180-Math.PI/2)*sn*1,y:e.y-Math.sin(e.direction*Math.PI/180-Math.PI/2)*sn*1,numPoints:4,innerRadius:sn*.3,outerRadius:sn*.6,fill:"#e74c3c",rotation:e.direction*1.5}),v.jsx(Cr,{x:e.x,y:e.y,sides:8,radius:sn*1.5,stroke:"rgba(231, 76, 60, 0.8)",strokeWidth:.7,fill:"rgba(231, 76, 60, 0)",rotation:e.direction*.3}),v.jsx(qe,{points:[e.x,e.y,e.x+Math.cos(e.direction*Math.PI/180+Math.PI/3)*sn*1.5,e.y-Math.sin(e.direction*Math.PI/180+Math.PI/3)*sn*1.5],stroke:"rgba(231, 76, 60, 0.8)",strokeWidth:.5}),v.jsx(qe,{points:[e.x,e.y,e.x+Math.cos(e.direction*Math.PI/180-Math.PI/3)*sn*1.5,e.y-Math.sin(e.direction*Math.PI/180-Math.PI/3)*sn*1.5],stroke:"rgba(231, 76, 60, 0.8)",strokeWidth:.5}),v.jsx(Ge,{x:e.x-sn/4,y:e.y-sn/4,radius:sn/5,fill:"rgba(255, 255, 255, 0.9)"})]})}Ix.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired};const Ct=5;function Lx({bullet:e}){return v.jsxs(Ut,{children:[v.jsx(Ge,{x:e.x,y:e.y,radius:Ct*2.5,fill:"rgba(155, 89, 182, 0.08)",stroke:"rgba(155, 89, 182, 0.2)",strokeWidth:.5}),v.jsx(Cr,{x:e.x,y:e.y,sides:8,radius:Ct*2,fill:"rgba(155, 89, 182, 0)",stroke:"rgba(155, 89, 182, 0.4)",strokeWidth:.6,rotation:e.direction*.5}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180)*Ct*7,e.y+Math.sin(e.direction*Math.PI/180)*Ct*7,e.x-Math.cos(e.direction*Math.PI/180)*Ct*5+Ct*1.2,e.y+Math.sin(e.direction*Math.PI/180)*Ct*5+Ct*1.2,e.x-Math.cos(e.direction*Math.PI/180)*Ct*3-Ct*1.2,e.y+Math.sin(e.direction*Math.PI/180)*Ct*3-Ct*1.2,e.x-Math.cos(e.direction*Math.PI/180)*Ct*1.5+Ct*.6,e.y+Math.sin(e.direction*Math.PI/180)*Ct*1.5+Ct*.6,e.x,e.y],stroke:"rgba(155, 89, 182, 0.8)",strokeWidth:Ct*.6,lineCap:"round",tension:0}),v.jsx(qe,{points:[e.x-Math.cos(e.direction*Math.PI/180+.2)*Ct*4,e.y+Math.sin(e.direction*Math.PI/180+.2)*Ct*4,e.x-Math.cos(e.direction*Math.PI/180)*Ct*2,e.y+Math.sin(e.direction*Math.PI/180)*Ct*2],stroke:"rgba(187, 143, 206, 0.7)",strokeWidth:Ct*.3,lineCap:"round"}),v.jsx(Qf,{x:e.x,y:e.y,numPoints:5,innerRadius:Ct*.6,outerRadius:Ct*1.1,fill:"#9b59b6",rotation:e.direction*2,stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:.5}),v.jsx(Ge,{x:e.x,y:e.y,radius:Ct*.6,fill:"#d2b4de"}),v.jsx(Ge,{x:e.x,y:e.y,radius:Ct*1.4,stroke:"rgba(155, 89, 182, 0.8)",strokeWidth:.7,fill:"rgba(155, 89, 182, 0.1)"}),v.jsx(Ge,{x:e.x,y:e.y,radius:Ct*1.8,stroke:"rgba(155, 89, 182, 0.4)",strokeWidth:.5,fill:"rgba(155, 89, 182, 0)"}),[0,60,120,180,240,300].map((t,r)=>v.jsx(qe,{points:[e.x,e.y,e.x+Math.cos((e.direction+t)*Math.PI/180)*Ct*(r%2===0?1.5:1.2),e.y-Math.sin((e.direction+t)*Math.PI/180)*Ct*(r%2===0?1.5:1.2)],stroke:"rgba(155, 89, 182, 0.9)",strokeWidth:Ct*.3,lineCap:"round"},"tendril"+r)),v.jsx(Ge,{x:e.x-Math.cos(e.direction*Math.PI/180)*Ct*3,y:e.y+Math.sin(e.direction*Math.PI/180)*Ct*3,radius:Ct*.3,fill:"rgba(155, 89, 182, 0.9)"}),v.jsx(Ge,{x:e.x-Math.cos(e.direction*Math.PI/180)*Ct*5,y:e.y+Math.sin(e.direction*Math.PI/180)*Ct*5,radius:Ct*.3,fill:"rgba(155, 89, 182, 0.9)"}),v.jsx(Ge,{x:e.x-Ct/4,y:e.y-Ct/4,radius:Ct/4,fill:"rgba(255, 255, 255, 0.9)"})]})}Lx.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired};function Ox({bullet:e,tankType:t,color:r}){switch(t){case"ST-N01":return v.jsx(om,{bullet:e,color:r});case"GD-N02":return v.jsx(Ax,{bullet:e,color:r});case"SH-N03":return v.jsx(Ix,{bullet:e,color:r});case"JG-N04":return v.jsx(jx,{bullet:e,color:r});case"TB-N05":return v.jsx(Lx,{bullet:e,color:r});default:return v.jsx(om,{bullet:e,color:r})}}Ox.propTypes={bullet:X.shape({x:X.number.isRequired,y:X.number.isRequired,direction:X.number.isRequired}).isRequired,color:X.string,tankType:X.string};function Dx({explosion:e}){return v.jsxs(Ut,{children:[v.jsx(Ge,{x:e.x,y:e.y,radius:e.radius*1.2,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:e.radius*1.2,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0)",.7,"rgba(255, 165, 0, 0.1)",1,"rgba(255, 0, 0, 0)"]}),v.jsx(Ge,{x:e.x,y:e.y,radius:e.radius,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:e.radius,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0.9)",.2,"rgba(255, 255, 0, 0.8)",.5,"rgba(255, 165, 0, 0.6)",.8,"rgba(255, 0, 0, 0.4)",1,"rgba(0, 0, 0, 0)"]})]})}Dx.propTypes={explosion:X.shape({x:X.number.isRequired,y:X.number.isRequired,radius:X.number.isRequired}).isRequired};var Xm=Mh(),gt=e=>Th(e,Xm),Qm=Mh();gt.write=e=>Th(e,Qm);var w0=Mh();gt.onStart=e=>Th(e,w0);var Zm=Mh();gt.onFrame=e=>Th(e,Zm);var Jm=Mh();gt.onFinish=e=>Th(e,Jm);var Bu=[];gt.setTimeout=(e,t)=>{const r=gt.now()+t,o=()=>{const d=Bu.findIndex(c=>c.cancel==o);~d&&Bu.splice(d,1),La-=~d?1:0},u={time:r,handler:e,cancel:o};return Bu.splice(Fx(r),0,u),La+=1,zx(),u};var Fx=e=>~(~Bu.findIndex(t=>t.time>e)||~Bu.length);gt.cancel=e=>{w0.delete(e),Zm.delete(e),Jm.delete(e),Xm.delete(e),Qm.delete(e)};gt.sync=e=>{am=!0,gt.batchedUpdates(e),am=!1};gt.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function o(...u){t=u,gt.onStart(r)}return o.handler=e,o.cancel=()=>{w0.delete(r),t=null},o};var eg=typeof window<"u"?window.requestAnimationFrame:()=>{};gt.use=e=>eg=e;gt.now=typeof performance<"u"?()=>performance.now():Date.now;gt.batchedUpdates=e=>e();gt.catch=console.error;gt.frameLoop="always";gt.advance=()=>{gt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Vx()};var Ia=-1,La=0,am=!1;function Th(e,t){am?(t.delete(e),e(0)):(t.add(e),zx())}function zx(){Ia<0&&(Ia=0,gt.frameLoop!=="demand"&&eg(Ux))}function q_(){Ia=-1}function Ux(){~Ia&&(eg(Ux),gt.batchedUpdates(Vx))}function Vx(){const e=Ia;Ia=gt.now();const t=Fx(Ia);if(t&&(Bx(Bu.splice(0,t),r=>r.handler()),La-=t),!La){q_();return}w0.flush(),Xm.flush(e?Math.min(64,Ia-e):16.667),Zm.flush(),Qm.flush(),Jm.flush()}function Mh(){let e=new Set,t=e;return{add(r){La+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return La-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,La-=t.size,Bx(t,o=>o(r)&&e.add(o)),La+=e.size,t=e)}}}function Bx(e,t){e.forEach(r=>{try{t(r)}catch(o){gt.catch(o)}})}var H_=Object.defineProperty,K_=(e,t)=>{for(var r in t)H_(e,r,{get:t[r],enumerable:!0})},ts={};K_(ts,{assign:()=>X_,colors:()=>Oa,createStringInterpolator:()=>ng,skipAnimation:()=>Gx,to:()=>$x,willAdvance:()=>rg});function lm(){}var Y_=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Ae={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Oo(e,t){if(Ae.arr(e)){if(!Ae.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var jt=(e,t)=>e.forEach(t);function Qs(e,t,r){if(Ae.arr(e)){for(let o=0;o<e.length;o++)t.call(r,e[o],`${o}`);return}for(const o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o)}var Oi=e=>Ae.und(e)?[]:Ae.arr(e)?e:[e];function Jd(e,t){if(e.size){const r=Array.from(e);e.clear(),jt(r,t)}}var Xd=(e,...t)=>Jd(e,r=>r(...t)),tg=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ng,$x,Oa=null,Gx=!1,rg=lm,X_=e=>{e.to&&($x=e.to),e.now&&(gt.now=e.now),e.colors!==void 0&&(Oa=e.colors),e.skipAnimation!=null&&(Gx=e.skipAnimation),e.createStringInterpolator&&(ng=e.createStringInterpolator),e.requestAnimationFrame&&gt.use(e.requestAnimationFrame),e.batchedUpdates&&(gt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(rg=e.willAdvance),e.frameLoop&&(gt.frameLoop=e.frameLoop)},eh=new Set,es=[],Op=[],Zf=0,S0={get idle(){return!eh.size&&!es.length},start(e){Zf>e.priority?(eh.add(e),gt.onStart(Q_)):(Wx(e),gt(um))},advance:um,sort(e){if(Zf)gt.onFrame(()=>S0.sort(e));else{const t=es.indexOf(e);~t&&(es.splice(t,1),qx(e))}},clear(){es=[],eh.clear()}};function Q_(){eh.forEach(Wx),eh.clear(),gt(um)}function Wx(e){es.includes(e)||qx(e)}function qx(e){es.splice(Z_(es,t=>t.priority>e.priority),0,e)}function um(e){const t=Op;for(let r=0;r<es.length;r++){const o=es[r];Zf=o.priority,o.idle||(rg(o),o.advance(e),o.idle||t.push(o))}return Zf=0,Op=es,Op.length=0,es=t,es.length>0}function Z_(e,t){const r=e.findIndex(t);return r<0?e.length:r}var Hx={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Cs="[-+]?\\d*\\.?\\d+",Jf=Cs+"%";function _0(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var J_=new RegExp("rgb"+_0(Cs,Cs,Cs)),e9=new RegExp("rgba"+_0(Cs,Cs,Cs,Cs)),t9=new RegExp("hsl"+_0(Cs,Jf,Jf)),n9=new RegExp("hsla"+_0(Cs,Jf,Jf,Cs)),r9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,i9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,s9=/^#([0-9a-fA-F]{6})$/,o9=/^#([0-9a-fA-F]{8})$/;function a9(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=s9.exec(e))?parseInt(t[1]+"ff",16)>>>0:Oa&&Oa[e]!==void 0?Oa[e]:(t=J_.exec(e))?(Ou(t[1])<<24|Ou(t[2])<<16|Ou(t[3])<<8|255)>>>0:(t=e9.exec(e))?(Ou(t[1])<<24|Ou(t[2])<<16|Ou(t[3])<<8|A2(t[4]))>>>0:(t=r9.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=o9.exec(e))?parseInt(t[1],16)>>>0:(t=i9.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=t9.exec(e))?(b2(N2(t[1]),Uf(t[2]),Uf(t[3]))|255)>>>0:(t=n9.exec(e))?(b2(N2(t[1]),Uf(t[2]),Uf(t[3]))|A2(t[4]))>>>0:null}function Dp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function b2(e,t,r){const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o,d=Dp(u,o,e+1/3),c=Dp(u,o,e),h=Dp(u,o,e-1/3);return Math.round(d*255)<<24|Math.round(c*255)<<16|Math.round(h*255)<<8}function Ou(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function N2(e){return(parseFloat(e)%360+360)%360/360}function A2(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Uf(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function j2(e){let t=a9(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,o=(t&16711680)>>>16,u=(t&65280)>>>8,d=(t&255)/255;return`rgba(${r}, ${o}, ${u}, ${d})`}var ch=(e,t,r)=>{if(Ae.fun(e))return e;if(Ae.arr(e))return ch({range:e,output:t,extrapolate:r});if(Ae.str(e.output[0]))return ng(e);const o=e,u=o.output,d=o.range||[0,1],c=o.extrapolateLeft||o.extrapolate||"extend",h=o.extrapolateRight||o.extrapolate||"extend",p=o.easing||(f=>f);return f=>{const x=u9(f,d);return l9(f,d[x],d[x+1],u[x],u[x+1],p,c,h,o.map)}};function l9(e,t,r,o,u,d,c,h,p){let f=p?p(e):e;if(f<t){if(c==="identity")return f;c==="clamp"&&(f=t)}if(f>r){if(h==="identity")return f;h==="clamp"&&(f=r)}return o===u?o:t===r?e<=t?o:u:(t===-1/0?f=-f:r===1/0?f=f-t:f=(f-t)/(r-t),f=d(f),o===-1/0?f=-f:u===1/0?f=f+o:f=f*(u-o)+o,f)}function u9(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var c9={linear:e=>e},dh=Symbol.for("FluidValue.get"),Gu=Symbol.for("FluidValue.observers"),Ji=e=>!!(e&&e[dh]),Si=e=>e&&e[dh]?e[dh]():e,I2=e=>e[Gu]||null;function d9(e,t){e.eventObserved?e.eventObserved(t):e(t)}function hh(e,t){const r=e[Gu];r&&r.forEach(o=>{d9(o,t)})}var Kx=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");h9(this,e)}},h9=(e,t)=>Yx(e,dh,t);function Qu(e,t){if(e[dh]){let r=e[Gu];r||Yx(e,Gu,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function fh(e,t){const r=e[Gu];if(r&&r.has(t)){const o=r.size-1;o?r.delete(t):e[Gu]=null,e.observerRemoved&&e.observerRemoved(o,t)}}var Yx=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),qf=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f9=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,L2=new RegExp(`(${qf.source})(%|[a-z]+)`,"i"),p9=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,C0=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Xx=e=>{const[t,r]=m9(e);if(!t||tg())return e;const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(o)return o.trim();if(r&&r.startsWith("--")){const u=window.getComputedStyle(document.documentElement).getPropertyValue(r);return u||e}else{if(r&&C0.test(r))return Xx(r);if(r)return r}return e},m9=e=>{const t=C0.exec(e);if(!t)return[,];const[,r,o]=t;return[r,o]},Fp,g9=(e,t,r,o,u)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(o)}, ${u})`,ig=e=>{Fp||(Fp=Oa?new RegExp(`(${Object.keys(Oa).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(d=>Si(d).replace(C0,Xx).replace(f9,j2).replace(Fp,j2)),r=t.map(d=>d.match(qf).map(Number)),u=r[0].map((d,c)=>r.map(h=>{if(!(c in h))throw Error('The arity of each "output" value must be equal');return h[c]})).map(d=>ch({...e,output:d}));return d=>{var p;const c=!L2.test(t[0])&&((p=t.find(f=>L2.test(f)))==null?void 0:p.replace(qf,""));let h=0;return t[0].replace(qf,()=>`${u[h++](d)}${c||""}`).replace(p9,g9)}},sg="react-spring: ",Qx=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${sg}once requires a function parameter`);return(...o)=>{r||(t(...o),r=!0)}},v9=Qx(console.warn);function y9(){v9(`${sg}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var x9=Qx(console.warn);function w9(){x9(`${sg}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function P0(e){return Ae.str(e)&&(e[0]=="#"||/\d/.test(e)||!tg()&&C0.test(e)||e in(Oa||{}))}var og=tg()?ee.useEffect:ee.useLayoutEffect,S9=()=>{const e=ee.useRef(!1);return og(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Zx(){const e=ee.useState()[1],t=S9();return()=>{t.current&&e(Math.random())}}function _9(e,t){const[r]=ee.useState(()=>({inputs:t,result:e()})),o=ee.useRef(),u=o.current;let d=u;return d?t&&d.inputs&&C9(t,d.inputs)||(d={inputs:t,result:e()}):d=r,ee.useEffect(()=>{o.current=d,u==r&&(r.inputs=r.result=void 0)},[d]),d.result}function C9(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Jx=e=>ee.useEffect(e,P9),P9=[];function O2(e){const t=ee.useRef();return ee.useEffect(()=>{t.current=e}),t.current}var ph=Symbol.for("Animated:node"),E9=e=>!!e&&e[ph]===e,Ks=e=>e&&e[ph],ag=(e,t)=>Y_(e,ph,t),E0=e=>e&&e[ph]&&e[ph].getPayload(),e3=class{constructor(){ag(this,this)}getPayload(){return this.payload||[]}},bh=class extends e3{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Ae.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new bh(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Ae.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ae.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},mh=class extends bh{constructor(e){super(0),this._string=null,this._toString=ch({output:[e,e]})}static create(e){return new mh(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Ae.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=ch({output:[this.getValue(),e]})),this._value=0,super.reset()}},e0={dependencies:null},k0=class extends e3{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Qs(this.source,(r,o)=>{E9(r)?t[o]=r.getValue(e):Ji(r)?t[o]=Si(r):e||(t[o]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&jt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Qs(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){e0.dependencies&&Ji(e)&&e0.dependencies.add(e);const t=E0(e);t&&jt(t,r=>this.add(r))}},t3=class extends k0{constructor(e){super(e)}static create(e){return new t3(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,o)=>r.setValue(e[o])).some(Boolean):(super.setValue(e.map(k9)),!0)}};function k9(e){return(P0(e)?mh:bh).create(e)}function cm(e){const t=Ks(e);return t?t.constructor:Ae.arr(e)?t3:P0(e)?mh:bh}var D2=(e,t)=>{const r=!Ae.fun(e)||e.prototype&&e.prototype.isReactComponent;return ee.forwardRef((o,u)=>{const d=ee.useRef(null),c=r&&ee.useCallback(_=>{d.current=M9(u,_)},[u]),[h,p]=T9(o,t),f=Zx(),x=()=>{const _=d.current;if(r&&!_)return;(_?t.applyAnimatedValues(_,h.getValue(!0)):!1)===!1&&f()},m=new R9(x,p),w=ee.useRef();og(()=>(w.current=m,jt(p,_=>Qu(_,m)),()=>{w.current&&(jt(w.current.deps,_=>fh(_,w.current)),gt.cancel(w.current.update))})),ee.useEffect(x,[]),Jx(()=>()=>{const _=w.current;jt(_.deps,R=>fh(R,_))});const S=t.getComponentProps(h.getValue());return ee.createElement(e,{...S,ref:c})})},R9=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&gt.write(this.update)}};function T9(e,t){const r=new Set;return e0.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new k0(e),e0.dependencies=null,[e,r]}function M9(e,t){return e&&(Ae.fun(e)?e(t):e.current=t),t}var F2=Symbol.for("AnimatedComponent"),n3=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=u=>new k0(u),getComponentProps:o=u=>u}={})=>{const u={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:o},d=c=>{const h=z2(c)||"Anonymous";return Ae.str(c)?c=d[c]||(d[c]=D2(c,u)):c=c[F2]||(c[F2]=D2(c,u)),c.displayName=`Animated(${h})`,c};return Qs(e,(c,h)=>{Ae.arr(e)&&(h=z2(c)),d[h]=d(c)}),{animated:d}},z2=e=>Ae.str(e)?e:e&&Ae.str(e.displayName)?e.displayName:Ae.fun(e)&&e.name||null;function jl(e,...t){return Ae.fun(e)?e(...t):e}var th=(e,t)=>e===!0||!!(t&&e&&(Ae.fun(e)?e(t):Oi(e).includes(t))),r3=(e,t)=>Ae.obj(e)?t&&e[t]:e,i3=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,b9=e=>e,lg=(e,t=b9)=>{let r=N9;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const o={};for(const u of r){const d=t(e[u],u);Ae.und(d)||(o[u]=d)}return o},N9=["config","onProps","onStart","onChange","onPause","onResume","onRest"],A9={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function j9(e){const t={};let r=0;if(Qs(e,(o,u)=>{A9[u]||(t[u]=o,r++)}),r)return t}function s3(e){const t=j9(e);if(t){const r={to:t};return Qs(e,(o,u)=>u in t||(r[u]=o)),r}return{...e}}function gh(e){return e=Si(e),Ae.arr(e)?e.map(gh):P0(e)?ts.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function I9(e){for(const t in e)return!0;return!1}function dm(e){return Ae.fun(e)||Ae.arr(e)&&Ae.obj(e[0])}function L9(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function O9(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var D9={default:{tension:170,friction:26}},hm={...D9.default,mass:1,damping:1,easing:c9.linear,clamp:!1},F9=class{constructor(){this.velocity=0,Object.assign(this,hm)}};function z9(e,t,r){r&&(r={...r},U2(r,t),t={...r,...t}),U2(e,t),Object.assign(e,t);for(const c in hm)e[c]==null&&(e[c]=hm[c]);let{frequency:o,damping:u}=e;const{mass:d}=e;return Ae.und(o)||(o<.01&&(o=.01),u<0&&(u=0),e.tension=Math.pow(2*Math.PI/o,2)*d,e.friction=4*Math.PI*u*d/o),e}function U2(e,t){if(!Ae.und(t.decay))e.duration=void 0;else{const r=!Ae.und(t.tension)||!Ae.und(t.friction);(r||!Ae.und(t.frequency)||!Ae.und(t.damping)||!Ae.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var V2=[],U9=class{constructor(){this.changed=!1,this.values=V2,this.toValues=null,this.fromValues=V2,this.config=new F9,this.immediate=!1}};function o3(e,{key:t,props:r,defaultProps:o,state:u,actions:d}){return new Promise((c,h)=>{let p,f,x=th(r.cancel??(o==null?void 0:o.cancel),t);if(x)S();else{Ae.und(r.pause)||(u.paused=th(r.pause,t));let _=o==null?void 0:o.pause;_!==!0&&(_=u.paused||th(_,t)),p=jl(r.delay||0,t),_?(u.resumeQueue.add(w),d.pause()):(d.resume(),w())}function m(){u.resumeQueue.add(w),u.timeouts.delete(f),f.cancel(),p=f.time-gt.now()}function w(){p>0&&!ts.skipAnimation?(u.delayed=!0,f=gt.setTimeout(S,p),u.pauseQueue.add(m),u.timeouts.add(f)):S()}function S(){u.delayed&&(u.delayed=!1),u.pauseQueue.delete(m),u.timeouts.delete(f),e<=(u.cancelId||0)&&(x=!0);try{d.start({...r,callId:e,cancel:x},c)}catch(_){h(_)}}})}var ug=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?$u(e.get()):t.every(r=>r.noop)?a3(e.get()):_s(e.get(),t.every(r=>r.finished)),a3=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),_s=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),$u=e=>({value:e,cancelled:!0,finished:!1});function l3(e,t,r,o){const{callId:u,parentId:d,onRest:c}=t,{asyncTo:h,promise:p}=r;return!d&&e===h&&!t.reset?p:r.promise=(async()=>{r.asyncId=u,r.asyncTo=e;const f=lg(t,(E,A)=>A==="onRest"?void 0:E);let x,m;const w=new Promise((E,A)=>(x=E,m=A)),S=E=>{const A=u<=(r.cancelId||0)&&$u(o)||u!==r.asyncId&&_s(o,!1);if(A)throw E.result=A,m(E),E},_=(E,A)=>{const k=new B2,C=new $2;return(async()=>{if(ts.skipAnimation)throw vh(r),C.result=_s(o,!1),m(C),C;S(k);const N=Ae.obj(E)?{...E}:{...A,to:E};N.parentId=u,Qs(f,($,B)=>{Ae.und(N[B])&&(N[B]=$)});const j=await o.start(N);return S(k),r.paused&&await new Promise($=>{r.resumeQueue.add($)}),j})()};let R;if(ts.skipAnimation)return vh(r),_s(o,!1);try{let E;Ae.arr(e)?E=(async A=>{for(const k of A)await _(k)})(e):E=Promise.resolve(e(_,o.stop.bind(o))),await Promise.all([E.then(x),w]),R=_s(o.get(),!0,!1)}catch(E){if(E instanceof B2)R=E.result;else if(E instanceof $2)R=E.result;else throw E}finally{u==r.asyncId&&(r.asyncId=d,r.asyncTo=d?h:void 0,r.promise=d?p:void 0)}return Ae.fun(c)&&gt.batchedUpdates(()=>{c(R,o,o.item)}),R})()}function vh(e,t){Jd(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var B2=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},$2=class extends Error{constructor(){super("SkipAnimationSignal")}},fm=e=>e instanceof cg,V9=1,cg=class extends Kx{constructor(){super(...arguments),this.id=V9++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Ks(this);return e&&e.getValue()}to(...e){return ts.to(this,e)}interpolate(...e){return y9(),ts.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){hh(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||S0.sort(this),hh(this,{type:"priority",parent:this,priority:e})}},Fl=Symbol.for("SpringPhase"),u3=1,c3=2,d3=4,zp=e=>(e[Fl]&u3)>0,ba=e=>(e[Fl]&c3)>0,$d=e=>(e[Fl]&d3)>0,G2=(e,t)=>t?e[Fl]|=c3|u3:e[Fl]&=-3,W2=(e,t)=>t?e[Fl]|=d3:e[Fl]&=-5,B9=class extends cg{constructor(e,t){if(super(),this.animation=new U9,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ae.und(e)||!Ae.und(t)){const r=Ae.obj(e)?{...e}:{...t,from:e};Ae.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(ba(this)||this._state.asyncTo)||$d(this)}get goal(){return Si(this.animation.to)}get velocity(){const e=Ks(this);return e instanceof bh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return zp(this)}get isAnimating(){return ba(this)}get isPaused(){return $d(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const o=this.animation;let{toValues:u}=o;const{config:d}=o,c=E0(o.to);!c&&Ji(o.to)&&(u=Oi(Si(o.to))),o.values.forEach((f,x)=>{if(f.done)return;const m=f.constructor==mh?1:c?c[x].lastPosition:u[x];let w=o.immediate,S=m;if(!w){if(S=f.lastPosition,d.tension<=0){f.done=!0;return}let _=f.elapsedTime+=e;const R=o.fromValues[x],E=f.v0!=null?f.v0:f.v0=Ae.arr(d.velocity)?d.velocity[x]:d.velocity;let A;const k=d.precision||(R==m?.005:Math.min(1,Math.abs(m-R)*.001));if(Ae.und(d.duration))if(d.decay){const C=d.decay===!0?.998:d.decay,N=Math.exp(-(1-C)*_);S=R+E/(1-C)*(1-N),w=Math.abs(f.lastPosition-S)<=k,A=E*N}else{A=f.lastVelocity==null?E:f.lastVelocity;const C=d.restVelocity||k/10,N=d.clamp?0:d.bounce,j=!Ae.und(N),$=R==m?f.v0>0:R<m;let B,L=!1;const H=1,U=Math.ceil(e/H);for(let G=0;G<U&&(B=Math.abs(A)>C,!(!B&&(w=Math.abs(m-S)<=k,w)));++G){j&&(L=S==m||S>m==$,L&&(A=-A*N,S=m));const te=-d.tension*1e-6*(S-m),O=-d.friction*.001*A,V=(te+O)/d.mass;A=A+V*H,S=S+A*H}}else{let C=1;d.duration>0&&(this._memoizedDuration!==d.duration&&(this._memoizedDuration=d.duration,f.durationProgress>0&&(f.elapsedTime=d.duration*f.durationProgress,_=f.elapsedTime+=e)),C=(d.progress||0)+_/this._memoizedDuration,C=C>1?1:C<0?0:C,f.durationProgress=C),S=R+d.easing(C)*(m-R),A=(S-f.lastPosition)/e,w=C==1}f.lastVelocity=A,Number.isNaN(S)&&(console.warn("Got NaN while animating:",this),w=!0)}c&&!c[x].done&&(w=!1),w?f.done=!0:t=!1,f.setValue(S,d.round)&&(r=!0)});const h=Ks(this),p=h.getValue();if(t){const f=Si(o.to);(p!==f||r)&&!d.decay?(h.setValue(f),this._onChange(f)):r&&d.decay&&this._onChange(p),this._stop()}else r&&this._onChange(p)}set(e){return gt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ba(this)){const{to:e,config:t}=this.animation;gt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return Ae.und(e)?(r=this.queue||[],this.queue=[]):r=[Ae.obj(e)?e:{...t,to:e}],Promise.all(r.map(o=>this._update(o))).then(o=>ug(this,o))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),vh(this._state,e&&this._lastCallId),gt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:o}=e;r=Ae.obj(r)?r[t]:r,(r==null||dm(r))&&(r=void 0),o=Ae.obj(o)?o[t]:o,o==null&&(o=void 0);const u={to:r,from:o};return zp(this)||(e.reverse&&([r,o]=[o,r]),o=Si(o),Ae.und(o)?Ks(this)||this._set(r):this._set(o)),u}_update({...e},t){const{key:r,defaultProps:o}=this;e.default&&Object.assign(o,lg(e,(c,h)=>/^on/.test(h)?r3(c,r):c)),H2(this,e,"onProps"),Wd(this,"onProps",e,this);const u=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const d=this._state;return o3(++this._lastCallId,{key:r,props:e,defaultProps:o,state:d,actions:{pause:()=>{$d(this)||(W2(this,!0),Xd(d.pauseQueue),Wd(this,"onPause",_s(this,Gd(this,this.animation.to)),this))},resume:()=>{$d(this)&&(W2(this,!1),ba(this)&&this._resume(),Xd(d.resumeQueue),Wd(this,"onResume",_s(this,Gd(this,this.animation.to)),this))},start:this._merge.bind(this,u)}}).then(c=>{if(e.loop&&c.finished&&!(t&&c.noop)){const h=h3(e);if(h)return this._update(h,!0)}return c})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r($u(this));const o=!Ae.und(e.to),u=!Ae.und(e.from);if(o||u)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r($u(this));const{key:d,defaultProps:c,animation:h}=this,{to:p,from:f}=h;let{to:x=p,from:m=f}=e;u&&!o&&(!t.default||Ae.und(x))&&(x=m),t.reverse&&([x,m]=[m,x]);const w=!Oo(m,f);w&&(h.from=m),m=Si(m);const S=!Oo(x,p);S&&this._focus(x);const _=dm(t.to),{config:R}=h,{decay:E,velocity:A}=R;(o||u)&&(R.velocity=0),t.config&&!_&&z9(R,jl(t.config,d),t.config!==c.config?jl(c.config,d):void 0);let k=Ks(this);if(!k||Ae.und(x))return r(_s(this,!0));const C=Ae.und(t.reset)?u&&!t.default:!Ae.und(m)&&th(t.reset,d),N=C?m:this.get(),j=gh(x),$=Ae.num(j)||Ae.arr(j)||P0(j),B=!_&&(!$||th(c.immediate||t.immediate,d));if(S){const G=cm(x);if(G!==k.constructor)if(B)k=this._set(j);else throw Error(`Cannot animate between ${k.constructor.name} and ${G.name}, as the "to" prop suggests`)}const L=k.constructor;let H=Ji(x),U=!1;if(!H){const G=C||!zp(this)&&w;(S||G)&&(U=Oo(gh(N),j),H=!U),(!Oo(h.immediate,B)&&!B||!Oo(R.decay,E)||!Oo(R.velocity,A))&&(H=!0)}if(U&&ba(this)&&(h.changed&&!C?H=!0:H||this._stop(p)),!_&&((H||Ji(p))&&(h.values=k.getPayload(),h.toValues=Ji(x)?null:L==mh?[1]:Oi(j)),h.immediate!=B&&(h.immediate=B,!B&&!C&&this._set(p)),H)){const{onRest:G}=h;jt(G9,O=>H2(this,t,O));const te=_s(this,Gd(this,p));Xd(this._pendingCalls,te),this._pendingCalls.add(r),h.changed&&gt.batchedUpdates(()=>{var O;h.changed=!C,G==null||G(te,this),C?jl(c.onRest,te):(O=h.onStart)==null||O.call(h,te,this)})}C&&this._set(N),_?r(l3(t.to,t,this._state,this)):H?this._start():ba(this)&&!S?this._pendingCalls.add(r):r(a3(N))}_focus(e){const t=this.animation;e!==t.to&&(I2(this)&&this._detach(),t.to=e,I2(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ji(t)&&(Qu(t,this),fm(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ji(e)&&fh(e,this)}_set(e,t=!0){const r=Si(e);if(!Ae.und(r)){const o=Ks(this);if(!o||!Oo(r,o.getValue())){const u=cm(r);!o||o.constructor!=u?ag(this,u.create(r)):o.setValue(r),o&&gt.batchedUpdates(()=>{this._onChange(r,t)})}}return Ks(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Wd(this,"onStart",_s(this,Gd(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),jl(this.animation.onChange,e,this)),jl(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Ks(this).reset(Si(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),ba(this)||(G2(this,!0),$d(this)||this._resume())}_resume(){ts.skipAnimation?this.finish():S0.start(this)}_stop(e,t){if(ba(this)){G2(this,!1);const r=this.animation;jt(r.values,u=>{u.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),hh(this,{type:"idle",parent:this});const o=t?$u(this.get()):_s(this.get(),Gd(this,e??r.to));Xd(this._pendingCalls,o),r.changed&&(r.changed=!1,Wd(this,"onRest",o,this))}}};function Gd(e,t){const r=gh(t),o=gh(e.get());return Oo(o,r)}function h3(e,t=e.loop,r=e.to){const o=jl(t);if(o){const u=o!==!0&&s3(o),d=(u||e).reverse,c=!u||u.reset;return yh({...e,loop:t,default:!1,pause:void 0,to:!d||dm(r)?r:void 0,from:c?e.from:void 0,reset:c,...u})}}function yh(e){const{to:t,from:r}=e=s3(e),o=new Set;return Ae.obj(t)&&q2(t,o),Ae.obj(r)&&q2(r,o),e.keys=o.size?Array.from(o):null,e}function $9(e){const t=yh(e);return Ae.und(t.default)&&(t.default=lg(t)),t}function q2(e,t){Qs(e,(r,o)=>r!=null&&t.add(o))}var G9=["onStart","onRest","onChange","onPause","onResume"];function H2(e,t,r){e.animation[r]=t[r]!==i3(t,r)?r3(t[r],e.key):void 0}function Wd(e,t,...r){var o,u,d,c;(u=(o=e.animation)[t])==null||u.call(o,...r),(c=(d=e.defaultProps)[t])==null||c.call(d,...r)}var W9=["onStart","onChange","onRest"],q9=1,H9=class{constructor(e,t){this.id=q9++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];Ae.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(yh(e)),this}start(e){let{queue:t}=this;return e?t=Oi(e).map(yh):this.queue=[],this._flush?this._flush(this,t):(v3(this,t),pm(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;jt(Oi(t),o=>r[o].stop(!!e))}else vh(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Ae.und(e))this.start({pause:!0});else{const t=this.springs;jt(Oi(e),r=>t[r].pause())}return this}resume(e){if(Ae.und(e))this.start({pause:!1});else{const t=this.springs;jt(Oi(e),r=>t[r].resume())}return this}each(e){Qs(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,Jd(e,([h,p])=>{p.value=this.get(),h(p,this,this._item)}));const d=!o&&this._started,c=u||d&&r.size?this.get():null;u&&t.size&&Jd(t,([h,p])=>{p.value=c,h(p,this,this._item)}),d&&(this._started=!1,Jd(r,([h,p])=>{p.value=c,h(p,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;gt.onFrame(this._onFrame)}};function pm(e,t){return Promise.all(t.map(r=>f3(e,r))).then(r=>ug(e,r))}async function f3(e,t,r){const{keys:o,to:u,from:d,loop:c,onRest:h,onResolve:p}=t,f=Ae.obj(t.default)&&t.default;c&&(t.loop=!1),u===!1&&(t.to=null),d===!1&&(t.from=null);const x=Ae.arr(u)||Ae.fun(u)?u:void 0;x?(t.to=void 0,t.onRest=void 0,f&&(f.onRest=void 0)):jt(W9,R=>{const E=t[R];if(Ae.fun(E)){const A=e._events[R];t[R]=({finished:k,cancelled:C})=>{const N=A.get(E);N?(k||(N.finished=!1),C&&(N.cancelled=!0)):A.set(E,{value:null,finished:k||!1,cancelled:C||!1})},f&&(f[R]=t[R])}});const m=e._state;t.pause===!m.paused?(m.paused=t.pause,Xd(t.pause?m.pauseQueue:m.resumeQueue)):m.paused&&(t.pause=!0);const w=(o||Object.keys(e.springs)).map(R=>e.springs[R].start(t)),S=t.cancel===!0||i3(t,"cancel")===!0;(x||S&&m.asyncId)&&w.push(o3(++e._lastAsyncId,{props:t,state:m,actions:{pause:lm,resume:lm,start(R,E){S?(vh(m,e._lastAsyncId),E($u(e))):(R.onRest=h,E(l3(x,R,m,e)))}}})),m.paused&&await new Promise(R=>{m.resumeQueue.add(R)});const _=ug(e,await Promise.all(w));if(c&&_.finished&&!(r&&_.noop)){const R=h3(t,c,u);if(R)return v3(e,[R]),f3(e,R,!0)}return p&&gt.batchedUpdates(()=>p(_,e,e.item)),_}function K2(e,t){const r={...e.springs};return t&&jt(Oi(t),o=>{Ae.und(o.keys)&&(o=yh(o)),Ae.obj(o.to)||(o={...o,to:void 0}),g3(r,o,u=>m3(u))}),p3(e,r),r}function p3(e,t){Qs(t,(r,o)=>{e.springs[o]||(e.springs[o]=r,Qu(r,e))})}function m3(e,t){const r=new B9;return r.key=e,t&&Qu(r,t),r}function g3(e,t,r){t.keys&&jt(t.keys,o=>{(e[o]||(e[o]=r(o)))._prepareNode(t)})}function v3(e,t){jt(t,r=>{g3(e.springs,r,o=>m3(o,e))})}var R0=({children:e,...t})=>{const r=ee.useContext(t0),o=t.pause||!!r.pause,u=t.immediate||!!r.immediate;t=_9(()=>({pause:o,immediate:u}),[o,u]);const{Provider:d}=t0;return ee.createElement(d,{value:t},e)},t0=K9(R0,{});R0.Provider=t0.Provider;R0.Consumer=t0.Consumer;function K9(e,t){return Object.assign(e,ee.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Y9=()=>{const e=[],t=function(o){w9();const u=[];return jt(e,(d,c)=>{if(Ae.und(o))u.push(d.start());else{const h=r(o,d,c);h&&u.push(d.start(h))}}),u};t.current=e,t.add=function(o){e.includes(o)||e.push(o)},t.delete=function(o){const u=e.indexOf(o);~u&&e.splice(u,1)},t.pause=function(){return jt(e,o=>o.pause(...arguments)),this},t.resume=function(){return jt(e,o=>o.resume(...arguments)),this},t.set=function(o){jt(e,(u,d)=>{const c=Ae.fun(o)?o(d,u):o;c&&u.set(c)})},t.start=function(o){const u=[];return jt(e,(d,c)=>{if(Ae.und(o))u.push(d.start());else{const h=this._getProps(o,d,c);h&&u.push(d.start(h))}}),u},t.stop=function(){return jt(e,o=>o.stop(...arguments)),this},t.update=function(o){return jt(e,(u,d)=>u.update(this._getProps(o,u,d))),this};const r=function(o,u,d){return Ae.fun(o)?o(d,u):o};return t._getProps=r,t};function X9(e,t,r){const o=Ae.fun(t)&&t;o&&!r&&(r=[]);const u=ee.useMemo(()=>o||arguments.length==3?Y9():void 0,[]),d=ee.useRef(0),c=Zx(),h=ee.useMemo(()=>({ctrls:[],queue:[],flush(A,k){const C=K2(A,k);return d.current>0&&!h.queue.length&&!Object.keys(C).some(j=>!A.springs[j])?pm(A,k):new Promise(j=>{p3(A,C),h.queue.push(()=>{j(pm(A,k))}),c()})}}),[]),p=ee.useRef([...h.ctrls]),f=[],x=O2(e)||0;ee.useMemo(()=>{jt(p.current.slice(e,x),A=>{L9(A,u),A.stop(!0)}),p.current.length=e,m(x,e)},[e]),ee.useMemo(()=>{m(0,Math.min(x,e))},r);function m(A,k){for(let C=A;C<k;C++){const N=p.current[C]||(p.current[C]=new H9(null,h.flush)),j=o?o(C,N):t[C];j&&(f[C]=$9(j))}}const w=p.current.map((A,k)=>K2(A,f[k])),S=ee.useContext(R0),_=O2(S),R=S!==_&&I9(S);og(()=>{d.current++,h.ctrls=p.current;const{queue:A}=h;A.length&&(h.queue=[],jt(A,k=>k())),jt(p.current,(k,C)=>{u==null||u.add(k),R&&k.start({default:S});const N=f[C];N&&(O9(k,N.ref),k.ref?k.queue.push(N):k.start(N))})}),Jx(()=>()=>{jt(h.ctrls,A=>A.stop(!0))});const E=w.map(A=>({...A}));return u?[E,u]:E}function Aa(e,t){const r=Ae.fun(e),[[o],u]=X9(1,r?e:[e],r?[]:t);return r||arguments.length==2?[o,u]:o}var Q9=class extends cg{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=ch(...t);const r=this._get(),o=cm(r);ag(this,o.create(r))}advance(e){const t=this._get(),r=this.get();Oo(t,r)||(Ks(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Y2(this._active)&&Up(this)}_get(){const e=Ae.arr(this.source)?this.source.map(Si):Oi(Si(this.source));return this.calc(...e)}_start(){this.idle&&!Y2(this._active)&&(this.idle=!1,jt(E0(this),e=>{e.done=!1}),ts.skipAnimation?(gt.batchedUpdates(()=>this.advance()),Up(this)):S0.start(this))}_attach(){let e=1;jt(Oi(this.source),t=>{Ji(t)&&Qu(t,this),fm(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){jt(Oi(this.source),e=>{Ji(e)&&fh(e,this)}),this._active.clear(),Up(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Oi(this.source).reduce((t,r)=>Math.max(t,(fm(r)?r.priority:0)+1),0))}};function Z9(e){return e.idle!==!1}function Y2(e){return!e.size||Array.from(e).every(Z9)}function Up(e){e.idle||(e.idle=!0,jt(E0(e),t=>{t.done=!0}),hh(e,{type:"idle",parent:e}))}ts.assign({createStringInterpolator:ig,to:(e,t)=>new Q9(e,t)});var J9=["Arc","Arrow","Circle","Ellipse","FastLayer","Group","Image","Label","Layer","Line","Path","Rect","RegularPolygon","Ring","Shape","Sprite","Star","Tag","Text","TextPath","Transformer","Wedge"];ts.assign({createStringInterpolator:ig,colors:Hx});var e7=n3(J9,{applyAnimatedValues(e,t){if(!e.nodeType)return!1;e._applyProps(e,t)}}),n0=e7.animated;function t7({effect:e}){const[t,r]=ee.useState([]),[o,u]=ee.useState(0),[d,c]=ee.useState([]),h="#36D1DC",p="#5B86E5",f="#FFFFFF",x="rgba(50, 60, 80, 0.3)",[m,w]=Aa(()=>({scaleX:1,scaleY:1,opacity:.8,config:{tension:200,friction:20}})),S=Date.now()-e.createdAt,_=Math.max(0,e.duration-S);Math.min(1,S/e.duration),ee.useEffect(()=>{const A=Array(5).fill(0).map(($,B)=>({id:B,radius:0,opacity:.8,phase:B*.2}));r(A);const k=Array(8).fill(0).map(($,B)=>({id:B,angle:Math.random()*Math.PI*2,distance:e.radius*(.6+Math.random()*.3),text:Math.random()>.5?Math.floor(Math.random()*100).toString():Math.random()>.5?"01":"EMP",opacity:.2+Math.random()*.6}));c(k);const C=setInterval(()=>{const $=1+Math.random()*.2;w.start({scaleX:$,scaleY:$,opacity:.7+Math.random()*.3})},500),N=setInterval(()=>{r($=>$.map(B=>{let L=B.radius+2,H=B.opacity;return L>e.radius?(L=0,H=.8):H=.8*(1-L/e.radius),{...B,radius:L,opacity:H}}))},16),j=setInterval(()=>{u($=>($+1)%20)},100);return()=>{clearInterval(C),clearInterval(N),clearInterval(j)}},[e.createdAt,e.radius]);const R=()=>{const A=[],C=e.radius*1.2;for(let N=-C;N<=C;N+=20)A.push(v.jsx(qe,{points:[-C,N,C,N],stroke:x,strokeWidth:1,opacity:.3},`h-${N}`));for(let N=-C;N<=C;N+=20)A.push(v.jsx(qe,{points:[N,-C,N,C],stroke:x,strokeWidth:1,opacity:.3},`v-${N}`));return A},E=(A,k)=>o>15?A+(k%2===0?3:-2):A;return v.jsxs(Ut,{x:e.position.x,y:e.position.y,opacity:_>300?1:_/300,children:[v.jsx(Ut,{children:R()}),t.map(A=>v.jsx(Da,{innerRadius:E(A.radius,A.id),outerRadius:E(A.radius+2,A.id),fill:"transparent",stroke:A.id%2===0?h:p,strokeWidth:2,opacity:A.opacity,perfectDrawEnabled:!1},A.id)),v.jsx(Ge,{radius:e.radius,stroke:h,strokeWidth:1,dash:[5,5],opacity:.3,perfectDrawEnabled:!1}),v.jsxs(Ut,{children:[v.jsx(n0.Circle,{radius:12,fill:`rgba(54, 209, 220, ${m.opacity})`,scaleX:m.scaleX,scaleY:m.scaleY}),v.jsx(n0.Circle,{radius:8,fill:`rgba(91, 134, 229, ${m.opacity*.8})`,scaleX:m.scaleX,scaleY:m.scaleY}),v.jsx(Ge,{radius:4,fill:f,opacity:.9})]}),v.jsx(qe,{points:[-10,0,10,0],stroke:f,strokeWidth:1,opacity:.7}),v.jsx(qe,{points:[0,-10,0,10],stroke:f,strokeWidth:1,opacity:.7})]})}function y3({effect:e}){const[t,r]=ee.useState([]),[o,u]=ee.useState([]),[d,c]=ee.useState(0),h="#2ECC71",p="#1ABC9C",f="#FFFFFF",x="rgba(46, 204, 113, 0.2)",[m,w]=Aa(()=>({scaleX:1,scaleY:1,opacity:.8,config:{tension:200,friction:20}})),S=Date.now()-e.createdAt,_=Math.max(0,e.duration-S);ee.useEffect(()=>{const E=Array(5).fill(0).map(($,B)=>({id:B,radius:0,opacity:.8,phase:B*.2}));r(E);const A=Array(12).fill(0).map(($,B)=>({id:B,angle:Math.random()*Math.PI*2,distance:e.radius*(.3+Math.random()*.6),size:3+Math.random()*5,speed:.2+Math.random()*.5,opacity:.2+Math.random()*.6}));u(A);const k=setInterval(()=>{const $=1+Math.random()*.2;w.start({scaleX:$,scaleY:$,opacity:.7+Math.random()*.3})},500),C=setInterval(()=>{r($=>$.map(B=>{let L=B.radius+1.5;return L>e.radius?(L=0,B.opacity=.8):B.opacity=.8*(1-L/e.radius),{...B,radius:L,opacity:B.opacity}}))},16),N=setInterval(()=>{u($=>$.map(B=>{const L=B.distance-B.speed;return L<=10?{...B,distance:e.radius*(.7+Math.random()*.3),angle:Math.random()*Math.PI*2,opacity:.2+Math.random()*.6}:{...B,distance:L}}))},16),j=setInterval(()=>{c($=>($+.5)%360)},50);return()=>{clearInterval(k),clearInterval(C),clearInterval(N),clearInterval(j)}},[e.createdAt,e.radius]);const R=()=>{const E=[],k=e.radius*1.2,C=Math.floor(k/20);for(let j=1;j<=C;j++)E.push(v.jsx(Ge,{radius:j*20,stroke:x,strokeWidth:1},`ring-${j}`));const N=12;for(let j=0;j<N;j++){const $=j*2*Math.PI/N,B=Math.cos($)*k,L=Math.sin($)*k;E.push(v.jsx(qe,{points:[0,0,B,L],stroke:x,strokeWidth:1},`radial-${j}`))}return E};return v.jsxs(Ut,{x:e.position.x,y:e.position.y,opacity:_>300?1:_/300,children:[v.jsx(Ut,{children:R()}),t.map(E=>v.jsx(Da,{innerRadius:E.radius,outerRadius:E.radius+2,fill:"transparent",stroke:E.id%2===0?h:p,strokeWidth:2,opacity:E.opacity,perfectDrawEnabled:!1},E.id)),v.jsx(Ge,{radius:e.radius,stroke:h,strokeWidth:1,dash:[5,5],opacity:.3,perfectDrawEnabled:!1}),o.map(E=>{const A=Math.cos(E.angle)*E.distance,k=Math.sin(E.angle)*E.distance;return v.jsx(Ge,{x:A,y:k,radius:E.size,fill:Math.random()>.5?h:p,opacity:E.opacity},E.id)}),v.jsxs(Ut,{children:[v.jsx(n0.Circle,{radius:12,fill:`rgba(46, 204, 113, ${m.opacity*1})`,scaleX:m.scaleX,scaleY:m.scaleY}),v.jsx(n0.Circle,{radius:8,fill:`rgba(26, 188, 156, ${m.opacity*.8})`,scaleX:m.scaleX,scaleY:m.scaleY}),v.jsx(Ge,{radius:4,fill:f,opacity:.9})]}),v.jsxs(Ut,{rotation:d,children:[v.jsx(qe,{points:[-15,0,15,0],stroke:f,strokeWidth:2,opacity:.7}),v.jsx(qe,{points:[0,-15,0,15],stroke:f,strokeWidth:2,opacity:.7})]})]})}y3.propTypes={effect:X.object.isRequired};const x3=({effect:e})=>{const[t,r]=ee.useState(0),o=ee.useRef(null),u=ee.useRef(null),[d,c]=ee.useState([]),[h,p]=ee.useState([]),[f,x]=ee.useState([]);ee.useEffect(()=>{u.current=Date.now();const G=Array.from({length:30},()=>({angle:Math.random()*Math.PI*2,distance:Math.random()*e.radius*.8,size:2+Math.random()*6,speed:.5+Math.random()*1.5,opacity:.6+Math.random()*.4,color:Math.random()>.6?[255,220,160]:Math.random()>.5?[255,150,50]:[255,100,50]}));c(G);const O=Array.from({length:15},()=>({angle:Math.random()*Math.PI*2,distance:Math.random()*e.radius*.4,rotationSpeed:(Math.random()-.5)*10,rotation:Math.random()*360,size:3+Math.random()*8,speed:.3+Math.random()*1.2,opacity:.8,form:Math.random()>.5?"triangle":"rectangle"}));p(O);const q=Array.from({length:4},(Z,re)=>({delay:re*.1,thickness:1+Math.random()*3,speed:.7+Math.random()*.6,opacity:.5+Math.random()*.5,dashOffset:Math.random()*10}));x(q);const J=()=>{const Z=Date.now()-u.current,re=Math.min(Z/e.duration,1);r(re),re<1&&(o.current=requestAnimationFrame(J))};return o.current=requestAnimationFrame(J),()=>{o.current&&cancelAnimationFrame(o.current)}},[e.id,e.duration,e.radius]);const m=e.radius,w=ee.useMemo(()=>Array.from({length:16},(G,te)=>({angle:Math.PI*2/16*te,length:.5+Math.random()*.5,width:1+Math.random()*2,delay:Math.random()*.1})),[]),S=ee.useMemo(()=>Array.from({length:5},(G,te)=>{const O=Math.PI*2/5*te,V=m*.2;return{x:Math.cos(O)*V,y:Math.sin(O)*V,size:4+Math.random()*6}}),[m]),_=t>.75?1-(t-.75)/.25:1,R=m*.2*Math.sin(Math.PI*t*2),E=m*10,A=m*Math.min(t*1.1,1),k=t*1.2,C=.8+Math.sin(t*Math.PI*20)*.2,N=1+Math.sin(t*Math.PI*6)*.2,j=`rgba(255, 255, 255, ${C*_})`,$=`rgba(255, 220, 130, ${.8*_})`,B=`rgba(255, 120, 50, ${.7*_})`,L=`rgba(255, 160, 30, ${.6*C*_})`,H=`rgba(220, 240, 255, ${.9*C*_})`;return ee.useMemo(()=>{const U=[];for(let te=0;te<6;te++){const O=Math.PI*2/6*te;U.push(Math.cos(O)),U.push(Math.sin(O))}return U},[]),v.jsxs(Ut,{x:e.position.x,y:e.position.y,children:[v.jsx(oi,{x:-R/2,y:-E,width:R,height:E,fill:H,shadowColor:"white",shadowBlur:10,shadowOpacity:.5*_,opacity:Math.max(0,.8-t*.5)}),v.jsxs(Ut,{children:[v.jsx(Ge,{radius:m*.25*C,fill:j,opacity:_,shadowColor:"white",shadowBlur:20,shadowOpacity:.8*_}),v.jsx(Ge,{radius:A*.5,fill:$,opacity:.9*_}),v.jsx(Ge,{radius:A,fill:B,opacity:.7*_}),f.map((U,G)=>{const te=Math.max(0,k-U.delay);return te<=0?null:v.jsx(Ge,{radius:A*Math.min(te*U.speed,1.2),stroke:L,strokeWidth:U.thickness*(1-te*.5),opacity:U.opacity*(1-te)*_,dash:[10,5],dashOffset:U.dashOffset+t*20,perfectDrawEnabled:!1},"shockwave-ring-"+G)}),w.map((U,G)=>{const te=Math.max(0,Math.min(1,(t-U.delay)*2)),O=m*U.length*Math.min(t*2,1);return v.jsx(qe,{points:[0,0,Math.cos(U.angle)*O,Math.sin(U.angle)*O],stroke:`rgba(255, 220, 180, ${te*_})`,strokeWidth:U.width*(1.5-t*.5),opacity:.7*_,lineCap:"round"},`blast-line-${G}`)}),S.map((U,G,te)=>{const O=te[(G+1)%te.length];return v.jsxs(Ut,{opacity:Math.min(1,t*3)*_,children:[v.jsx(Ge,{x:U.x*N,y:U.y*N,radius:U.size*(.5+Math.sin(t*Math.PI*10+G)*.5),fill:j,opacity:.8}),v.jsx(qe,{points:[U.x*N,U.y*N,O.x*N,O.y*N],stroke:$,strokeWidth:2*(.7+Math.sin(t*Math.PI*5+G)*.3),opacity:.6}),v.jsx(qe,{points:[0,0,U.x*N,U.y*N],stroke:j,strokeWidth:1.5,opacity:.7,dash:[4,2],dashOffset:t*20})]},`fractal-${G}`)}),d.map((U,G)=>{const te=Math.min(1,t*1.5),O=U.distance*te,V=Math.cos(U.angle)*O*U.speed,q=Math.sin(U.angle)*O*U.speed,J=U.size*(1-t*.3),[Z,re,se]=U.color;return v.jsx(Ge,{x:V,y:q,radius:J,fill:`rgba(${Z}, ${re}, ${se}, ${U.opacity*_})`,shadowColor:`rgb(${Z}, ${re}, ${se})`,shadowBlur:10,shadowOpacity:.6*_},`particle-${G}`)}),h.map((U,G)=>{const te=Math.min(1,t*1.3),O=U.distance*te,V=Math.cos(U.angle)*O*U.speed*m,q=Math.sin(U.angle)*O*U.speed*m,J=U.rotation+t*U.rotationSpeed*360,Z=Math.min(1,1-te)*U.opacity*_;return U.form==="triangle"?v.jsx(Qf,{x:V,y:q,numPoints:3,innerRadius:U.size*.5,outerRadius:U.size,fill:`rgba(255, 180, 120, ${Z})`,rotation:J,opacity:Z},`debris-${G}`):v.jsx(oi,{x:V-U.size/2,y:q-U.size/2,width:U.size,height:U.size*.8,fill:`rgba(255, 160, 100, ${Z})`,rotation:J,opacity:Z},`debris-${G}`)}),[...Array(3)].map((U,G)=>{const te=Math.PI*2*(G/3),O=m*.6,V=.2+G*.1,q=Math.max(0,Math.min(1,(t-V)*3));if(q<=0)return null;const J=Math.cos(te)*O,Z=Math.sin(te)*O,re=m*.2*q;return v.jsxs(Ut,{x:J,y:Z,children:[v.jsx(Ge,{radius:re,fill:$,opacity:(1-q)*.8*_}),v.jsx(Ge,{radius:re*.6,fill:j,opacity:(1-q)*.9*_})]},`mini-explosion-${G}`)})]}),v.jsx(Ge,{radius:m*.3*(1-t*.7),fill:j,opacity:Math.max(0,1-t*1.5)*_,shadowColor:"white",shadowBlur:20,shadowOpacity:.7*_})]})};x3.propTypes={effect:X.shape({id:X.string.isRequired,playerId:X.string.isRequired,type:X.string.isRequired,position:X.shape({x:X.number.isRequired,y:X.number.isRequired}).isRequired,radius:X.number.isRequired,createdAt:X.number.isRequired,duration:X.number.isRequired,name:X.string.isRequired}).isRequired};const w3=({effect:e,player:t})=>{const[r,o]=ee.useState(1),[u,d]=ee.useState(0),[c,h]=ee.useState(1),[p,f]=ee.useState(0),[x,m]=ee.useState([]),[w,S]=ee.useState({active:!1,scale:0,opacity:0}),_=ee.useMemo(()=>{const k=[];for(let N=0;N<6;N++){const j=Math.PI/3*N-Math.PI/2;k.push(Math.cos(j)*42),k.push(Math.sin(j)*42)}return k},[]),R=ee.useMemo(()=>{const k=[];for(let N=0;N<6;N++){const j=Math.PI/3*N-Math.PI/2+Math.PI/6;k.push(Math.cos(j)*34),k.push(Math.sin(j)*34)}return k},[]),E=ee.useMemo(()=>{const k=[];for(let j=0;j<=36;j++){const $=Math.PI*2/36*j;k.push(Math.cos($)*48),k.push(Math.sin($)*48)}return k},[]);ee.useEffect(()=>{const k=[];for(let N=0;N<12;N++){const j=Math.PI*2/12*N,$=40+Math.random()*10;k.push({x:Math.cos(j)*$,y:Math.sin(j)*$,radius:1+Math.random()*2.5,speed:.01+Math.random()*.02,offset:N*(Math.PI*2/12),brightness:.5+Math.random()*.5})}m(k)},[]),ee.useEffect(()=>{const k=e.duration,C=e.createdAt;let N;S({active:!0,scale:.1,opacity:1});const j=$=>{const L=Date.now()-C,H=L/k;if(H>=1){cancelAnimationFrame(N);return}o(.7+Math.sin(H*Math.PI*8)*.3),d(H*180);const U=1500,G=L%U/U;f(G),m(te=>te.map(O=>({...O,x:Math.cos(H*Math.PI*2*O.speed+O.offset)*(40+Math.sin(H*5)*5),y:Math.sin(H*Math.PI*2*O.speed+O.offset)*(40+Math.sin(H*5)*5)}))),H<.2?S({active:!0,scale:H*5,opacity:1-H*5}):w.active&&S({active:!1,scale:0,opacity:0}),H<.1?h(H*10):H>.9?h(1-(H-.9)*10):h(1+Math.sin(H*Math.PI*6)*.05),H>.2&&Math.sin(H*Math.PI*8)>.95&&S({active:!0,scale:.5,opacity:.7}),N=requestAnimationFrame(j)};return N=requestAnimationFrame(j),()=>cancelAnimationFrame(N)},[e]);const A=ee.useMemo(()=>({primary:"rgba(80, 220, 255, 0.85)",secondary:"rgba(150, 240, 255, 0.6)",glow:"rgba(100, 210, 255, 0.5)",core:"rgba(220, 255, 255, 0.8)"}),[t]);return v.jsxs(Ut,{x:t.x,y:t.y,children:[w.active&&v.jsx(Da,{innerRadius:45*w.scale*.9,outerRadius:45*w.scale,fill:"transparent",stroke:A.primary,strokeWidth:3,opacity:w.opacity}),v.jsx(Da,{innerRadius:45*(.9+p*.3),outerRadius:48*(.9+p*.3),fill:"transparent",stroke:A.primary,strokeWidth:1.5,opacity:(1-p)*r*c,shadowColor:A.glow,shadowBlur:15,shadowOpacity:.7}),v.jsx(qe,{points:E,closed:!0,stroke:A.primary,strokeWidth:1,opacity:.6*r*c,dash:[2,5],scale:{x:1+Math.sin(u/50)*.03,y:1+Math.cos(u/50)*.03}}),v.jsx(qe,{points:_,closed:!0,stroke:A.primary,strokeWidth:2.5,fill:"rgba(120, 230, 255, 0.12)",rotation:u*.5,scale:{x:c,y:c},shadowColor:A.glow,shadowBlur:15,shadowOpacity:.8*r}),v.jsx(qe,{points:R,closed:!0,stroke:"rgba(255, 255, 255, 0.7)",strokeWidth:1.5,dash:[5,3],fill:"transparent",rotation:-u*.7,scale:{x:c*.9,y:c*.9},opacity:.8*r}),v.jsxs(Ut,{rotation:u*.2,scale:{x:c,y:c},opacity:r*.9,children:[v.jsx(qe,{points:[0,-28,-8,-36,0,-44,8,-36,0,-28],stroke:"rgba(200, 250, 255, 0.9)",strokeWidth:1.5,closed:!0}),v.jsx(qe,{points:[0,28,-5,36,0,40,5,36,0,28],stroke:"rgba(200, 250, 255, 0.9)",strokeWidth:1.5,closed:!0}),v.jsx(qe,{points:[-28,0,-36,-5,-40,0,-36,5,-28,0],stroke:"rgba(200, 250, 255, 0.9)",strokeWidth:1.5,closed:!0}),v.jsx(qe,{points:[28,0,36,-5,40,0,36,5,28,0],stroke:"rgba(200, 250, 255, 0.9)",strokeWidth:1.5,closed:!0})]}),x.map((k,C)=>v.jsx(Ge,{x:k.x,y:k.y,radius:k.radius*c,fill:`rgba(200, 250, 255, ${k.brightness*r})`,shadowColor:A.glow,shadowBlur:8,shadowOpacity:.8},`shield-particle-${C}`)),v.jsxs(Ut,{scale:{x:c,y:c},opacity:r,children:[v.jsx(Ge,{radius:14,fill:"rgba(120, 230, 255, 0.2)",stroke:"rgba(200, 250, 255, 0.6)",strokeWidth:1}),v.jsx(Ge,{radius:9,fill:"rgba(180, 255, 255, 0.4)",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:1.5,shadowColor:"white",shadowBlur:10,shadowOpacity:.6}),v.jsx(Ge,{radius:4,fill:"rgba(255, 255, 255, 0.9)"})]}),v.jsx(zl,{text:"SHIELD",fontSize:7,fontFamily:"'Rajdhani', sans-serif",fontStyle:"bold",fill:"rgba(255, 255, 255, 0.9)",align:"center",verticalAlign:"middle",offsetY:-22,opacity:r*c}),[0,60,120,180,240,300].map((k,C)=>v.jsx(qe,{points:[0,0,30*c,0],stroke:A.secondary,strokeWidth:2,rotation:k+u*.2,opacity:(.4+Math.sin(u/180*Math.PI+C)*.4)*r},`energy-line-${C}`))]})};w3.propTypes={effect:X.object.isRequired,player:X.object.isRequired};const S3=({effect:e,player:t})=>{const[r,o]=ee.useState(1),[u,d]=ee.useState(0),[c,h]=ee.useState(1),[p,f]=ee.useState(0),[x,m]=ee.useState([]),[w,S]=ee.useState([]),[_,R]=ee.useState({active:!1,scale:0,opacity:0}),E=ee.useMemo(()=>{const N=[];for(let $=0;$<8;$++){const B=Math.PI/4*$;N.push(Math.cos(B)*45),N.push(Math.sin(B)*45)}return N},[]),A=ee.useMemo(()=>{const N=[];for(let B=0;B<=36;B++){const L=Math.PI*2/36*B;N.push(Math.cos(L)*38),N.push(Math.sin(L)*38)}return N},[]),k=ee.useMemo(()=>{const N=[];for(let B=0;B<=36;B++){const L=Math.PI*2/36*B;N.push(Math.cos(L)*52),N.push(Math.sin(L)*52)}return N},[]);ee.useEffect(()=>{const N=[];for(let L=0;L<16;L++){const H=Math.PI*2/16*L,U=42+Math.random()*12;N.push({x:Math.cos(H)*U,y:Math.sin(H)*U,radius:1+Math.random()*2,speed:.02+Math.random()*.03,offset:L*(Math.PI*2/16),brightness:.6+Math.random()*.4})}m(N);const $=[],B=10;for(let L=0;L<B;L++){const H=Math.PI*2/B*L;$.push({baseAngle:H,height:12+Math.random()*8,width:5+Math.random()*3,speed:.02+Math.random()*.03,phase:Math.random()*Math.PI*2})}S($)},[]),ee.useEffect(()=>{const N=e.duration,j=e.createdAt;let $;R({active:!0,scale:.1,opacity:1});const B=L=>{const U=Date.now()-j,G=U/N;if(G>=1){cancelAnimationFrame($);return}o(.8+Math.sin(G*Math.PI*12)*.2),d(G*240);const te=1200,O=U%te/te;f(O),m(V=>V.map(q=>({...q,x:Math.cos(G*Math.PI*3*q.speed+q.offset)*(42+Math.sin(G*7)*6),y:Math.sin(G*Math.PI*3*q.speed+q.offset)*(42+Math.sin(G*7)*6)}))),S(V=>V.map(q=>({...q,height:12+Math.random()*8+Math.sin(G*10+q.phase)*5,width:5+Math.random()*3+Math.sin(G*12+q.phase)*2}))),G<.15?R({active:!0,scale:G*6.5,opacity:1-G*6.5}):_.active&&G>=.15&&R({active:!1,scale:0,opacity:0}),G<.08?h(G*12.5):G>.92?h(1-(G-.92)*12.5):h(1+Math.sin(G*Math.PI*10)*.08),G>.2&&Math.sin(G*Math.PI*10)>.93&&R({active:!0,scale:.6,opacity:.8}),$=requestAnimationFrame(B)};return $=requestAnimationFrame(B),()=>cancelAnimationFrame($)},[e]);const C=ee.useMemo(()=>({primary:"rgba(255, 100, 30, 0.85)",secondary:"rgba(255, 180, 50, 0.7)",glow:"rgba(255, 120, 30, 0.6)",core:"rgba(255, 255, 150, 0.9)"}),[t]);return v.jsxs(Ut,{x:t.x,y:t.y,children:[_.active&&v.jsx(Da,{innerRadius:48*_.scale*.9,outerRadius:48*_.scale,fill:"transparent",stroke:C.primary,strokeWidth:3,opacity:_.opacity}),v.jsx(Da,{innerRadius:46*(.9+p*.3),outerRadius:50*(.9+p*.3),fill:"transparent",stroke:C.primary,strokeWidth:2,opacity:(1-p)*r*c,shadowColor:C.glow,shadowBlur:15,shadowOpacity:.8}),v.jsx(qe,{points:k,closed:!0,stroke:C.primary,strokeWidth:1.5,opacity:.7*r*c,dash:[4,3],rotation:u*.2,scale:{x:1+Math.sin(u/40)*.04,y:1+Math.cos(u/40)*.04},shadowColor:C.glow,shadowBlur:10,shadowOpacity:.5}),v.jsx(qe,{points:A,closed:!0,stroke:C.secondary,strokeWidth:1.5,rotation:-u*.5,opacity:.8*r*c}),v.jsx(qe,{points:E,closed:!0,stroke:C.primary,strokeWidth:3,fill:"rgba(255, 120, 40, 0.15)",rotation:u*.1,scale:{x:c,y:c},shadowColor:C.glow,shadowBlur:20,shadowOpacity:.9*r}),v.jsx(Ut,{rotation:u*.05,scale:{x:c,y:c},opacity:r,children:w.map((N,j)=>v.jsx(Ut,{rotation:N.baseAngle*(180/Math.PI),children:v.jsx(qe,{points:[0,0,-N.width,-N.height,0,-(N.height*1.5),N.width,-N.height,0,0],closed:!0,fill:C.secondary,opacity:.6+Math.random()*.4,x:40})},`flame-${j}`))}),x.map((N,j)=>v.jsx(Ge,{x:N.x,y:N.y,radius:N.radius*c,fill:`rgba(255, 200, 80, ${N.brightness*r})`,shadowColor:C.glow,shadowBlur:8,shadowOpacity:.9},`boost-particle-${j}`)),v.jsxs(Ut,{scale:{x:c,y:c},opacity:r,children:[v.jsx(Ge,{radius:16,fill:"rgba(255, 150, 50, 0.25)",stroke:"rgba(255, 180, 60, 0.7)",strokeWidth:1.5}),v.jsx(Ge,{radius:11,fill:"rgba(255, 200, 80, 0.5)",stroke:"rgba(255, 220, 100, 0.8)",strokeWidth:2,shadowColor:"rgba(255, 180, 60, 0.8)",shadowBlur:12,shadowOpacity:.7}),v.jsx(Ge,{radius:5,fill:"rgba(255, 240, 180, 0.9)"})]}),v.jsx(zl,{text:"DAMAGE BOOST",fontSize:7,fontFamily:"'Rajdhani', sans-serif",fontStyle:"bold",fill:"rgba(255, 255, 255, 0.9)",align:"center",verticalAlign:"middle",offsetY:-25,opacity:r*c}),[0,45,90,135,180,225,270,315].map((N,j)=>v.jsx(qe,{points:[0,0,25*c,0],stroke:`rgba(255, ${160+Math.random()*95}, 50, ${.5+Math.random()*.5})`,strokeWidth:2+Math.random()*2,rotation:N+u*.1,opacity:(.4+Math.sin(u/120*Math.PI+j)*.5)*r},`energy-burst-${j}`))]})};S3.propTypes={effect:X.object.isRequired,player:X.object.isRequired};const _3=({effect:e,player:t})=>{if(!t)return null;switch(console.log("SpecialistEffect",e),e.type){case"shield":return v.jsx(w3,{effect:e,player:t});case"aoe":return v.jsx(x3,{effect:e});case"disable":return v.jsx(t7,{effect:e});case"heal":return v.jsx(y3,{effect:e});case"damage_boost":return v.jsx(S3,{effect:e,player:t});default:return null}};_3.propTypes={effect:X.shape({id:X.string.isRequired,playerId:X.string.isRequired,type:X.string.isRequired,position:X.shape({x:X.number.isRequired,y:X.number.isRequired}).isRequired,targetPosition:X.shape({x:X.number,y:X.number}),createdAt:X.number.isRequired,duration:X.number.isRequired,name:X.string}).isRequired,player:X.object};function C3({gameState:e,activeSpecialists:t}){const{arenaWidth:r,arenaHeight:o,players:u,bullets:d,explosions:c}=e;return v.jsxs(v.Fragment,{children:[v.jsx(oi,{x:0,y:0,width:r,height:o,fill:"#0d0d10"}),v.jsx(oi,{x:0,y:0,width:r,height:o,fillRadialGradientStartPoint:{x:r/2,y:o/2},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:r/2,y:o/2},fillRadialGradientEndRadius:Math.max(r,o)/1.5,fillRadialGradientColorStops:[0,"rgba(50, 50, 70, 0.2)",1,"rgba(10, 10, 15, 0)"]}),v.jsx(Nx,{arenaWidth:r,arenaHeight:o}),v.jsx(oi,{x:0,y:0,width:r,height:o,stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:2}),v.jsxs(Ut,{children:[v.jsx(qe,{points:[r/2,o/2-80,r/2+70,o/2-40,r/2+70,o/2+40,r/2,o/2+80,r/2-70,o/2+40,r/2-70,o/2-40],closed:!0,stroke:"rgba(78, 201, 255, 0.4)",strokeWidth:1.5,dash:[10,5],shadowColor:"rgba(78, 201, 255, 0.6)",shadowBlur:10,shadowOpacity:.3}),v.jsx(qe,{points:[r/2,o/2-40,r/2+35,o/2-20,r/2+35,o/2+20,r/2,o/2+40,r/2-35,o/2+20,r/2-35,o/2-20],closed:!0,stroke:"rgba(255, 140, 0, 0.4)",strokeWidth:1,shadowColor:"rgba(255, 140, 0, 0.6)",shadowBlur:10,shadowOpacity:.3})]}),c.map((h,p)=>v.jsx(Dx,{explosion:h},"explosion-"+p)),d.map((h,p)=>{var f,x;return v.jsx(Ox,{bullet:h,tankType:(f=u.get(h.ownerId))==null?void 0:f.tank.type,color:(x=u.get(h.ownerId))==null?void 0:x.tank.color},"bullet-"+p)}),Array.from(t.values()).map(h=>v.jsx(_3,{effect:h,player:u.get(h.playerId)},h.id)),Array.from(u.entries()).map(([h,p])=>{const f=Ym[p.tank.type];return v.jsx(f,{x:p.x,y:p.y,rotation:p.direction,hp:p.hp,username:p.username,isDead:p.isDead,isSpecialistActive:p.tank.specialist.isActive},`tank-${h}`)})]})}C3.propTypes={gameState:X.shape({arenaWidth:X.number.isRequired,arenaHeight:X.number.isRequired,players:X.object.isRequired,bullets:X.arrayOf(X.object).isRequired,explosions:X.arrayOf(X.object).isRequired}).isRequired,activeSpecialists:X.object.isRequired};function P3({players:e}){const t=Array.from(e.entries()).map(([o,u])=>({id:o,username:u.username||`Player ${o.substr(0,4)}`,score:u.score||0})).sort((o,u)=>u.score-o.score).slice(0,5);return v.jsxs("div",{className:"absolute top-20 right-4 p-4 text-white shadow-lg w-64 border-l-2 border-white bg-[#1a1a20]/80 overflow-hidden",style:{clipPath:"polygon(0% 0%, 100% 0%, 95% 100%, 0% 100%, 5% 50%)"},children:[v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0.03)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.03)_50%,rgba(255,255,255,0.03)_75%,transparent_75%,transparent)] bg-[length:10px_10px]"}),v.jsx("div",{className:"absolute top-0 right-0 w-[40%] h-1 bg-white/50"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-[40%] h-1 bg-white/50"}),v.jsxs("h3",{className:"text-white font-mono uppercase tracking-wider text-sm mb-3 flex items-center z-10 relative",children:[v.jsx("span",{className:"border border-white/30 px-2 py-0.5 mr-2",children:"R-01"})," ","DATA//RANKING"]}),v.jsxs("div",{className:"space-y-2 z-10 relative",children:[t.map((o,u)=>v.jsxs("div",{className:`flex items-center justify-between py-1.5 
                            ${u!==t.length-1?"border-b border-white/10":""}`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:"w-6 h-6 flex items-center justify-center mr-2 relative",children:[v.jsx("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full",children:v.jsx("polygon",{points:"50,0 100,25 100,75 50,100 0,75 0,25",fill:u===0?"rgba(255, 255, 255, 0.8)":"#1a1a20",stroke:u===0?"white":"rgba(255, 255, 255, 0.3)",strokeWidth:"3"})}),v.jsx("span",{className:`z-10 font-mono font-bold ${u===0?"text-black":"text-white"}`,children:u+1})]}),v.jsx("span",{className:"truncate max-w-[120px] font-mono",title:o.username,children:o.username})]}),v.jsx("span",{className:"font-mono text-white bg-white/10 px-1 border border-white/20",children:o.score})]},o.id)),t.length===0&&v.jsx("div",{className:"text-center text-white/40 py-2 font-mono border border-white/10",children:"--NO DATA AVAILABLE--"})]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}P3.propTypes={players:X.oneOfType([X.instanceOf(Map),X.object]).isRequired};function n7(){return v.jsxs("div",{className:"w-full bg-black/60 backdrop-blur-md border-t border-white/20 py-3 px-4 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-5"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 pointer-events-none",children:v.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleY(-1)"},children:[v.jsx("path",{d:"M0 0L64 0L64 12L12 12L12 64L0 64L0 0Z",fill:"rgba(255, 255, 255, 0.1)"}),v.jsx("path",{d:"M0 0L60 0L60 2L2 2L2 60L0 60L0 0Z",fill:"rgba(255, 255, 255, 0.15)"})]})}),v.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 pointer-events-none",children:v.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(-1, -1)"},children:[v.jsx("path",{d:"M0 0L64 0L64 12L12 12L12 64L0 64L0 0Z",fill:"rgba(255, 255, 255, 0.1)"}),v.jsx("path",{d:"M0 0L60 0L60 2L2 2L2 60L0 60L0 0Z",fill:"rgba(255, 255, 255, 0.15)"})]})}),v.jsx("div",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-center relative",children:v.jsxs("div",{className:"flex items-center bg-white/5 border border-white/20 px-4 py-1",style:{clipPath:"polygon(2% 0%, 98% 0%, 100% 100%, 0% 100%)"},children:[v.jsx("div",{className:"border border-white/30 px-2 py-0.5 mr-3",children:v.jsx("span",{className:"text-white/70 font-mono text-xs",children:"INFO"})}),v.jsxs("div",{className:"text-sm text-white/80 font-mono",children:["JOIN BATTLE AT ",v.jsx("span",{className:"text-white font-bold",children:x0.clientUrl})]})]})}),v.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}function E3({playersCount:e,bulletsCount:t,showStats:r,onToggleStats:o}){return v.jsxs("div",{className:"w-full bg-black/60 backdrop-blur-md border-b border-white/20 shadow-lg z-10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-5"}),v.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 pointer-events-none",children:v.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M64 0L0 0L0 12L52 12L52 64L64 64L64 0Z",fill:"rgba(255, 255, 255, 0.1)",style:{transform:"scale(-1, 1)"}}),v.jsx("path",{d:"M64 0L4 0L4 2L62 2L62 60L64 60L64 0Z",fill:"rgba(255, 255, 255, 0.15)",style:{transform:"scale(-1, 1)"}})]})}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex flex-wrap items-center justify-between relative",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:"w-10 h-10 relative mr-3",children:[v.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:v.jsx("polygon",{points:"50,0 95,25 95,75 50,100 5,75 5,25",fill:"#1a1a20",stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:"2"})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),v.jsx("h1",{className:"text-3xl font-bold text-white font-mono tracking-wider",children:"TANK.IO"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[v.jsxs("div",{className:"px-3 py-1 bg-white/10 backdrop-blur-sm border border-white/20 flex items-center",style:{clipPath:"polygon(0% 0%, 100% 0%, 95% 100%, 0% 100%)"},children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),v.jsxs("span",{className:"text-white/70 font-mono",children:["PLAYERS: ",v.jsx("span",{className:"text-white",children:e})]})]}),v.jsxs("div",{className:"px-3 py-1 bg-white/10 backdrop-blur-sm border border-white/20 flex items-center",style:{clipPath:"polygon(5% 0%, 100% 0%, 100% 100%, 0% 100%)"},children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),v.jsxs("span",{className:"text-white/70 font-mono",children:["BULLETS: ",v.jsx("span",{className:"text-white",children:t})]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"flex items-center mr-2 bg-white/5 border border-white/10 px-2 py-1",children:[v.jsxs("div",{className:"relative w-4 h-4 mr-2",children:[v.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:v.jsx("polygon",{points:"50,5 95,25 95,75 50,95 5,75 5,25",stroke:"rgba(0, 255, 128, 0.5)",fill:"transparent",strokeWidth:"10",className:"animate-pulse"})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})]}),v.jsx("span",{className:"text-white/80 text-sm font-mono",children:"SPECTATOR MODE"})]}),v.jsxs("button",{onClick:o,className:"px-3 py-1 bg-white/10 hover:bg-white/15 text-white border border-white/20 transition-colors duration-200 flex items-center gap-1 backdrop-blur-sm",style:{clipPath:"polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%)"},children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),v.jsx("span",{className:"font-mono",children:r?"HIDE STATS":"SHOW STATS"})]})]})]}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}E3.propTypes={playersCount:X.number.isRequired,bulletsCount:X.number.isRequired,showStats:X.bool.isRequired,onToggleStats:X.func.isRequired};function k3({gameState:e,viewportSize:t}){return v.jsxs("div",{className:"absolute top-20 left-4 bg-black/60 backdrop-blur-sm text-white p-4 rounded-lg text-sm border border-white/10 shadow-lg max-w-xs",children:[v.jsx("h3",{className:"font-bold mb-2 text-indigo-300",children:"Game Stats"}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsx("div",{children:"Players:"}),v.jsx("div",{className:"text-right",children:e.players.size}),v.jsx("div",{children:"Bullets:"}),v.jsx("div",{className:"text-right",children:e.bullets.length}),v.jsx("div",{children:"Explosions:"}),v.jsx("div",{className:"text-right",children:e.explosions.length}),v.jsx("div",{children:"Arena Size:"}),v.jsxs("div",{className:"text-right",children:[e.arenaWidth,"",e.arenaHeight]}),v.jsx("div",{children:"Viewport:"}),v.jsxs("div",{className:"text-right",children:[t.width,"",t.height]})]})]})}k3.propTypes={gameState:X.shape({players:X.shape({size:X.number}),bullets:X.array,explosions:X.array,arenaWidth:X.number,arenaHeight:X.number}).isRequired,viewportSize:X.shape({width:X.number,height:X.number}).isRequired};function dg({error:e}){return v.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-6",children:v.jsxs("div",{className:"text-center bg-gray-800/80 backdrop-blur-sm p-8 rounded-xl shadow-2xl max-w-md border border-red-500/30",children:[v.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-red-500",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"Connection Failed"}),v.jsx("p",{className:"text-red-400 mb-6",children:e}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 font-medium",children:"Retry Connection"})]})})}dg.propTypes={error:X.string.isRequired};function r7(e){const[t,r]=ee.useState({width:0,height:0});return ee.useEffect(()=>{const o=()=>{if(!e.current)return;const u=e.current.clientWidth,d=e.current.clientHeight;r({width:u,height:d})};return setTimeout(o,200),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[e]),t}function i7(){const[e,t]=ee.useState({players:new Map,bullets:[],explosions:[],arenaWidth:2e3,arenaHeight:1200}),[r,o]=ee.useState(!0),[u,d]=ee.useState(null),[c,h]=ee.useState(!1),p=ee.useRef(null),f=ee.useRef(null),x=r7(f),m=ee.useRef(null),[w,S]=ee.useState(new Map);return ee.useEffect(()=>{m.current&&x.width&&x.height&&m.current.send("updateArenaSize",{width:x.width,height:x.height})},[x.width,x.height]),ee.useEffect(()=>{const _=new Ex.Client(x0.wsUrl);return o(!0),_.joinOrCreate("game",{isSpectator:!0}).then(R=>{o(!1),m.current=R,x.width&&x.height&&R.send("updateArenaSize",{width:x.width,height:x.height}),R.onStateChange(E=>{t({players:E.players,bullets:Array.from(E.bullets),explosions:Array.from(E.explosions),arenaWidth:E.arenaWidth,arenaHeight:E.arenaHeight});const A=new Map;E.players.forEach((k,C)=>{var N,j;(j=(N=k.tank)==null?void 0:N.specialist)!=null&&j.isActive&&A.set(C,{id:`specialist-${C}`,playerId:C,type:k.tank.specialist.effectType,position:{x:k.x,y:k.y},radius:k.tank.specialist.effectRadius,createdAt:k.tank.specialist.lastActivationTime,duration:k.tank.specialist.duration,name:k.tank.specialist.name})}),S(A)})}).catch(R=>{console.error("Could not join room as spectator:",R),o(!1),d("Failed to connect to game server")}),()=>{m.current&&m.current.leave()}},[]),r?v.jsx(Rh,{title:"Connecting to the battlefield",message:"Establishing secure connection to the tactical warfare network... Please wait."}):u?v.jsx(dg,{error:u}):v.jsxs("div",{className:"flex flex-col h-screen bg-[#141418] overflow-hidden relative",children:[v.jsx(E3,{playersCount:e.players.size,bulletsCount:e.bullets.length,showStats:c,onToggleStats:()=>h(!c)}),v.jsxs("div",{ref:f,className:"flex-1 w-full overflow-hidden",children:[v.jsx(Hm,{ref:p,width:x.width||window.innerWidth,height:x.height||window.innerHeight-100,className:"w-full h-full",children:v.jsx(qm,{children:v.jsx(C3,{gameState:e,activeSpecialists:w})})}),v.jsx(P3,{players:e.players}),c&&v.jsx(k3,{gameState:e,viewportSize:x}),v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(255,255,255,0.02)_50%)] bg-[length:100%_2px] pointer-events-none z-10"}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 opacity-10 pointer-events-none",children:v.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[v.jsx("polygon",{points:"50,3 97,25 97,75 50,97 3,75 3,25",stroke:"rgba(255,255,255,0.2)",strokeWidth:"1"}),v.jsx("polygon",{points:"50,15 85,30 85,70 50,85 15,70 15,30",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),v.jsx("polygon",{points:"50,30 70,40 70,60 50,70 30,60 30,40",stroke:"rgba(255,255,255,0.25)",strokeWidth:"1"})]})})]}),v.jsx(n7,{}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}const hg=ee.createContext({});function fg(e){const t=ee.useRef(null);return t.current===null&&(t.current=e()),t.current}const pg=typeof window<"u",R3=pg?ee.useLayoutEffect:ee.useEffect,T0=ee.createContext(null),mg=ee.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class s7 extends ee.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const o=r.offsetParent,u=o instanceof HTMLElement&&o.offsetWidth||0,d=this.props.sizeRef.current;d.height=r.offsetHeight||0,d.width=r.offsetWidth||0,d.top=r.offsetTop,d.left=r.offsetLeft,d.right=u-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o7({children:e,isPresent:t,anchorX:r}){const o=ee.useId(),u=ee.useRef(null),d=ee.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=ee.useContext(mg);return ee.useInsertionEffect(()=>{const{width:h,height:p,top:f,left:x,right:m}=d.current;if(t||!u.current||!h||!p)return;const w=r==="left"?`left: ${x}`:`right: ${m}`;u.current.dataset.motionPopId=o;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[t]),v.jsx(s7,{isPresent:t,childRef:u,sizeRef:d,children:ee.cloneElement(e,{ref:u})})}const a7=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:u,presenceAffectsLayout:d,mode:c,anchorX:h})=>{const p=fg(l7),f=ee.useId(),x=ee.useCallback(w=>{p.set(w,!0);for(const S of p.values())if(!S)return;o&&o()},[p,o]),m=ee.useMemo(()=>({id:f,initial:t,isPresent:r,custom:u,onExitComplete:x,register:w=>(p.set(w,!1),()=>p.delete(w))}),d?[Math.random(),x]:[r,x]);return ee.useMemo(()=>{p.forEach((w,S)=>p.set(S,!1))},[r]),ee.useEffect(()=>{!r&&!p.size&&o&&o()},[r]),c==="popLayout"&&(e=v.jsx(o7,{isPresent:r,anchorX:h,children:e})),v.jsx(T0.Provider,{value:m,children:e})};function l7(){return new Map}function T3(e=!0){const t=ee.useContext(T0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:u}=t,d=ee.useId();ee.useEffect(()=>{if(e)return u(d)},[e]);const c=ee.useCallback(()=>e&&o&&o(d),[d,o,e]);return!r&&o?[!1,c]:[!0]}const Vf=e=>e.key||"";function X2(e){const t=[];return ee.Children.forEach(e,r=>{ee.isValidElement(r)&&t.push(r)}),t}const M3=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:d="sync",propagate:c=!1,anchorX:h="left"})=>{const[p,f]=T3(c),x=ee.useMemo(()=>X2(e),[e]),m=c&&!p?[]:x.map(Vf),w=ee.useRef(!0),S=ee.useRef(x),_=fg(()=>new Map),[R,E]=ee.useState(x),[A,k]=ee.useState(x);R3(()=>{w.current=!1,S.current=x;for(let j=0;j<A.length;j++){const $=Vf(A[j]);m.includes($)?_.delete($):_.get($)!==!0&&_.set($,!1)}},[A,m.length,m.join("-")]);const C=[];if(x!==R){let j=[...x];for(let $=0;$<A.length;$++){const B=A[$],L=Vf(B);m.includes(L)||(j.splice($,0,B),C.push(B))}return d==="wait"&&C.length&&(j=C),k(X2(j)),E(x),null}const{forceRender:N}=ee.useContext(hg);return v.jsx(v.Fragment,{children:A.map(j=>{const $=Vf(j),B=c&&!p?!1:x===A||m.includes($),L=()=>{if(_.has($))_.set($,!0);else return;let H=!0;_.forEach(U=>{U||(H=!1)}),H&&(N==null||N(),k(S.current),c&&(f==null||f()),o&&o())};return v.jsx(a7,{isPresent:B,initial:!w.current||r?void 0:!1,custom:t,presenceAffectsLayout:u,mode:d,onExitComplete:B?void 0:L,anchorX:h,children:j},$)})})};function gg(e,t){e.indexOf(t)===-1&&e.push(t)}function vg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Di=e=>e;let b3=Di;const u7={useManualTiming:!1};function yg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wu=(e,t,r)=>{const o=t-e;return o===0?1:(r-e)/o};class xg{constructor(){this.subscriptions=[]}add(t){return gg(this.subscriptions,t),()=>vg(this.subscriptions,t)}notify(t,r,o){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](t,r,o);else for(let d=0;d<u;d++){const c=this.subscriptions[d];c&&c(t,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Do=e=>e*1e3,Fo=e=>e/1e3;function N3(e,t){return t?e*(1e3/t):0}const c7=yg(()=>window.ScrollTimeline!==void 0);class d7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=r}attachTimeline(t,r){const o=this.animations.map(u=>{if(c7()&&u.attachTimeline)return u.attachTimeline(t);if(typeof r=="function")return r(u)});return()=>{o.forEach((u,d)=>{u&&u(),this.animations[d].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class h7 extends d7{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function wg(e,t){return e?e[t]||e.default||e:void 0}const mm=2e4;function A3(e){let t=0;const r=50;let o=e.next(t);for(;!o.done&&t<mm;)t+=r,o=e.next(t);return t>=mm?1/0:t}function Sg(e){return typeof e=="function"}function Q2(e,t){e.timeline=t,e.onfinish=null}const _g=e=>Array.isArray(e)&&typeof e[0]=="number",f7={linearEasing:void 0};function p7(e,t){const r=yg(e);return()=>{var o;return(o=f7[t])!==null&&o!==void 0?o:r()}}const r0=p7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),j3=(e,t,r=10)=>{let o="";const u=Math.max(Math.round(t/r),2);for(let d=0;d<u;d++)o+=e(Wu(0,u-1,d))+", ";return`linear(${o.substring(0,o.length-2)})`};function I3(e){return!!(typeof e=="function"&&r0()||!e||typeof e=="string"&&(e in gm||r0())||_g(e)||Array.isArray(e)&&e.every(I3))}const Qd=([e,t,r,o])=>`cubic-bezier(${e}, ${t}, ${r}, ${o})`,gm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qd([0,.65,.55,1]),circOut:Qd([.55,0,1,.45]),backIn:Qd([.31,.01,.66,-.59]),backOut:Qd([.33,1.53,.69,.99])};function L3(e,t){if(e)return typeof e=="function"&&r0()?j3(e,t):_g(e)?Qd(e):Array.isArray(e)?e.map(r=>L3(r,t)||gm.easeOut):gm[e]}const Bf=["read","resolveKeyframes","update","preRender","render","postRender"],Z2={value:null};function m7(e,t){let r=new Set,o=new Set,u=!1,d=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},p=0;function f(m){c.has(m)&&(x.schedule(m),e()),p++,m(h)}const x={schedule:(m,w=!1,S=!1)=>{const R=S&&u?r:o;return w&&c.add(m),R.has(m)||R.add(m),m},cancel:m=>{o.delete(m),c.delete(m)},process:m=>{if(h=m,u){d=!0;return}u=!0,[r,o]=[o,r],r.forEach(f),t&&Z2.value&&Z2.value.frameloop[t].push(p),p=0,r.clear(),u=!1,d&&(d=!1,x.process(m))}};return x}const g7=40;function O3(e,t){let r=!1,o=!0;const u={delta:0,timestamp:0,isProcessing:!1},d=()=>r=!0,c=Bf.reduce((A,k)=>(A[k]=m7(d,t?k:void 0),A),{}),{read:h,resolveKeyframes:p,update:f,preRender:x,render:m,postRender:w}=c,S=()=>{const A=performance.now();r=!1,u.delta=o?1e3/60:Math.max(Math.min(A-u.timestamp,g7),1),u.timestamp=A,u.isProcessing=!0,h.process(u),p.process(u),f.process(u),x.process(u),m.process(u),w.process(u),u.isProcessing=!1,r&&t&&(o=!1,e(S))},_=()=>{r=!0,o=!0,u.isProcessing||e(S)};return{schedule:Bf.reduce((A,k)=>{const C=c[k];return A[k]=(N,j=!1,$=!1)=>(r||_(),C.schedule(N,j,$)),A},{}),cancel:A=>{for(let k=0;k<Bf.length;k++)c[Bf[k]].cancel(A)},state:u,steps:c}}const{schedule:an,cancel:Fa,state:_r,steps:Vp}=O3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0),{schedule:Cg}=O3(queueMicrotask,!1);let Hf;function v7(){Hf=void 0}const Ys={now:()=>(Hf===void 0&&Ys.set(_r.isProcessing||u7.useManualTiming?_r.timestamp:performance.now()),Hf),set:e=>{Hf=e,queueMicrotask(v7)}},Ss={x:!1,y:!1};function D3(){return Ss.x||Ss.y}function y7(e){return e==="x"||e==="y"?Ss[e]?null:(Ss[e]=!0,()=>{Ss[e]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function x7(e,t,r){var o;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let u=document;const d=(o=void 0)!==null&&o!==void 0?o:u.querySelectorAll(e);return d?Array.from(d):[]}return Array.from(e)}function F3(e,t){const r=x7(e),o=new AbortController,u={passive:!0,...t,signal:o.signal};return[r,u,()=>o.abort()]}function J2(e){return!(e.pointerType==="touch"||D3())}function w7(e,t,r={}){const[o,u,d]=F3(e,r),c=h=>{if(!J2(h))return;const{target:p}=h,f=t(p,h);if(typeof f!="function"||!p)return;const x=m=>{J2(m)&&(f(m),p.removeEventListener("pointerleave",x))};p.addEventListener("pointerleave",x,u)};return o.forEach(h=>{h.addEventListener("pointerenter",c,u)}),d}function ey(e,t){const r=`${t}PointerCapture`;if(e.target instanceof Element&&r in e.target&&e.pointerId!==void 0)try{e.target[r](e.pointerId)}catch{}}const z3=(e,t)=>t?e===t?!0:z3(e,t.parentElement):!1,Pg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,S7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _7(e){return S7.has(e.tagName)||e.tabIndex!==-1}const Zd=new WeakSet;function ty(e){return t=>{t.key==="Enter"&&e(t)}}function Bp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C7=(e,t)=>{const r=e.currentTarget;if(!r)return;const o=ty(()=>{if(Zd.has(r))return;Bp(r,"down");const u=ty(()=>{Bp(r,"up")}),d=()=>Bp(r,"cancel");r.addEventListener("keyup",u,t),r.addEventListener("blur",d,t)});r.addEventListener("keydown",o,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),t)};function ny(e){return Pg(e)&&!D3()}function P7(e,t,r={}){const[o,u,d]=F3(e,r),c=h=>{const p=h.currentTarget;if(!p||!ny(h)||Zd.has(p))return;Zd.add(p),ey(h,"set");const f=t(p,h),x=(S,_)=>{p.removeEventListener("pointerup",m),p.removeEventListener("pointercancel",w),ey(S,"release"),!(!ny(S)||!Zd.has(p))&&(Zd.delete(p),typeof f=="function"&&f(S,{success:_}))},m=S=>{(S.isTrusted?E7(S,p instanceof Element?p.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?x(S,!1):x(S,!(p instanceof Element)||z3(p,S.target))},w=S=>{x(S,!1)};p.addEventListener("pointerup",m,u),p.addEventListener("pointercancel",w,u),p.addEventListener("lostpointercapture",w,u)};return o.forEach(h=>{h=r.useGlobalTarget?window:h;let p=!1;h instanceof HTMLElement&&(p=!0,!_7(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",c,u),p&&h.addEventListener("focus",f=>C7(f,u),u)}),d}function E7(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}const ry=30,k7=e=>!isNaN(parseFloat(e));class R7{constructor(t,r={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,u=!0)=>{const d=Ys.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),u&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=k7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new xg);const o=this.events[t].add(r);return t==="change"?()=>{o(),an.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ry)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ry);return N3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xh(e,t){return new R7(e,t)}const U3=ee.createContext({strict:!1}),iy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const e in iy)qu[e]={isEnabled:t=>iy[e].some(r=>!!t[r])};function T7(e){for(const t in e)qu[t]={...qu[t],...e[t]}}const M7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M7.has(e)}let V3=e=>!i0(e);function b7(e){e&&(V3=t=>t.startsWith("on")?!i0(t):e(t))}try{b7(require("@emotion/is-prop-valid").default)}catch{}function N7(e,t,r){const o={};for(const u in e)u==="values"&&typeof e.values=="object"||(V3(u)||r===!0&&i0(u)||!t&&!i0(u)||e.draggable&&u.startsWith("onDrag"))&&(o[u]=e[u]);return o}function A7(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...o)=>e(...o);return new Proxy(r,{get:(o,u)=>u==="create"?e:(t.has(u)||t.set(u,e(u)),t.get(u))})}const M0=ee.createContext({});function b0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wh(e){return typeof e=="string"||Array.isArray(e)}const Eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kg=["initial",...Eg];function N0(e){return b0(e.animate)||kg.some(t=>wh(e[t]))}function B3(e){return!!(N0(e)||e.variants)}function j7(e,t){if(N0(e)){const{initial:r,animate:o}=e;return{initial:r===!1||wh(r)?r:void 0,animate:wh(o)?o:void 0}}return e.inherit!==!1?t:{}}function I7(e){const{initial:t,animate:r}=j7(e,ee.useContext(M0));return ee.useMemo(()=>({initial:t,animate:r}),[sy(t),sy(r)])}function sy(e){return Array.isArray(e)?e.join(" "):e}const L7=Symbol.for("motionComponentSymbol");function Du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O7(e,t,r){return ee.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),r&&(typeof r=="function"?r(o):Du(r)&&(r.current=o))},[t])}const Rg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D7="framerAppearId",$3="data-"+Rg(D7),G3=ee.createContext({});function F7(e,t,r,o,u){var d,c;const{visualElement:h}=ee.useContext(M0),p=ee.useContext(U3),f=ee.useContext(T0),x=ee.useContext(mg).reducedMotion,m=ee.useRef(null);o=o||p.renderer,!m.current&&o&&(m.current=o(e,{visualState:t,parent:h,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:x}));const w=m.current,S=ee.useContext(G3);w&&!w.projection&&u&&(w.type==="html"||w.type==="svg")&&z7(m.current,r,u,S);const _=ee.useRef(!1);ee.useInsertionEffect(()=>{w&&_.current&&w.update(r,f)});const R=r[$3],E=ee.useRef(!!R&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,R))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,R)));return R3(()=>{w&&(_.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Cg.render(w.render),E.current&&w.animationState&&w.animationState.animateChanges())}),ee.useEffect(()=>{w&&(!E.current&&w.animationState&&w.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,R)}),E.current=!1))}),w}function z7(e,t,r,o){const{layoutId:u,layout:d,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:W3(e.parent)),e.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!c||h&&Du(h),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:f})}function W3(e){if(e)return e.options.allowProjection!==!1?e.projection:W3(e.parent)}function U7({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:o,Component:u}){var d,c;e&&T7(e);function h(f,x){let m;const w={...ee.useContext(mg),...f,layoutId:V7(f)},{isStatic:S}=w,_=I7(f),R=o(f,S);if(!S&&pg){B7();const E=$7(w);m=E.MeasureLayout,_.visualElement=F7(u,R,w,t,E.ProjectionNode)}return v.jsxs(M0.Provider,{value:_,children:[m&&_.visualElement?v.jsx(m,{visualElement:_.visualElement,...w}):null,r(u,f,O7(R,_.visualElement,x),R,S,_.visualElement)]})}h.displayName=`motion.${typeof u=="string"?u:`create(${(c=(d=u.displayName)!==null&&d!==void 0?d:u.name)!==null&&c!==void 0?c:""})`}`;const p=ee.forwardRef(h);return p[L7]=u,p}function V7({layoutId:e}){const t=ee.useContext(hg).id;return t&&e!==void 0?t+"-"+e:e}function B7(e,t){ee.useContext(U3).strict}function $7(e){const{drag:t,layout:r}=qu;if(!t&&!r)return{};const o={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const q3=e=>t=>typeof t=="string"&&t.startsWith(e),Tg=q3("--"),G7=q3("var(--"),Mg=e=>G7(e)?W7.test(e.split("/*")[0].trim()):!1,W7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sh={};function q7(e){for(const t in e)Sh[t]=e[t],Tg(t)&&(Sh[t].isCSSVariable=!0)}const Zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ul=new Set(Zu);function H3(e,{layout:t,layoutId:r}){return Ul.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sh[e]||e==="opacity")}const Fr=e=>!!(e&&e.getVelocity),K3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zo=(e,t,r)=>r>t?t:r<e?e:r,Ju={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_h={...Ju,transform:e=>zo(0,1,e)},$f={...Ju,default:1},Nh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Na=Nh("deg"),Xs=Nh("%"),rt=Nh("px"),H7=Nh("vh"),K7=Nh("vw"),oy={...Xs,parse:e=>Xs.parse(e)/100,transform:e=>Xs.transform(e*100)},Y7={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt},X7={rotate:Na,rotateX:Na,rotateY:Na,rotateZ:Na,scale:$f,scaleX:$f,scaleY:$f,scaleZ:$f,skew:Na,skewX:Na,skewY:Na,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:_h,originX:oy,originY:oy,originZ:rt},ay={...Ju,transform:Math.round},bg={...Y7,...X7,zIndex:ay,size:rt,fillOpacity:_h,strokeOpacity:_h,numOctaves:ay},Q7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z7=Zu.length;function J7(e,t,r){let o="",u=!0;for(let d=0;d<Z7;d++){const c=Zu[d],h=e[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||r){const f=K3(h,bg[c]);if(!p){u=!1;const x=Q7[c]||c;o+=`${x}(${f}) `}r&&(t[c]=f)}}return o=o.trim(),r?o=r(t,u?"":o):u&&(o="none"),o}function Ng(e,t,r){const{style:o,vars:u,transformOrigin:d}=e;let c=!1,h=!1;for(const p in t){const f=t[p];if(Ul.has(p)){c=!0;continue}else if(Tg(p)){u[p]=f;continue}else{const x=K3(f,bg[p]);p.startsWith("origin")?(h=!0,d[p]=x):o[p]=x}}if(t.transform||(c||r?o.transform=J7(t,e.transform,r):o.transform&&(o.transform="none")),h){const{originX:p="50%",originY:f="50%",originZ:x=0}=d;o.transformOrigin=`${p} ${f} ${x}`}}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y3(e,t,r){for(const o in t)!Fr(t[o])&&!H3(o,r)&&(e[o]=t[o])}function eC({transformTemplate:e},t){return ee.useMemo(()=>{const r=Ag();return Ng(r,t,e),Object.assign({},r.vars,r.style)},[t])}function tC(e,t){const r=e.style||{},o={};return Y3(o,r,e),Object.assign(o,eC(e,t)),o}function nC(e,t){const r={},o=tC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const rC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jg(e){return typeof e!="string"||e.includes("-")?!1:!!(rC.indexOf(e)>-1||/[A-Z]/u.test(e))}const iC={offset:"stroke-dashoffset",array:"stroke-dasharray"},sC={offset:"strokeDashoffset",array:"strokeDasharray"};function oC(e,t,r=1,o=0,u=!0){e.pathLength=1;const d=u?iC:sC;e[d.offset]=rt.transform(-o);const c=rt.transform(t),h=rt.transform(r);e[d.array]=`${c} ${h}`}function ly(e,t,r){return typeof e=="string"?e:rt.transform(t+r*e)}function aC(e,t,r){const o=ly(t,e.x,e.width),u=ly(r,e.y,e.height);return`${o} ${u}`}function Ig(e,{attrX:t,attrY:r,attrScale:o,originX:u,originY:d,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...f},x,m){if(Ng(e,f,m),x){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:S,dimensions:_}=e;w.transform&&(_&&(S.transform=w.transform),delete w.transform),_&&(u!==void 0||d!==void 0||S.transform)&&(S.transformOrigin=aC(_,u!==void 0?u:.5,d!==void 0?d:.5)),t!==void 0&&(w.x=t),r!==void 0&&(w.y=r),o!==void 0&&(w.scale=o),c!==void 0&&oC(w,c,h,p,!1)}const X3=()=>({...Ag(),attrs:{}}),Lg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lC(e,t,r,o){const u=ee.useMemo(()=>{const d=X3();return Ig(d,t,Lg(o),e.transformTemplate),{...d.attrs,style:{...d.style}}},[t]);if(e.style){const d={};Y3(d,e.style,e),u.style={...d,...u.style}}return u}function uC(e=!1){return(r,o,u,{latestValues:d},c)=>{const p=(jg(r)?lC:nC)(o,d,c,r),f=N7(o,typeof r=="string",e),x=r!==ee.Fragment?{...f,...p,ref:u}:{},{children:m}=o,w=ee.useMemo(()=>Fr(m)?m.get():m,[m]);return ee.createElement(r,{...x,children:w})}}function uy(e){const t=[{},{}];return e==null||e.values.forEach((r,o)=>{t[0][o]=r.get(),t[1][o]=r.getVelocity()}),t}function Og(e,t,r,o){if(typeof t=="function"){const[u,d]=uy(o);t=t(r!==void 0?r:e.custom,u,d)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[u,d]=uy(o);t=t(r!==void 0?r:e.custom,u,d)}return t}const vm=e=>Array.isArray(e),cC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dC=e=>vm(e)?e[e.length-1]||0:e;function Kf(e){const t=Fr(e)?e.get():e;return cC(t)?t.toValue():t}function hC({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},o,u,d){const c={latestValues:fC(o,u,d,e),renderState:t()};return r&&(c.onMount=h=>r({props:o,current:h,...c}),c.onUpdate=h=>r(h)),c}const Q3=e=>(t,r)=>{const o=ee.useContext(M0),u=ee.useContext(T0),d=()=>hC(e,t,o,u);return r?d():fg(d)};function fC(e,t,r,o){const u={},d=o(e,{});for(const w in d)u[w]=Kf(d[w]);let{initial:c,animate:h}=e;const p=N0(e),f=B3(e);t&&f&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let x=r?r.initial===!1:!1;x=x||c===!1;const m=x?h:c;if(m&&typeof m!="boolean"&&!b0(m)){const w=Array.isArray(m)?m:[m];for(let S=0;S<w.length;S++){const _=Og(e,w[S]);if(_){const{transitionEnd:R,transition:E,...A}=_;for(const k in A){let C=A[k];if(Array.isArray(C)){const N=x?C.length-1:0;C=C[N]}C!==null&&(u[k]=C)}for(const k in R)u[k]=R[k]}}}return u}function Dg(e,t,r){var o;const{style:u}=e,d={};for(const c in u)(Fr(u[c])||t.style&&Fr(t.style[c])||H3(c,e)||((o=r==null?void 0:r.getValue(c))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(d[c]=u[c]);return d}const pC={useVisualState:Q3({scrapeMotionValuesFromProps:Dg,createRenderState:Ag})};function Z3(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function J3(e,{style:t,vars:r},o,u){Object.assign(e.style,t,u&&u.getProjectionStyles(o));for(const d in r)e.style.setProperty(d,r[d])}const e4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t4(e,t,r,o){J3(e,t,void 0,o);for(const u in t.attrs)e.setAttribute(e4.has(u)?u:Rg(u),t.attrs[u])}function n4(e,t,r){const o=Dg(e,t,r);for(const u in e)if(Fr(e[u])||Fr(t[u])){const d=Zu.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;o[d]=e[u]}return o}const cy=["x","y","width","height","cx","cy","r"],mC={useVisualState:Q3({scrapeMotionValuesFromProps:n4,createRenderState:X3,onUpdate:({props:e,prevProps:t,current:r,renderState:o,latestValues:u})=>{if(!r)return;let d=!!e.drag;if(!d){for(const h in u)if(Ul.has(h)){d=!0;break}}if(!d)return;let c=!t;if(t)for(let h=0;h<cy.length;h++){const p=cy[h];e[p]!==t[p]&&(c=!0)}c&&an.read(()=>{Z3(r,o),an.render(()=>{Ig(o,u,Lg(r.tagName),e.transformTemplate),t4(r,o)})})}})};function gC(e,t){return function(o,{forwardMotionProps:u}={forwardMotionProps:!1}){const c={...jg(o)?mC:pC,preloadedFeatures:e,useRender:uC(u),createVisualElement:t,Component:o};return U7(c)}}function Ch(e,t,r){const o=e.getProps();return Og(o,t,r!==void 0?r:o.custom,e)}const r4=new Set(["width","height","top","left","right","bottom",...Zu]);function vC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,xh(r))}function yC(e,t){const r=Ch(e,t);let{transitionEnd:o={},transition:u={},...d}=r||{};d={...d,...o};for(const c in d){const h=dC(d[c]);vC(e,c,h)}}function xC(e){return!!(Fr(e)&&e.add)}function ym(e,t){const r=e.getValue("willChange");if(xC(r))return r.add(t)}function i4(e){return e.props[$3]}const s4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,wC=1e-7,SC=12;function _C(e,t,r,o,u){let d,c,h=0;do c=t+(r-t)/2,d=s4(c,o,u)-e,d>0?r=c:t=c;while(Math.abs(d)>wC&&++h<SC);return c}function Ah(e,t,r,o){if(e===t&&r===o)return Di;const u=d=>_C(d,0,1,e,r);return d=>d===0||d===1?d:s4(u(d),t,o)}const o4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,a4=e=>t=>1-e(1-t),l4=Ah(.33,1.53,.69,.99),Fg=a4(l4),u4=o4(Fg),c4=e=>(e*=2)<1?.5*Fg(e):.5*(2-Math.pow(2,-10*(e-1))),zg=e=>1-Math.sin(Math.acos(e)),d4=a4(zg),h4=o4(zg),f4=e=>/^0[^.\s]+$/u.test(e);function CC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||f4(e):!0}const nh=e=>Math.round(e*1e5)/1e5,Ug=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PC(e){return e==null}const EC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vg=(e,t)=>r=>!!(typeof r=="string"&&EC.test(r)&&r.startsWith(e)||t&&!PC(r)&&Object.prototype.hasOwnProperty.call(r,t)),p4=(e,t,r)=>o=>{if(typeof o!="string")return o;const[u,d,c,h]=o.match(Ug);return{[e]:parseFloat(u),[t]:parseFloat(d),[r]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},kC=e=>zo(0,255,e),$p={...Ju,transform:e=>Math.round(kC(e))},Il={test:Vg("rgb","red"),parse:p4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:o=1})=>"rgba("+$p.transform(e)+", "+$p.transform(t)+", "+$p.transform(r)+", "+nh(_h.transform(o))+")"};function RC(e){let t="",r="",o="",u="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),o=e.substring(5,7),u=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),o=e.substring(3,4),u=e.substring(4,5),t+=t,r+=r,o+=o,u+=u),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:u?parseInt(u,16)/255:1}}const xm={test:Vg("#"),parse:RC,transform:Il.transform},Fu={test:Vg("hsl","hue"),parse:p4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:o=1})=>"hsla("+Math.round(e)+", "+Xs.transform(nh(t))+", "+Xs.transform(nh(r))+", "+nh(_h.transform(o))+")"},Dr={test:e=>Il.test(e)||xm.test(e)||Fu.test(e),parse:e=>Il.test(e)?Il.parse(e):Fu.test(e)?Fu.parse(e):xm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Il.transform(e):Fu.transform(e)},TC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MC(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ug))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(TC))===null||r===void 0?void 0:r.length)||0)>0}const m4="number",g4="color",bC="var",NC="var(",dy="${}",AC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ph(e){const t=e.toString(),r=[],o={color:[],number:[],var:[]},u=[];let d=0;const h=t.replace(AC,p=>(Dr.test(p)?(o.color.push(d),u.push(g4),r.push(Dr.parse(p))):p.startsWith(NC)?(o.var.push(d),u.push(bC),r.push(p)):(o.number.push(d),u.push(m4),r.push(parseFloat(p))),++d,dy)).split(dy);return{values:r,split:h,indexes:o,types:u}}function v4(e){return Ph(e).values}function y4(e){const{split:t,types:r}=Ph(e),o=t.length;return u=>{let d="";for(let c=0;c<o;c++)if(d+=t[c],u[c]!==void 0){const h=r[c];h===m4?d+=nh(u[c]):h===g4?d+=Dr.transform(u[c]):d+=u[c]}return d}}const jC=e=>typeof e=="number"?0:e;function IC(e){const t=v4(e);return y4(e)(t.map(jC))}const za={test:MC,parse:v4,createTransformer:y4,getAnimatableNone:IC},LC=new Set(["brightness","contrast","saturate","opacity"]);function OC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=r.match(Ug)||[];if(!o)return e;const u=r.replace(o,"");let d=LC.has(t)?1:0;return o!==r&&(d*=100),t+"("+d+u+")"}const DC=/\b([a-z-]*)\(.*?\)/gu,wm={...za,getAnimatableNone:e=>{const t=e.match(DC);return t?t.map(OC).join(" "):e}},FC={...bg,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:wm,WebkitFilter:wm},x4=e=>FC[e];function w4(e,t){let r=x4(e);return r!==wm&&(r=za),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const zC=new Set(["auto","none","0"]);function UC(e,t,r){let o=0,u;for(;o<e.length&&!u;){const d=e[o];typeof d=="string"&&!zC.has(d)&&Ph(d).values.length&&(u=e[o]),o++}if(u&&r)for(const d of t)e[d]=w4(r,u)}const Ll=e=>e*180/Math.PI,Sm=e=>{const t=Ll(Math.atan2(e[1],e[0]));return _m(t)},VC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Sm,rotateZ:Sm,skewX:e=>Ll(Math.atan(e[1])),skewY:e=>Ll(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_m=e=>(e=e%360,e<0&&(e+=360),e),hy=Sm,fy=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),py=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fy,scaleY:py,scale:e=>(fy(e)+py(e))/2,rotateX:e=>_m(Ll(Math.atan2(e[6],e[5]))),rotateY:e=>_m(Ll(Math.atan2(-e[2],e[0]))),rotateZ:hy,rotate:hy,skewX:e=>Ll(Math.atan(e[4])),skewY:e=>Ll(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function my(e){return e.includes("scale")?1:0}function Cm(e,t){if(!e||e==="none")return my(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,u;if(r)o=BC,u=r;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=VC,u=h}if(!u)return my(t);const d=o[t],c=u[1].split(",").map(GC);return typeof d=="function"?d(c):c[d]}const $C=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Cm(r,t)};function GC(e){return parseFloat(e.trim())}const gy=e=>e===Ju||e===rt,WC=new Set(["x","y","z"]),qC=Zu.filter(e=>!WC.has(e));function HC(e){const t=[];return qC.forEach(r=>{const o=e.getValue(r);o!==void 0&&(t.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),t}const Hu={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cm(t,"x"),y:(e,{transform:t})=>Cm(t,"y")};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const Dl=new Set;let Pm=!1,Em=!1;function S4(){if(Em){const e=Array.from(Dl).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),r=new Map;t.forEach(o=>{const u=HC(o);u.length&&(r.set(o,u),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const u=r.get(o);u&&u.forEach(([d,c])=>{var h;(h=o.getValue(d))===null||h===void 0||h.set(c)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Em=!1,Pm=!1,Dl.forEach(e=>e.complete()),Dl.clear()}function _4(){Dl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Em=!0)})}function KC(){_4(),S4()}class Bg{constructor(t,r,o,u,d,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=o,this.motionValue=u,this.element=d,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Dl.add(this),Pm||(Pm=!0,an.read(_4),an.resolveKeyframes(S4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:o,motionValue:u}=this;for(let d=0;d<t.length;d++)if(t[d]===null)if(d===0){const c=u==null?void 0:u.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(o&&r){const p=o.readValue(r,h);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=h),u&&c===void 0&&u.set(t[0])}else t[d]=t[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Dl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Dl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const C4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),YC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XC(e){const t=YC.exec(e);if(!t)return[,];const[,r,o,u]=t;return[`--${r??o}`,u]}function P4(e,t,r=1){const[o,u]=XC(e);if(!o)return;const d=window.getComputedStyle(t).getPropertyValue(o);if(d){const c=d.trim();return C4(c)?parseFloat(c):c}return Mg(u)?P4(u,t,r+1):u}const E4=e=>t=>t.test(e),QC={test:e=>e==="auto",parse:e=>e},k4=[Ju,rt,Xs,Na,K7,H7,QC],vy=e=>k4.find(E4(e));class R4 extends Bg{constructor(t,r,o,u,d){super(t,r,o,u,d,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let f=t[p];if(typeof f=="string"&&(f=f.trim(),Mg(f))){const x=P4(f,r.current);x!==void 0&&(t[p]=x),p===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!r4.has(o)||t.length!==2)return;const[u,d]=t,c=vy(u),h=vy(d);if(c!==h)if(gy(c)&&gy(h))for(let p=0;p<t.length;p++){const f=t[p];typeof f=="string"&&(t[p]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,o=[];for(let u=0;u<t.length;u++)CC(t[u])&&o.push(u);o.length&&UC(t,o,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hu[o](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const u=r[r.length-1];u!==void 0&&t.getValue(o,u).jump(u,!1)}measureEndState(){var t;const{element:r,name:o,unresolvedKeyframes:u}=this;if(!r||!r.current)return;const d=r.getValue(o);d&&d.jump(this.measuredOrigin,!1);const c=u.length-1,h=u[c];u[c]=Hu[o](r.measureViewportBox(),window.getComputedStyle(r.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([p,f])=>{r.getValue(p).set(f)}),this.resolveNoneKeyframes()}}const yy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(za.test(e)||e==="0")&&!e.startsWith("url("));function ZC(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function JC(e,t,r,o){const u=e[0];if(u===null)return!1;if(t==="display"||t==="visibility")return!0;const d=e[e.length-1],c=yy(u,t),h=yy(d,t);return!c||!h?!1:ZC(e)||(r==="spring"||Sg(r))&&o}const eP=e=>e!==null;function A0(e,{repeat:t,repeatType:r="loop"},o){const u=e.filter(eP),d=t&&r!=="loop"&&t%2===1?0:u.length-1;return!d||o===void 0?u[d]:o}const tP=40;class T4{constructor({autoplay:t=!0,delay:r=0,type:o="keyframes",repeat:u=0,repeatDelay:d=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ys.now(),this.options={autoplay:t,delay:r,type:o,repeat:u,repeatDelay:d,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KC(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Ys.now(),this.hasAttemptedResolve=!0;const{name:o,type:u,velocity:d,delay:c,onComplete:h,onUpdate:p,isGenerator:f}=this.options;if(!f&&!JC(t,o,u,d))if(c)this.options.duration=0;else{p&&p(A0(t,this.options,r)),h&&h(),this.resolveFinishedPromise();return}const x=this.initPlayback(t,r);x!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...x},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const yn=(e,t,r)=>e+(t-e)*r;function Gp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function nP({hue:e,saturation:t,lightness:r,alpha:o}){e/=360,t/=100,r/=100;let u=0,d=0,c=0;if(!t)u=d=c=r;else{const h=r<.5?r*(1+t):r+t-r*t,p=2*r-h;u=Gp(p,h,e+1/3),d=Gp(p,h,e),c=Gp(p,h,e-1/3)}return{red:Math.round(u*255),green:Math.round(d*255),blue:Math.round(c*255),alpha:o}}function s0(e,t){return r=>r>0?t:e}const Wp=(e,t,r)=>{const o=e*e,u=r*(t*t-o)+o;return u<0?0:Math.sqrt(u)},rP=[xm,Il,Fu],iP=e=>rP.find(t=>t.test(e));function xy(e){const t=iP(e);if(!t)return!1;let r=t.parse(e);return t===Fu&&(r=nP(r)),r}const wy=(e,t)=>{const r=xy(e),o=xy(t);if(!r||!o)return s0(e,t);const u={...r};return d=>(u.red=Wp(r.red,o.red,d),u.green=Wp(r.green,o.green,d),u.blue=Wp(r.blue,o.blue,d),u.alpha=yn(r.alpha,o.alpha,d),Il.transform(u))},sP=(e,t)=>r=>t(e(r)),jh=(...e)=>e.reduce(sP),km=new Set(["none","hidden"]);function oP(e,t){return km.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function aP(e,t){return r=>yn(e,t,r)}function $g(e){return typeof e=="number"?aP:typeof e=="string"?Mg(e)?s0:Dr.test(e)?wy:cP:Array.isArray(e)?M4:typeof e=="object"?Dr.test(e)?wy:lP:s0}function M4(e,t){const r=[...e],o=r.length,u=e.map((d,c)=>$g(d)(d,t[c]));return d=>{for(let c=0;c<o;c++)r[c]=u[c](d);return r}}function lP(e,t){const r={...e,...t},o={};for(const u in r)e[u]!==void 0&&t[u]!==void 0&&(o[u]=$g(e[u])(e[u],t[u]));return u=>{for(const d in o)r[d]=o[d](u);return r}}function uP(e,t){var r;const o=[],u={color:0,var:0,number:0};for(let d=0;d<t.values.length;d++){const c=t.types[d],h=e.indexes[c][u[c]],p=(r=e.values[h])!==null&&r!==void 0?r:0;o[d]=p,u[c]++}return o}const cP=(e,t)=>{const r=za.createTransformer(t),o=Ph(e),u=Ph(t);return o.indexes.var.length===u.indexes.var.length&&o.indexes.color.length===u.indexes.color.length&&o.indexes.number.length>=u.indexes.number.length?km.has(e)&&!u.values.length||km.has(t)&&!o.values.length?oP(e,t):jh(M4(uP(o,u),u.values),r):s0(e,t)};function b4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?yn(e,t,r):$g(e)(e,t)}const dP=5;function N4(e,t,r){const o=Math.max(t-dP,0);return N3(r-e(o),t-o)}const Tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function hP({duration:e=Tn.duration,bounce:t=Tn.bounce,velocity:r=Tn.velocity,mass:o=Tn.mass}){let u,d,c=1-t;c=zo(Tn.minDamping,Tn.maxDamping,c),e=zo(Tn.minDuration,Tn.maxDuration,Fo(e)),c<1?(u=f=>{const x=f*c,m=x*e,w=x-r,S=Rm(f,c),_=Math.exp(-m);return Sy-w/S*_},d=f=>{const m=f*c*e,w=m*r+r,S=Math.pow(c,2)*Math.pow(f,2)*e,_=Math.exp(-m),R=Rm(Math.pow(f,2),c);return(-u(f)+Sy>0?-1:1)*((w-S)*_)/R}):(u=f=>{const x=Math.exp(-f*e),m=(f-r)*e+1;return-.001+x*m},d=f=>{const x=Math.exp(-f*e),m=(r-f)*(e*e);return x*m});const h=5/e,p=pP(u,d,h);if(e=Do(e),isNaN(p))return{stiffness:Tn.stiffness,damping:Tn.damping,duration:e};{const f=Math.pow(p,2)*o;return{stiffness:f,damping:c*2*Math.sqrt(o*f),duration:e}}}const fP=12;function pP(e,t,r){let o=r;for(let u=1;u<fP;u++)o=o-e(o)/t(o);return o}function Rm(e,t){return e*Math.sqrt(1-t*t)}const mP=["duration","bounce"],gP=["stiffness","damping","mass"];function _y(e,t){return t.some(r=>e[r]!==void 0)}function vP(e){let t={velocity:Tn.velocity,stiffness:Tn.stiffness,damping:Tn.damping,mass:Tn.mass,isResolvedFromDuration:!1,...e};if(!_y(e,gP)&&_y(e,mP))if(e.visualDuration){const r=e.visualDuration,o=2*Math.PI/(r*1.2),u=o*o,d=2*zo(.05,1,1-(e.bounce||0))*Math.sqrt(u);t={...t,mass:Tn.mass,stiffness:u,damping:d}}else{const r=hP(e);t={...t,...r,mass:Tn.mass},t.isResolvedFromDuration=!0}return t}function A4(e=Tn.visualDuration,t=Tn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:u}=r;const d=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],h={done:!1,value:d},{stiffness:p,damping:f,mass:x,duration:m,velocity:w,isResolvedFromDuration:S}=vP({...r,velocity:-Fo(r.velocity||0)}),_=w||0,R=f/(2*Math.sqrt(p*x)),E=c-d,A=Fo(Math.sqrt(p/x)),k=Math.abs(E)<5;o||(o=k?Tn.restSpeed.granular:Tn.restSpeed.default),u||(u=k?Tn.restDelta.granular:Tn.restDelta.default);let C;if(R<1){const j=Rm(A,R);C=$=>{const B=Math.exp(-R*A*$);return c-B*((_+R*A*E)/j*Math.sin(j*$)+E*Math.cos(j*$))}}else if(R===1)C=j=>c-Math.exp(-A*j)*(E+(_+A*E)*j);else{const j=A*Math.sqrt(R*R-1);C=$=>{const B=Math.exp(-R*A*$),L=Math.min(j*$,300);return c-B*((_+R*A*E)*Math.sinh(L)+j*E*Math.cosh(L))/j}}const N={calculatedDuration:S&&m||null,next:j=>{const $=C(j);if(S)h.done=j>=m;else{let B=0;R<1&&(B=j===0?Do(_):N4(C,j,$));const L=Math.abs(B)<=o,H=Math.abs(c-$)<=u;h.done=L&&H}return h.value=h.done?c:$,h},toString:()=>{const j=Math.min(A3(N),mm),$=j3(B=>N.next(j*B).value,j,30);return j+"ms "+$}};return N}function Cy({keyframes:e,velocity:t=0,power:r=.8,timeConstant:o=325,bounceDamping:u=10,bounceStiffness:d=500,modifyTarget:c,min:h,max:p,restDelta:f=.5,restSpeed:x}){const m=e[0],w={done:!1,value:m},S=L=>h!==void 0&&L<h||p!==void 0&&L>p,_=L=>h===void 0?p:p===void 0||Math.abs(h-L)<Math.abs(p-L)?h:p;let R=r*t;const E=m+R,A=c===void 0?E:c(E);A!==E&&(R=A-m);const k=L=>-R*Math.exp(-L/o),C=L=>A+k(L),N=L=>{const H=k(L),U=C(L);w.done=Math.abs(H)<=f,w.value=w.done?A:U};let j,$;const B=L=>{S(w.value)&&(j=L,$=A4({keyframes:[w.value,_(w.value)],velocity:N4(C,L,w.value),damping:u,stiffness:d,restDelta:f,restSpeed:x}))};return B(0),{calculatedDuration:null,next:L=>{let H=!1;return!$&&j===void 0&&(H=!0,N(L),B(L)),j!==void 0&&L>=j?$.next(L-j):(!H&&N(L),w)}}}const yP=Ah(.42,0,1,1),xP=Ah(0,0,.58,1),j4=Ah(.42,0,.58,1),wP=e=>Array.isArray(e)&&typeof e[0]!="number",SP={linear:Di,easeIn:yP,easeInOut:j4,easeOut:xP,circIn:zg,circInOut:h4,circOut:d4,backIn:Fg,backInOut:u4,backOut:l4,anticipate:c4},Py=e=>{if(_g(e)){b3(e.length===4);const[t,r,o,u]=e;return Ah(t,r,o,u)}else if(typeof e=="string")return SP[e];return e};function _P(e,t,r){const o=[],u=r||b4,d=e.length-1;for(let c=0;c<d;c++){let h=u(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Di:t;h=jh(p,h)}o.push(h)}return o}function CP(e,t,{clamp:r=!0,ease:o,mixer:u}={}){const d=e.length;if(b3(d===t.length),d===1)return()=>t[0];if(d===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=_P(t,o,u),p=h.length,f=x=>{if(c&&x<e[0])return t[0];let m=0;if(p>1)for(;m<e.length-2&&!(x<e[m+1]);m++);const w=Wu(e[m],e[m+1],x);return h[m](w)};return r?x=>f(zo(e[0],e[d-1],x)):f}function PP(e,t){const r=e[e.length-1];for(let o=1;o<=t;o++){const u=Wu(0,t,o);e.push(yn(r,1,u))}}function EP(e){const t=[0];return PP(t,e.length-1),t}function kP(e,t){return e.map(r=>r*t)}function RP(e,t){return e.map(()=>t||j4).splice(0,e.length-1)}function o0({duration:e=300,keyframes:t,times:r,ease:o="easeInOut"}){const u=wP(o)?o.map(Py):Py(o),d={done:!1,value:t[0]},c=kP(r&&r.length===t.length?r:EP(t),e),h=CP(c,t,{ease:Array.isArray(u)?u:RP(t,u)});return{calculatedDuration:e,next:p=>(d.value=h(p),d.done=p>=e,d)}}const TP=e=>{const t=({timestamp:r})=>e(r);return{start:()=>an.update(t,!0),stop:()=>Fa(t),now:()=>_r.isProcessing?_r.timestamp:Ys.now()}},MP={decay:Cy,inertia:Cy,tween:o0,keyframes:o0,spring:A4},bP=e=>e/100;class Gg extends T4{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:r,motionValue:o,element:u,keyframes:d}=this.options,c=(u==null?void 0:u.KeyframeResolver)||Bg,h=(p,f)=>this.onKeyframesResolved(p,f);this.resolver=new c(d,h,r,o,u),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d,velocity:c=0}=this.options,h=Sg(r)?r:MP[r]||o0;let p,f;h!==o0&&typeof t[0]!="number"&&(p=jh(bP,b4(t[0],t[1])),t=[0,100]);const x=h({...this.options,keyframes:t});d==="mirror"&&(f=h({...this.options,keyframes:[...t].reverse(),velocity:-c})),x.calculatedDuration===null&&(x.calculatedDuration=A3(x));const{calculatedDuration:m}=x,w=m+u,S=w*(o+1)-u;return{generator:x,mirroredGenerator:f,mapPercentToKeyframes:p,calculatedDuration:m,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:o}=this;if(!o){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:u,generator:d,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:f,totalDuration:x,resolvedDuration:m}=o;if(this.startTime===null)return d.next(0);const{delay:w,repeat:S,repeatType:_,repeatDelay:R,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-x/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const A=this.currentTime-w*(this.speed>=0?1:-1),k=this.speed>=0?A<0:A>x;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let C=this.currentTime,N=d;if(S){const L=Math.min(this.currentTime,x)/m;let H=Math.floor(L),U=L%1;!U&&L>=1&&(U=1),U===1&&H--,H=Math.min(H,S+1),!!(H%2)&&(_==="reverse"?(U=1-U,R&&(U-=R/m)):_==="mirror"&&(N=c)),C=zo(0,1,U)*m}const j=k?{done:!1,value:p[0]}:N.next(C);h&&(j.value=h(j.value));let{done:$}=j;!k&&f!==null&&($=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return B&&u!==void 0&&(j.value=A0(p,this.options,u)),E&&E(j.value),B&&this.finish(),j}get duration(){const{resolved:t}=this;return t?Fo(t.calculatedDuration):0}get time(){return Fo(this.currentTime)}set time(t){t=Do(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Fo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=TP,onPlay:r,startTime:o}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),r&&r();const u=this.driver.now();this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=u):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const NP=new Set(["opacity","clipPath","filter","transform"]);function AP(e,t,r,{delay:o=0,duration:u=300,repeat:d=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const f={[t]:r};p&&(f.offset=p);const x=L3(h,u);return Array.isArray(x)&&(f.easing=x),e.animate(f,{delay:o,duration:u,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:d+1,direction:c==="reverse"?"alternate":"normal"})}const jP=yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),a0=10,IP=2e4;function LP(e){return Sg(e.type)||e.type==="spring"||!I3(e.ease)}function OP(e,t){const r=new Gg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const u=[];let d=0;for(;!o.done&&d<IP;)o=r.sample(d),u.push(o.value),d+=a0;return{times:void 0,keyframes:u,duration:d-a0,ease:"linear"}}const I4={anticipate:c4,backInOut:u4,circInOut:h4};function DP(e){return e in I4}class Ey extends T4{constructor(t){super(t);const{name:r,motionValue:o,element:u,keyframes:d}=this.options;this.resolver=new R4(d,(c,h)=>this.onKeyframesResolved(c,h),r,o,u),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:o=300,times:u,ease:d,type:c,motionValue:h,name:p,startTime:f}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof d=="string"&&r0()&&DP(d)&&(d=I4[d]),LP(this.options)){const{onComplete:m,onUpdate:w,motionValue:S,element:_,...R}=this.options,E=OP(t,R);t=E.keyframes,t.length===1&&(t[1]=t[0]),o=E.duration,u=E.times,d=E.ease,c="keyframes"}const x=AP(h.owner.current,p,t,{...this.options,duration:o,times:u,ease:d});return x.startTime=f??this.calcStartTime(),this.pendingTimeline?(Q2(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:m}=this.options;h.set(A0(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:o,times:u,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Fo(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Fo(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=Do(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Di;const{animation:o}=r;Q2(o,t)}return Di}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:o,duration:u,type:d,ease:c,times:h}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:x,onComplete:m,element:w,...S}=this.options,_=new Gg({...S,keyframes:o,duration:u,type:d,ease:c,times:h,isGenerator:!0}),R=Do(this.time);f.setWithVelocity(_.sample(R-a0).value,_.sample(R).value,a0)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:o,repeatDelay:u,repeatType:d,damping:c,type:h}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:f}=r.owner.getProps();return jP()&&o&&NP.has(o)&&!p&&!f&&!u&&d!=="mirror"&&c!==0&&h!=="inertia"}}const FP={type:"spring",stiffness:500,damping:25,restSpeed:10},zP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),UP={type:"keyframes",duration:.8},VP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BP=(e,{keyframes:t})=>t.length>2?UP:Ul.has(e)?e.startsWith("scale")?zP(t[1]):FP:VP;function $P({when:e,delay:t,delayChildren:r,staggerChildren:o,staggerDirection:u,repeat:d,repeatType:c,repeatDelay:h,from:p,elapsed:f,...x}){return!!Object.keys(x).length}const Wg=(e,t,r,o={},u,d)=>c=>{const h=wg(o,e)||{},p=h.delay||o.delay||0;let{elapsed:f=0}=o;f=f-Do(p);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-f,onUpdate:w=>{t.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:d?void 0:u};$P(h)||(x={...x,...BP(e,x)}),x.duration&&(x.duration=Do(x.duration)),x.repeatDelay&&(x.repeatDelay=Do(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let m=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(m=!0)),x.allowFlatten=!h.type&&!h.ease,m&&!d&&t.get()!==void 0){const w=A0(x.keyframes,h);if(w!==void 0)return an.update(()=>{x.onUpdate(w),x.onComplete()}),new h7([])}return!d&&Ey.supports(x)?new Ey(x):new Gg(x)};function GP({protectedKeys:e,needsAnimating:t},r){const o=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,o}function L4(e,t,{delay:r=0,transitionOverride:o,type:u}={}){var d;let{transition:c=e.getDefaultTransition(),transitionEnd:h,...p}=t;o&&(c=o);const f=[],x=u&&e.animationState&&e.animationState.getState()[u];for(const m in p){const w=e.getValue(m,(d=e.latestValues[m])!==null&&d!==void 0?d:null),S=p[m];if(S===void 0||x&&GP(x,m))continue;const _={delay:r,...wg(c||{},m)};let R=!1;if(window.MotionHandoffAnimation){const A=i4(e);if(A){const k=window.MotionHandoffAnimation(A,m,an);k!==null&&(_.startTime=k,R=!0)}}ym(e,m),w.start(Wg(m,w,S,e.shouldReduceMotion&&r4.has(m)?{type:!1}:_,e,R));const E=w.animation;E&&f.push(E)}return h&&Promise.all(f).then(()=>{an.update(()=>{h&&yC(e,h)})}),f}function Tm(e,t,r={}){var o;const u=Ch(e,t,r.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=u||{};r.transitionOverride&&(d=r.transitionOverride);const c=u?()=>Promise.all(L4(e,u,r)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:x=0,staggerChildren:m,staggerDirection:w}=d;return WP(e,t,x+f,m,w,r)}:()=>Promise.resolve(),{when:p}=d;if(p){const[f,x]=p==="beforeChildren"?[c,h]:[h,c];return f().then(()=>x())}else return Promise.all([c(),h(r.delay)])}function WP(e,t,r=0,o=0,u=1,d){const c=[],h=(e.variantChildren.size-1)*o,p=u===1?(f=0)=>f*o:(f=0)=>h-f*o;return Array.from(e.variantChildren).sort(qP).forEach((f,x)=>{f.notify("AnimationStart",t),c.push(Tm(f,t,{...d,delay:r+p(x)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function qP(e,t){return e.sortNodePosition(t)}function HP(e,t,r={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const u=t.map(d=>Tm(e,d,r));o=Promise.all(u)}else if(typeof t=="string")o=Tm(e,t,r);else{const u=typeof t=="function"?Ch(e,t,r.custom):t;o=Promise.all(L4(e,u,r))}return o.then(()=>{e.notify("AnimationComplete",t)})}function O4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}const KP=kg.length;function D4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?D4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<KP;r++){const o=kg[r],u=e.props[o];(wh(u)||u===!1)&&(t[o]=u)}return t}const YP=[...Eg].reverse(),XP=Eg.length;function QP(e){return t=>Promise.all(t.map(({animation:r,options:o})=>HP(e,r,o)))}function ZP(e){let t=QP(e),r=ky(),o=!0;const u=p=>(f,x)=>{var m;const w=Ch(e,x,p==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(w){const{transition:S,transitionEnd:_,...R}=w;f={...f,...R,..._}}return f};function d(p){t=p(e)}function c(p){const{props:f}=e,x=D4(e.parent)||{},m=[],w=new Set;let S={},_=1/0;for(let E=0;E<XP;E++){const A=YP[E],k=r[A],C=f[A]!==void 0?f[A]:x[A],N=wh(C),j=A===p?k.isActive:null;j===!1&&(_=E);let $=C===x[A]&&C!==f[A]&&N;if($&&o&&e.manuallyAnimateOnMount&&($=!1),k.protectedKeys={...S},!k.isActive&&j===null||!C&&!k.prevProp||b0(C)||typeof C=="boolean")continue;const B=JP(k.prevProp,C);let L=B||A===p&&k.isActive&&!$&&N||E>_&&N,H=!1;const U=Array.isArray(C)?C:[C];let G=U.reduce(u(A),{});j===!1&&(G={});const{prevResolvedValues:te={}}=k,O={...te,...G},V=Z=>{L=!0,w.has(Z)&&(H=!0,w.delete(Z)),k.needsAnimating[Z]=!0;const re=e.getValue(Z);re&&(re.liveStyle=!1)};for(const Z in O){const re=G[Z],se=te[Z];if(S.hasOwnProperty(Z))continue;let Y=!1;vm(re)&&vm(se)?Y=!O4(re,se):Y=re!==se,Y?re!=null?V(Z):w.add(Z):re!==void 0&&w.has(Z)?V(Z):k.protectedKeys[Z]=!0}k.prevProp=C,k.prevResolvedValues=G,k.isActive&&(S={...S,...G}),o&&e.blockInitialAnimation&&(L=!1),L&&(!($&&B)||H)&&m.push(...U.map(Z=>({animation:Z,options:{type:A}})))}if(w.size){const E={};if(typeof f.initial!="boolean"){const A=Ch(e,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(E.transition=A.transition)}w.forEach(A=>{const k=e.getBaseTarget(A),C=e.getValue(A);C&&(C.liveStyle=!0),E[A]=k??null}),m.push({animation:E})}let R=!!m.length;return o&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(R=!1),o=!1,R?t(m):Promise.resolve()}function h(p,f){var x;if(r[p].isActive===f)return Promise.resolve();(x=e.variantChildren)===null||x===void 0||x.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(p,f)}),r[p].isActive=f;const m=c(p);for(const w in r)r[w].protectedKeys={};return m}return{animateChanges:c,setActive:h,setAnimateFunction:d,getState:()=>r,reset:()=>{r=ky(),o=!0}}}function JP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O4(t,e):!1}function Nl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ky(){return{animate:Nl(!0),whileInView:Nl(),whileHover:Nl(),whileTap:Nl(),whileDrag:Nl(),whileFocus:Nl(),exit:Nl()}}class Va{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eE extends Va{constructor(t){super(t),t.animationState||(t.animationState=ZP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();b0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let tE=0;class nE extends Va{constructor(){super(...arguments),this.id=tE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const u=this.node.animationState.setActive("exit",!t);r&&!t&&u.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rE={animation:{Feature:eE},exit:{Feature:nE}};function Eh(e,t,r,o={passive:!0}){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r)}function Ih(e){return{point:{x:e.pageX,y:e.pageY}}}const iE=e=>t=>Pg(t)&&e(t,Ih(t));function rh(e,t,r,o){return Eh(e,t,iE(r),o)}function F4({top:e,left:t,right:r,bottom:o}){return{x:{min:t,max:r},y:{min:e,max:o}}}function sE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oE(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}const z4=1e-4,aE=1-z4,lE=1+z4,U4=.01,uE=0-U4,cE=0+U4;function si(e){return e.max-e.min}function dE(e,t,r){return Math.abs(e-t)<=r}function Ry(e,t,r,o=.5){e.origin=o,e.originPoint=yn(t.min,t.max,e.origin),e.scale=si(r)/si(t),e.translate=yn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=aE&&e.scale<=lE||isNaN(e.scale))&&(e.scale=1),(e.translate>=uE&&e.translate<=cE||isNaN(e.translate))&&(e.translate=0)}function ih(e,t,r,o){Ry(e.x,t.x,r.x,o?o.originX:void 0),Ry(e.y,t.y,r.y,o?o.originY:void 0)}function Ty(e,t,r){e.min=r.min+t.min,e.max=e.min+si(t)}function hE(e,t,r){Ty(e.x,t.x,r.x),Ty(e.y,t.y,r.y)}function My(e,t,r){e.min=t.min-r.min,e.max=e.min+si(t)}function sh(e,t,r){My(e.x,t.x,r.x),My(e.y,t.y,r.y)}const by=()=>({translate:0,scale:1,origin:0,originPoint:0}),zu=()=>({x:by(),y:by()}),Ny=()=>({min:0,max:0}),Dn=()=>({x:Ny(),y:Ny()});function Zi(e){return[e("x"),e("y")]}function qp(e){return e===void 0||e===1}function Mm({scale:e,scaleX:t,scaleY:r}){return!qp(e)||!qp(t)||!qp(r)}function Al(e){return Mm(e)||V4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V4(e){return Ay(e.x)||Ay(e.y)}function Ay(e){return e&&e!=="0%"}function l0(e,t,r){const o=e-r,u=t*o;return r+u}function jy(e,t,r,o,u){return u!==void 0&&(e=l0(e,u,o)),l0(e,r,o)+t}function bm(e,t=0,r=1,o,u){e.min=jy(e.min,t,r,o,u),e.max=jy(e.max,t,r,o,u)}function B4(e,{x:t,y:r}){bm(e.x,t.translate,t.scale,t.originPoint),bm(e.y,r.translate,r.scale,r.originPoint)}const Iy=.999999999999,Ly=1.0000000000001;function fE(e,t,r,o=!1){const u=r.length;if(!u)return;t.x=t.y=1;let d,c;for(let h=0;h<u;h++){d=r[h],c=d.projectionDelta;const{visualElement:p}=d.options;p&&p.props.style&&p.props.style.display==="contents"||(o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vu(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,B4(e,c)),o&&Al(d.latestValues)&&Vu(e,d.latestValues))}t.x<Ly&&t.x>Iy&&(t.x=1),t.y<Ly&&t.y>Iy&&(t.y=1)}function Uu(e,t){e.min=e.min+t,e.max=e.max+t}function Oy(e,t,r,o,u=.5){const d=yn(e.min,e.max,u);bm(e,t,r,d,o)}function Vu(e,t){Oy(e.x,t.x,t.scaleX,t.scale,t.originX),Oy(e.y,t.y,t.scaleY,t.scale,t.originY)}function $4(e,t){return F4(oE(e.getBoundingClientRect(),t))}function pE(e,t,r){const o=$4(e,r),{scroll:u}=t;return u&&(Uu(o.x,u.offset.x),Uu(o.y,u.offset.y)),o}const G4=({current:e})=>e?e.ownerDocument.defaultView:null,Dy=(e,t)=>Math.abs(e-t);function mE(e,t){const r=Dy(e.x,t.x),o=Dy(e.y,t.y);return Math.sqrt(r**2+o**2)}class W4{constructor(t,r,{transformPagePoint:o,contextWindow:u,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Kp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=mE(m.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:_}=m,{timestamp:R}=_r;this.history.push({..._,timestamp:R});const{onStart:E,onMove:A}=this.handlers;w||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,m)},this.handlePointerMove=(m,w)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Hp(w,this.transformPagePoint),an.update(this.updatePoint,!0)},this.handlePointerUp=(m,w)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Kp(m.type==="pointercancel"?this.lastMoveEventInfo:Hp(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(m,E),_&&_(m,E)},!Pg(t))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=o,this.contextWindow=u||window;const c=Ih(t),h=Hp(c,this.transformPagePoint),{point:p}=h,{timestamp:f}=_r;this.history=[{...p,timestamp:f}];const{onSessionStart:x}=r;x&&x(t,Kp(h,this.history)),this.removeListeners=jh(rh(this.contextWindow,"pointermove",this.handlePointerMove),rh(this.contextWindow,"pointerup",this.handlePointerUp),rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fa(this.updatePoint)}}function Hp(e,t){return t?{point:t(e.point)}:e}function Fy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:Fy(e,q4(t)),offset:Fy(e,gE(t)),velocity:vE(t,.1)}}function gE(e){return e[0]}function q4(e){return e[e.length-1]}function vE(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,o=null;const u=q4(e);for(;r>=0&&(o=e[r],!(u.timestamp-o.timestamp>Do(t)));)r--;if(!o)return{x:0,y:0};const d=Fo(u.timestamp-o.timestamp);if(d===0)return{x:0,y:0};const c={x:(u.x-o.x)/d,y:(u.y-o.y)/d};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function yE(e,{min:t,max:r},o){return t!==void 0&&e<t?e=o?yn(t,e,o.min):Math.max(e,t):r!==void 0&&e>r&&(e=o?yn(r,e,o.max):Math.min(e,r)),e}function zy(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function xE(e,{top:t,left:r,bottom:o,right:u}){return{x:zy(e.x,r,u),y:zy(e.y,t,o)}}function Uy(e,t){let r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,o]=[o,r]),{min:r,max:o}}function wE(e,t){return{x:Uy(e.x,t.x),y:Uy(e.y,t.y)}}function SE(e,t){let r=.5;const o=si(e),u=si(t);return u>o?r=Wu(t.min,t.max-o,e.min):o>u&&(r=Wu(e.min,e.max-u,t.min)),zo(0,1,r)}function _E(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Nm=.35;function CE(e=Nm){return e===!1?e=0:e===!0&&(e=Nm),{x:Vy(e,"left","right"),y:Vy(e,"top","bottom")}}function Vy(e,t,r){return{min:By(e,t),max:By(e,r)}}function By(e,t){return typeof e=="number"?e:e[t]||0}const PE=new WeakMap;class EE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=x=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ih(x).point)},d=(x,m)=>{const{drag:w,dragPropagation:S,onDragStart:_}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y7(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(E=>{let A=this.getAxisMotionValue(E).get()||0;if(Xs.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[E];C&&(A=si(C)*(parseFloat(A)/100))}}this.originPoint[E]=A}),_&&an.postRender(()=>_(x,m)),ym(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(x,m)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:_,onDrag:R}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=m;if(S&&this.currentDirection===null){this.currentDirection=kE(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),R&&R(x,m)},h=(x,m)=>this.stop(x,m),p=()=>Zi(x=>{var m;return this.getAnimationState(x)==="paused"&&((m=this.getAxisMotionValue(x).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new W4(t,{onSessionStart:u,onStart:d,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:G4(this.visualElement)})}stop(t,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&an.postRender(()=>d(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,o){const{drag:u}=this.getProps();if(!o||!Gf(t,u,this.currentDirection))return;const d=this.getAxisMotionValue(t);let c=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(c=yE(c,this.constraints[t],this.elastic[t])),d.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:o}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,d=this.constraints;r&&Du(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&u?this.constraints=xE(u.layoutBox,r):this.constraints=!1,this.elastic=CE(o),d!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&Zi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=_E(u.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Du(t))return!1;const o=t.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const d=pE(o,u.root,this.visualElement.getTransformPagePoint());let c=wE(u.layout.layoutBox,d);if(r){const h=r(sE(c));this.hasMutatedConstraints=!!h,h&&(c=F4(h))}return c}startAnimation(t){const{drag:r,dragMomentum:o,dragElastic:u,dragTransition:d,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},f=Zi(x=>{if(!Gf(x,r,this.currentDirection))return;let m=p&&p[x]||{};c&&(m={min:0,max:0});const w=u?200:1e6,S=u?40:1e7,_={type:"inertia",velocity:o?t[x]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...d,...m};return this.startAxisValueAnimation(x,_)});return Promise.all(f).then(h)}startAxisValueAnimation(t,r){const o=this.getAxisMotionValue(t);return ym(this.visualElement,t),o.start(Wg(t,o,0,r,this.visualElement,!1))}stopAnimation(){Zi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zi(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),u=o[r];return u||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Zi(r=>{const{drag:o}=this.getProps();if(!Gf(r,o,this.currentDirection))return;const{projection:u}=this.visualElement,d=this.getAxisMotionValue(r);if(u&&u.layout){const{min:c,max:h}=u.layout.layoutBox[r];d.set(t[r]-yn(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Du(r)||!o||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Zi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();u[c]=SE({min:p,max:p},this.constraints[c])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Zi(c=>{if(!Gf(c,t,null))return;const h=this.getAxisMotionValue(c),{min:p,max:f}=this.constraints[c];h.set(yn(p,f,u[c]))})}addListeners(){if(!this.visualElement.current)return;PE.set(this.visualElement,this);const t=this.visualElement.current,r=rh(t,"pointerdown",p=>{const{drag:f,dragListener:x=!0}=this.getProps();f&&x&&this.start(p)}),o=()=>{const{dragConstraints:p}=this.getProps();Du(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,d=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),an.read(o);const c=Eh(window,"resize",()=>this.scalePositionWithinConstraints()),h=u.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zi(x=>{const m=this.getAxisMotionValue(x);m&&(this.originPoint[x]+=p[x].translate,m.set(m.get()+p[x].translate))}),this.visualElement.render())});return()=>{c(),r(),d(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:u=!1,dragConstraints:d=!1,dragElastic:c=Nm,dragMomentum:h=!0}=t;return{...t,drag:r,dragDirectionLock:o,dragPropagation:u,dragConstraints:d,dragElastic:c,dragMomentum:h}}}function Gf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function kE(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class RE extends Va{constructor(t){super(t),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new EE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}unmount(){this.removeGroupControls(),this.removeListeners()}}const $y=e=>(t,r)=>{e&&an.postRender(()=>e(t,r))};class TE extends Va{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(t){this.session=new W4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:o,onPanEnd:u}=this.node.getProps();return{onSessionStart:$y(t),onStart:$y(r),onMove:o,onEnd:(d,c)=>{delete this.session,u&&an.postRender(()=>u(d,c))}}}mount(){this.removePointerDownListener=rh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const r=Gy(e,t.target.x),o=Gy(e,t.target.y);return`${r}% ${o}%`}},ME={correct:(e,{treeScale:t,projectionDelta:r})=>{const o=e,u=za.parse(e);if(u.length>5)return o;const d=za.createTransformer(e),c=typeof u[0]!="number"?1:0,h=r.x.scale*t.x,p=r.y.scale*t.y;u[0+c]/=h,u[1+c]/=p;const f=yn(h,p,.5);return typeof u[2+c]=="number"&&(u[2+c]/=f),typeof u[3+c]=="number"&&(u[3+c]/=f),d(u)}};class bE extends ee.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o,layoutId:u}=this.props,{projection:d}=t;q7(NE),d&&(r.group&&r.group.add(d),o&&o.register&&u&&o.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:o,drag:u,isPresent:d}=this.props,c=o.projection;return c&&(c.isPresent=d,u||t.layoutDependency!==r||r===void 0||t.isPresent!==d?c.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?c.promote():c.relegate()||an.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:u}=t;u&&(u.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(u),o&&o.deregister&&o.deregister(u))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function H4(e){const[t,r]=T3(),o=ee.useContext(hg);return v.jsx(bE,{...e,layoutGroup:o,switchLayoutGroup:ee.useContext(G3),isPresent:t,safeToRemove:r})}const NE={borderRadius:{...qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qd,borderTopRightRadius:qd,borderBottomLeftRadius:qd,borderBottomRightRadius:qd,boxShadow:ME};function AE(e,t,r){const o=Fr(e)?e:xh(e);return o.start(Wg("",o,t,r)),o.animation}function jE(e){return e instanceof SVGElement&&e.tagName!=="svg"}const IE=(e,t)=>e.depth-t.depth;class LE{constructor(){this.children=[],this.isDirty=!1}add(t){gg(this.children,t),this.isDirty=!0}remove(t){vg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IE),this.isDirty=!1,this.children.forEach(t)}}function OE(e,t){const r=Ys.now(),o=({timestamp:u})=>{const d=u-r;d>=t&&(Fa(o),e(d-t))};return an.read(o,!0),()=>Fa(o)}const K4=["TopLeft","TopRight","BottomLeft","BottomRight"],DE=K4.length,Wy=e=>typeof e=="string"?parseFloat(e):e,qy=e=>typeof e=="number"||rt.test(e);function FE(e,t,r,o,u,d){u?(e.opacity=yn(0,r.opacity!==void 0?r.opacity:1,zE(o)),e.opacityExit=yn(t.opacity!==void 0?t.opacity:1,0,UE(o))):d&&(e.opacity=yn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let c=0;c<DE;c++){const h=`border${K4[c]}Radius`;let p=Hy(t,h),f=Hy(r,h);if(p===void 0&&f===void 0)continue;p||(p=0),f||(f=0),p===0||f===0||qy(p)===qy(f)?(e[h]=Math.max(yn(Wy(p),Wy(f),o),0),(Xs.test(f)||Xs.test(p))&&(e[h]+="%")):e[h]=f}(t.rotate||r.rotate)&&(e.rotate=yn(t.rotate||0,r.rotate||0,o))}function Hy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zE=Y4(0,.5,d4),UE=Y4(.5,.95,Di);function Y4(e,t,r){return o=>o<e?0:o>t?1:r(Wu(e,t,o))}function Ky(e,t){e.min=t.min,e.max=t.max}function Qi(e,t){Ky(e.x,t.x),Ky(e.y,t.y)}function Yy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Xy(e,t,r,o,u){return e-=t,e=l0(e,1/r,o),u!==void 0&&(e=l0(e,1/u,o)),e}function VE(e,t=0,r=1,o=.5,u,d=e,c=e){if(Xs.test(t)&&(t=parseFloat(t),t=yn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=yn(d.min,d.max,o);e===d&&(h-=t),e.min=Xy(e.min,t,r,h,u),e.max=Xy(e.max,t,r,h,u)}function Qy(e,t,[r,o,u],d,c){VE(e,t[r],t[o],t[u],t.scale,d,c)}const BE=["x","scaleX","originX"],$E=["y","scaleY","originY"];function Zy(e,t,r,o){Qy(e.x,t,BE,r?r.x:void 0,o?o.x:void 0),Qy(e.y,t,$E,r?r.y:void 0,o?o.y:void 0)}function Jy(e){return e.translate===0&&e.scale===1}function X4(e){return Jy(e.x)&&Jy(e.y)}function e5(e,t){return e.min===t.min&&e.max===t.max}function GE(e,t){return e5(e.x,t.x)&&e5(e.y,t.y)}function t5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Q4(e,t){return t5(e.x,t.x)&&t5(e.y,t.y)}function n5(e){return si(e.x)/si(e.y)}function r5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class WE{constructor(){this.members=[]}add(t){gg(this.members,t),t.scheduleRender()}remove(t){if(vg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(u=>t===u);if(r===0)return!1;let o;for(let u=r;u>=0;u--){const d=this.members[u];if(d.isPresent!==!1){o=d;break}}return o?(this.promote(o),!0):!1}promote(t,r){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,r&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:u}=t.options;u===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:o}=t;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qE(e,t,r){let o="";const u=e.x.translate/t.x,d=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((u||d||c)&&(o=`translate3d(${u}px, ${d}px, ${c}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:x,rotateX:m,rotateY:w,skewX:S,skewY:_}=r;f&&(o=`perspective(${f}px) ${o}`),x&&(o+=`rotate(${x}deg) `),m&&(o+=`rotateX(${m}deg) `),w&&(o+=`rotateY(${w}deg) `),S&&(o+=`skewX(${S}deg) `),_&&(o+=`skewY(${_}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(o+=`scale(${h}, ${p})`),o||"none"}const Yp=["","X","Y","Z"],HE={visibility:"hidden"},i5=1e3;let KE=0;function Xp(e,t,r,o){const{latestValues:u}=t;u[e]&&(r[e]=u[e],t.setStaticValue(e,0),o&&(o[e]=0))}function Z4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=i4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:u,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",an,!(u||d))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&Z4(o)}function J4({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:o,resetTransform:u}){return class{constructor(c={},h=t==null?void 0:t()){this.id=KE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QE),this.nodes.forEach(nk),this.nodes.forEach(rk),this.nodes.forEach(ZE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new LE)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new xg),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jE(c),this.instance=c;const{layoutId:p,layout:f,visualElement:x}=this.options;if(x&&!x.current&&x.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(f||p)&&(this.isLayoutDirty=!0),e){let m;const w=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=OE(w,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(o5))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||x.getDefaultTransition()||lk,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=x.getProps(),k=!this.targetLayout||!Q4(this.targetLayout,_),C=!w&&S;if(this.options.layoutRoot||this.resumeFrom||C||w&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,C);const N={...wg(R,"layout"),onPlay:E,onComplete:A};(x.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else w||o5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ik),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Z4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const m=this.path[x];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s5);return}this.isUpdating||this.nodes.forEach(ek),this.isUpdating=!1,this.nodes.forEach(tk),this.nodes.forEach(YE),this.nodes.forEach(XE),this.clearAllSnapshots();const h=Ys.now();_r.delta=zo(0,1e3/60,h-_r.timestamp),_r.timestamp=h,_r.isProcessing=!0,Vp.update.process(_r),Vp.preRender.process(_r),Vp.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JE),this.sharedNodes.forEach(sk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,an.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){an.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!u)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!X4(this.projectionDelta),p=this.getTransformTemplate(),f=p?p(this.latestValues,""):void 0,x=f!==this.prevTransformTemplateValue;c&&(h||Al(this.latestValues)||x)&&(u(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),uk(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Dn();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(ck))){const{scroll:x}=this.root;x&&(Uu(p.x,x.offset.x),Uu(p.y,x.offset.y))}return p}removeElementScroll(c){var h;const p=Dn();if(Qi(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let f=0;f<this.path.length;f++){const x=this.path[f],{scroll:m,options:w}=x;x!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&Qi(p,c),Uu(p.x,m.offset.x),Uu(p.y,m.offset.y))}return p}applyTransform(c,h=!1){const p=Dn();Qi(p,c);for(let f=0;f<this.path.length;f++){const x=this.path[f];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Vu(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Al(x.latestValues)&&Vu(p,x.latestValues)}return Al(this.latestValues)&&Vu(p,this.latestValues),p}removeTransform(c){const h=Dn();Qi(h,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];if(!f.instance||!Al(f.latestValues))continue;Mm(f.latestValues)&&f.updateSnapshot();const x=Dn(),m=f.measurePageBox();Qi(x,m),Zy(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,x)}return Al(this.latestValues)&&Zy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==p;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:w}=this.options;if(!(!this.layout||!(m||w))){if(this.resolvedRelativeTargetAt=_r.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),sh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qi(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):Qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),sh(this.relativeTargetOrigin,this.target,S.target),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||V4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(f=!1),f)return;const{layout:x,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||m))return;Qi(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;fE(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Dn());const{target:_}=h;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yy(this.prevProjectionDelta.x,this.projectionDelta.x),Yy(this.prevProjectionDelta.y,this.projectionDelta.y)),ih(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!r5(this.projectionDelta.x,this.prevProjectionDelta.x)||!r5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zu(),this.projectionDelta=zu(),this.projectionDeltaWithTransform=zu()}setAnimationOrigin(c,h=!1){const p=this.snapshot,f=p?p.latestValues:{},x={...this.latestValues},m=zu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Dn(),S=p?p.source:void 0,_=this.layout?this.layout.source:void 0,R=S!==_,E=this.getStack(),A=!E||E.members.length<=1,k=!!(R&&!A&&this.options.crossfade===!0&&!this.path.some(ak));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const j=N/1e3;a5(m.x,c.x,j),a5(m.y,c.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sh(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ok(this.relativeTarget,this.relativeTargetOrigin,w,j),C&&GE(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Dn()),Qi(C,this.relativeTarget)),R&&(this.animationValues=x,FE(x,f,this.latestValues,j,k,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=an.update(()=>{Yf.hasAnimatedSinceResize=!0,this.currentAnimation=AE(0,i5,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:f,latestValues:x}=c;if(!(!h||!p||!f)){if(this!==c&&this.layout&&f&&e8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){p=this.target||Dn();const m=si(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+m;const w=si(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+w}Qi(h,p),Vu(h,x),ih(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WE),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const f=this.getStack();f&&f.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const f={};p.z&&Xp("z",c,f,this.animationValues);for(let x=0;x<Yp.length;x++)Xp(`rotate${Yp[x]}`,c,f,this.animationValues),Xp(`skew${Yp[x]}`,c,f,this.animationValues);c.render();for(const x in f)c.setStaticValue(x,f[x]),this.animationValues&&(this.animationValues[x]=f[x]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HE;const f={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Kf(c==null?void 0:c.pointerEvents)||"",f.transform=x?x(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Kf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Al(this.latestValues)&&(R.transform=x?x({},""):"none",this.hasProjected=!1),R}const w=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=qE(this.projectionDeltaWithTransform,this.treeScale,w),x&&(f.transform=x(w,f.transform));const{x:S,y:_}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${_.origin*100}% 0`,m.animationValues?f.opacity=m===this?(p=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=m===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const R in Sh){if(w[R]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:k}=Sh[R],C=f.transform==="none"?w[R]:E(w[R],m);if(A){const N=A.length;for(let j=0;j<N;j++)f[A[j]]=C}else k?this.options.visualElement.renderState.vars[R]=C:f[R]=C}return this.options.layoutId&&(f.pointerEvents=m===this?Kf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(s5),this.root.sharedNodes.clear()}}}function YE(e){e.updateLayout()}function XE(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:u}=e.layout,{animationType:d}=e.options,c=r.source!==e.layout.source;d==="size"?Zi(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],S=si(w);w.min=o[m].min,w.max=w.min+S}):e8(d,r.layoutBox,o)&&Zi(m=>{const w=c?r.measuredBox[m]:r.layoutBox[m],S=si(o[m]);w.max=w.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+S)});const h=zu();ih(h,o,r.layoutBox);const p=zu();c?ih(p,e.applyTransform(u,!0),r.measuredBox):ih(p,o,r.layoutBox);const f=!X4(h);let x=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:S}=m;if(w&&S){const _=Dn();sh(_,r.layoutBox,w.layoutBox);const R=Dn();sh(R,o,S.layoutBox),Q4(_,R)||(x=!0),m.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=_,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:p,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function QE(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JE(e){e.clearSnapshot()}function s5(e){e.clearMeasurements()}function ek(e){e.isLayoutDirty=!1}function tk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function o5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nk(e){e.resolveTargetDelta()}function rk(e){e.calcProjection()}function ik(e){e.resetSkewAndRotation()}function sk(e){e.removeLeadSnapshot()}function a5(e,t,r){e.translate=yn(t.translate,0,r),e.scale=yn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function l5(e,t,r,o){e.min=yn(t.min,r.min,o),e.max=yn(t.max,r.max,o)}function ok(e,t,r,o){l5(e.x,t.x,r.x,o),l5(e.y,t.y,r.y,o)}function ak(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lk={duration:.45,ease:[.4,0,.1,1]},u5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),c5=u5("applewebkit/")&&!u5("chrome/")?Math.round:Di;function d5(e){e.min=c5(e.min),e.max=c5(e.max)}function uk(e){d5(e.x),d5(e.y)}function e8(e,t,r){return e==="position"||e==="preserve-aspect"&&!dE(n5(t),n5(r),.2)}function ck(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const dk=J4({attachResizeListener:(e,t)=>Eh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qp={current:void 0},t8=J4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qp.current){const e=new dk({});e.mount(window),e.setOptions({layoutScroll:!0}),Qp.current=e}return Qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hk={pan:{Feature:TE},drag:{Feature:RE,ProjectionNode:t8,MeasureLayout:H4}};function h5(e,t,r){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r==="Start");const u="onHover"+r,d=o[u];d&&an.postRender(()=>d(t,Ih(t)))}class fk extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=w7(t,(r,o)=>(h5(this.node,o,"Start"),u=>h5(this.node,u,"End"))))}unmount(){}}class pk extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(Eh(this.node.current,"focus",()=>this.onFocus()),Eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f5(e,t,r){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",r==="Start");const u="onTap"+(r==="End"?"":r),d=o[u];d&&an.postRender(()=>d(t,Ih(t)))}class mk extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=P7(t,(r,o)=>(f5(this.node,o,"Start"),(u,{success:d})=>f5(this.node,u,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Am=new WeakMap,Zp=new WeakMap,gk=e=>{const t=Am.get(e.target);t&&t(e)},vk=e=>{e.forEach(gk)};function yk({root:e,...t}){const r=e||document;Zp.has(r)||Zp.set(r,{});const o=Zp.get(r),u=JSON.stringify(t);return o[u]||(o[u]=new IntersectionObserver(vk,{root:e,...t})),o[u]}function xk(e,t,r){const o=yk(t);return Am.set(e,r),o.observe(e),()=>{Am.delete(e),o.unobserve(e)}}const wk={some:0,all:1};class Sk extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:o,amount:u="some",once:d}=t,c={root:r?r.current:void 0,rootMargin:o,threshold:typeof u=="number"?u:wk[u]},h=p=>{const{isIntersecting:f}=p;if(this.isInView===f||(this.isInView=f,d&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:x,onViewportLeave:m}=this.node.getProps(),w=f?x:m;w&&w(p)};return xk(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(_k(t,r))&&this.startObserver()}unmount(){}}function _k({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Ck={inView:{Feature:Sk},tap:{Feature:mk},focus:{Feature:pk},hover:{Feature:fk}},Pk={layout:{ProjectionNode:t8,MeasureLayout:H4}},jm={current:null},n8={current:!1};function Ek(){if(n8.current=!0,!!pg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jm.current=e.matches;e.addListener(t),t()}else jm.current=!1}const kk=[...k4,Dr,za],Rk=e=>kk.find(E4(e)),Tk=new WeakMap;function Mk(e,t,r){for(const o in t){const u=t[o],d=r[o];if(Fr(u))e.addValue(o,u);else if(Fr(d))e.addValue(o,xh(u,{owner:e}));else if(d!==u)if(e.hasValue(o)){const c=e.getValue(o);c.liveStyle===!0?c.jump(u):c.hasAnimated||c.set(u)}else{const c=e.getStaticValue(o);e.addValue(o,xh(c!==void 0?c:u,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const p5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bk{scrapeMotionValuesFromProps(t,r,o){return{}}constructor({parent:t,props:r,presenceContext:o,reducedMotionConfig:u,blockInitialAnimation:d,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ys.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,an.render(this.render,!1,!0))};const{latestValues:p,renderState:f,onUpdate:x}=c;this.onUpdate=x,this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=N0(r),this.isVariantNode=B3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const S in w){const _=w[S];p[S]!==void 0&&Fr(_)&&_.set(p[S],!1)}}mount(t){this.current=t,Tk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),n8.current||Ek(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fa(this.notifyUpdate),Fa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=Ul.has(t);o&&this.onBindTransform&&this.onBindTransform();const u=r.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&an.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{u(),d(),c&&c(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qu){const r=qu[t];if(!r)continue;const{isEnabled:o,Feature:u}=r;if(!this.features[t]&&u&&o(this.props)&&(this.features[t]=new u(this)),this.features[t]){const d=this.features[t];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<p5.length;o++){const u=p5[o];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const d="on"+u,c=t[d];c&&(this.propEventSubscriptions[u]=this.on(u,c))}this.prevMotionValues=Mk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const o=this.values.get(t);r!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&r!==void 0&&(o=xh(r===null?void 0:r,{owner:this}),this.addValue(t,o)),o}readValue(t,r){var o;let u=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(o=this.getBaseTargetFromProps(this.props,t))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,t,this.options);return u!=null&&(typeof u=="string"&&(C4(u)||f4(u))?u=parseFloat(u):!Rk(u)&&za.test(r)&&(u=w4(t,r)),this.setBaseTarget(t,Fr(u)?u.get():u)),Fr(u)?u.get():u}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:o}=this.props;let u;if(typeof o=="string"||typeof o=="object"){const c=Og(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(u=c[t])}if(o&&u!==void 0)return u;const d=this.getBaseTargetFromProps(this.props,t);return d!==void 0&&!Fr(d)?d:this.initialValues[t]!==void 0&&u===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new xg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class r8 extends bk{constructor(){super(...arguments),this.KeyframeResolver=R4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:o}){delete r[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Nk(e){return window.getComputedStyle(e)}class Ak extends r8{constructor(){super(...arguments),this.type="html",this.renderInstance=J3}readValueFromInstance(t,r){if(Ul.has(r))return $C(t,r);{const o=Nk(t),u=(Tg(r)?o.getPropertyValue(r):o[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:r}){return $4(t,r)}build(t,r,o){Ng(t,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,r,o){return Dg(t,r,o)}}class jk extends r8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Z3(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ul.has(r)){const o=x4(r);return o&&o.default||0}return r=e4.has(r)?r:Rg(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,o){return n4(t,r,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&an.postRender(this.updateDimensions)}build(t,r,o){Ig(t,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,r,o,u){t4(t,r,o,u)}mount(t){this.isSVGTag=Lg(t.tagName),super.mount(t)}}const Ik=(e,t)=>jg(e)?new jk(t):new Ak(t,{allowProjection:e!==ee.Fragment}),Lk=gC({...rE,...Ck,...hk,...Pk},Ik),mt=A7(Lk);function i8({containerVariants:e,itemVariants:t,themeColor:r,onLogin:o,inputRef:u,username:d,setUsername:c}){const[h,p]=ee.useState(window.innerHeight>window.innerWidth?"portrait":"landscape");return ee.useEffect(()=>{const f=()=>{p(window.innerHeight>window.innerWidth?"portrait":"landscape")};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),v.jsxs(mt.div,{className:"flex-grow flex flex-col justify-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:e,children:[v.jsxs(mt.div,{variants:t,className:"bg-black bg-opacity-70 border border-gray-800 p-5 max-w-md w-full mx-auto relative",style:{boxShadow:`0 0 20px ${je(r,.2)}`},children:[v.jsx("div",{className:"absolute -top-3 left-0 transform -translate-y-full flex items-center",children:v.jsx("div",{className:"px-2 py-1 bg-black border-t border-l border-r",style:{borderColor:je(r,.5)},children:v.jsxs("div",{className:"text-xs text-blue-400 font-mono tracking-wider flex items-center",children:[v.jsx("span",{className:"h-2 w-2 rounded-full animate-pulse mr-2",style:{backgroundColor:r}}),"|AUTHENTICATION REQUIRED|"]})})}),v.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-2 border-l-2",style:{borderColor:r}}),v.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-2 border-r-2",style:{borderColor:r}}),v.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-2 border-l-2",style:{borderColor:r}}),v.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-2 border-r-2",style:{borderColor:r}}),v.jsxs("div",{className:"relative mb-6 pt-1",children:[v.jsx("h2",{className:`${h==="portrait"?"text-xl":"text-lg"} font-bold mb-3`,style:{color:r},children:"TACTICAL COMMANDER INTERFACE"}),v.jsx("div",{className:"h-1 w-16 mb-3",style:{backgroundColor:r}}),v.jsx("p",{className:`text-gray-300 mb-4 ${h==="landscape"?"text-sm":""}`,children:"Enter your tactical callsign to access the command network."})]}),v.jsxs("form",{onSubmit:o,children:[v.jsxs("div",{className:"relative mb-6 group",children:[v.jsx("div",{className:"absolute -top-2.5 left-3 z-10 px-1 bg-black",children:v.jsx("label",{htmlFor:"username",className:"text-xs text-gray-400 group-focus-within:text-blue-400",children:"COMMANDER CALLSIGN"})}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:u,id:"username",type:"text",value:d,onChange:f=>c(f.target.value),className:"w-full bg-black bg-opacity-70 border border-gray-700 text-white px-4 py-3 focus:outline-none focus:border-blue-500",style:{boxShadow:`inset 0 0 10px ${je(r,.2)}`},autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),v.jsx("div",{className:"absolute left-0 bottom-0 h-0.5 transition-all duration-300",style:{width:d?"100%":"0%",backgroundColor:r,boxShadow:`0 0 10px ${je(r,.7)}`}})]})]}),v.jsxs(mt.button,{type:"submit",disabled:!d.trim(),whileHover:{scale:1.02},whileTap:{scale:.95},className:`w-full ${h==="landscape"?"py-2":"py-3"} font-bold tracking-wider relative overflow-hidden`,style:{backgroundColor:d.trim()?r:je(r,.3),cursor:d.trim()?"pointer":"not-allowed"},children:[v.jsx("span",{className:"relative z-10",children:h==="landscape"?"CONNECT":"ESTABLISH CONNECTION"}),v.jsx(mt.div,{className:"absolute inset-0 bg-white opacity-20",initial:{x:"-100%"},animate:{x:d.trim()?"100%":"-100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"}})]})]})]}),v.jsxs(mt.div,{variants:t,className:"text-center mt-4 text-sm text-gray-400",children:[v.jsxs("p",{children:["TACTICAL NETWORK STATUS: ",v.jsx("span",{className:"text-green-400",children:"ONLINE"})]}),v.jsx("p",{className:"mt-1",children:"ENCRYPTED CONNECTION ACTIVE"})]})]})}i8.propTypes={containerVariants:X.object.isRequired,itemVariants:X.object.isRequired,themeColor:X.string.isRequired,onLogin:X.func.isRequired,inputRef:X.object.isRequired,username:X.string.isRequired,setUsername:X.func.isRequired};var s8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m5=on.createContext&&on.createContext(s8),Ok=["attr","size","title"];function Dk(e,t){if(e==null)return{};var r=Fk(e,t),o,u;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(u=0;u<d.length;u++)o=d[u],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Fk(e,t){if(e==null)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u0.apply(this,arguments)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(o){zk(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function zk(e,t,r){return t=Uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e){var t=Vk(e,"string");return typeof t=="symbol"?t:t+""}function Vk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e){return e&&e.map((t,r)=>on.createElement(t.tag,c0({key:r},t.attr),o8(t.child)))}function j0(e){return t=>on.createElement(Bk,u0({attr:c0({},e.attr)},t),o8(e.child))}function Bk(e){var t=r=>{var{attr:o,size:u,title:d}=e,c=Dk(e,Ok),h=u||r.size||"1em",p;return r.className&&(p=r.className),e.className&&(p=(p?p+" ":"")+e.className),on.createElement("svg",u0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,c,{className:p,style:c0(c0({color:e.color||r.color},r.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),d&&on.createElement("title",null,d),e.children)};return m5!==void 0?on.createElement(m5.Consumer,null,r=>t(r)):t(s8)}function v5(e){return j0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function y5(e){return j0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function x5(e){return j0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function w5(e){return j0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(e)}function Lo({icon:e,title:t,description:r,onClick:o,themeColor:u,isQuit:d=!1,delay:c=0,compact:h=!1,veryCompact:p=!1}){const f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:c,duration:.3}}},x=d?"#ff5252":u,m=d?"rgba(180, 30, 30, 0.3)":"rgba(40, 44, 52, 0.8)",w=d?"rgba(180, 30, 30, 0.15)":je(u,.15),S=p?"w-8 h-8":h?"w-10 h-10":"w-12 h-12",_=p?"p-2":h?"p-3":"p-4",R=p?"mr-2":"mr-3",E=p?"w-1.5 h-1.5":h?"w-2 h-2":"w-3 h-3",A=p?"text-xs":h?"text-sm":"text-base",k=p?"text-[10px]":h?"text-xs":"text-sm",C=p?"text-base":h?"text-lg":"text-xl",N=p?"h-8":h?"h-10":"h-12";return v.jsxs(mt.div,{variants:f,whileHover:{scale:1.02,backgroundColor:w,transition:{duration:.2}},whileTap:{scale:.98},onClick:o,className:`relative flex items-center ${_} cursor-pointer bg-black bg-opacity-40 border border-opacity-50`,style:{borderColor:m},children:[v.jsx("div",{className:`absolute top-0 left-0 ${E} border-t border-l`,style:{borderColor:x}}),v.jsx("div",{className:`absolute top-0 right-0 ${E} border-t border-r`,style:{borderColor:x}}),v.jsx("div",{className:`absolute bottom-0 left-0 ${E} border-b border-l`,style:{borderColor:x}}),v.jsx("div",{className:`absolute bottom-0 right-0 ${E} border-b border-r`,style:{borderColor:x}}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",style:{background:`radial-gradient(circle at 30% center, ${d?"rgba(255,50,50,0.8)":u} 0%, transparent 70%)`}}),v.jsxs("div",{className:`flex items-center justify-center ${S} ${R} border-2 relative shrink-0`,style:{borderColor:x},children:[v.jsx("div",{className:C,style:{color:x},children:e}),!p&&v.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 border",style:{backgroundColor:"black",borderColor:x}})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:`font-bold text-white tracking-wide mb-0.5 truncate ${A}`,children:t}),v.jsx("p",{className:`${k} text-gray-400 line-clamp-1`,children:r})]}),v.jsx("div",{className:`w-1 ${N} ml-1.5`,style:{backgroundColor:x}})]})}Lo.propTypes={icon:X.node.isRequired,title:X.string.isRequired,description:X.string.isRequired,onClick:X.func.isRequired,themeColor:X.string.isRequired,isQuit:X.bool,delay:X.number,compact:X.bool,veryCompact:X.bool};function a8({username:e,themeColor:t,handleMenuOption:r,containerVariants:o,itemVariants:u}){const[d,c]=ee.useState(window.innerHeight>window.innerWidth?"portrait":"landscape"),[h,p]=ee.useState({width:window.innerWidth,height:window.innerHeight});ee.useEffect(()=>{const S=()=>{const _=window.innerWidth,R=window.innerHeight;c(R>_?"portrait":"landscape"),p({width:_,height:R})};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const f=h.width<=360||h.height<=640,x=h.width<=390||h.height<=700,m=f&&e.length>8?`${e.substring(0,6)}..`:e,w=d==="landscape"?"flex-row overflow-hidden":"flex-col";return v.jsx(mt.div,{className:`flex-grow flex ${w}`,initial:"hidden",animate:"visible",exit:"exit",variants:o,children:d==="landscape"?v.jsxs(v.Fragment,{children:[v.jsxs(mt.div,{variants:u,className:`${f?"w-2/5 p-2":"w-1/3 p-3"} border-r border-gray-800 bg-black bg-opacity-40 flex flex-col`,children:[v.jsxs("div",{className:"mb-1",children:[v.jsx("h2",{className:`${f?"text-base":"text-lg"} font-bold`,style:{color:t},children:"COMMAND TERMINAL"}),v.jsx("div",{className:"h-0.5 w-12 my-1",style:{backgroundColor:t}})]}),v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("div",{className:`${f?"p-1 mr-1.5":"p-1.5 mr-2"} border-2`,style:{borderColor:t},children:v.jsx("div",{className:"text-base font-bold",style:{color:t},children:e.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:`${f?"text-xs":"text-sm"} truncate`,children:["CMD ",v.jsx("span",{className:"font-bold",style:{color:t},children:m})]}),v.jsx("div",{className:`${f?"text-[10px]":"text-xs"} text-gray-400 font-mono`,children:"ACCESS GRANTED"})]})]}),v.jsx("div",{className:"flex-grow flex flex-col space-y-1",children:["SYSTEMS","NETWORK","SECURITY"].map((S,_)=>v.jsxs("div",{className:`bg-black bg-opacity-60 ${f?"p-1":"p-1.5"} text-center border border-gray-800 flex items-center`,children:[v.jsx("div",{className:`${f?"text-[10px]":"text-xs"} text-gray-400 flex-1 text-left`,children:S}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-1.5 w-1.5 rounded-full animate-pulse mr-1",style:{backgroundColor:_===2?"#fbbf24":"#10b981",animationDelay:`${_*.3}s`}}),v.jsx("span",{className:`${f?"text-[10px]":"text-xs"}`,style:{color:_===2?"#fbbf24":"#10b981"},children:_===2?"ALERT":"OK"})]})]},S))}),v.jsx("div",{className:"mt-auto pt-1 border-t border-gray-800",children:v.jsxs("div",{className:"flex items-center justify-between text-[10px] text-gray-400",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-1 w-1 animate-ping rounded-full mr-1",style:{backgroundColor:t}}),v.jsx("span",{children:f?"LINK ON":"LINK ACTIVE"})]}),v.jsx("div",{className:"font-mono",children:"v2.4.7"})]})})]}),v.jsxs(mt.div,{variants:u,className:`${f?"w-3/5 p-2":"w-2/3 p-3"} flex flex-col overflow-y-auto`,children:[v.jsx("div",{className:"text-xs text-gray-400 mb-1 font-mono",children:"|SELECT|"}),v.jsxs("div",{className:"grid grid-cols-1 gap-1.5 overflow-y-auto flex-grow",children:[v.jsx(Lo,{icon:v.jsx(x5,{}),title:"DEPLOY TANK",description:f?"Enter battlefield":"Enter battlefield with your selected vehicle",onClick:()=>r("play"),themeColor:t,delay:0,compact:!0,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(v5,{}),title:"TRAINING",description:f?"Learn tactics":"Learn combat tactics and strategies",onClick:()=>r("tutorial"),themeColor:t,delay:.1,compact:!0,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(y5,{}),title:"SPECTATE",description:f?"Monitor operations":"Monitor active operations",onClick:()=>r("spectate"),themeColor:t,delay:.2,compact:!0,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(w5,{}),title:"DISCONNECT",description:f?"Terminate session":"Terminate command session",onClick:()=>r("quit"),themeColor:t,isQuit:!0,delay:.3,compact:!0,veryCompact:f})]})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs(mt.div,{variants:u,className:`px-${f?"2":"4"} py-${f?"2":"3"}`,children:[v.jsxs("div",{className:"relative mb-1",children:[v.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-transparent via-blue-500/30 to-transparent mb-2"}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:`${f?"text-lg":x?"text-xl":"text-2xl"} font-bold`,style:{color:t},children:"COMMAND TERMINAL"}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-1.5 w-1.5 rounded-full animate-pulse mr-1 bg-green-500"}),v.jsx("span",{className:"text-xs text-green-500 font-mono",children:"ON"})]})]})]}),v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("div",{className:`${f?"p-1.5":"p-2"} border mr-2`,style:{borderColor:t},children:v.jsx("div",{className:`${f?"text-base":"text-xl"} font-bold`,style:{color:t},children:e.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:`${f?"text-sm":x?"text-base":"text-lg"} truncate`,children:["Commander ",v.jsx("span",{className:"font-bold",style:{color:t},children:m})]}),v.jsx("div",{className:`${f?"text-[10px]":"text-xs"} text-gray-400 font-mono truncate`,children:f?"ACCESS GRANTED":"CLEARANCE LEVEL: ALPHA | ACCESS GRANTED"})]})]})]}),v.jsx(mt.div,{variants:u,className:`grid grid-cols-3 gap-1 px-${f?"2":"4"} mb-${f?"2":"3"}`,children:["SYSTEMS","NETWORK","SECURITY"].map((S,_)=>v.jsxs("div",{className:"bg-black bg-opacity-50 py-1 px-1.5 text-center border border-gray-800",children:[v.jsx("div",{className:`${f?"text-[10px]":"text-xs"} text-gray-400`,children:S}),v.jsxs("div",{className:"flex items-center justify-center mt-0.5",children:[v.jsx("div",{className:"h-1.5 w-1.5 rounded-full animate-pulse mr-0.5",style:{backgroundColor:_===2?"#fbbf24":"#10b981",animationDelay:`${_*.3}s`}}),v.jsx("span",{className:`${f?"text-[10px]":"text-xs"}`,style:{color:_===2?"#fbbf24":"#10b981"},children:_===2?"ALERT":"OK"})]})]},S))}),v.jsxs(mt.div,{variants:u,className:`flex-grow px-${f?"2":"4"} pb-${f?"2":"4"} flex flex-col`,children:[v.jsx("div",{className:`${f?"text-[10px]":"text-xs"} text-gray-400 mb-1 font-mono`,children:"|SELECT OPERATION|"}),v.jsxs("div",{className:`grid gap-${f?"1.5":"2"} grid-cols-1 flex-grow`,children:[v.jsx(Lo,{icon:v.jsx(x5,{}),title:"DEPLOY TANK",description:f?"Enter battlefield":"Enter battlefield with your selected vehicle",onClick:()=>r("play"),themeColor:t,delay:0,compact:x,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(v5,{}),title:f?"TRAINING":"TRAINING GROUNDS",description:f?"Learn tactics":"Learn combat tactics and strategies",onClick:()=>r("tutorial"),themeColor:t,delay:.1,compact:x,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(y5,{}),title:"SPECTATE",description:f?"Monitor operations":"Monitor battlefield operations",onClick:()=>r("spectate"),themeColor:t,delay:.2,compact:x,veryCompact:f}),v.jsx(Lo,{icon:v.jsx(w5,{}),title:"DISCONNECT",description:f?"Terminate session":"Terminate command session",onClick:()=>r("quit"),themeColor:t,isQuit:!0,delay:.3,compact:x,veryCompact:f})]}),v.jsxs(mt.div,{variants:u,className:"bg-black bg-opacity-80 border-t border-gray-800 py-1.5 px-2 flex justify-between text-[10px] text-gray-400 mt-auto",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-1 w-1 animate-ping rounded-full mr-1",style:{backgroundColor:t}}),v.jsx("span",{children:f?"LINK ACTIVE":"TACTICAL LINK ACTIVE"})]}),v.jsx("div",{className:"font-mono",children:"SYS.VER 2.4.7"})]})]})]})})}a8.propTypes={username:X.string.isRequired,themeColor:X.string.isRequired,handleMenuOption:X.func.isRequired,containerVariants:X.object.isRequired,itemVariants:X.object.isRequired};function l8({themeColor:e="#3498db"}){const[t,r]=ee.useState(""),[o,u]=ee.useState(!1),[d,c]=ee.useState(window.innerHeight>window.innerWidth?"portrait":"landscape"),h=Om(),p=ee.useRef(null),f=ee.useRef(null);ee.useEffect(()=>{const _=sessionStorage.getItem("username");_&&(r(_),u(!0)),p.current&&!o&&p.current.focus();const R=()=>{c(window.innerHeight>window.innerWidth?"portrait":"landscape")};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[o]);const x=_=>{_.preventDefault(),t.trim()&&(sessionStorage.setItem("username",t.trim()),u(!0))},m=_=>{switch(_){case"play":h("/tanki.io/tank-selection");break;case"tutorial":console.log("Tutorial clicked");break;case"spectate":h("/tanki.io/game");break;case"quit":console.log("Quit clicked"),sessionStorage.removeItem("username"),u(!1),r("");break}},w={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:20,transition:{ease:"easeInOut"}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return v.jsxs("div",{ref:f,className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden relative",children:[v.jsxs("div",{className:"absolute inset-0 bg-[#141418] z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-10"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black opacity-60"}),v.jsx("div",{className:"absolute inset-0",style:{background:`radial-gradient(circle at center, ${je(e,.15)}, transparent 70%)`}}),v.jsxs("div",{className:"absolute inset-0 opacity-20",children:[[...Array(10)].map((_,R)=>v.jsx("div",{className:"absolute w-full h-px bg-blue-400",style:{top:`${R*10}%`,backgroundImage:`linear-gradient(90deg, transparent, ${je(e,.5)}, transparent)`,animation:`scanline ${3+R*.5}s linear infinite`}},`h-${R}`)),[...Array(10)].map((_,R)=>v.jsx("div",{className:"absolute h-full w-px bg-blue-400",style:{left:`${R*10}%`,backgroundImage:`linear-gradient(0deg, transparent, ${je(e,.5)}, transparent)`,animation:`scanlineVertical ${3+R*.5}s linear infinite`}},`v-${R}`))]})]}),v.jsxs("div",{className:"relative z-10 bg-black bg-opacity-70 border-b border-gray-800 px-4 py-3 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-3 h-3 mr-2",style:{backgroundColor:e}}),v.jsx("h1",{className:"text-lg font-bold tracking-wider",children:"TANKI.IO"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"text-xs font-mono text-gray-400",children:"SYSTEM v2.5"}),v.jsx("div",{className:"ml-2 h-2 w-2 rounded-full animate-pulse bg-green-500"})]})]}),v.jsx("div",{className:"flex-grow flex flex-col relative z-10",children:o?v.jsx(a8,{containerVariants:w,itemVariants:S,username:t,themeColor:e,handleMenuOption:m}):v.jsx(i8,{containerVariants:w,itemVariants:S,themeColor:e,onLogin:x,inputRef:p,username:t,setUsername:r})}),v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.02)_50%)] bg-[length:100%_2px] pointer-events-none z-20"}),v.jsx("style",{jsx:"true",children:`
                @keyframes scanline {
                    0% { transform: translateX(-100%); }
                    100% { transform: translateX(100%); }
                }
                @keyframes scanlineVertical {
                    0% { transform: translateY(-100%); }
                    100% { transform: translateY(100%); }
                }
                @keyframes blink {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.3; }
                }
            `})]})}l8.propTypes={themeColor:X.string};function $k(){const[e,t]=ee.useState({width:window.innerWidth,height:window.innerHeight}),r=e.width>e.height,o=r?"landscape":"portrait",u=e.width<=360||e.height<=640,d=e.width<=390||e.height<=700,c=e.width<=768||e.height<=1024,p=(window.devicePixelRatio||1)>=2;return ee.useEffect(()=>{const _=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),{orientation:o,isLandscape:r,isPortrait:!r,dimensions:e,isVerySmallScreen:u,isSmallScreen:d,isMediumScreen:c,isHighDensity:p,spacing:{xs:u?1:2,sm:u?2:d?3:4,md:d?4:6,lg:d?6:8},fontSize:{xs:u?"text-[10px]":"text-xs",sm:u?"text-xs":"text-sm",base:u?"text-sm":"text-base",lg:d?"text-base":"text-lg",xl:d?"text-lg":"text-xl","2xl":d?"text-xl":"text-2xl"},layoutSpacing:{header:u?"py-1":d?"py-2":"py-3",content:u?"p-2":d?"p-3":"p-4",section:u?"mb-2":d?"mb-3":"mb-4",item:u?"mb-1 py-1":d?"mb-2 py-2":"mb-3 py-2",card:u?"p-2":d?"p-3":"p-4",gap:u?"gap-1":d?"gap-2":"gap-3"},componentSizes:{tankPreview:{xs:{width:r?160:180,height:r?120:180},sm:{width:r?180:220,height:r?180:220},md:{width:r?220:260,height:r?220:260},lg:{width:280,height:280}},icon:{xs:u?12:14,sm:u?14:16,md:d?16:20,lg:24},button:{xs:u?"p-1 text-xs":"p-1.5 text-xs",sm:u?"p-1.5 text-xs":"p-2 text-sm",md:d?"p-2 text-sm":"p-3 text-base",lg:"p-3 text-base"}},gridLayouts:{portrait:{singleColumn:"grid-cols-1",twoColumns:d?"grid-cols-1":"grid-cols-2",threeColumns:d?"grid-cols-1":c?"grid-cols-2":"grid-cols-3"},landscape:{singleColumn:"grid-cols-1",twoColumns:"grid-cols-2",threeColumns:d?"grid-cols-2":"grid-cols-3"}}}}function Lh(){const e=$k(),{isVerySmallScreen:t,isSmallScreen:r,isLandscape:o,orientation:u,fontSize:d,componentSizes:c}=e,h=ee.useMemo(()=>({getResponsiveContent:(p,f,x)=>t&&x!==void 0?x:r&&f!==void 0?f:p,getPadding:(p="md",f="all")=>{const x={xs:t?"1":"2",sm:t?"2":r?"3":"4",md:r?"4":"5",lg:r?"5":"6"},m=x[p]||x.md;switch(f){case"x":return`px-${m}`;case"y":return`py-${m}`;case"t":return`pt-${m}`;case"r":return`pr-${m}`;case"b":return`pb-${m}`;case"l":return`pl-${m}`;default:return`p-${m}`}},getFontSize:(p="base")=>d[p]||d.base,getIconSize:(p="md")=>c.icon[p]||c.icon.md,getTankPreviewSize:(p="md")=>c.tankPreview[p]||c.tankPreview.md,getButtonSize:(p="md")=>c.button[p]||c.button.md,formatResponsiveText:(p,f=8)=>p?t&&p.length>f?`${p.substring(0,f-2)}..`:p:"",getGridColumns:(p="singleColumn")=>{const f=o?"landscape":"portrait";return e.gridLayouts[f][p]||e.gridLayouts[f].singleColumn}}),[t,r,o,u,d,c,e.gridLayouts]);return{...e,utils:h}}function u8({themeColor:e,title:t,version:r}){return v.jsxs("div",{className:"bg-black bg-opacity-70 py-2 px-4 flex justify-between items-center border-b border-gray-800",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-1 h-5 mr-2",style:{backgroundColor:e}}),v.jsx("h1",{className:"text-sm font-light tracking-widest",children:t})]}),v.jsx("div",{className:"text-xs text-gray-400 font-mono",children:r})]})}u8.propTypes={themeColor:X.string.isRequired,title:X.string.isRequired,version:X.string.isRequired};const Gk=()=>{const{isFullscreen:e,enterFullscreen:t}=q5();return ee.useEffect(()=>{if(sessionStorage.getItem("preferFullscreen")==="true"&&!e){const o=setTimeout(()=>{t(document.documentElement)},100);return()=>clearTimeout(o)}},[e,t]),null};function qg({selectedTank:e,tankRotation:t,animateIn:r,onNext:o,onPrev:u,TankComponent:d,layoutSize:c}){const{isVerySmallScreen:h,utils:p}=Lh(),f=p.getTankPreviewSize(c||(h?"xs":"sm")),m=p.getButtonSize("sm").split(" ")[0],w=p.getIconSize("sm"),S=h?"w-6 h-6":"w-10 h-10";return v.jsxs("div",{className:`relative flex items-center justify-center ${p.getPadding(h?"xs":"sm","y")}`,children:[v.jsx("div",{className:`transition-all duration-300 transform ${r?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:v.jsx(Hm,{width:f.width,height:f.height,children:v.jsx(qm,{children:v.jsx(d,{x:f.width/2,y:f.height/2,rotation:t,hp:100,username:e.name,isDead:!1})})})}),v.jsx("button",{onClick:u,className:`absolute left-0 z-10 ${m} bg-black bg-opacity-20 text-white focus:outline-none`,style:{borderRight:`2px solid ${e.color}`},children:v.jsx(aw,{size:w})}),v.jsx("button",{onClick:o,className:`absolute right-0 z-10 ${m} bg-black bg-opacity-20 text-white focus:outline-none`,style:{borderLeft:`2px solid ${e.color}`},children:v.jsx(uw,{size:w})}),v.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[v.jsx("div",{className:`absolute top-0 left-0 ${S} border-t-2 border-l-2 border-gray-700 opacity-70`}),v.jsx("div",{className:`absolute top-0 right-0 ${S} border-t-2 border-r-2 border-gray-700 opacity-70`}),v.jsx("div",{className:`absolute bottom-0 left-0 ${S} border-b-2 border-l-2 border-gray-700 opacity-70`}),v.jsx("div",{className:`absolute bottom-0 right-0 ${S} border-b-2 border-r-2 border-gray-700 opacity-70`})]})]})}qg.propTypes={selectedTank:X.shape({stats:X.shape({defense:X.number.isRequired}).isRequired,name:X.string.isRequired,color:X.string.isRequired}).isRequired,tankRotation:X.number.isRequired,animateIn:X.bool.isRequired,onNext:X.func.isRequired,onPrev:X.func.isRequired,TankComponent:X.elementType.isRequired,layoutSize:X.oneOf(["xs","sm","md","lg"])};var c8=/^--/;function Wk(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!c8.test(e)&&!(oh.hasOwnProperty(e)&&oh[e])?t+"px":(""+t).trim()}var S5={};function qk(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:o,style:u,children:d,scrollTop:c,scrollLeft:h,viewBox:p,...f}=t,x=Object.values(f),m=Object.keys(f).map(w=>r||e.hasAttribute(w)?w:S5[w]||(S5[w]=w.replace(/([A-Z])/g,S=>"-"+S.toLowerCase())));d!==void 0&&(e.textContent=d);for(const w in u)if(u.hasOwnProperty(w)){const S=Wk(w,u[w]);c8.test(w)?e.style.setProperty(w,S):e.style[w]=S}m.forEach((w,S)=>{e.setAttribute(w,x[S])}),o!==void 0&&(e.className=o),c!==void 0&&(e.scrollTop=c),h!==void 0&&(e.scrollLeft=h),p!==void 0&&e.setAttribute("viewBox",p)}var oh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Kk=["Webkit","Ms","Moz","O"];oh=Object.keys(oh).reduce((e,t)=>(Kk.forEach(r=>e[Hk(r,t)]=e[t]),e),oh);var Yk=/^(matrix|translate|scale|rotate|skew)/,Xk=/^(translate)/,Qk=/^(rotate|skew)/,Jp=(e,t)=>Ae.num(e)&&e!==0?e+t:e,Xf=(e,t)=>Ae.arr(e)?e.every(r=>Xf(r,t)):Ae.num(e)?e===t:parseFloat(e)===t,Zk=class extends k0{constructor({x:e,y:t,z:r,...o}){const u=[],d=[];(e||t||r)&&(u.push([e||0,t||0,r||0]),d.push(c=>[`translate3d(${c.map(h=>Jp(h,"px")).join(",")})`,Xf(c,0)])),Qs(o,(c,h)=>{if(h==="transform")u.push([c||""]),d.push(p=>[p,p===""]);else if(Yk.test(h)){if(delete o[h],Ae.und(c))return;const p=Xk.test(h)?"px":Qk.test(h)?"deg":"";u.push(Oi(c)),d.push(h==="rotate3d"?([f,x,m,w])=>[`rotate3d(${f},${x},${m},${Jp(w,p)})`,Xf(w,0)]:f=>[`${h}(${f.map(x=>Jp(x,p)).join(",")})`,Xf(f,h.startsWith("scale")?1:0)])}}),u.length&&(o.transform=new Jk(u,d)),super(o)}},Jk=class extends Kx{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return jt(this.inputs,(r,o)=>{const u=Si(r[0]),[d,c]=this.transforms[o](Ae.arr(u)?u:r.map(Si));e+=" "+d,t=t&&c}),t?"none":e}observerAdded(e){e==1&&jt(this.inputs,t=>jt(t,r=>Ji(r)&&Qu(r,this)))}observerRemoved(e){e==0&&jt(this.inputs,t=>jt(t,r=>Ji(r)&&fh(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),hh(this,e)}},eR=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ts.assign({batchedUpdates:Z8.unstable_batchedUpdates,createStringInterpolator:ig,colors:Hx});var tR=n3(eR,{applyAnimatedValues:qk,createAnimatedStyle:e=>new Zk(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),_5=tR.animated;const em=10;function Hg({selectedTank:e,spacing:t=null}){const{isVerySmallScreen:r,isSmallScreen:o,isLandscape:u,utils:d,layoutSpacing:c}=Lh(),[h,p]=ee.useState({defense:!1,damage:!1,speed:!1}),f=r?10:o?11:12,x=r?12:o?13:14,m=d.getIconSize("xs"),w=d.getFontSize("xs"),S=`${w} font-bold`,_=Aa({from:{height:"0%"},to:{height:`${Math.min(e.stats.defense/em*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),R=Aa({from:{height:"0%"},to:{height:`${Math.min(e.stats.damage/em*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),E=Aa({from:{height:"0%"},to:{height:`${Math.min(e.stats.speed/em*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),A=r?-2:-3,k=r?"6px":"8px",C=Aa({from:{transform:"translateY(0px)"},to:{transform:`translateY(${A}px)`},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!h.defense}),N=Aa({from:{transform:"translateY(0px)"},to:{transform:`translateY(${A}px)`},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!h.damage}),j=Aa({from:{transform:"translateY(0px)"},to:{transform:`translateY(${A}px)`},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!h.speed});ee.useEffect(()=>{const H=setTimeout(()=>{p({defense:!0,damage:!0,speed:!0})},200);return()=>clearTimeout(H)},[]);const $=(H,U,G,te,O)=>v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("div",{className:`relative w-${f} h-${x} mb-1`,children:[v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("div",{className:`w-${f} h-${f} bg-gray-800 rounded-md transform rotate-45`})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},children:v.jsx(_5.div,{style:{...te,width:"100%",position:"absolute",bottom:0,backgroundColor:e.color,opacity:.7},children:v.jsx(_5.div,{className:"absolute top-0 left-0 w-full",style:{...O,height:k,background:`linear-gradient(to bottom, 
                                        ${e.color} 30%, 
                                        rgba(255,255,255,0.3) 50%, 
                                        rgba(255,255,255,0) 100%)`,boxShadow:`0 0 10px ${e.color}`,borderRadius:"50% 50% 0 0 / 100% 100% 0 0"}})})}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:on.cloneElement(G,{size:m})})]}),v.jsx("span",{className:w,children:U}),v.jsx("span",{className:S,children:H})]}),B=t?typeof t=="string"?t:t.tankStats:c.section,L=u?r?"px-3":"px-5":r?"px-4":o?"px-6":"px-8";return v.jsxs("div",{className:`flex justify-around ${L} ${B} bg-gray-900 bg-opacity-70 items-center h-full`,children:[$(e.stats.defense,"DFS",v.jsx(Dm,{}),_,C),$(e.stats.damage,"DMG",v.jsx(V5,{}),R,N),$(e.stats.speed,"SPD",v.jsx(Fm,{}),E,j)]})}Hg.propTypes={selectedTank:X.shape({color:X.string.isRequired,stats:X.shape({defense:X.number.isRequired,damage:X.number.isRequired,speed:X.number.isRequired}).isRequired}).isRequired,spacing:X.oneOfType([X.string,X.object])};const nR={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},Kg={hidden:{opacity:0,x:-30,filter:"blur(5px)",transition:{duration:.2}},visible:{opacity:1,x:0,filter:"blur(0px)",transition:{type:"spring",stiffness:400,damping:40,staggerChildren:.08}},exit:{opacity:0,x:30,filter:"blur(5px)",transition:{duration:.2,ease:"easeInOut"}}},d0={hidden:{opacity:0,y:15,skewX:"-5deg"},visible:{opacity:1,y:0,skewX:"0deg",transition:{type:"spring",stiffness:300,damping:20}}},rR={y:[0,300],opacity:[.3,0,.3],transition:{duration:1.5,ease:"linear",repeat:1/0,repeatType:"loop"}};function d8({activeTab:e,handleTabChange:t,tankColor:r,isSmallScreen:o=!1}){const u=[{id:"profile",label:"PROFILE"},{id:"skills",label:"SKILLS"},{id:"equipment",label:"EQUIP"}],d=c=>{if(o)switch(c.id){case"profile":return"PROF";case"skills":return"SKILL";case"equipment":return"EQUIP";default:return c.label}return c.label};return v.jsx("div",{className:"flex border-b border-gray-800",children:u.map(c=>v.jsxs("button",{onClick:()=>t(c.id),className:`flex-1 py-2 ${o?"text-xs":"text-sm"} font-semibold relative ${e===c.id?"text-white":"text-gray-500"}`,children:[d(c),e===c.id&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5",style:{backgroundColor:r}})]},c.id))})}d8.propTypes={activeTab:X.string.isRequired,handleTabChange:X.func.isRequired,tankColor:X.string.isRequired,isSmallScreen:X.bool};function h8({selectedTank:e,isChanging:t}){return v.jsxs(v.Fragment,{children:[v.jsx(mt.div,{className:"absolute inset-0 w-full h-2 bg-gradient-to-b from-transparent via-opacity-30 to-transparent pointer-events-none z-10",style:{backgroundColor:e.color,opacity:.2},animate:rR}),v.jsx(mt.div,{className:"border-t border-b border-opacity-50",style:{borderColor:e.color},initial:{scaleX:0},animate:{scaleX:1,transition:{duration:.4,ease:"easeOut"}}}),v.jsxs(mt.div,{className:"absolute top-2 right-2 w-16 h-16 pointer-events-none",initial:{opacity:0,rotate:-20},animate:{opacity:.07,rotate:0,transition:{duration:.6,ease:"easeOut"}},children:[v.jsx("div",{className:"absolute w-full h-0.5",style:{backgroundColor:e.color,transform:"rotate(45deg)",transformOrigin:"center"}}),v.jsx("div",{className:"absolute w-full h-0.5",style:{backgroundColor:e.color,transform:"rotate(-45deg)",transformOrigin:"center"}}),v.jsx("div",{className:"absolute w-0.5 h-full left-1/2 ml-[-1px]",style:{backgroundColor:e.color}}),v.jsx("div",{className:"absolute w-full h-0.5 top-1/2 mt-[-1px]",style:{backgroundColor:e.color}})]}),v.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden opacity-5 z-0",children:[...Array(10)].map((r,o)=>v.jsx(mt.div,{className:"absolute h-px w-full bg-white",style:{top:`${o*10}%`},initial:{scaleX:0,transformOrigin:o%2===0?"0% 0%":"100% 0%"},animate:{scaleX:1,transition:{delay:o*.05,duration:.7,ease:"easeOut"}}},"line-"+o))}),v.jsx(M3,{children:t&&v.jsx(mt.div,{className:"absolute inset-0 pointer-events-none z-20",style:{backgroundColor:e.color},initial:{opacity:0},animate:{opacity:.15,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.3}}})})]})}h8.propTypes={selectedTank:X.shape({color:X.string.isRequired}).isRequired,isChanging:X.bool.isRequired};function f8({selectedTank:e,isChanging:t}){return v.jsxs(mt.div,{variants:Kg,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[v.jsxs(mt.div,{variants:d0,className:"transition-all duration-300",style:{opacity:t?0:1},children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(mt.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.1,duration:.3},children:v.jsx(vw,{size:12,className:"mr-2",style:{color:e.color}})}),v.jsx(mt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.15,duration:.3},children:"Description"})]}),v.jsx(mt.div,{className:"relative overflow-hidden border-l-2 pl-2",style:{borderColor:`${e.color}40`},initial:{height:0},animate:{height:"auto"},transition:{duration:.4,ease:"easeOut"},children:v.jsx("p",{className:"text-sm text-gray-300",children:e.description})})]}),v.jsxs(mt.div,{variants:d0,className:"transition-all duration-300",style:{opacity:t?0:1},children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(mt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:v.jsx(V5,{size:12,className:"mr-2",style:{color:e.color}})}),v.jsx(mt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.25,duration:.3},children:"Combat Attributes"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs(mt.div,{className:"flex justify-between text-xs",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3},children:[v.jsx("span",{className:"text-gray-500",children:"RANGE"}),v.jsx("span",{className:"text-white",children:e.range})]}),v.jsxs(mt.div,{className:"flex justify-between text-xs mt-2",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.35},children:[v.jsx("span",{className:"text-gray-500",children:"SPECIALTY"}),v.jsx("span",{className:"text-white",children:e.stats.specialty})]})]}),v.jsxs("div",{children:[v.jsx(mt.div,{className:"text-xs text-gray-500 mb-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"ABILITIES"}),v.jsx(mt.ul,{className:"text-xs text-white",children:e.abilities.map((r,o)=>v.jsxs(mt.li,{className:"flex items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+o*.05},children:[v.jsx(mt.span,{className:"inline-block w-1 h-1 mr-1",style:{backgroundColor:e.color},initial:{scale:0},animate:{scale:1},transition:{delay:.4+o*.05}}),r]},`ability-${r}`))})]})]})]})]},"profile-tab")}f8.propTypes={selectedTank:X.shape({color:X.string.isRequired,description:X.string.isRequired,range:X.string.isRequired,stats:X.shape({specialty:X.string.isRequired}).isRequired,abilities:X.arrayOf(X.string).isRequired}).isRequired,isChanging:X.bool.isRequired};const C5=e=>{switch(e.toLowerCase()){case"heal":return v.jsx(mw,{size:14});case"shield":return v.jsx(Dm,{size:14});case"damage_boost":return v.jsx(sw,{size:14});case"aoe":return v.jsx(fw,{size:14});case"disable":return v.jsx(nw,{size:14});default:return v.jsx(Fm,{size:14})}},iR=e=>{switch(e.toLowerCase()){case"intensity":return v.jsx(ww,{size:14});case"radius":return v.jsx(U5,{size:14});case"duration":return v.jsx(B5,{size:14});default:return v.jsx(Fm,{size:14})}},sR=(e,t,r)=>e==="intensity"?r.toLowerCase()==="damage_boost"?`+${((t-1)*100).toFixed(0)}%`:`${(t*100).toFixed(0)}%`:e==="radius"?`${t}m`:t.toString(),P5=e=>{switch(e.toLowerCase()){case"heal":return"HEALING";case"shield":return"PROTECTION";case"damage_boost":return"DAMAGE BOOST";case"aoe":return"AREA DAMAGE";case"disable":return"DISRUPTION";default:return e.toUpperCase()}};function p8({selectedTank:e}){const t=e.skill.effect.type.toLowerCase();return v.jsx(mt.div,{variants:Kg,initial:"hidden",animate:"visible",exit:"exit",className:"relative",children:v.jsxs(mt.div,{className:"border border-gray-800 rounded-lg p-5 bg-black bg-opacity-70 backdrop-blur-sm relative",variants:d0,style:{boxShadow:`0 0 15px ${e.color}15`,borderLeft:`2px solid ${e.color}`},children:[v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-md",style:{backgroundColor:`${e.color}20`,border:`1px solid ${e.color}60`},children:C5(t)}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs uppercase tracking-wider font-bold",style:{color:e.color},children:"Tactical Ability"}),v.jsx("div",{className:"text-lg font-bold text-white",children:e.skill.name})]})]}),v.jsx("div",{className:"ml-9 mt-1 text-sm text-gray-400",children:e.skill.description}),v.jsx("div",{className:"ml-9 mt-2 inline-flex items-center px-2 py-1 text-xs rounded",style:{backgroundColor:`${e.color}15`,border:`1px solid ${e.color}40`,color:e.color},children:P5(t)})]}),v.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-700 to-transparent my-4"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[v.jsxs("div",{className:"bg-gray-900 bg-opacity-60 p-3 rounded-md border border-gray-800",style:{borderLeft:`2px solid ${e.color}`},children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(dw,{size:14,className:"text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 uppercase font-mono",children:"Cooldown"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"relative flex-1 h-2 bg-gray-800 rounded-full overflow-hidden mr-2",children:v.jsx("div",{className:"absolute h-full rounded-full",style:{width:"100%",background:`linear-gradient(90deg, ${e.color}, ${e.color}70)`}})}),v.jsxs("span",{className:"text-sm font-mono font-bold",style:{color:e.color},children:[(e.skill.cooldown/1e3).toFixed(1),"s"]})]})]}),v.jsxs("div",{className:"bg-gray-900 bg-opacity-60 p-3 rounded-md border border-gray-800",style:{borderLeft:`2px solid ${e.color}`},children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(B5,{size:14,className:"text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 uppercase font-mono",children:"Duration"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"relative flex-1 h-2 bg-gray-800 rounded-full overflow-hidden mr-2",children:v.jsx("div",{className:"absolute h-full rounded-full",style:{width:"100%",background:`linear-gradient(90deg, ${e.color}, ${e.color}70)`}})}),v.jsxs("span",{className:"text-sm font-mono font-bold",style:{color:e.color},children:[(e.skill.duration/1e3).toFixed(1),"s"]})]})]})]}),v.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-gray-800 mb-4",children:v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs text-gray-400 uppercase font-mono",children:"Effect Type"}),v.jsxs("div",{className:"flex items-center mt-1",children:[C5(t),v.jsx("span",{className:"ml-2 font-bold",style:{color:e.color},children:P5(t)})]})]}),v.jsx("div",{className:"h-16 w-16 rounded-full flex items-center justify-center",style:{border:`1px solid ${e.color}`,boxShadow:`0 0 15px ${e.color}40`,background:`radial-gradient(circle, ${e.color}20 0%, transparent 70%)`},children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-lg font-bold",style:{color:e.color},children:t==="damage_boost"?`+${(e.skill.effect.intensity-1)*100}%`:`${e.skill.effect.intensity*100}%`}),v.jsxs("div",{className:"text-xs text-gray-400",children:[t==="heal"&&"HEAL",t==="shield"&&"PROT",t==="damage_boost"&&"DMG",t==="aoe"&&"DMG",t==="disable"&&"EFF"]})]})})]})})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("div",{className:"w-1 h-3 mr-2 rounded-sm",style:{backgroundColor:e.color}}),v.jsx("div",{className:"text-xs text-gray-400 uppercase font-mono",children:"Tactical Parameters"}),v.jsx("div",{className:"flex-grow h-px ml-2",style:{backgroundColor:`${e.color}40`}})]}),v.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(e.skill.effect).map(([r,o],u)=>r!=="type"&&v.jsxs("div",{className:"bg-gray-900 bg-opacity-50 p-2.5 rounded border border-gray-800 flex items-center",style:{borderLeft:`2px solid ${e.color}`},children:[v.jsx("div",{className:"p-1.5 rounded bg-gray-800 mr-2.5 flex items-center justify-center",children:iR(r)}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-gray-400 uppercase font-mono",children:r}),v.jsx("div",{className:"text-sm font-medium",style:{color:e.color},children:sR(r,o,t)})]})]},r))})]})]})},"skills-tab")}p8.propTypes={selectedTank:X.shape({color:X.string.isRequired,skill:X.shape({name:X.string.isRequired,cooldown:X.number.isRequired,duration:X.number.isRequired,effect:X.shape({type:X.string.isRequired}).isRequired,description:X.string.isRequired}).isRequired}).isRequired};function m8({selectedTank:e}){return v.jsxs(mt.div,{variants:Kg,initial:"hidden",animate:"visible",exit:"exit",children:[v.jsxs("div",{className:"flex items-center mb-3",children:[v.jsx(mt.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},transition:{duration:.3},children:v.jsx(Dm,{size:12,className:"mr-2",style:{color:e.color}})}),v.jsx(mt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.1},children:"Equipped Items"})]}),v.jsx("div",{className:"space-y-4",children:e.equipment.map((t,r)=>v.jsxs(mt.div,{className:"border-t border-gray-800 pt-3 first:border-0 first:pt-0",variants:d0,custom:r,transition:{delay:r*.1},children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx(mt.h4,{className:"text-sm font-medium text-white relative",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.2+r*.1},children:t.name}),v.jsxs(mt.span,{initial:{opacity:0,x:10,skewX:"-10deg"},animate:{opacity:1,x:0,skewX:"0deg"},transition:{delay:.3+r*.1},className:"text-xs px-2 py-1 rounded relative overflow-hidden",style:{backgroundColor:"rgba(0,0,0,0.4)",border:`1px solid ${e.color}40`,color:e.color},children:[v.jsx(mt.span,{className:"absolute inset-0 w-full h-full opacity-20",style:{backgroundColor:e.color},initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,ease:"easeInOut",delay:.5+r*.2,repeat:1/0,repeatDelay:5}}),t.type]})]}),v.jsx(mt.p,{className:"text-xs text-gray-400",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.4+r*.1},children:t.effect})]},"equipment-"+r))})]},"equipment-tab")}m8.propTypes={selectedTank:X.shape({color:X.string.isRequired,equipment:X.arrayOf(X.shape({name:X.string.isRequired,type:X.string.isRequired,effect:X.string.isRequired})).isRequired}).isRequired};function I0({selectedTank:e,animateIn:t,isLandscape:r}){const[o,u]=ee.useState("profile"),[d,c]=ee.useState(!1);ee.useEffect(()=>{if(t){const p=setTimeout(()=>{c(!1)},300);return()=>clearTimeout(p)}c(!0)},[e,t]);const h=p=>{u(p)};return v.jsxs(mt.div,{className:"bg-black bg-opacity-80 relative flex flex-col overflow-hidden h-full",variants:nR,initial:"hidden",animate:"visible",exit:"exit",children:[v.jsx(h8,{selectedTank:e,isChanging:d}),v.jsx(d8,{activeTab:o,handleTabChange:h,tankColor:e.color,className:"sticky top-0 z-10 flex-shrink-0"}),v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsx("div",{className:"p-4 space-y-4",children:v.jsxs(M3,{mode:"wait",children:[o==="profile"&&v.jsx(f8,{selectedTank:e,isChanging:d}),o==="skills"&&v.jsx(p8,{selectedTank:e}),o==="equipment"&&v.jsx(m8,{selectedTank:e})]})})})]})}I0.propTypes={selectedTank:X.shape({color:X.string.isRequired,description:X.string.isRequired,range:X.string.isRequired,stats:X.shape({specialty:X.string.isRequired}).isRequired,abilities:X.arrayOf(X.string).isRequired,skill:X.shape({name:X.string.isRequired,cooldown:X.number.isRequired,duration:X.number.isRequired,effect:X.shape({type:X.string.isRequired}).isRequired,description:X.string.isRequired}).isRequired,equipment:X.arrayOf(X.shape({name:X.string.isRequired,type:X.string.isRequired,effect:X.string.isRequired})).isRequired}).isRequired,animateIn:X.bool.isRequired,isLandscape:X.bool};I0.defaultProps={isLandscape:!1};function g8({selectedTank:e,tankRotation:t,animateIn:r,tanksData:o,selectedIndex:u,goNext:d,goPrev:c,handleSelect:h,TankComponent:p}){const{isVerySmallScreen:f,isSmallScreen:x,layoutSpacing:m,utils:w}=Lh(),S=()=>f?"xs":x?"sm":"md",_=()=>({topHeight:"60%",bottomHeight:"40%"}),{topHeight:R,bottomHeight:E}=_();return v.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex flex-col",style:{height:R},children:[v.jsxs("div",{className:`${w.getPadding(f?"xs":"sm","x")} ${m.header} transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,children:[v.jsxs("div",{className:"flex items-baseline",children:[v.jsx("h2",{className:`${w.getFontSize("xl")} font-bold`,children:e.name}),v.jsx("span",{className:"ml-2 text-xs font-mono text-gray-400",children:e.codeName})]}),v.jsxs("div",{className:"flex items-center mt-1",children:[v.jsx("div",{className:"w-2 h-2 mr-2 rounded-sm",style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-xs font-medium",style:{color:e.color},children:e.classification})]})]}),v.jsx(qg,{selectedTank:e,tankRotation:t,animateIn:r,onNext:d,onPrev:c,TankComponent:p,layoutSize:S()}),v.jsx("div",{className:"flex justify-center space-x-1.5 mb-1.5",children:o.map((A,k)=>v.jsx("div",{className:`h-1 transition-all duration-300 ${u===k?"w-6":"w-3 bg-gray-700"}`,style:u===k?{backgroundColor:A.color}:{}},A.codeName))}),v.jsx(Hg,{selectedTank:e,spacing:m.section})]}),v.jsxs("div",{className:"border-t border-gray-800 flex flex-col overflow-hidden",style:{height:E},children:[v.jsx("div",{className:"flex-grow flex flex-col overflow-hidden",children:v.jsx(I0,{selectedTank:e,animateIn:r,isLandscape:!1})}),v.jsx("div",{className:"bg-black bg-opacity-80 border-t border-gray-800",children:v.jsxs("button",{onClick:h,className:`w-full ${w.getButtonSize("md")} flex items-center justify-center transition-all duration-300 transform`,style:{backgroundColor:e.color,boxShadow:`0 0 20px ${e.color}80`},children:[v.jsx("span",{className:"font-bold tracking-wider mr-2",children:"DEPLOY"}),v.jsx(z5,{size:w.getIconSize("sm")})]})})]})]})}g8.propTypes={selectedTank:X.object.isRequired,tankRotation:X.number.isRequired,animateIn:X.bool.isRequired,tanksData:X.array.isRequired,selectedIndex:X.number.isRequired,goNext:X.func.isRequired,goPrev:X.func.isRequired,handleSelect:X.func.isRequired,TankComponent:X.elementType.isRequired};function v8({selectedTank:e,tankRotation:t,animateIn:r,tanksData:o,selectedIndex:u,goNext:d,goPrev:c,handleSelect:h,TankComponent:p}){const{isVerySmallScreen:f,utils:x}=Lh();return v.jsxs("div",{className:"flex-grow flex flex-row overflow-hidden",children:[v.jsxs("div",{className:`${f?"w-[60%]":"w-[55%]"} flex flex-col`,children:[v.jsxs("div",{className:`${x.getPadding("xs")} transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,children:[v.jsxs("div",{className:"flex items-baseline",children:[v.jsx("h2",{className:`${x.getFontSize("lg")} font-bold`,children:e.name}),v.jsx("span",{className:"ml-1.5 text-xs font-mono text-gray-400",children:e.codeName})]}),v.jsxs("div",{className:"flex items-center mt-0.5",children:[v.jsx("div",{className:"w-1.5 h-1.5 mr-1.5 rounded-sm",style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-xs font-medium",style:{color:e.color},children:e.classification})]})]}),v.jsxs("div",{className:"flex flex-col justify-center",children:[v.jsx(qg,{selectedTank:e,tankRotation:t,animateIn:r,onNext:d,onPrev:c,TankComponent:p,layoutSize:f?"xs":"sm"}),v.jsx("div",{className:"flex justify-center space-x-1.5 my-1",children:o.map((m,w)=>v.jsx("div",{className:`h-1 transition-all duration-300 ${u===w?"w-5":"w-2.5 bg-gray-700"}`,style:u===w?{backgroundColor:m.color}:{}},m.codeName))})]}),v.jsx(Hg,{selectedTank:e,spacing:x.getPadding("xs")})]}),v.jsxs("div",{className:`${f?"w-[40%]":"w-[45%]"} border-l border-gray-800 overflow-hidden flex flex-col`,children:[v.jsx(I0,{selectedTank:e,animateIn:r,isSmallScreen:!0,isLandscape:!0,isVerySmallScreen:f}),v.jsx("div",{className:"border-t border-gray-800 bg-black bg-opacity-50 mt-auto",children:v.jsxs("button",{onClick:h,className:`w-full ${x.getButtonSize("sm")} flex items-center justify-center transition-all duration-300 transform`,style:{backgroundColor:e.color,boxShadow:`0 0 15px ${e.color}80`},children:[v.jsx("span",{className:"font-bold tracking-wider mr-2 text-sm",children:"DEPLOY"}),v.jsx(z5,{size:x.getIconSize("xs")})]})})]})]})}v8.propTypes={selectedTank:X.object.isRequired,tankRotation:X.number.isRequired,animateIn:X.bool.isRequired,tanksData:X.array.isRequired,selectedIndex:X.number.isRequired,goNext:X.func.isRequired,goPrev:X.func.isRequired,handleSelect:X.func.isRequired,TankComponent:X.elementType.isRequired};function oR(){const e=ee.useRef(null),{isPortrait:t}=Lh(),r=Om(),[o,u]=ee.useState(0),[d,c]=ee.useState(0),[h,p]=ee.useState(!1),[f,x]=ee.useState([]),[m,w]=ee.useState(!0),[S,_]=ee.useState(null);if(ee.useEffect(()=>{(async()=>{try{const $=await fetch(`${x0.apiUrl}/tanks`);if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);const B=await $.json(),L=Object.entries(B).map(([H,U])=>({codeName:H,...U}));x(L),w(!1)}catch($){console.error("Failed to fetch tanks data:",$),_($.message),w(!1)}})()},[]),ee.useEffect(()=>{const j=setInterval(()=>{c($=>($+.5)%360)},50);return()=>clearInterval(j)},[]),ee.useEffect(()=>{p(!0)},[]),ee.useEffect(()=>{p(!1);const j=setTimeout(()=>{p(!0)},100);return()=>clearTimeout(j)},[o]),m)return v.jsx(Rh,{title:"Initializing Tanks",message:"Retrieving tank data from the tactical warfare network... Please wait."});if(S)return v.jsx(dg,{error:S});const R=f[o],E=Ym[R.codeName],N={selectedTank:R,tankRotation:d,animateIn:h,tanksData:f,selectedIndex:o,goNext:()=>u(j=>(j+1)%f.length),goPrev:()=>u(j=>(j-1+f.length)%f.length),handleSelect:()=>{sessionStorage.setItem("tank",JSON.stringify(R)),r("/tanki.io/controller")},TankComponent:E};return v.jsxs("div",{ref:e,className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden",children:[v.jsx(Gk,{}),v.jsx(u8,{themeColor:R.color,title:"TANKI SELECTION",version:"SYSTEM v2.5"}),t?v.jsx(g8,{...N}):v.jsx(v8,{...N})]})}function aR(){return v.jsx(W5,{children:v.jsx(lR,{})})}function lR(){const[e,t]=ee.useState(!1),[r,o]=ee.useState(!1),{isFullscreen:u,enterFullscreen:d}=q5();ee.useEffect(()=>{u?o(!0):t(!0)},[u]);const c=()=>{d(document.documentElement),t(!1),sessionStorage.setItem("preferFullscreen","true"),o(!0)},h=()=>{localStorage.setItem("fullscreenDismissed","true"),t(!1),o(!0)},p="#3498db";return v.jsxs(v.Fragment,{children:[e&&v.jsx($5,{onEnable:c,onDismiss:h,themeColor:p}),r&&v.jsx("div",{className:"w-full h-full",children:v.jsx("div",{className:"transition-opacity duration-1000",children:v.jsx(H6,{children:v.jsxs(G6,{children:[v.jsx(Hd,{path:"/tanki.io/",element:v.jsx(l8,{themeColor:p})}),v.jsx(Hd,{path:"/tanki.io/game",element:v.jsx(i7,{})}),v.jsx(Hd,{path:"/tanki.io/controller",element:v.jsx(W_,{})}),v.jsx(Hd,{path:"/tanki.io/tank-selection",element:v.jsx(oR,{})})]})})})})]})}Q8.createRoot(document.getElementById("root")).render(v.jsx(on.StrictMode,{children:v.jsx(aR,{})}));
