function Kx(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var u=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:function(){return e[a]}})}),i}var Y0={exports:{}},Bc={},X0={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function Xx(){if(e1)return Et;e1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,P={};function k(K,ae,se){this.props=K,this.context=ae,this.refs=P,this.updater=se||S}k.prototype.isReactComponent={},k.prototype.setState=function(K,ae){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ae,"setState")},k.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function b(){}b.prototype=k.prototype;function R(K,ae,se){this.props=K,this.context=ae,this.refs=P,this.updater=se||S}var C=R.prototype=new b;C.constructor=R,w(C,k.prototype),C.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function F(K,ae,se){var _e,Se={},be=null,Te=null;if(ae!=null)for(_e in ae.ref!==void 0&&(Te=ae.ref),ae.key!==void 0&&(be=""+ae.key),ae)L.call(ae,_e)&&!W.hasOwnProperty(_e)&&(Se[_e]=ae[_e]);var ee=arguments.length-2;if(ee===1)Se.children=se;else if(1<ee){for(var he=Array(ee),Ce=0;Ce<ee;Ce++)he[Ce]=arguments[Ce+2];Se.children=he}if(K&&K.defaultProps)for(_e in ee=K.defaultProps,ee)Se[_e]===void 0&&(Se[_e]=ee[_e]);return{$$typeof:e,type:K,key:be,ref:Te,props:Se,_owner:B.current}}function q(K,ae){return{$$typeof:e,type:K.type,key:ae,ref:K.ref,props:K.props,_owner:K._owner}}function G(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function X(K){var ae={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(se){return ae[se]})}var ne=/\/+/g;function z(K,ae){return typeof K=="object"&&K!==null&&K.key!=null?X(""+K.key):ae.toString(36)}function V(K,ae,se,_e,Se){var be=typeof K;(be==="undefined"||be==="boolean")&&(K=null);var Te=!1;if(K===null)Te=!0;else switch(be){case"string":case"number":Te=!0;break;case"object":switch(K.$$typeof){case e:case t:Te=!0}}if(Te)return Te=K,Se=Se(Te),K=_e===""?"."+z(Te,0):_e,I(Se)?(se="",K!=null&&(se=K.replace(ne,"$&/")+"/"),V(Se,ae,se,"",function(Ce){return Ce})):Se!=null&&(G(Se)&&(Se=q(Se,se+(!Se.key||Te&&Te.key===Se.key?"":(""+Se.key).replace(ne,"$&/")+"/")+K)),ae.push(Se)),1;if(Te=0,_e=_e===""?".":_e+":",I(K))for(var ee=0;ee<K.length;ee++){be=K[ee];var he=_e+z(be,ee);Te+=V(be,ae,se,he,Se)}else if(he=x(K),typeof he=="function")for(K=he.call(K),ee=0;!(be=K.next()).done;)be=be.value,he=_e+z(be,ee++),Te+=V(be,ae,se,he,Se);else if(be==="object")throw ae=String(K),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return Te}function $(K,ae,se){if(K==null)return K;var _e=[],Se=0;return V(K,_e,"","",function(be){return ae.call(se,be,Se++)}),_e}function Z(K){if(K._status===-1){var ae=K._result;ae=ae(),ae.then(function(se){(K._status===0||K._status===-1)&&(K._status=1,K._result=se)},function(se){(K._status===0||K._status===-1)&&(K._status=2,K._result=se)}),K._status===-1&&(K._status=0,K._result=ae)}if(K._status===1)return K._result.default;throw K._result}var Q={current:null},re={transition:null},ie={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:re,ReactCurrentOwner:B};return Et.Children={map:$,forEach:function(K,ae,se){$(K,function(){ae.apply(this,arguments)},se)},count:function(K){var ae=0;return $(K,function(){ae++}),ae},toArray:function(K){return $(K,function(ae){return ae})||[]},only:function(K){if(!G(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Et.Component=k,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=R,Et.StrictMode=a,Et.Suspense=m,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Et.cloneElement=function(K,ae,se){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var _e=w({},K.props),Se=K.key,be=K.ref,Te=K._owner;if(ae!=null){if(ae.ref!==void 0&&(be=ae.ref,Te=B.current),ae.key!==void 0&&(Se=""+ae.key),K.type&&K.type.defaultProps)var ee=K.type.defaultProps;for(he in ae)L.call(ae,he)&&!W.hasOwnProperty(he)&&(_e[he]=ae[he]===void 0&&ee!==void 0?ee[he]:ae[he])}var he=arguments.length-2;if(he===1)_e.children=se;else if(1<he){ee=Array(he);for(var Ce=0;Ce<he;Ce++)ee[Ce]=arguments[Ce+2];_e.children=ee}return{$$typeof:e,type:K.type,key:Se,ref:be,props:_e,_owner:Te}},Et.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:d,_context:K},K.Consumer=K},Et.createElement=F,Et.createFactory=function(K){var ae=F.bind(null,K);return ae.type=K,ae},Et.createRef=function(){return{current:null}},Et.forwardRef=function(K){return{$$typeof:h,render:K}},Et.isValidElement=G,Et.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:Z}},Et.memo=function(K,ae){return{$$typeof:f,type:K,compare:ae===void 0?null:ae}},Et.startTransition=function(K){var ae=re.transition;re.transition={};try{K()}finally{re.transition=ae}},Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.useCallback=function(K,ae){return Q.current.useCallback(K,ae)},Et.useContext=function(K){return Q.current.useContext(K)},Et.useDebugValue=function(){},Et.useDeferredValue=function(K){return Q.current.useDeferredValue(K)},Et.useEffect=function(K,ae){return Q.current.useEffect(K,ae)},Et.useId=function(){return Q.current.useId()},Et.useImperativeHandle=function(K,ae,se){return Q.current.useImperativeHandle(K,ae,se)},Et.useInsertionEffect=function(K,ae){return Q.current.useInsertionEffect(K,ae)},Et.useLayoutEffect=function(K,ae){return Q.current.useLayoutEffect(K,ae)},Et.useMemo=function(K,ae){return Q.current.useMemo(K,ae)},Et.useReducer=function(K,ae,se){return Q.current.useReducer(K,ae,se)},Et.useRef=function(K){return Q.current.useRef(K)},Et.useState=function(K){return Q.current.useState(K)},Et.useSyncExternalStore=function(K,ae,se){return Q.current.useSyncExternalStore(K,ae,se)},Et.useTransition=function(){return Q.current.useTransition()},Et.version="18.2.0",Et}var t1;function Jf(){return t1||(t1=1,X0.exports=Xx()),X0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function Qx(){if(n1)return Bc;n1=1;var e=Jf(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(h,m,f){var y,g={},x=null,S=null;f!==void 0&&(x=""+f),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)a.call(m,y)&&!d.hasOwnProperty(y)&&(g[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)g[y]===void 0&&(g[y]=m[y]);return{$$typeof:t,type:h,key:x,ref:S,props:g,_owner:u.current}}return Bc.Fragment=i,Bc.jsx=c,Bc.jsxs=c,Bc}var r1;function Zx(){return r1||(r1=1,Y0.exports=Qx()),Y0.exports}var A=Zx(),te=Jf();const nr=yh(te),Jx=Kx({__proto__:null,default:nr},[te]);var Nf={},Q0={exports:{}},ui={},Z0={exports:{}},J0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function e6(){return i1||(i1=1,function(e){function t(re,ie){var K=re.length;re.push(ie);e:for(;0<K;){var ae=K-1>>>1,se=re[ae];if(0<u(se,ie))re[ae]=ie,re[K]=se,K=ae;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var ie=re[0],K=re.pop();if(K!==ie){re[0]=K;e:for(var ae=0,se=re.length,_e=se>>>1;ae<_e;){var Se=2*(ae+1)-1,be=re[Se],Te=Se+1,ee=re[Te];if(0>u(be,K))Te<se&&0>u(ee,be)?(re[ae]=ee,re[Te]=K,ae=Te):(re[ae]=be,re[Se]=K,ae=Se);else if(Te<se&&0>u(ee,K))re[ae]=ee,re[Te]=K,ae=Te;else break e}}return ie}function u(re,ie){var K=re.sortIndex-ie.sortIndex;return K!==0?K:re.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var m=[],f=[],y=1,g=null,x=3,S=!1,w=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(re){for(var ie=i(f);ie!==null;){if(ie.callback===null)a(f);else if(ie.startTime<=re)a(f),ie.sortIndex=ie.expirationTime,t(m,ie);else break;ie=i(f)}}function I(re){if(P=!1,C(re),!w)if(i(m)!==null)w=!0,Z(L);else{var ie=i(f);ie!==null&&Q(I,ie.startTime-re)}}function L(re,ie){w=!1,P&&(P=!1,b(F),F=-1),S=!0;var K=x;try{for(C(ie),g=i(m);g!==null&&(!(g.expirationTime>ie)||re&&!X());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,x=g.priorityLevel;var se=ae(g.expirationTime<=ie);ie=e.unstable_now(),typeof se=="function"?g.callback=se:g===i(m)&&a(m),C(ie)}else a(m);g=i(m)}if(g!==null)var _e=!0;else{var Se=i(f);Se!==null&&Q(I,Se.startTime-ie),_e=!1}return _e}finally{g=null,x=K,S=!1}}var B=!1,W=null,F=-1,q=5,G=-1;function X(){return!(e.unstable_now()-G<q)}function ne(){if(W!==null){var re=e.unstable_now();G=re;var ie=!0;try{ie=W(!0,re)}finally{ie?z():(B=!1,W=null)}}else B=!1}var z;if(typeof R=="function")z=function(){R(ne)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=ne,z=function(){$.postMessage(null)}}else z=function(){k(ne,0)};function Z(re){W=re,B||(B=!0,z())}function Q(re,ie){F=k(function(){re(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,Z(L))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var K=x;x=ie;try{return re()}finally{x=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ie){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var K=x;x=re;try{return ie()}finally{x=K}},e.unstable_scheduleCallback=function(re,ie,K){var ae=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,re){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,re={id:y++,callback:ie,priorityLevel:re,startTime:K,expirationTime:se,sortIndex:-1},K>ae?(re.sortIndex=K,t(f,re),i(m)===null&&re===i(f)&&(P?(b(F),F=-1):P=!0,Q(I,K-ae))):(re.sortIndex=se,t(m,re),w||S||(w=!0,Z(L))),re},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(re){var ie=x;return function(){var K=x;x=ie;try{return re.apply(this,arguments)}finally{x=K}}}}(J0)),J0}var s1;function ym(){return s1||(s1=1,Z0.exports=e6()),Z0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function t6(){if(o1)return ui;o1=1;var e=Jf(),t=ym();function i(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(n,r){c(n,r),c(n+"Capture",r)}function c(n,r){for(u[n]=r,n=0;n<r.length;n++)a.add(r[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function x(n){return m.call(g,n)?!0:m.call(y,n)?!1:f.test(n)?g[n]=!0:(y[n]=!0,!1)}function S(n,r,l,v){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return v?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,r,l,v){if(r===null||typeof r>"u"||S(n,r,l,v))return!0;if(v)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function P(n,r,l,v,E,M,U){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=v,this.attributeNamespace=E,this.mustUseProperty=l,this.propertyName=n,this.type=r,this.sanitizeURL=M,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];k[r]=new P(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(b,R);k[r]=new P(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(b,R);k[r]=new P(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(b,R);k[r]=new P(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function C(n,r,l,v){var E=k.hasOwnProperty(r)?k[r]:null;(E!==null?E.type!==0:v||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(w(r,l,E,v)&&(l=null),v||E===null?x(r)&&(l===null?n.removeAttribute(r):n.setAttribute(r,""+l)):E.mustUseProperty?n[E.propertyName]=l===null?E.type===3?!1:"":l:(r=E.attributeName,v=E.attributeNamespace,l===null?n.removeAttribute(r):(E=E.type,l=E===3||E===4&&l===!0?"":""+l,v?n.setAttributeNS(v,r,l):n.setAttribute(r,l))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),re=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,ae;function se(n){if(ae===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ae=r&&r[1]||""}return`
`+ae+n}var _e=!1;function Se(n,r){if(!n||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(ve){var v=ve}Reflect.construct(n,[],r)}else{try{r.call()}catch(ve){v=ve}n.call(r.prototype)}else{try{throw Error()}catch(ve){v=ve}n()}}catch(ve){if(ve&&v&&typeof ve.stack=="string"){for(var E=ve.stack.split(`
`),M=v.stack.split(`
`),U=E.length-1,J=M.length-1;1<=U&&0<=J&&E[U]!==M[J];)J--;for(;1<=U&&0<=J;U--,J--)if(E[U]!==M[J]){if(U!==1||J!==1)do if(U--,J--,0>J||E[U]!==M[J]){var oe=`
`+E[U].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=U&&0<=J);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?se(n):""}function be(n){switch(n.tag){case 5:return se(n.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function Te(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case B:return"Portal";case q:return"Profiler";case F:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case X:return(n.displayName||"Context")+".Consumer";case G:return(n._context.displayName||"Context")+".Provider";case ne:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return r=n.displayName||null,r!==null?r:Te(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return Te(n(r))}catch{}}return null}function ee(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(r);case 8:return r===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function he(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ce(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ge(n){var r=Ce(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),v=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var E=l.get,M=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return E.call(this)},set:function(U){v=""+U,M.call(this,U)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return v},setValue:function(U){v=""+U},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function je(n){n._valueTracker||(n._valueTracker=Ge(n))}function Qe(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),v="";return n&&(v=Ce(n)?n.checked?"true":"false":n.value),n=v,n!==l?(r.setValue(n),!0):!1}function $e(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qt(n,r){var l=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function yt(n,r){var l=r.defaultValue==null?"":r.defaultValue,v=r.checked!=null?r.checked:r.defaultChecked;l=he(r.value!=null?r.value:l),n._wrapperState={initialChecked:v,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function wn(n,r){r=r.checked,r!=null&&C(n,"checked",r,!1)}function Gt(n,r){wn(n,r);var l=he(r.value),v=r.type;if(l!=null)v==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(v==="submit"||v==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Jt(n,r.type,l):r.hasOwnProperty("defaultValue")&&Jt(n,r.type,he(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function an(n,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var v=r.type;if(!(v!=="submit"&&v!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,l||r===n.value||(n.value=r),n.defaultValue=r}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Jt(n,r,l){(r!=="number"||$e(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var kt=Array.isArray;function xt(n,r,l,v){if(n=n.options,r){r={};for(var E=0;E<l.length;E++)r["$"+l[E]]=!0;for(l=0;l<n.length;l++)E=r.hasOwnProperty("$"+n[l].value),n[l].selected!==E&&(n[l].selected=E),E&&v&&(n[l].defaultSelected=!0)}else{for(l=""+he(l),r=null,E=0;E<n.length;E++){if(n[E].value===l){n[E].selected=!0,v&&(n[E].defaultSelected=!0);return}r!==null||n[E].disabled||(r=n[E])}r!==null&&(r.selected=!0)}}function ir(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(i(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zn(n,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(i(92));if(kt(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),l=r}n._wrapperState={initialValue:he(l)}}function _n(n,r){var l=he(r.value),v=he(r.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),r.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),v!=null&&(n.defaultValue=""+v)}function rn(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function dn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ar(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?dn(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gr,Qr=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,v,E){MSApp.execUnsafeLocalFunction(function(){return n(r,l,v,E)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function An(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Io=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(n){Io.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),vr[r]=vr[n]})});function Lo(n,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||vr.hasOwnProperty(n)&&vr[n]?(""+r).trim():r+"px"}function yr(n,r){n=n.style;for(var l in r)if(r.hasOwnProperty(l)){var v=l.indexOf("--")===0,E=Lo(l,r[l],v);l==="float"&&(l="cssFloat"),v?n.setProperty(l,E):n[l]=E}}var Hu=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(n,r){if(r){if(Hu[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(i(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(i(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(i(61))}if(r.style!=null&&typeof r.style!="object")throw Error(i(62))}}function $s(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Ws(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hs=null,gs=null,vs=null;function jo(n){if(n=Za(n)){if(typeof Hs!="function")throw Error(i(280));var r=n.stateNode;r&&(r=jn(r),Hs(n.stateNode,n.type,r))}}function La(n){gs?vs?vs.push(n):vs=[n]:gs=n}function Do(){if(gs){var n=gs,r=vs;if(vs=gs=null,jo(n),r)for(n=0;n<r.length;n++)jo(r[n])}}function bl(n,r){return n(r)}function Fo(){}var Vn=!1;function Oa(n,r,l){if(Vn)return n(r,l);Vn=!0;try{return bl(n,r,l)}finally{Vn=!1,(gs!==null||vs!==null)&&(Fo(),Do())}}function br(n,r){var l=n.stateNode;if(l===null)return null;var v=jn(l);if(v===null)return null;l=v[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(n=n.type,v=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!v;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var qs=!1;if(h)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{qs=!1}function Ml(n,r,l,v,E,M,U,J,oe){var ve=Array.prototype.slice.call(arguments,3);try{r.apply(l,ve)}catch(Pe){this.onError(Pe)}}var O=!1,T=null,D=!1,H=null,ce={onError:function(n){O=!0,T=n}};function we(n,r,l,v,E,M,U,J,oe){O=!1,T=null,Ml.apply(ce,arguments)}function qe(n,r,l,v,E,M,U,J,oe){if(we.apply(this,arguments),O){if(O){var ve=T;O=!1,T=null}else throw Error(i(198));D||(D=!0,H=ve)}}function De(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function vt(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function pt(n){if(De(n)!==n)throw Error(i(188))}function Ke(n){var r=n.alternate;if(!r){if(r=De(n),r===null)throw Error(i(188));return r!==n?null:n}for(var l=n,v=r;;){var E=l.return;if(E===null)break;var M=E.alternate;if(M===null){if(v=E.return,v!==null){l=v;continue}break}if(E.child===M.child){for(M=E.child;M;){if(M===l)return pt(E),n;if(M===v)return pt(E),r;M=M.sibling}throw Error(i(188))}if(l.return!==v.return)l=E,v=M;else{for(var U=!1,J=E.child;J;){if(J===l){U=!0,l=E,v=M;break}if(J===v){U=!0,v=E,l=M;break}J=J.sibling}if(!U){for(J=M.child;J;){if(J===l){U=!0,l=M,v=E;break}if(J===v){U=!0,v=M,l=E;break}J=J.sibling}if(!U)throw Error(i(189))}}if(l.alternate!==v)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:r}function mt(n){return n=Ke(n),n!==null?We(n):null}function We(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=We(n);if(r!==null)return r;n=n.sibling}return null}var ct=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,Ae=t.unstable_requestPaint,Ye=t.unstable_now,bn=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,ut=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,Ni=t.unstable_LowPriority,Mr=t.unstable_IdlePriority,ln=null,Ct=null;function rt(n){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ln,n,void 0,(n.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:en,Mn=Math.log,hn=Math.LN2;function en(n){return n>>>=0,n===0?32:31-(Mn(n)/hn|0)|0}var sr=64,qi=4194304;function In(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ks(n,r){var l=n.pendingLanes;if(l===0)return 0;var v=0,E=n.suspendedLanes,M=n.pingedLanes,U=l&268435455;if(U!==0){var J=U&~E;J!==0?v=In(J):(M&=U,M!==0&&(v=In(M)))}else U=l&~E,U!==0?v=In(U):M!==0&&(v=In(M));if(v===0)return 0;if(r!==0&&r!==v&&(r&E)===0&&(E=v&-v,M=r&-r,E>=M||E===16&&(M&4194240)!==0))return r;if((v&4)!==0&&(v|=l&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=v;0<r;)l=31-ht(r),E=1<<l,v|=n[l],r&=~E;return v}function Th(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rh(n,r){for(var l=n.suspendedLanes,v=n.pingedLanes,E=n.expirationTimes,M=n.pendingLanes;0<M;){var U=31-ht(M),J=1<<U,oe=E[U];oe===-1?((J&l)===0||(J&v)!==0)&&(E[U]=Th(J,r)):oe<=r&&(n.expiredLanes|=J),M&=~J}}function zo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qu(){var n=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),n}function Ir(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function ja(n,r,l){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-ht(r),n[r]=l}function S0(n,r){var l=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var v=n.eventTimes;for(n=n.expirationTimes;0<l;){var E=31-ht(l),M=1<<E;r[E]=0,v[E]=-1,n[E]=-1,l&=~M}}function Ku(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var v=31-ht(l),E=1<<v;E&r|n[v]&r&&(n[v]|=r),l&=~E}}var At=0;function Da(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Vo,Uo,Nh,Ah,Il,Ll=!1,Bo=[],Zr=null,ys=null,Ai=null,St=new Map,Go=new Map,bi=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(n,r){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":St.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(r.pointerId)}}function Fa(n,r,l,v,E,M){return n===null||n.nativeEvent!==M?(n={blockedOn:r,domEventName:l,eventSystemFlags:v,nativeEvent:M,targetContainers:[E]},r!==null&&(r=Za(r),r!==null&&Uo(r)),n):(n.eventSystemFlags|=v,r=n.targetContainers,E!==null&&r.indexOf(E)===-1&&r.push(E),n)}function Ln(n,r,l,v,E){switch(r){case"focusin":return Zr=Fa(Zr,n,r,l,v,E),!0;case"dragenter":return ys=Fa(ys,n,r,l,v,E),!0;case"mouseover":return Ai=Fa(Ai,n,r,l,v,E),!0;case"pointerover":var M=E.pointerId;return St.set(M,Fa(St.get(M)||null,n,r,l,v,E)),!0;case"gotpointercapture":return M=E.pointerId,Go.set(M,Fa(Go.get(M)||null,n,r,l,v,E)),!0}return!1}function Ol(n){var r=Rs(n.target);if(r!==null){var l=De(r);if(l!==null){if(r=l.tag,r===13){if(r=vt(l),r!==null){n.blockedOn=r,Il(n.priority,function(){Nh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=zl(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var v=new l.constructor(l.type,l);Oo=v,l.target.dispatchEvent(v),Oo=null}else return r=Za(l),r!==null&&Uo(r),n.blockedOn=l,!1;r.shift()}return!0}function Dl(n,r,l){jl(n)&&l.delete(r)}function w0(){Ll=!1,Zr!==null&&jl(Zr)&&(Zr=null),ys!==null&&jl(ys)&&(ys=null),Ai!==null&&jl(Ai)&&(Ai=null),St.forEach(Dl),Go.forEach(Dl)}function xs(n,r){n.blockedOn===r&&(n.blockedOn=null,Ll||(Ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w0)))}function xr(n){function r(E){return xs(E,n)}if(0<Bo.length){xs(Bo[0],n);for(var l=1;l<Bo.length;l++){var v=Bo[l];v.blockedOn===n&&(v.blockedOn=null)}}for(Zr!==null&&xs(Zr,n),ys!==null&&xs(ys,n),Ai!==null&&xs(Ai,n),St.forEach(r),Go.forEach(r),l=0;l<bi.length;l++)v=bi[l],v.blockedOn===n&&(v.blockedOn=null);for(;0<bi.length&&(l=bi[0],l.blockedOn===null);)Ol(l),l.blockedOn===null&&bi.shift()}var $o=I.ReactCurrentBatchConfig,Fl=!0;function hi(n,r,l,v){var E=At,M=$o.transition;$o.transition=null;try{At=1,Wo(n,r,l,v)}finally{At=E,$o.transition=M}}function Ki(n,r,l,v){var E=At,M=$o.transition;$o.transition=null;try{At=4,Wo(n,r,l,v)}finally{At=E,$o.transition=M}}function Wo(n,r,l,v){if(Fl){var E=zl(n,r,l,v);if(E===null)tu(n,r,v,Ho,l),Mh(n,v);else if(Ln(E,n,r,l,v))v.stopPropagation();else if(Mh(n,v),r&4&&-1<bh.indexOf(n)){for(;E!==null;){var M=Za(E);if(M!==null&&Vo(M),M=zl(n,r,l,v),M===null&&tu(n,r,v,Ho,l),M===E)break;E=M}E!==null&&v.stopPropagation()}else tu(n,r,v,null,l)}}var Ho=null;function zl(n,r,l,v){if(Ho=null,n=Ws(v),n=Rs(n),n!==null)if(r=De(n),r===null)n=null;else if(l=r.tag,l===13){if(n=vt(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Ho=n,null}function Ih(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bn()){case Lt:return 1;case ut:return 4;case dt:case Ni:return 16;case Mr:return 536870912;default:return 16}default:return 16}}var Un=null,Ss=null,Yi=null;function za(){if(Yi)return Yi;var n,r=Ss,l=r.length,v,E="value"in Un?Un.value:Un.textContent,M=E.length;for(n=0;n<l&&r[n]===E[n];n++);var U=l-n;for(v=1;v<=U&&r[l-v]===E[M-v];v++);return Yi=E.slice(n,1<v?1-v:void 0)}function Ys(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function Lr(){return!1}function Cn(n){function r(l,v,E,M,U){this._reactName=l,this._targetInst=E,this.type=v,this.nativeEvent=M,this.target=U,this.currentTarget=null;for(var J in n)n.hasOwnProperty(J)&&(l=n[J],this[J]=l?l(M):M[J]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?or:Lr,this.isPropagationStopped=Lr,this}return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),r}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Cn(Sr),pi=K({},Sr,{view:0,detail:0}),Lh=Cn(pi),Va,Ua,Bn,ar=K({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bn&&(Bn&&n.type==="mousemove"?(Va=n.screenX-Bn.screenX,Ua=n.screenY-Bn.screenY):Ua=Va=0,Bn=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),$t=Cn(ar),Ba=K({},ar,{dataTransfer:0}),mi=Cn(Ba),Oh=K({},pi,{relatedTarget:0}),Vl=Cn(Oh),Yu=K({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=Cn(Yu),jh=K({},Sr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ul=Cn(jh),Dh=K({},Sr,{data:0}),Xs=Cn(Dh),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Bl[n])?!!r[n]:!1}function Qs(){return C0}var Gl=K({},pi,{key:function(n){if(n.key){var r=Qu[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fh=Cn(Gl),zh=K({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Cn(zh),Vh=K({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),$l=Cn(Vh),Wl=K({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Cn(Wl),Zu=K({},ar,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ju=Cn(Zu),Uh=[9,13,27,32],Ga=h&&"CompositionEvent"in window,Js=null;h&&"documentMode"in document&&(Js=document.documentMode);var Ko=h&&"TextEvent"in window&&!Js,Or=h&&(!Ga||Js&&8<Js&&11>=Js),ws=" ",Hl=!1;function ec(n,r){switch(n){case"keyup":return Uh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gi(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jr=!1;function tc(n,r){switch(n){case"compositionend":return gi(r);case"keypress":return r.which!==32?null:(Hl=!0,ws);case"textInput":return n=r.data,n===ws&&Hl?null:n;default:return null}}function Bh(n,r){if(jr)return n==="compositionend"||!Ga&&ec(n,r)?(n=za(),Yi=Ss=Un=null,jr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Or&&r.locale!=="ko"?null:r.data;default:return null}}var Xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Xi[n.type]:r==="textarea"}function $a(n,r,l,v){La(v),r=nu(r,"onChange"),0<r.length&&(l=new fi("onChange","change",null,l,v),n.push({event:l,listeners:r}))}var Yo=null,_s=null;function Gh(n){fc(n,0)}function Cs(n){var r=Pn(n);if(Qe(r))return n}function Jr(n,r){if(n==="change")return r}var Xo=!1;if(h){var Es;if(h){var ei="oninput"in document;if(!ei){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),ei=typeof ql.oninput=="function"}Es=ei}else Es=!1;Xo=Es&&(!document.documentMode||9<document.documentMode)}function eo(){Yo&&(Yo.detachEvent("onpropertychange",nc),_s=Yo=null)}function nc(n){if(n.propertyName==="value"&&Cs(_s)){var r=[];$a(r,_s,n,Ws(n)),Oa(Gh,r)}}function rc(n,r,l){n==="focusin"?(eo(),Yo=r,_s=l,Yo.attachEvent("onpropertychange",nc)):n==="focusout"&&eo()}function tn(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cs(_s)}function Kl(n,r){if(n==="click")return Cs(r)}function ic(n,r){if(n==="input"||n==="change")return Cs(r)}function sc(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wr=typeof Object.is=="function"?Object.is:sc;function to(n,r){if(wr(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),v=Object.keys(r);if(l.length!==v.length)return!1;for(v=0;v<l.length;v++){var E=l[v];if(!m.call(r,E)||!wr(n[E],r[E]))return!1}return!0}function Ps(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Kt(n,r){var l=Ps(n);n=0;for(var v;l;){if(l.nodeType===3){if(v=n+l.textContent.length,n<=r&&v>=r)return{node:l,offset:r-n};n=v}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ps(l)}}function fn(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fn(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function En(){for(var n=window,r=$e();r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=$e(n.document)}return r}function Qo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Wa(n){var r=En(),l=n.focusedElem,v=n.selectionRange;if(r!==l&&l&&l.ownerDocument&&fn(l.ownerDocument.documentElement,l)){if(v!==null&&Qo(l)){if(r=v.start,n=v.end,n===void 0&&(n=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(n,l.value.length);else if(n=(r=l.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var E=l.textContent.length,M=Math.min(v.start,E);v=v.end===void 0?M:Math.min(v.end,E),!n.extend&&M>v&&(E=v,v=M,M=E),E=Kt(l,M);var U=Kt(l,v);E&&U&&(n.rangeCount!==1||n.anchorNode!==E.node||n.anchorOffset!==E.offset||n.focusNode!==U.node||n.focusOffset!==U.offset)&&(r=r.createRange(),r.setStart(E.node,E.offset),n.removeAllRanges(),M>v?(n.addRange(r),n.extend(U.node,U.offset)):(r.setEnd(U.node,U.offset),n.addRange(r)))}}for(r=[],n=l;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)n=r[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ha=h&&"documentMode"in document&&11>=document.documentMode,Zo=null,On=null,no=null,qa=!1;function Yl(n,r,l){var v=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qa||Zo==null||Zo!==$e(v)||(v=Zo,"selectionStart"in v&&Qo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),no&&to(no,v)||(no=v,v=nu(On,"onSelect"),0<v.length&&(r=new fi("onSelect","select",null,r,l),n.push({event:r,listeners:v}),r.target=Zo)))}function Dr(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Gn={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionend:Dr("Transition","TransitionEnd")},ro={},Xl={};h&&(Xl=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Jo(n){if(ro[n])return ro[n];if(!Gn[n])return n;var r=Gn[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in Xl)return ro[n]=r[l];return n}var oc=Jo("animationend"),ac=Jo("animationiteration"),lc=Jo("animationstart"),uc=Jo("transitionend"),dc=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(n,r){dc.set(n,r),d(r,[n])}for(var Ql=0;Ql<hc.length;Ql++){var io=hc[Ql],$h=io.toLowerCase(),Zl=io[0].toUpperCase()+io.slice(1);Zi($h,"on"+Zl)}Zi(oc,"onAnimationEnd"),Zi(ac,"onAnimationIteration"),Zi(lc,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(uc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Jl(n,r,l){var v=n.type||"unknown-event";n.currentTarget=l,qe(v,r,void 0,n),n.currentTarget=null}function fc(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var v=n[l],E=v.event;v=v.listeners;e:{var M=void 0;if(r)for(var U=v.length-1;0<=U;U--){var J=v[U],oe=J.instance,ve=J.currentTarget;if(J=J.listener,oe!==M&&E.isPropagationStopped())break e;Jl(E,J,ve),M=oe}else for(U=0;U<v.length;U++){if(J=v[U],oe=J.instance,ve=J.currentTarget,J=J.listener,oe!==M&&E.isPropagationStopped())break e;Jl(E,J,ve),M=oe}}}if(D)throw n=H,D=!1,H=null,n}function Vt(n,r){var l=r[iu];l===void 0&&(l=r[iu]=new Set);var v=n+"__bubble";l.has(v)||(pc(r,n,2,!1),l.add(v))}function eu(n,r,l){var v=0;r&&(v|=4),pc(l,n,v,r)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function so(n){if(!n[Ka]){n[Ka]=!0,a.forEach(function(l){l!=="selectionchange"&&(Wh.has(l)||eu(l,!1,n),eu(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ka]||(r[Ka]=!0,eu("selectionchange",!1,r))}}function pc(n,r,l,v){switch(Ih(r)){case 1:var E=hi;break;case 4:E=Ki;break;default:E=Wo}l=E.bind(null,r,l,n),E=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(E=!0),v?E!==void 0?n.addEventListener(r,l,{capture:!0,passive:E}):n.addEventListener(r,l,!0):E!==void 0?n.addEventListener(r,l,{passive:E}):n.addEventListener(r,l,!1)}function tu(n,r,l,v,E){var M=v;if((r&1)===0&&(r&2)===0&&v!==null)e:for(;;){if(v===null)return;var U=v.tag;if(U===3||U===4){var J=v.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(U===4)for(U=v.return;U!==null;){var oe=U.tag;if((oe===3||oe===4)&&(oe=U.stateNode.containerInfo,oe===E||oe.nodeType===8&&oe.parentNode===E))return;U=U.return}for(;J!==null;){if(U=Rs(J),U===null)return;if(oe=U.tag,oe===5||oe===6){v=M=U;continue e}J=J.parentNode}}v=v.return}Oa(function(){var ve=M,Pe=Ws(l),ke=[];e:{var Ee=dc.get(n);if(Ee!==void 0){var Fe=fi,Ue=n;switch(n){case"keypress":if(Ys(l)===0)break e;case"keydown":case"keyup":Fe=Fh;break;case"focusin":Ue="focus",Fe=Vl;break;case"focusout":Ue="blur",Fe=Vl;break;case"beforeblur":case"afterblur":Fe=Vl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=mi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=$l;break;case oc:case ac:case lc:Fe=Xu;break;case uc:Fe=qo;break;case"scroll":Fe=Lh;break;case"wheel":Fe=Ju;break;case"copy":case"cut":case"paste":Fe=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Zs}var Be=(r&4)!==0,Tn=!Be&&n==="scroll",fe=Be?Ee!==null?Ee+"Capture":null:Ee;Be=[];for(var ue=ve,pe;ue!==null;){pe=ue;var Ne=pe.stateNode;if(pe.tag===5&&Ne!==null&&(pe=Ne,fe!==null&&(Ne=br(ue,fe),Ne!=null&&Be.push(ea(ue,Ne,pe)))),Tn)break;ue=ue.return}0<Be.length&&(Ee=new Fe(Ee,Ue,null,l,Pe),ke.push({event:Ee,listeners:Be}))}}if((r&7)===0){e:{if(Ee=n==="mouseover"||n==="pointerover",Fe=n==="mouseout"||n==="pointerout",Ee&&l!==Oo&&(Ue=l.relatedTarget||l.fromElement)&&(Rs(Ue)||Ue[Ii]))break e;if((Fe||Ee)&&(Ee=Pe.window===Pe?Pe:(Ee=Pe.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Fe?(Ue=l.relatedTarget||l.toElement,Fe=ve,Ue=Ue?Rs(Ue):null,Ue!==null&&(Tn=De(Ue),Ue!==Tn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Fe=null,Ue=ve),Fe!==Ue)){if(Be=$t,Ne="onMouseLeave",fe="onMouseEnter",ue="mouse",(n==="pointerout"||n==="pointerover")&&(Be=Zs,Ne="onPointerLeave",fe="onPointerEnter",ue="pointer"),Tn=Fe==null?Ee:Pn(Fe),pe=Ue==null?Ee:Pn(Ue),Ee=new Be(Ne,ue+"leave",Fe,l,Pe),Ee.target=Tn,Ee.relatedTarget=pe,Ne=null,Rs(Pe)===ve&&(Be=new Be(fe,ue+"enter",Ue,l,Pe),Be.target=pe,Be.relatedTarget=Tn,Ne=Be),Tn=Ne,Fe&&Ue)t:{for(Be=Fe,fe=Ue,ue=0,pe=Be;pe;pe=oo(pe))ue++;for(pe=0,Ne=fe;Ne;Ne=oo(Ne))pe++;for(;0<ue-pe;)Be=oo(Be),ue--;for(;0<pe-ue;)fe=oo(fe),pe--;for(;ue--;){if(Be===fe||fe!==null&&Be===fe.alternate)break t;Be=oo(Be),fe=oo(fe)}Be=null}else Be=null;Fe!==null&&Hh(ke,Ee,Fe,Be,!1),Ue!==null&&Tn!==null&&Hh(ke,Tn,Ue,Be,!0)}}e:{if(Ee=ve?Pn(ve):window,Fe=Ee.nodeName&&Ee.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ee.type==="file")var He=Jr;else if(Qi(Ee))if(Xo)He=ic;else{He=tn;var Ze=rc}else(Fe=Ee.nodeName)&&Fe.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(He=Kl);if(He&&(He=He(n,ve))){$a(ke,He,l,Pe);break e}Ze&&Ze(n,Ee,ve),n==="focusout"&&(Ze=Ee._wrapperState)&&Ze.controlled&&Ee.type==="number"&&Jt(Ee,"number",Ee.value)}switch(Ze=ve?Pn(ve):window,n){case"focusin":(Qi(Ze)||Ze.contentEditable==="true")&&(Zo=Ze,On=ve,no=null);break;case"focusout":no=On=Zo=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Yl(ke,l,Pe);break;case"selectionchange":if(Ha)break;case"keydown":case"keyup":Yl(ke,l,Pe)}var Je;if(Ga)e:{switch(n){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else jr?ec(n,l)&&(it="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Or&&l.locale!=="ko"&&(jr||it!=="onCompositionStart"?it==="onCompositionEnd"&&jr&&(Je=za()):(Un=Pe,Ss="value"in Un?Un.value:Un.textContent,jr=!0)),Ze=nu(ve,it),0<Ze.length&&(it=new Xs(it,n,null,l,Pe),ke.push({event:it,listeners:Ze}),Je?it.data=Je:(Je=gi(l),Je!==null&&(it.data=Je)))),(Je=Ko?tc(n,l):Bh(n,l))&&(ve=nu(ve,"onBeforeInput"),0<ve.length&&(Pe=new Xs("onBeforeInput","beforeinput",null,l,Pe),ke.push({event:Pe,listeners:ve}),Pe.data=Je))}fc(ke,r)})}function ea(n,r,l){return{instance:n,listener:r,currentTarget:l}}function nu(n,r){for(var l=r+"Capture",v=[];n!==null;){var E=n,M=E.stateNode;E.tag===5&&M!==null&&(E=M,M=br(n,l),M!=null&&v.unshift(ea(n,M,E)),M=br(n,r),M!=null&&v.push(ea(n,M,E))),n=n.return}return v}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hh(n,r,l,v,E){for(var M=r._reactName,U=[];l!==null&&l!==v;){var J=l,oe=J.alternate,ve=J.stateNode;if(oe!==null&&oe===v)break;J.tag===5&&ve!==null&&(J=ve,E?(oe=br(l,M),oe!=null&&U.unshift(ea(l,oe,J))):E||(oe=br(l,M),oe!=null&&U.push(ea(l,oe,J)))),l=l.return}U.length!==0&&n.push({event:r,listeners:U})}var E0=/\r\n?/g,qh=/\u0000|\uFFFD/g;function mc(n){return(typeof n=="string"?n:""+n).replace(E0,`
`).replace(qh,"")}function Ya(n,r,l){if(r=mc(r),mc(n)!==r&&l)throw Error(i(425))}function ao(){}var gc=null,vc=null;function yc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fr=typeof setTimeout=="function"?setTimeout:void 0,xc=typeof clearTimeout=="function"?clearTimeout:void 0,Xa=typeof Promise=="function"?Promise:void 0,Kh=typeof queueMicrotask=="function"?queueMicrotask:typeof Xa<"u"?function(n){return Xa.resolve(null).then(n).catch(Yh)}:Fr;function Yh(n){setTimeout(function(){throw n})}function ru(n,r){var l=r,v=0;do{var E=l.nextSibling;if(n.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(v===0){n.removeChild(E),xr(r);return}v--}else l!=="$"&&l!=="$?"&&l!=="$!"||v++;l=E}while(l);xr(r)}function Mi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function lo(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),ti="__reactFiber$"+Ts,Qa="__reactProps$"+Ts,Ii="__reactContainer$"+Ts,iu="__reactEvents$"+Ts,Xh="__reactListeners$"+Ts,Qh="__reactHandles$"+Ts;function Rs(n){var r=n[ti];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Ii]||l[ti]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=lo(n);n!==null;){if(l=n[ti])return l;n=lo(n)}return r}n=l,l=n.parentNode}return null}function Za(n){return n=n[ti]||n[Ii],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Pn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(i(33))}function jn(n){return n[Qa]||null}var su=[],uo=-1;function Ji(n){return{current:n}}function Ut(n){0>uo||(n.current=su[uo],su[uo]=null,uo--)}function Dt(n,r){uo++,su[uo]=n.current,n.current=r}var Li={},$n=Ji(Li),Xn=Ji(!1),Ns=Li;function co(n,r){var l=n.type.contextTypes;if(!l)return Li;var v=n.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===r)return v.__reactInternalMemoizedMaskedChildContext;var E={},M;for(M in l)E[M]=r[M];return v&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=E),E}function Qn(n){return n=n.childContextTypes,n!=null}function ta(){Ut(Xn),Ut($n)}function Sc(n,r,l){if($n.current!==Li)throw Error(i(168));Dt($n,r),Dt(Xn,l)}function ou(n,r,l){var v=n.stateNode;if(r=r.childContextTypes,typeof v.getChildContext!="function")return l;v=v.getChildContext();for(var E in v)if(!(E in r))throw Error(i(108,ee(n)||"Unknown",E));return K({},l,v)}function ho(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Li,Ns=$n.current,Dt($n,n),Dt(Xn,Xn.current),!0}function Zh(n,r,l){var v=n.stateNode;if(!v)throw Error(i(169));l?(n=ou(n,r,Ns),v.__reactInternalMemoizedMergedChildContext=n,Ut(Xn),Ut($n),Dt($n,n)):Ut(Xn),Dt(Xn,l)}var Oi=null,na=!1,au=!1;function Ja(n){Oi===null?Oi=[n]:Oi.push(n)}function es(n){na=!0,Ja(n)}function As(){if(!au&&Oi!==null){au=!0;var n=0,r=At;try{var l=Oi;for(At=1;n<l.length;n++){var v=l[n];do v=v(!0);while(v!==null)}Oi=null,na=!1}catch(E){throw Oi!==null&&(Oi=Oi.slice(n+1)),ct(Lt,As),E}finally{At=r,au=!1}}return null}var lr=[],fo=0,bs=null,Ms=0,ur=[],cr=0,Is=null,zr=1,Yt="";function po(n,r){lr[fo++]=Ms,lr[fo++]=bs,bs=n,Ms=r}function Jh(n,r,l){ur[cr++]=zr,ur[cr++]=Yt,ur[cr++]=Is,Is=n;var v=zr;n=Yt;var E=32-ht(v)-1;v&=~(1<<E),l+=1;var M=32-ht(r)+E;if(30<M){var U=E-E%5;M=(v&(1<<U)-1).toString(32),v>>=U,E-=U,zr=1<<32-ht(r)+E|l<<E|v,Yt=M+n}else zr=1<<M|l<<E|v,Yt=n}function ra(n){n.return!==null&&(po(n,1),Jh(n,1,0))}function Dn(n){for(;n===bs;)bs=lr[--fo],lr[fo]=null,Ms=lr[--fo],lr[fo]=null;for(;n===Is;)Is=ur[--cr],ur[cr]=null,Yt=ur[--cr],ur[cr]=null,zr=ur[--cr],ur[cr]=null}var Vr=null,Ie=null,Ot=!1,Ur=null;function wc(n,r){var l=Ui(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=n,r=n.deletions,r===null?(n.deletions=[l],n.flags|=16):r.push(l)}function ef(n,r){switch(n.tag){case 5:var l=n.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Vr=n,Ie=Mi(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Vr=n,Ie=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Is!==null?{id:zr,overflow:Yt}:null,n.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Ui(18,null,null,0),l.stateNode=r,l.return=n,n.child=l,Vr=n,Ie=null,!0):!1;default:return!1}}function mo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ia(n){if(Ot){var r=Ie;if(r){var l=r;if(!ef(n,r)){if(mo(n))throw Error(i(418));r=Mi(l.nextSibling);var v=Vr;r&&ef(n,r)?wc(v,l):(n.flags=n.flags&-4097|2,Ot=!1,Vr=n)}}else{if(mo(n))throw Error(i(418));n.flags=n.flags&-4097|2,Ot=!1,Vr=n}}}function lu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Vr=n}function el(n){if(n!==Vr)return!1;if(!Ot)return lu(n),Ot=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!yc(n.type,n.memoizedProps)),r&&(r=Ie)){if(mo(n))throw _c(),Error(i(418));for(;r;)wc(n,r),r=Mi(r.nextSibling)}if(lu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(r===0){Ie=Mi(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}n=n.nextSibling}Ie=null}}else Ie=Vr?Mi(n.stateNode.nextSibling):null;return!0}function _c(){for(var n=Ie;n;)n=Mi(n.nextSibling)}function go(){Ie=Vr=null,Ot=!1}function tl(n){Ur===null?Ur=[n]:Ur.push(n)}var Cc=I.ReactCurrentBatchConfig;function Ft(n,r){if(n&&n.defaultProps){r=K({},r),n=n.defaultProps;for(var l in n)r[l]===void 0&&(r[l]=n[l]);return r}return r}var _r=Ji(null),Br=null,Ls=null,uu=null;function Gr(){uu=Ls=Br=null}function cu(n){var r=_r.current;Ut(_r),n._currentValue=r}function ni(n,r,l){for(;n!==null;){var v=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,v!==null&&(v.childLanes|=r)):v!==null&&(v.childLanes&r)!==r&&(v.childLanes|=r),n===l)break;n=n.return}}function sa(n,r){Br=n,uu=Ls=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Y=!0),n.firstContext=null)}function $r(n){var r=n._currentValue;if(uu!==n)if(n={context:n,memoizedValue:r,next:null},Ls===null){if(Br===null)throw Error(i(308));Ls=n,Br.dependencies={lanes:0,firstContext:n}}else Ls=Ls.next=n;return r}var Os=null;function du(n){Os===null?Os=[n]:Os.push(n)}function Ec(n,r,l,v){var E=r.interleaved;return E===null?(l.next=l,du(r)):(l.next=E.next,E.next=l),r.interleaved=l,ri(n,v)}function ri(n,r){n.lanes|=r;var l=n.alternate;for(l!==null&&(l.lanes|=r),l=n,n=n.return;n!==null;)n.childLanes|=r,l=n.alternate,l!==null&&(l.childLanes|=r),l=n,n=n.return;return l.tag===3?l.stateNode:null}var vi=!1;function oa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nl(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ii(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function si(n,r,l){var v=n.updateQueue;if(v===null)return null;if(v=v.shared,(bt&2)!==0){var E=v.pending;return E===null?r.next=r:(r.next=E.next,E.next=r),v.pending=r,ri(n,l)}return E=v.interleaved,E===null?(r.next=r,du(v)):(r.next=E.next,E.next=r),v.interleaved=r,ri(n,l)}function aa(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var v=r.lanes;v&=n.pendingLanes,l|=v,r.lanes=l,Ku(n,l)}}function hu(n,r){var l=n.updateQueue,v=n.alternate;if(v!==null&&(v=v.updateQueue,l===v)){var E=null,M=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};M===null?E=M=U:M=M.next=U,l=l.next}while(l!==null);M===null?E=M=r:M=M.next=r}else E=M=r;l={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:M,shared:v.shared,effects:v.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}function la(n,r,l,v){var E=n.updateQueue;vi=!1;var M=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var oe=J,ve=oe.next;oe.next=null,U===null?M=ve:U.next=ve,U=oe;var Pe=n.alternate;Pe!==null&&(Pe=Pe.updateQueue,J=Pe.lastBaseUpdate,J!==U&&(J===null?Pe.firstBaseUpdate=ve:J.next=ve,Pe.lastBaseUpdate=oe))}if(M!==null){var ke=E.baseState;U=0,Pe=ve=oe=null,J=M;do{var Ee=J.lane,Fe=J.eventTime;if((v&Ee)===Ee){Pe!==null&&(Pe=Pe.next={eventTime:Fe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ue=n,Be=J;switch(Ee=r,Fe=l,Be.tag){case 1:if(Ue=Be.payload,typeof Ue=="function"){ke=Ue.call(Fe,ke,Ee);break e}ke=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Be.payload,Ee=typeof Ue=="function"?Ue.call(Fe,ke,Ee):Ue,Ee==null)break e;ke=K({},ke,Ee);break e;case 2:vi=!0}}J.callback!==null&&J.lane!==0&&(n.flags|=64,Ee=E.effects,Ee===null?E.effects=[J]:Ee.push(J))}else Fe={eventTime:Fe,lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Pe===null?(ve=Pe=Fe,oe=ke):Pe=Pe.next=Fe,U|=Ee;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Ee=J,J=Ee.next,Ee.next=null,E.lastBaseUpdate=Ee,E.shared.pending=null}}while(!0);if(Pe===null&&(oe=ke),E.baseState=oe,E.firstBaseUpdate=ve,E.lastBaseUpdate=Pe,r=E.shared.interleaved,r!==null){E=r;do U|=E.lane,E=E.next;while(E!==r)}else M===null&&(E.shared.lanes=0);cl|=U,n.lanes=U,n.memoizedState=ke}}function Pc(n,r,l){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var v=n[r],E=v.callback;if(E!==null){if(v.callback=null,v=l,typeof E!="function")throw Error(i(191,E));E.call(v)}}}var fu=new e.Component().refs;function kc(n,r,l,v){r=n.memoizedState,l=l(v,r),l=l==null?r:K({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var vo={isMounted:function(n){return(n=n._reactInternals)?De(n)===n:!1},enqueueSetState:function(n,r,l){n=n._reactInternals;var v=Kr(),E=ya(n),M=ii(v,E);M.payload=r,l!=null&&(M.callback=l),r=si(n,M,E),r!==null&&(as(r,n,E,v),aa(r,n,E))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var v=Kr(),E=ya(n),M=ii(v,E);M.tag=1,M.payload=r,l!=null&&(M.callback=l),r=si(n,M,E),r!==null&&(as(r,n,E,v),aa(r,n,E))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=Kr(),v=ya(n),E=ii(l,v);E.tag=2,r!=null&&(E.callback=r),r=si(n,E,v),r!==null&&(as(r,n,v,l),aa(r,n,v))}};function pu(n,r,l,v,E,M,U){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(v,M,U):r.prototype&&r.prototype.isPureReactComponent?!to(l,v)||!to(E,M):!0}function sn(n,r,l){var v=!1,E=Li,M=r.contextType;return typeof M=="object"&&M!==null?M=$r(M):(E=Qn(r)?Ns:$n.current,v=r.contextTypes,M=(v=v!=null)?co(n,E):Li),r=new r(l,M),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=vo,n.stateNode=r,r._reactInternals=n,v&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=E,n.__reactInternalMemoizedMaskedChildContext=M),r}function gt(n,r,l,v){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,v),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,v),r.state!==n&&vo.enqueueReplaceState(r,r.state,null)}function pn(n,r,l,v){var E=n.stateNode;E.props=l,E.state=n.memoizedState,E.refs=fu,oa(n);var M=r.contextType;typeof M=="object"&&M!==null?E.context=$r(M):(M=Qn(r)?Ns:$n.current,E.context=co(n,M)),E.state=n.memoizedState,M=r.getDerivedStateFromProps,typeof M=="function"&&(kc(n,r,M,l),E.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(r=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),r!==E.state&&vo.enqueueReplaceState(E,E.state,null),la(n,l,E,v),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308)}function Xt(n,r,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(i(309));var v=l.stateNode}if(!v)throw Error(i(147,n));var E=v,M=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===M?r.ref:(r=function(U){var J=E.refs;J===fu&&(J=E.refs={}),U===null?delete J[M]:J[M]=U},r._stringRef=M,r)}if(typeof n!="string")throw Error(i(284));if(!l._owner)throw Error(i(290,n))}return n}function mn(n,r){throw n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Cr(n){var r=n._init;return r(n._payload)}function yo(n){function r(fe,ue){if(n){var pe=fe.deletions;pe===null?(fe.deletions=[ue],fe.flags|=16):pe.push(ue)}}function l(fe,ue){if(!n)return null;for(;ue!==null;)r(fe,ue),ue=ue.sibling;return null}function v(fe,ue){for(fe=new Map;ue!==null;)ue.key!==null?fe.set(ue.key,ue):fe.set(ue.index,ue),ue=ue.sibling;return fe}function E(fe,ue){return fe=Sa(fe,ue),fe.index=0,fe.sibling=null,fe}function M(fe,ue,pe){return fe.index=pe,n?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ue?(fe.flags|=2,ue):pe):(fe.flags|=2,ue)):(fe.flags|=1048576,ue)}function U(fe){return n&&fe.alternate===null&&(fe.flags|=2),fe}function J(fe,ue,pe,Ne){return ue===null||ue.tag!==6?(ue=G0(pe,fe.mode,Ne),ue.return=fe,ue):(ue=E(ue,pe),ue.return=fe,ue)}function oe(fe,ue,pe,Ne){var He=pe.type;return He===W?Pe(fe,ue,pe.props.children,Ne,pe.key):ue!==null&&(ue.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Z&&Cr(He)===ue.type)?(Ne=E(ue,pe.props),Ne.ref=Xt(fe,ue,pe),Ne.return=fe,Ne):(Ne=wf(pe.type,pe.key,pe.props,null,fe.mode,Ne),Ne.ref=Xt(fe,ue,pe),Ne.return=fe,Ne)}function ve(fe,ue,pe,Ne){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=$0(pe,fe.mode,Ne),ue.return=fe,ue):(ue=E(ue,pe.children||[]),ue.return=fe,ue)}function Pe(fe,ue,pe,Ne,He){return ue===null||ue.tag!==7?(ue=pl(pe,fe.mode,Ne,He),ue.return=fe,ue):(ue=E(ue,pe),ue.return=fe,ue)}function ke(fe,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=G0(""+ue,fe.mode,pe),ue.return=fe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return pe=wf(ue.type,ue.key,ue.props,null,fe.mode,pe),pe.ref=Xt(fe,null,ue),pe.return=fe,pe;case B:return ue=$0(ue,fe.mode,pe),ue.return=fe,ue;case Z:var Ne=ue._init;return ke(fe,Ne(ue._payload),pe)}if(kt(ue)||ie(ue))return ue=pl(ue,fe.mode,pe,null),ue.return=fe,ue;mn(fe,ue)}return null}function Ee(fe,ue,pe,Ne){var He=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return He!==null?null:J(fe,ue,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L:return pe.key===He?oe(fe,ue,pe,Ne):null;case B:return pe.key===He?ve(fe,ue,pe,Ne):null;case Z:return He=pe._init,Ee(fe,ue,He(pe._payload),Ne)}if(kt(pe)||ie(pe))return He!==null?null:Pe(fe,ue,pe,Ne,null);mn(fe,pe)}return null}function Fe(fe,ue,pe,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return fe=fe.get(pe)||null,J(ue,fe,""+Ne,He);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case L:return fe=fe.get(Ne.key===null?pe:Ne.key)||null,oe(ue,fe,Ne,He);case B:return fe=fe.get(Ne.key===null?pe:Ne.key)||null,ve(ue,fe,Ne,He);case Z:var Ze=Ne._init;return Fe(fe,ue,pe,Ze(Ne._payload),He)}if(kt(Ne)||ie(Ne))return fe=fe.get(pe)||null,Pe(ue,fe,Ne,He,null);mn(ue,Ne)}return null}function Ue(fe,ue,pe,Ne){for(var He=null,Ze=null,Je=ue,it=ue=0,tr=null;Je!==null&&it<pe.length;it++){Je.index>it?(tr=Je,Je=null):tr=Je.sibling;var Mt=Ee(fe,Je,pe[it],Ne);if(Mt===null){Je===null&&(Je=tr);break}n&&Je&&Mt.alternate===null&&r(fe,Je),ue=M(Mt,ue,it),Ze===null?He=Mt:Ze.sibling=Mt,Ze=Mt,Je=tr}if(it===pe.length)return l(fe,Je),Ot&&po(fe,it),He;if(Je===null){for(;it<pe.length;it++)Je=ke(fe,pe[it],Ne),Je!==null&&(ue=M(Je,ue,it),Ze===null?He=Je:Ze.sibling=Je,Ze=Je);return Ot&&po(fe,it),He}for(Je=v(fe,Je);it<pe.length;it++)tr=Fe(Je,fe,it,pe[it],Ne),tr!==null&&(n&&tr.alternate!==null&&Je.delete(tr.key===null?it:tr.key),ue=M(tr,ue,it),Ze===null?He=tr:Ze.sibling=tr,Ze=tr);return n&&Je.forEach(function(wa){return r(fe,wa)}),Ot&&po(fe,it),He}function Be(fe,ue,pe,Ne){var He=ie(pe);if(typeof He!="function")throw Error(i(150));if(pe=He.call(pe),pe==null)throw Error(i(151));for(var Ze=He=null,Je=ue,it=ue=0,tr=null,Mt=pe.next();Je!==null&&!Mt.done;it++,Mt=pe.next()){Je.index>it?(tr=Je,Je=null):tr=Je.sibling;var wa=Ee(fe,Je,Mt.value,Ne);if(wa===null){Je===null&&(Je=tr);break}n&&Je&&wa.alternate===null&&r(fe,Je),ue=M(wa,ue,it),Ze===null?He=wa:Ze.sibling=wa,Ze=wa,Je=tr}if(Mt.done)return l(fe,Je),Ot&&po(fe,it),He;if(Je===null){for(;!Mt.done;it++,Mt=pe.next())Mt=ke(fe,Mt.value,Ne),Mt!==null&&(ue=M(Mt,ue,it),Ze===null?He=Mt:Ze.sibling=Mt,Ze=Mt);return Ot&&po(fe,it),He}for(Je=v(fe,Je);!Mt.done;it++,Mt=pe.next())Mt=Fe(Je,fe,it,Mt.value,Ne),Mt!==null&&(n&&Mt.alternate!==null&&Je.delete(Mt.key===null?it:Mt.key),ue=M(Mt,ue,it),Ze===null?He=Mt:Ze.sibling=Mt,Ze=Mt);return n&&Je.forEach(function(qx){return r(fe,qx)}),Ot&&po(fe,it),He}function Tn(fe,ue,pe,Ne){if(typeof pe=="object"&&pe!==null&&pe.type===W&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L:e:{for(var He=pe.key,Ze=ue;Ze!==null;){if(Ze.key===He){if(He=pe.type,He===W){if(Ze.tag===7){l(fe,Ze.sibling),ue=E(Ze,pe.props.children),ue.return=fe,fe=ue;break e}}else if(Ze.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===Z&&Cr(He)===Ze.type){l(fe,Ze.sibling),ue=E(Ze,pe.props),ue.ref=Xt(fe,Ze,pe),ue.return=fe,fe=ue;break e}l(fe,Ze);break}else r(fe,Ze);Ze=Ze.sibling}pe.type===W?(ue=pl(pe.props.children,fe.mode,Ne,pe.key),ue.return=fe,fe=ue):(Ne=wf(pe.type,pe.key,pe.props,null,fe.mode,Ne),Ne.ref=Xt(fe,ue,pe),Ne.return=fe,fe=Ne)}return U(fe);case B:e:{for(Ze=pe.key;ue!==null;){if(ue.key===Ze)if(ue.tag===4&&ue.stateNode.containerInfo===pe.containerInfo&&ue.stateNode.implementation===pe.implementation){l(fe,ue.sibling),ue=E(ue,pe.children||[]),ue.return=fe,fe=ue;break e}else{l(fe,ue);break}else r(fe,ue);ue=ue.sibling}ue=$0(pe,fe.mode,Ne),ue.return=fe,fe=ue}return U(fe);case Z:return Ze=pe._init,Tn(fe,ue,Ze(pe._payload),Ne)}if(kt(pe))return Ue(fe,ue,pe,Ne);if(ie(pe))return Be(fe,ue,pe,Ne);mn(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ue!==null&&ue.tag===6?(l(fe,ue.sibling),ue=E(ue,pe),ue.return=fe,fe=ue):(l(fe,ue),ue=G0(pe,fe.mode,Ne),ue.return=fe,fe=ue),U(fe)):l(fe,ue)}return Tn}var Qt=yo(!0),ua=yo(!1),yi={},Wr=Ji(yi),xo=Ji(yi),ts=Ji(yi);function gn(n){if(n===yi)throw Error(i(174));return n}function rl(n,r){switch(Dt(ts,r),Dt(xo,n),Dt(Wr,yi),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ar(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Ar(r,n)}Ut(Wr),Dt(Wr,r)}function js(){Ut(Wr),Ut(xo),Ut(ts)}function ji(n){gn(ts.current);var r=gn(Wr.current),l=Ar(r,n.type);r!==l&&(Dt(xo,n),Dt(Wr,l))}function Ds(n){xo.current===n&&(Ut(Wr),Ut(xo))}var Bt=Ji(0);function ca(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Di=[];function da(){for(var n=0;n<Di.length;n++)Di[n]._workInProgressVersionPrimary=null;Di.length=0}var xi=I.ReactCurrentDispatcher,ha=I.ReactCurrentBatchConfig,Si=0,Wt=null,on=null,un=null,kn=!1,oi=!1,Zn=0,Er=0;function Wn(){throw Error(i(321))}function il(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!wr(n[l],r[l]))return!1;return!0}function sl(n,r,l,v,E,M){if(Si=M,Wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,xi.current=n===null||n.memoizedState===null?lf:uf,n=l(v,E),oi){M=0;do{if(oi=!1,Zn=0,25<=M)throw Error(i(301));M+=1,un=on=null,r.updateQueue=null,xi.current=cf,n=l(v,E)}while(oi)}if(xi.current=wu,r=on!==null&&on.next!==null,Si=0,un=on=Wt=null,kn=!1,r)throw Error(i(300));return n}function Tc(){var n=Zn!==0;return Zn=0,n}function Hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Wt.memoizedState=un=n:un=un.next=n,un}function Hr(){if(on===null){var n=Wt.alternate;n=n!==null?n.memoizedState:null}else n=on.next;var r=un===null?Wt.memoizedState:un.next;if(r!==null)un=r,on=n;else{if(n===null)throw Error(i(310));on=n,n={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},un===null?Wt.memoizedState=un=n:un=un.next=n}return un}function fa(n,r){return typeof r=="function"?r(n):r}function ol(n){var r=Hr(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var v=on,E=v.baseQueue,M=l.pending;if(M!==null){if(E!==null){var U=E.next;E.next=M.next,M.next=U}v.baseQueue=E=M,l.pending=null}if(E!==null){M=E.next,v=v.baseState;var J=U=null,oe=null,ve=M;do{var Pe=ve.lane;if((Si&Pe)===Pe)oe!==null&&(oe=oe.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),v=ve.hasEagerState?ve.eagerState:n(v,ve.action);else{var ke={lane:Pe,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};oe===null?(J=oe=ke,U=v):oe=oe.next=ke,Wt.lanes|=Pe,cl|=Pe}ve=ve.next}while(ve!==null&&ve!==M);oe===null?U=v:oe.next=J,wr(v,r.memoizedState)||(Y=!0),r.memoizedState=v,r.baseState=U,r.baseQueue=oe,l.lastRenderedState=v}if(n=l.interleaved,n!==null){E=n;do M=E.lane,Wt.lanes|=M,cl|=M,E=E.next;while(E!==n)}else E===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function ns(n){var r=Hr(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var v=l.dispatch,E=l.pending,M=r.memoizedState;if(E!==null){l.pending=null;var U=E=E.next;do M=n(M,U.action),U=U.next;while(U!==E);wr(M,r.memoizedState)||(Y=!0),r.memoizedState=M,r.baseQueue===null&&(r.baseState=M),l.lastRenderedState=M}return[M,v]}function Rc(){}function Nc(n,r){var l=Wt,v=Hr(),E=r(),M=!wr(v.memoizedState,E);if(M&&(v.memoizedState=E,Y=!0),v=v.queue,Mc(tf.bind(null,l,v,n),[n]),v.getSnapshot!==r||M||un!==null&&un.memoizedState.tag&1){if(l.flags|=2048,wi(9,al.bind(null,l,v,E,r),void 0,null),er===null)throw Error(i(349));(Si&30)!==0||mu(l,r,E)}return E}function mu(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Wt.updateQueue,r===null?(r={lastEffect:null,stores:null},Wt.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function al(n,r,l,v){r.value=l,r.getSnapshot=v,nf(r)&&Ac(n)}function tf(n,r,l){return l(function(){nf(r)&&Ac(n)})}function nf(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!wr(n,l)}catch{return!0}}function Ac(n){var r=ri(n,1);r!==null&&as(r,n,1,-1)}function bc(n){var r=Hn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},r.queue=n,n=n.dispatch=So.bind(null,Wt,n),[r.memoizedState,n]}function wi(n,r,l,v){return n={tag:n,create:r,destroy:l,deps:v,next:null},r=Wt.updateQueue,r===null?(r={lastEffect:null,stores:null},Wt.updateQueue=r,r.lastEffect=n.next=n):(l=r.lastEffect,l===null?r.lastEffect=n.next=n:(v=l.next,l.next=n,n.next=v,r.lastEffect=n)),n}function rf(){return Hr().memoizedState}function Fi(n,r,l,v){var E=Hn();Wt.flags|=n,E.memoizedState=wi(1|r,l,void 0,v===void 0?null:v)}function ll(n,r,l,v){var E=Hr();v=v===void 0?null:v;var M=void 0;if(on!==null){var U=on.memoizedState;if(M=U.destroy,v!==null&&il(v,U.deps)){E.memoizedState=wi(r,l,M,v);return}}Wt.flags|=n,E.memoizedState=wi(1|r,l,M,v)}function Ht(n,r){return Fi(8390656,8,n,r)}function Mc(n,r){return ll(2048,8,n,r)}function Ic(n,r){return ll(4,2,n,r)}function sf(n,r){return ll(4,4,n,r)}function of(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Lc(n,r,l){return l=l!=null?l.concat([n]):null,ll(4,4,of.bind(null,r,n),l)}function gu(){}function af(n,r){var l=Hr();r=r===void 0?null:r;var v=l.memoizedState;return v!==null&&r!==null&&il(r,v[1])?v[0]:(l.memoizedState=[n,r],n)}function qr(n,r){var l=Hr();r=r===void 0?null:r;var v=l.memoizedState;return v!==null&&r!==null&&il(r,v[1])?v[0]:(n=n(),l.memoizedState=[n,r],n)}function vu(n,r,l){return(Si&21)===0?(n.baseState&&(n.baseState=!1,Y=!0),n.memoizedState=l):(wr(l,r)||(l=qu(),Wt.lanes|=l,cl|=l,n.baseState=!0),r)}function P0(n,r){var l=At;At=l!==0&&4>l?l:4,n(!0);var v=ha.transition;ha.transition={};try{n(!1),r()}finally{At=l,ha.transition=v}}function rs(){return Hr().memoizedState}function yu(n,r,l){var v=ya(n);if(l={lane:v,action:l,hasEagerState:!1,eagerState:null,next:null},ul(n))xu(r,l);else if(l=Ec(n,r,l,v),l!==null){var E=Kr();as(l,n,v,E),Su(l,r,v)}}function So(n,r,l){var v=ya(n),E={lane:v,action:l,hasEagerState:!1,eagerState:null,next:null};if(ul(n))xu(r,E);else{var M=n.alternate;if(n.lanes===0&&(M===null||M.lanes===0)&&(M=r.lastRenderedReducer,M!==null))try{var U=r.lastRenderedState,J=M(U,l);if(E.hasEagerState=!0,E.eagerState=J,wr(J,U)){var oe=r.interleaved;oe===null?(E.next=E,du(r)):(E.next=oe.next,oe.next=E),r.interleaved=E;return}}catch{}finally{}l=Ec(n,r,E,v),l!==null&&(E=Kr(),as(l,n,v,E),Su(l,r,v))}}function ul(n){var r=n.alternate;return n===Wt||r!==null&&r===Wt}function xu(n,r){oi=kn=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Su(n,r,l){if((l&4194240)!==0){var v=r.lanes;v&=n.pendingLanes,l|=v,r.lanes=l,Ku(n,l)}}var wu={readContext:$r,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},lf={readContext:$r,useCallback:function(n,r){return Hn().memoizedState=[n,r===void 0?null:r],n},useContext:$r,useEffect:Ht,useImperativeHandle:function(n,r,l){return l=l!=null?l.concat([n]):null,Fi(4194308,4,of.bind(null,r,n),l)},useLayoutEffect:function(n,r){return Fi(4194308,4,n,r)},useInsertionEffect:function(n,r){return Fi(4,2,n,r)},useMemo:function(n,r){var l=Hn();return r=r===void 0?null:r,n=n(),l.memoizedState=[n,r],n},useReducer:function(n,r,l){var v=Hn();return r=l!==void 0?l(r):r,v.memoizedState=v.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},v.queue=n,n=n.dispatch=yu.bind(null,Wt,n),[v.memoizedState,n]},useRef:function(n){var r=Hn();return n={current:n},r.memoizedState=n},useState:bc,useDebugValue:gu,useDeferredValue:function(n){return Hn().memoizedState=n},useTransition:function(){var n=bc(!1),r=n[0];return n=P0.bind(null,n[1]),Hn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,l){var v=Wt,E=Hn();if(Ot){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),er===null)throw Error(i(349));(Si&30)!==0||mu(v,r,l)}E.memoizedState=l;var M={value:l,getSnapshot:r};return E.queue=M,Ht(tf.bind(null,v,M,n),[n]),v.flags|=2048,wi(9,al.bind(null,v,M,l,r),void 0,null),l},useId:function(){var n=Hn(),r=er.identifierPrefix;if(Ot){var l=Yt,v=zr;l=(v&~(1<<32-ht(v)-1)).toString(32)+l,r=":"+r+"R"+l,l=Zn++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=Er++,r=":"+r+"r"+l.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},uf={readContext:$r,useCallback:af,useContext:$r,useEffect:Mc,useImperativeHandle:Lc,useInsertionEffect:Ic,useLayoutEffect:sf,useMemo:qr,useReducer:ol,useRef:rf,useState:function(){return ol(fa)},useDebugValue:gu,useDeferredValue:function(n){var r=Hr();return vu(r,on.memoizedState,n)},useTransition:function(){var n=ol(fa)[0],r=Hr().memoizedState;return[n,r]},useMutableSource:Rc,useSyncExternalStore:Nc,useId:rs,unstable_isNewReconciler:!1},cf={readContext:$r,useCallback:af,useContext:$r,useEffect:Mc,useImperativeHandle:Lc,useInsertionEffect:Ic,useLayoutEffect:sf,useMemo:qr,useReducer:ns,useRef:rf,useState:function(){return ns(fa)},useDebugValue:gu,useDeferredValue:function(n){var r=Hr();return on===null?r.memoizedState=n:vu(r,on.memoizedState,n)},useTransition:function(){var n=ns(fa)[0],r=Hr().memoizedState;return[n,r]},useMutableSource:Rc,useSyncExternalStore:Nc,useId:rs,unstable_isNewReconciler:!1};function wo(n,r){try{var l="",v=r;do l+=be(v),v=v.return;while(v);var E=l}catch(M){E=`
Error generating stack: `+M.message+`
`+M.stack}return{value:n,source:r,stack:E,digest:null}}function pa(n,r,l){return{value:n,source:null,stack:l??null,digest:r??null}}function Oc(n,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var k0=typeof WeakMap=="function"?WeakMap:Map;function s(n,r,l){l=ii(-1,l),l.tag=3,l.payload={element:null};var v=r.value;return l.callback=function(){mf||(mf=!0,O0=v),Oc(n,r)},l}function o(n,r,l){l=ii(-1,l),l.tag=3;var v=n.type.getDerivedStateFromError;if(typeof v=="function"){var E=r.value;l.payload=function(){return v(E)},l.callback=function(){Oc(n,r)}}var M=n.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(l.callback=function(){Oc(n,r),typeof v!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var U=r.stack;this.componentDidCatch(r.value,{componentStack:U!==null?U:""})}),l}function p(n,r,l){var v=n.pingCache;if(v===null){v=n.pingCache=new k0;var E=new Set;v.set(r,E)}else E=v.get(r),E===void 0&&(E=new Set,v.set(r,E));E.has(l)||(E.add(l),n=jx.bind(null,n,r,l),r.then(n,n))}function _(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function N(n,r,l,v,E){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=ii(-1,1),r.tag=2,si(l,r,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=E,n)}var j=I.ReactCurrentOwner,Y=!1;function le(n,r,l,v){r.child=n===null?ua(r,null,l,v):Qt(r,n.child,l,v)}function ye(n,r,l,v,E){l=l.render;var M=r.ref;return sa(r,E),v=sl(n,r,l,v,M,E),l=Tc(),n!==null&&!Y?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~E,is(n,r,E)):(Ot&&l&&ra(r),r.flags|=1,le(n,r,v,E),r.child)}function Re(n,r,l,v,E){if(n===null){var M=l.type;return typeof M=="function"&&!B0(M)&&M.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=M,ze(n,r,M,v,E)):(n=wf(l.type,null,v,r,r.mode,E),n.ref=r.ref,n.return=r,r.child=n)}if(M=n.child,(n.lanes&E)===0){var U=M.memoizedProps;if(l=l.compare,l=l!==null?l:to,l(U,v)&&n.ref===r.ref)return is(n,r,E)}return r.flags|=1,n=Sa(M,v),n.ref=r.ref,n.return=r,r.child=n}function ze(n,r,l,v,E){if(n!==null){var M=n.memoizedProps;if(to(M,v)&&n.ref===r.ref)if(Y=!1,r.pendingProps=v=M,(n.lanes&E)!==0)(n.flags&131072)!==0&&(Y=!0);else return r.lanes=n.lanes,is(n,r,E)}return zt(n,r,l,v,E)}function st(n,r,l){var v=r.pendingProps,E=v.children,M=n!==null?n.memoizedState:null;if(v.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Cu,Ci),Ci|=l;else{if((l&1073741824)===0)return n=M!==null?M.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Dt(Cu,Ci),Ci|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=M!==null?M.baseLanes:l,Dt(Cu,Ci),Ci|=v}else M!==null?(v=M.baseLanes|l,r.memoizedState=null):v=l,Dt(Cu,Ci),Ci|=v;return le(n,r,E,l),r.child}function Le(n,r){var l=r.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function zt(n,r,l,v,E){var M=Qn(l)?Ns:$n.current;return M=co(r,M),sa(r,E),l=sl(n,r,l,v,M,E),v=Tc(),n!==null&&!Y?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~E,is(n,r,E)):(Ot&&v&&ra(r),r.flags|=1,le(n,r,l,E),r.child)}function jt(n,r,l,v,E){if(Qn(l)){var M=!0;ho(r)}else M=!1;if(sa(r,E),r.stateNode===null)_i(n,r),sn(r,l,v),pn(r,l,v,E),v=!0;else if(n===null){var U=r.stateNode,J=r.memoizedProps;U.props=J;var oe=U.context,ve=l.contextType;typeof ve=="object"&&ve!==null?ve=$r(ve):(ve=Qn(l)?Ns:$n.current,ve=co(r,ve));var Pe=l.getDerivedStateFromProps,ke=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function";ke||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==v||oe!==ve)&&gt(r,U,v,ve),vi=!1;var Ee=r.memoizedState;U.state=Ee,la(r,v,U,E),oe=r.memoizedState,J!==v||Ee!==oe||Xn.current||vi?(typeof Pe=="function"&&(kc(r,l,Pe,v),oe=r.memoizedState),(J=vi||pu(r,l,J,v,Ee,oe,ve))?(ke||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(r.flags|=4194308)):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=v,r.memoizedState=oe),U.props=v,U.state=oe,U.context=ve,v=J):(typeof U.componentDidMount=="function"&&(r.flags|=4194308),v=!1)}else{U=r.stateNode,nl(n,r),J=r.memoizedProps,ve=r.type===r.elementType?J:Ft(r.type,J),U.props=ve,ke=r.pendingProps,Ee=U.context,oe=l.contextType,typeof oe=="object"&&oe!==null?oe=$r(oe):(oe=Qn(l)?Ns:$n.current,oe=co(r,oe));var Fe=l.getDerivedStateFromProps;(Pe=typeof Fe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==ke||Ee!==oe)&&gt(r,U,v,oe),vi=!1,Ee=r.memoizedState,U.state=Ee,la(r,v,U,E);var Ue=r.memoizedState;J!==ke||Ee!==Ue||Xn.current||vi?(typeof Fe=="function"&&(kc(r,l,Fe,v),Ue=r.memoizedState),(ve=vi||pu(r,l,ve,v,Ee,Ue,oe)||!1)?(Pe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Ue,oe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Ue,oe)),typeof U.componentDidUpdate=="function"&&(r.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=1024),r.memoizedProps=v,r.memoizedState=Ue),U.props=v,U.state=Ue,U.context=oe,v=ve):(typeof U.componentDidUpdate!="function"||J===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=1024),v=!1)}return Jn(n,r,l,v,M,E)}function Jn(n,r,l,v,E,M){Le(n,r);var U=(r.flags&128)!==0;if(!v&&!U)return E&&Zh(r,l,!1),is(n,r,M);v=r.stateNode,j.current=r;var J=U&&typeof l.getDerivedStateFromError!="function"?null:v.render();return r.flags|=1,n!==null&&U?(r.child=Qt(r,n.child,null,M),r.child=Qt(r,null,J,M)):le(n,r,J,M),r.memoizedState=v.state,E&&Zh(r,l,!0),r.child}function zi(n){var r=n.stateNode;r.pendingContext?Sc(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Sc(n,r.context,!1),rl(n,r.containerInfo)}function ge(n,r,l,v,E){return go(),tl(E),r.flags|=256,le(n,r,l,v),r.child}var de={dehydrated:null,treeContext:null,retryLane:0};function xe(n){return{baseLanes:n,cachePool:null,transitions:null}}function Oe(n,r,l){var v=r.pendingProps,E=Bt.current,M=!1,U=(r.flags&128)!==0,J;if((J=U)||(J=n!==null&&n.memoizedState===null?!1:(E&2)!==0),J?(M=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(E|=1),Dt(Bt,E&1),n===null)return ia(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(U=v.children,n=v.fallback,M?(v=r.mode,M=r.child,U={mode:"hidden",children:U},(v&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=U):M=_f(U,v,0,null),n=pl(n,v,l,null),M.return=r,n.return=r,M.sibling=n,r.child=M,r.child.memoizedState=xe(l),r.memoizedState=de,n):Xe(r,U));if(E=n.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return lt(n,r,U,v,J,E,l);if(M){M=v.fallback,U=r.mode,E=n.child,J=E.sibling;var oe={mode:"hidden",children:v.children};return(U&1)===0&&r.child!==E?(v=r.child,v.childLanes=0,v.pendingProps=oe,r.deletions=null):(v=Sa(E,oe),v.subtreeFlags=E.subtreeFlags&14680064),J!==null?M=Sa(J,M):(M=pl(M,U,l,null),M.flags|=2),M.return=r,v.return=r,v.sibling=M,r.child=v,v=M,M=r.child,U=n.child.memoizedState,U=U===null?xe(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},M.memoizedState=U,M.childLanes=n.childLanes&~l,r.memoizedState=de,v}return M=n.child,n=M.sibling,v=Sa(M,{mode:"visible",children:v.children}),(r.mode&1)===0&&(v.lanes=l),v.return=r,v.sibling=null,n!==null&&(l=r.deletions,l===null?(r.deletions=[n],r.flags|=16):l.push(n)),r.child=v,r.memoizedState=null,v}function Xe(n,r){return r=_f({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function at(n,r,l,v){return v!==null&&tl(v),Qt(r,n.child,null,l),n=Xe(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lt(n,r,l,v,E,M,U){if(l)return r.flags&256?(r.flags&=-257,v=pa(Error(i(422))),at(n,r,U,v)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(M=v.fallback,E=r.mode,v=_f({mode:"visible",children:v.children},E,0,null),M=pl(M,E,U,null),M.flags|=2,v.return=r,M.return=r,v.sibling=M,r.child=v,(r.mode&1)!==0&&Qt(r,n.child,null,U),r.child.memoizedState=xe(U),r.memoizedState=de,M);if((r.mode&1)===0)return at(n,r,U,null);if(E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var J=v.dgst;return v=J,M=Error(i(419)),v=pa(M,v,void 0),at(n,r,U,v)}if(J=(U&n.childLanes)!==0,Y||J){if(v=er,v!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(v.suspendedLanes|U))!==0?0:E,E!==0&&E!==M.retryLane&&(M.retryLane=E,ri(n,E),as(v,n,E,-1))}return U0(),v=pa(Error(i(421))),at(n,r,U,v)}return E.data==="$?"?(r.flags|=128,r.child=n.child,r=Dx.bind(null,n),E._reactRetry=r,null):(n=M.treeContext,Ie=Mi(E.nextSibling),Vr=r,Ot=!0,Ur=null,n!==null&&(ur[cr++]=zr,ur[cr++]=Yt,ur[cr++]=Is,zr=n.id,Yt=n.overflow,Is=r),r=Xe(r,v.children),r.flags|=4096,r)}function Tt(n,r,l){n.lanes|=r;var v=n.alternate;v!==null&&(v.lanes|=r),ni(n.return,r,l)}function vn(n,r,l,v,E){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:v,tail:l,tailMode:E}:(M.isBackwards=r,M.rendering=null,M.renderingStartTime=0,M.last=v,M.tail=l,M.tailMode=E)}function Rt(n,r,l){var v=r.pendingProps,E=v.revealOrder,M=v.tail;if(le(n,r,v.children,l),v=Bt.current,(v&2)!==0)v=v&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tt(n,l,r);else if(n.tag===19)Tt(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}v&=1}if(Dt(Bt,v),(r.mode&1)===0)r.memoizedState=null;else switch(E){case"forwards":for(l=r.child,E=null;l!==null;)n=l.alternate,n!==null&&ca(n)===null&&(E=l),l=l.sibling;l=E,l===null?(E=r.child,r.child=null):(E=l.sibling,l.sibling=null),vn(r,!1,E,l,M);break;case"backwards":for(l=null,E=r.child,r.child=null;E!==null;){if(n=E.alternate,n!==null&&ca(n)===null){r.child=E;break}n=E.sibling,E.sibling=l,l=E,E=n}vn(r,!0,l,null,M);break;case"together":vn(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _i(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function is(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),cl|=r.lanes,(l&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,l=Sa(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=Sa(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function Px(n,r,l){switch(r.tag){case 3:zi(r),go();break;case 5:ji(r);break;case 1:Qn(r.type)&&ho(r);break;case 4:rl(r,r.stateNode.containerInfo);break;case 10:var v=r.type._context,E=r.memoizedProps.value;Dt(_r,v._currentValue),v._currentValue=E;break;case 13:if(v=r.memoizedState,v!==null)return v.dehydrated!==null?(Dt(Bt,Bt.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?Oe(n,r,l):(Dt(Bt,Bt.current&1),n=is(n,r,l),n!==null?n.sibling:null);Dt(Bt,Bt.current&1);break;case 19:if(v=(l&r.childLanes)!==0,(n.flags&128)!==0){if(v)return Rt(n,r,l);r.flags|=128}if(E=r.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Dt(Bt,Bt.current),v)break;return null;case 22:case 23:return r.lanes=0,st(n,r,l)}return is(n,r,l)}var Eg,T0,Pg,kg;Eg=function(n,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},T0=function(){},Pg=function(n,r,l,v){var E=n.memoizedProps;if(E!==v){n=r.stateNode,gn(Wr.current);var M=null;switch(l){case"input":E=qt(n,E),v=qt(n,v),M=[];break;case"select":E=K({},E,{value:void 0}),v=K({},v,{value:void 0}),M=[];break;case"textarea":E=ir(n,E),v=ir(n,v),M=[];break;default:typeof E.onClick!="function"&&typeof v.onClick=="function"&&(n.onclick=ao)}Ia(l,v);var U;l=null;for(ve in E)if(!v.hasOwnProperty(ve)&&E.hasOwnProperty(ve)&&E[ve]!=null)if(ve==="style"){var J=E[ve];for(U in J)J.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(u.hasOwnProperty(ve)?M||(M=[]):(M=M||[]).push(ve,null));for(ve in v){var oe=v[ve];if(J=E!=null?E[ve]:void 0,v.hasOwnProperty(ve)&&oe!==J&&(oe!=null||J!=null))if(ve==="style")if(J){for(U in J)!J.hasOwnProperty(U)||oe&&oe.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in oe)oe.hasOwnProperty(U)&&J[U]!==oe[U]&&(l||(l={}),l[U]=oe[U])}else l||(M||(M=[]),M.push(ve,l)),l=oe;else ve==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,J=J?J.__html:void 0,oe!=null&&J!==oe&&(M=M||[]).push(ve,oe)):ve==="children"?typeof oe!="string"&&typeof oe!="number"||(M=M||[]).push(ve,""+oe):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(u.hasOwnProperty(ve)?(oe!=null&&ve==="onScroll"&&Vt("scroll",n),M||J===oe||(M=[])):(M=M||[]).push(ve,oe))}l&&(M=M||[]).push("style",l);var ve=M;(r.updateQueue=ve)&&(r.flags|=4)}},kg=function(n,r,l,v){l!==v&&(r.flags|=4)};function jc(n,r){if(!Ot)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var v=null;l!==null;)l.alternate!==null&&(v=l),l=l.sibling;v===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:v.sibling=null}}function Pr(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,v=0;if(r)for(var E=n.child;E!==null;)l|=E.lanes|E.childLanes,v|=E.subtreeFlags&14680064,v|=E.flags&14680064,E.return=n,E=E.sibling;else for(E=n.child;E!==null;)l|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=n,E=E.sibling;return n.subtreeFlags|=v,n.childLanes=l,r}function kx(n,r,l){var v=r.pendingProps;switch(Dn(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(r),null;case 1:return Qn(r.type)&&ta(),Pr(r),null;case 3:return v=r.stateNode,js(),Ut(Xn),Ut($n),da(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(n===null||n.child===null)&&(el(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ur!==null&&(F0(Ur),Ur=null))),T0(n,r),Pr(r),null;case 5:Ds(r);var E=gn(ts.current);if(l=r.type,n!==null&&r.stateNode!=null)Pg(n,r,l,v,E),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!v){if(r.stateNode===null)throw Error(i(166));return Pr(r),null}if(n=gn(Wr.current),el(r)){v=r.stateNode,l=r.type;var M=r.memoizedProps;switch(v[ti]=r,v[Qa]=M,n=(r.mode&1)!==0,l){case"dialog":Vt("cancel",v),Vt("close",v);break;case"iframe":case"object":case"embed":Vt("load",v);break;case"video":case"audio":for(E=0;E<ks.length;E++)Vt(ks[E],v);break;case"source":Vt("error",v);break;case"img":case"image":case"link":Vt("error",v),Vt("load",v);break;case"details":Vt("toggle",v);break;case"input":yt(v,M),Vt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!M.multiple},Vt("invalid",v);break;case"textarea":zn(v,M),Vt("invalid",v)}Ia(l,M),E=null;for(var U in M)if(M.hasOwnProperty(U)){var J=M[U];U==="children"?typeof J=="string"?v.textContent!==J&&(M.suppressHydrationWarning!==!0&&Ya(v.textContent,J,n),E=["children",J]):typeof J=="number"&&v.textContent!==""+J&&(M.suppressHydrationWarning!==!0&&Ya(v.textContent,J,n),E=["children",""+J]):u.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&Vt("scroll",v)}switch(l){case"input":je(v),an(v,M,!0);break;case"textarea":je(v),rn(v);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(v.onclick=ao)}v=E,r.updateQueue=v,v!==null&&(r.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dn(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=U.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof v.is=="string"?n=U.createElement(l,{is:v.is}):(n=U.createElement(l),l==="select"&&(U=n,v.multiple?U.multiple=!0:v.size&&(U.size=v.size))):n=U.createElementNS(n,l),n[ti]=r,n[Qa]=v,Eg(n,r,!1,!1),r.stateNode=n;e:{switch(U=$s(l,v),l){case"dialog":Vt("cancel",n),Vt("close",n),E=v;break;case"iframe":case"object":case"embed":Vt("load",n),E=v;break;case"video":case"audio":for(E=0;E<ks.length;E++)Vt(ks[E],n);E=v;break;case"source":Vt("error",n),E=v;break;case"img":case"image":case"link":Vt("error",n),Vt("load",n),E=v;break;case"details":Vt("toggle",n),E=v;break;case"input":yt(n,v),E=qt(n,v),Vt("invalid",n);break;case"option":E=v;break;case"select":n._wrapperState={wasMultiple:!!v.multiple},E=K({},v,{value:void 0}),Vt("invalid",n);break;case"textarea":zn(n,v),E=ir(n,v),Vt("invalid",n);break;default:E=v}Ia(l,E),J=E;for(M in J)if(J.hasOwnProperty(M)){var oe=J[M];M==="style"?yr(n,oe):M==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&Qr(n,oe)):M==="children"?typeof oe=="string"?(l!=="textarea"||oe!=="")&&An(n,oe):typeof oe=="number"&&An(n,""+oe):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(u.hasOwnProperty(M)?oe!=null&&M==="onScroll"&&Vt("scroll",n):oe!=null&&C(n,M,oe,U))}switch(l){case"input":je(n),an(n,v,!1);break;case"textarea":je(n),rn(n);break;case"option":v.value!=null&&n.setAttribute("value",""+he(v.value));break;case"select":n.multiple=!!v.multiple,M=v.value,M!=null?xt(n,!!v.multiple,M,!1):v.defaultValue!=null&&xt(n,!!v.multiple,v.defaultValue,!0);break;default:typeof E.onClick=="function"&&(n.onclick=ao)}switch(l){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pr(r),null;case 6:if(n&&r.stateNode!=null)kg(n,r,n.memoizedProps,v);else{if(typeof v!="string"&&r.stateNode===null)throw Error(i(166));if(l=gn(ts.current),gn(Wr.current),el(r)){if(v=r.stateNode,l=r.memoizedProps,v[ti]=r,(M=v.nodeValue!==l)&&(n=Vr,n!==null))switch(n.tag){case 3:Ya(v.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ya(v.nodeValue,l,(n.mode&1)!==0)}M&&(r.flags|=4)}else v=(l.nodeType===9?l:l.ownerDocument).createTextNode(v),v[ti]=r,r.stateNode=v}return Pr(r),null;case 13:if(Ut(Bt),v=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ot&&Ie!==null&&(r.mode&1)!==0&&(r.flags&128)===0)_c(),go(),r.flags|=98560,M=!1;else if(M=el(r),v!==null&&v.dehydrated!==null){if(n===null){if(!M)throw Error(i(318));if(M=r.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[ti]=r}else go(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pr(r),M=!1}else Ur!==null&&(F0(Ur),Ur=null),M=!0;if(!M)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(v=v!==null,v!==(n!==null&&n.memoizedState!==null)&&v&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Bt.current&1)!==0?qn===0&&(qn=3):U0())),r.updateQueue!==null&&(r.flags|=4),Pr(r),null);case 4:return js(),T0(n,r),n===null&&so(r.stateNode.containerInfo),Pr(r),null;case 10:return cu(r.type._context),Pr(r),null;case 17:return Qn(r.type)&&ta(),Pr(r),null;case 19:if(Ut(Bt),M=r.memoizedState,M===null)return Pr(r),null;if(v=(r.flags&128)!==0,U=M.rendering,U===null)if(v)jc(M,!1);else{if(qn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(U=ca(n),U!==null){for(r.flags|=128,jc(M,!1),v=U.updateQueue,v!==null&&(r.updateQueue=v,r.flags|=4),r.subtreeFlags=0,v=l,l=r.child;l!==null;)M=l,n=v,M.flags&=14680066,U=M.alternate,U===null?(M.childLanes=0,M.lanes=n,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=U.childLanes,M.lanes=U.lanes,M.child=U.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=U.memoizedProps,M.memoizedState=U.memoizedState,M.updateQueue=U.updateQueue,M.type=U.type,n=U.dependencies,M.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Dt(Bt,Bt.current&1|2),r.child}n=n.sibling}M.tail!==null&&Ye()>Eu&&(r.flags|=128,v=!0,jc(M,!1),r.lanes=4194304)}else{if(!v)if(n=ca(U),n!==null){if(r.flags|=128,v=!0,l=n.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),jc(M,!0),M.tail===null&&M.tailMode==="hidden"&&!U.alternate&&!Ot)return Pr(r),null}else 2*Ye()-M.renderingStartTime>Eu&&l!==1073741824&&(r.flags|=128,v=!0,jc(M,!1),r.lanes=4194304);M.isBackwards?(U.sibling=r.child,r.child=U):(l=M.last,l!==null?l.sibling=U:r.child=U,M.last=U)}return M.tail!==null?(r=M.tail,M.rendering=r,M.tail=r.sibling,M.renderingStartTime=Ye(),r.sibling=null,l=Bt.current,Dt(Bt,v?l&1|2:l&1),r):(Pr(r),null);case 22:case 23:return V0(),v=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==v&&(r.flags|=8192),v&&(r.mode&1)!==0?(Ci&1073741824)!==0&&(Pr(r),r.subtreeFlags&6&&(r.flags|=8192)):Pr(r),null;case 24:return null;case 25:return null}throw Error(i(156,r.tag))}function Tx(n,r){switch(Dn(r),r.tag){case 1:return Qn(r.type)&&ta(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return js(),Ut(Xn),Ut($n),da(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Ds(r),null;case 13:if(Ut(Bt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));go()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ut(Bt),null;case 4:return js(),null;case 10:return cu(r.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var df=!1,kr=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function _u(n,r){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(v){yn(n,r,v)}else l.current=null}function R0(n,r,l){try{l()}catch(v){yn(n,r,v)}}var Tg=!1;function Nx(n,r){if(gc=Fl,n=En(),Qo(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var v=l.getSelection&&l.getSelection();if(v&&v.rangeCount!==0){l=v.anchorNode;var E=v.anchorOffset,M=v.focusNode;v=v.focusOffset;try{l.nodeType,M.nodeType}catch{l=null;break e}var U=0,J=-1,oe=-1,ve=0,Pe=0,ke=n,Ee=null;t:for(;;){for(var Fe;ke!==l||E!==0&&ke.nodeType!==3||(J=U+E),ke!==M||v!==0&&ke.nodeType!==3||(oe=U+v),ke.nodeType===3&&(U+=ke.nodeValue.length),(Fe=ke.firstChild)!==null;)Ee=ke,ke=Fe;for(;;){if(ke===n)break t;if(Ee===l&&++ve===E&&(J=U),Ee===M&&++Pe===v&&(oe=U),(Fe=ke.nextSibling)!==null)break;ke=Ee,Ee=ke.parentNode}ke=Fe}l=J===-1||oe===-1?null:{start:J,end:oe}}else l=null}l=l||{start:0,end:0}}else l=null;for(vc={focusedElem:n,selectionRange:l},Fl=!1,Ve=r;Ve!==null;)if(r=Ve,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ve=n;else for(;Ve!==null;){r=Ve;try{var Ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var Be=Ue.memoizedProps,Tn=Ue.memoizedState,fe=r.stateNode,ue=fe.getSnapshotBeforeUpdate(r.elementType===r.type?Be:Ft(r.type,Be),Tn);fe.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var pe=r.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Ne){yn(r,r.return,Ne)}if(n=r.sibling,n!==null){n.return=r.return,Ve=n;break}Ve=r.return}return Ue=Tg,Tg=!1,Ue}function Dc(n,r,l){var v=r.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var E=v=v.next;do{if((E.tag&n)===n){var M=E.destroy;E.destroy=void 0,M!==void 0&&R0(r,l,M)}E=E.next}while(E!==v)}}function hf(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&n)===n){var v=l.create;l.destroy=v()}l=l.next}while(l!==r)}}function N0(n){var r=n.ref;if(r!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof r=="function"?r(n):r.current=n}}function Rg(n){var r=n.alternate;r!==null&&(n.alternate=null,Rg(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[ti],delete r[Qa],delete r[iu],delete r[Xh],delete r[Qh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ng(n){return n.tag===5||n.tag===3||n.tag===4}function Ag(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ng(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function A0(n,r,l){var v=n.tag;if(v===5||v===6)n=n.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(n,r):l.insertBefore(n,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(n,l)):(r=l,r.appendChild(n)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ao));else if(v!==4&&(n=n.child,n!==null))for(A0(n,r,l),n=n.sibling;n!==null;)A0(n,r,l),n=n.sibling}function b0(n,r,l){var v=n.tag;if(v===5||v===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(v!==4&&(n=n.child,n!==null))for(b0(n,r,l),n=n.sibling;n!==null;)b0(n,r,l),n=n.sibling}var dr=null,ss=!1;function ma(n,r,l){for(l=l.child;l!==null;)bg(n,r,l),l=l.sibling}function bg(n,r,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ln,l)}catch{}switch(l.tag){case 5:kr||_u(l,r);case 6:var v=dr,E=ss;dr=null,ma(n,r,l),dr=v,ss=E,dr!==null&&(ss?(n=dr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):dr.removeChild(l.stateNode));break;case 18:dr!==null&&(ss?(n=dr,l=l.stateNode,n.nodeType===8?ru(n.parentNode,l):n.nodeType===1&&ru(n,l),xr(n)):ru(dr,l.stateNode));break;case 4:v=dr,E=ss,dr=l.stateNode.containerInfo,ss=!0,ma(n,r,l),dr=v,ss=E;break;case 0:case 11:case 14:case 15:if(!kr&&(v=l.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){E=v=v.next;do{var M=E,U=M.destroy;M=M.tag,U!==void 0&&((M&2)!==0||(M&4)!==0)&&R0(l,r,U),E=E.next}while(E!==v)}ma(n,r,l);break;case 1:if(!kr&&(_u(l,r),v=l.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=l.memoizedProps,v.state=l.memoizedState,v.componentWillUnmount()}catch(J){yn(l,r,J)}ma(n,r,l);break;case 21:ma(n,r,l);break;case 22:l.mode&1?(kr=(v=kr)||l.memoizedState!==null,ma(n,r,l),kr=v):ma(n,r,l);break;default:ma(n,r,l)}}function Mg(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Rx),r.forEach(function(v){var E=Fx.bind(null,n,v);l.has(v)||(l.add(v),v.then(E,E))})}}function os(n,r){var l=r.deletions;if(l!==null)for(var v=0;v<l.length;v++){var E=l[v];try{var M=n,U=r,J=U;e:for(;J!==null;){switch(J.tag){case 5:dr=J.stateNode,ss=!1;break e;case 3:dr=J.stateNode.containerInfo,ss=!0;break e;case 4:dr=J.stateNode.containerInfo,ss=!0;break e}J=J.return}if(dr===null)throw Error(i(160));bg(M,U,E),dr=null,ss=!1;var oe=E.alternate;oe!==null&&(oe.return=null),E.return=null}catch(ve){yn(E,r,ve)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ig(r,n),r=r.sibling}function Ig(n,r){var l=n.alternate,v=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(os(r,n),Fs(n),v&4){try{Dc(3,n,n.return),hf(3,n)}catch(Be){yn(n,n.return,Be)}try{Dc(5,n,n.return)}catch(Be){yn(n,n.return,Be)}}break;case 1:os(r,n),Fs(n),v&512&&l!==null&&_u(l,l.return);break;case 5:if(os(r,n),Fs(n),v&512&&l!==null&&_u(l,l.return),n.flags&32){var E=n.stateNode;try{An(E,"")}catch(Be){yn(n,n.return,Be)}}if(v&4&&(E=n.stateNode,E!=null)){var M=n.memoizedProps,U=l!==null?l.memoizedProps:M,J=n.type,oe=n.updateQueue;if(n.updateQueue=null,oe!==null)try{J==="input"&&M.type==="radio"&&M.name!=null&&wn(E,M),$s(J,U);var ve=$s(J,M);for(U=0;U<oe.length;U+=2){var Pe=oe[U],ke=oe[U+1];Pe==="style"?yr(E,ke):Pe==="dangerouslySetInnerHTML"?Qr(E,ke):Pe==="children"?An(E,ke):C(E,Pe,ke,ve)}switch(J){case"input":Gt(E,M);break;case"textarea":_n(E,M);break;case"select":var Ee=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!M.multiple;var Fe=M.value;Fe!=null?xt(E,!!M.multiple,Fe,!1):Ee!==!!M.multiple&&(M.defaultValue!=null?xt(E,!!M.multiple,M.defaultValue,!0):xt(E,!!M.multiple,M.multiple?[]:"",!1))}E[Qa]=M}catch(Be){yn(n,n.return,Be)}}break;case 6:if(os(r,n),Fs(n),v&4){if(n.stateNode===null)throw Error(i(162));E=n.stateNode,M=n.memoizedProps;try{E.nodeValue=M}catch(Be){yn(n,n.return,Be)}}break;case 3:if(os(r,n),Fs(n),v&4&&l!==null&&l.memoizedState.isDehydrated)try{xr(r.containerInfo)}catch(Be){yn(n,n.return,Be)}break;case 4:os(r,n),Fs(n);break;case 13:os(r,n),Fs(n),E=n.child,E.flags&8192&&(M=E.memoizedState!==null,E.stateNode.isHidden=M,!M||E.alternate!==null&&E.alternate.memoizedState!==null||(L0=Ye())),v&4&&Mg(n);break;case 22:if(Pe=l!==null&&l.memoizedState!==null,n.mode&1?(kr=(ve=kr)||Pe,os(r,n),kr=ve):os(r,n),Fs(n),v&8192){if(ve=n.memoizedState!==null,(n.stateNode.isHidden=ve)&&!Pe&&(n.mode&1)!==0)for(Ve=n,Pe=n.child;Pe!==null;){for(ke=Ve=Pe;Ve!==null;){switch(Ee=Ve,Fe=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Dc(4,Ee,Ee.return);break;case 1:_u(Ee,Ee.return);var Ue=Ee.stateNode;if(typeof Ue.componentWillUnmount=="function"){v=Ee,l=Ee.return;try{r=v,Ue.props=r.memoizedProps,Ue.state=r.memoizedState,Ue.componentWillUnmount()}catch(Be){yn(v,l,Be)}}break;case 5:_u(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){jg(ke);continue}}Fe!==null?(Fe.return=Ee,Ve=Fe):jg(ke)}Pe=Pe.sibling}e:for(Pe=null,ke=n;;){if(ke.tag===5){if(Pe===null){Pe=ke;try{E=ke.stateNode,ve?(M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(J=ke.stateNode,oe=ke.memoizedProps.style,U=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,J.style.display=Lo("display",U))}catch(Be){yn(n,n.return,Be)}}}else if(ke.tag===6){if(Pe===null)try{ke.stateNode.nodeValue=ve?"":ke.memoizedProps}catch(Be){yn(n,n.return,Be)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===n)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===n)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===n)break e;Pe===ke&&(Pe=null),ke=ke.return}Pe===ke&&(Pe=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:os(r,n),Fs(n),v&4&&Mg(n);break;case 21:break;default:os(r,n),Fs(n)}}function Fs(n){var r=n.flags;if(r&2){try{e:{for(var l=n.return;l!==null;){if(Ng(l)){var v=l;break e}l=l.return}throw Error(i(160))}switch(v.tag){case 5:var E=v.stateNode;v.flags&32&&(An(E,""),v.flags&=-33);var M=Ag(n);b0(n,M,E);break;case 3:case 4:var U=v.stateNode.containerInfo,J=Ag(n);A0(n,J,U);break;default:throw Error(i(161))}}catch(oe){yn(n,n.return,oe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ax(n,r,l){Ve=n,Lg(n)}function Lg(n,r,l){for(var v=(n.mode&1)!==0;Ve!==null;){var E=Ve,M=E.child;if(E.tag===22&&v){var U=E.memoizedState!==null||df;if(!U){var J=E.alternate,oe=J!==null&&J.memoizedState!==null||kr;J=df;var ve=kr;if(df=U,(kr=oe)&&!ve)for(Ve=E;Ve!==null;)U=Ve,oe=U.child,U.tag===22&&U.memoizedState!==null?Dg(E):oe!==null?(oe.return=U,Ve=oe):Dg(E);for(;M!==null;)Ve=M,Lg(M),M=M.sibling;Ve=E,df=J,kr=ve}Og(n)}else(E.subtreeFlags&8772)!==0&&M!==null?(M.return=E,Ve=M):Og(n)}}function Og(n){for(;Ve!==null;){var r=Ve;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:kr||hf(5,r);break;case 1:var v=r.stateNode;if(r.flags&4&&!kr)if(l===null)v.componentDidMount();else{var E=r.elementType===r.type?l.memoizedProps:Ft(r.type,l.memoizedProps);v.componentDidUpdate(E,l.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var M=r.updateQueue;M!==null&&Pc(r,M,v);break;case 3:var U=r.updateQueue;if(U!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Pc(r,U,l)}break;case 5:var J=r.stateNode;if(l===null&&r.flags&4){l=J;var oe=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&l.focus();break;case"img":oe.src&&(l.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var ve=r.alternate;if(ve!==null){var Pe=ve.memoizedState;if(Pe!==null){var ke=Pe.dehydrated;ke!==null&&xr(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}kr||r.flags&512&&N0(r)}catch(Ee){yn(r,r.return,Ee)}}if(r===n){Ve=null;break}if(l=r.sibling,l!==null){l.return=r.return,Ve=l;break}Ve=r.return}}function jg(n){for(;Ve!==null;){var r=Ve;if(r===n){Ve=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Ve=l;break}Ve=r.return}}function Dg(n){for(;Ve!==null;){var r=Ve;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{hf(4,r)}catch(oe){yn(r,l,oe)}break;case 1:var v=r.stateNode;if(typeof v.componentDidMount=="function"){var E=r.return;try{v.componentDidMount()}catch(oe){yn(r,E,oe)}}var M=r.return;try{N0(r)}catch(oe){yn(r,M,oe)}break;case 5:var U=r.return;try{N0(r)}catch(oe){yn(r,U,oe)}}}catch(oe){yn(r,r.return,oe)}if(r===n){Ve=null;break}var J=r.sibling;if(J!==null){J.return=r.return,Ve=J;break}Ve=r.return}}var bx=Math.ceil,ff=I.ReactCurrentDispatcher,M0=I.ReactCurrentOwner,Vi=I.ReactCurrentBatchConfig,bt=0,er=null,Fn=null,hr=0,Ci=0,Cu=Ji(0),qn=0,Fc=null,cl=0,pf=0,I0=0,zc=null,ai=null,L0=0,Eu=1/0,_o=null,mf=!1,O0=null,ga=null,gf=!1,va=null,vf=0,Vc=0,j0=null,yf=-1,xf=0;function Kr(){return(bt&6)!==0?Ye():yf!==-1?yf:yf=Ye()}function ya(n){return(n.mode&1)===0?1:(bt&2)!==0&&hr!==0?hr&-hr:Cc.transition!==null?(xf===0&&(xf=qu()),xf):(n=At,n!==0||(n=window.event,n=n===void 0?16:Ih(n.type)),n)}function as(n,r,l,v){if(50<Vc)throw Vc=0,j0=null,Error(i(185));ja(n,l,v),((bt&2)===0||n!==er)&&(n===er&&((bt&2)===0&&(pf|=l),qn===4&&xa(n,hr)),li(n,v),l===1&&bt===0&&(r.mode&1)===0&&(Eu=Ye()+500,na&&As()))}function li(n,r){var l=n.callbackNode;Rh(n,r);var v=Ks(n,n===er?hr:0);if(v===0)l!==null&&tt(l),n.callbackNode=null,n.callbackPriority=0;else if(r=v&-v,n.callbackPriority!==r){if(l!=null&&tt(l),r===1)n.tag===0?es(zg.bind(null,n)):Ja(zg.bind(null,n)),Kh(function(){(bt&6)===0&&As()}),l=null;else{switch(Da(v)){case 1:l=Lt;break;case 4:l=ut;break;case 16:l=dt;break;case 536870912:l=Mr;break;default:l=dt}l=qg(l,Fg.bind(null,n))}n.callbackPriority=r,n.callbackNode=l}}function Fg(n,r){if(yf=-1,xf=0,(bt&6)!==0)throw Error(i(327));var l=n.callbackNode;if(Pu()&&n.callbackNode!==l)return null;var v=Ks(n,n===er?hr:0);if(v===0)return null;if((v&30)!==0||(v&n.expiredLanes)!==0||r)r=Sf(n,v);else{r=v;var E=bt;bt|=2;var M=Ug();(er!==n||hr!==r)&&(_o=null,Eu=Ye()+500,hl(n,r));do try{Lx();break}catch(J){Vg(n,J)}while(!0);Gr(),ff.current=M,bt=E,Fn!==null?r=0:(er=null,hr=0,r=qn)}if(r!==0){if(r===2&&(E=zo(n),E!==0&&(v=E,r=D0(n,E))),r===1)throw l=Fc,hl(n,0),xa(n,v),li(n,Ye()),l;if(r===6)xa(n,v);else{if(E=n.current.alternate,(v&30)===0&&!Mx(E)&&(r=Sf(n,v),r===2&&(M=zo(n),M!==0&&(v=M,r=D0(n,M))),r===1))throw l=Fc,hl(n,0),xa(n,v),li(n,Ye()),l;switch(n.finishedWork=E,n.finishedLanes=v,r){case 0:case 1:throw Error(i(345));case 2:fl(n,ai,_o);break;case 3:if(xa(n,v),(v&130023424)===v&&(r=L0+500-Ye(),10<r)){if(Ks(n,0)!==0)break;if(E=n.suspendedLanes,(E&v)!==v){Kr(),n.pingedLanes|=n.suspendedLanes&E;break}n.timeoutHandle=Fr(fl.bind(null,n,ai,_o),r);break}fl(n,ai,_o);break;case 4:if(xa(n,v),(v&4194240)===v)break;for(r=n.eventTimes,E=-1;0<v;){var U=31-ht(v);M=1<<U,U=r[U],U>E&&(E=U),v&=~M}if(v=E,v=Ye()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*bx(v/1960))-v,10<v){n.timeoutHandle=Fr(fl.bind(null,n,ai,_o),v);break}fl(n,ai,_o);break;case 5:fl(n,ai,_o);break;default:throw Error(i(329))}}}return li(n,Ye()),n.callbackNode===l?Fg.bind(null,n):null}function D0(n,r){var l=zc;return n.current.memoizedState.isDehydrated&&(hl(n,r).flags|=256),n=Sf(n,r),n!==2&&(r=ai,ai=l,r!==null&&F0(r)),n}function F0(n){ai===null?ai=n:ai.push.apply(ai,n)}function Mx(n){for(var r=n;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var v=0;v<l.length;v++){var E=l[v],M=E.getSnapshot;E=E.value;try{if(!wr(M(),E))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xa(n,r){for(r&=~I0,r&=~pf,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var l=31-ht(r),v=1<<l;n[l]=-1,r&=~v}}function zg(n){if((bt&6)!==0)throw Error(i(327));Pu();var r=Ks(n,0);if((r&1)===0)return li(n,Ye()),null;var l=Sf(n,r);if(n.tag!==0&&l===2){var v=zo(n);v!==0&&(r=v,l=D0(n,v))}if(l===1)throw l=Fc,hl(n,0),xa(n,r),li(n,Ye()),l;if(l===6)throw Error(i(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,fl(n,ai,_o),li(n,Ye()),null}function z0(n,r){var l=bt;bt|=1;try{return n(r)}finally{bt=l,bt===0&&(Eu=Ye()+500,na&&As())}}function dl(n){va!==null&&va.tag===0&&(bt&6)===0&&Pu();var r=bt;bt|=1;var l=Vi.transition,v=At;try{if(Vi.transition=null,At=1,n)return n()}finally{At=v,Vi.transition=l,bt=r,(bt&6)===0&&As()}}function V0(){Ci=Cu.current,Ut(Cu)}function hl(n,r){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,xc(l)),Fn!==null)for(l=Fn.return;l!==null;){var v=l;switch(Dn(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ta();break;case 3:js(),Ut(Xn),Ut($n),da();break;case 5:Ds(v);break;case 4:js();break;case 13:Ut(Bt);break;case 19:Ut(Bt);break;case 10:cu(v.type._context);break;case 22:case 23:V0()}l=l.return}if(er=n,Fn=n=Sa(n.current,null),hr=Ci=r,qn=0,Fc=null,I0=pf=cl=0,ai=zc=null,Os!==null){for(r=0;r<Os.length;r++)if(l=Os[r],v=l.interleaved,v!==null){l.interleaved=null;var E=v.next,M=l.pending;if(M!==null){var U=M.next;M.next=E,v.next=U}l.pending=v}Os=null}return n}function Vg(n,r){do{var l=Fn;try{if(Gr(),xi.current=wu,kn){for(var v=Wt.memoizedState;v!==null;){var E=v.queue;E!==null&&(E.pending=null),v=v.next}kn=!1}if(Si=0,un=on=Wt=null,oi=!1,Zn=0,M0.current=null,l===null||l.return===null){qn=1,Fc=r,Fn=null;break}e:{var M=n,U=l.return,J=l,oe=r;if(r=hr,J.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var ve=oe,Pe=J,ke=Pe.tag;if((Pe.mode&1)===0&&(ke===0||ke===11||ke===15)){var Ee=Pe.alternate;Ee?(Pe.updateQueue=Ee.updateQueue,Pe.memoizedState=Ee.memoizedState,Pe.lanes=Ee.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Fe=_(U);if(Fe!==null){Fe.flags&=-257,N(Fe,U,J,M,r),Fe.mode&1&&p(M,ve,r),r=Fe,oe=ve;var Ue=r.updateQueue;if(Ue===null){var Be=new Set;Be.add(oe),r.updateQueue=Be}else Ue.add(oe);break e}else{if((r&1)===0){p(M,ve,r),U0();break e}oe=Error(i(426))}}else if(Ot&&J.mode&1){var Tn=_(U);if(Tn!==null){(Tn.flags&65536)===0&&(Tn.flags|=256),N(Tn,U,J,M,r),tl(wo(oe,J));break e}}M=oe=wo(oe,J),qn!==4&&(qn=2),zc===null?zc=[M]:zc.push(M),M=U;do{switch(M.tag){case 3:M.flags|=65536,r&=-r,M.lanes|=r;var fe=s(M,oe,r);hu(M,fe);break e;case 1:J=oe;var ue=M.type,pe=M.stateNode;if((M.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(ga===null||!ga.has(pe)))){M.flags|=65536,r&=-r,M.lanes|=r;var Ne=o(M,J,r);hu(M,Ne);break e}}M=M.return}while(M!==null)}Gg(l)}catch(He){r=He,Fn===l&&l!==null&&(Fn=l=l.return);continue}break}while(!0)}function Ug(){var n=ff.current;return ff.current=wu,n===null?wu:n}function U0(){(qn===0||qn===3||qn===2)&&(qn=4),er===null||(cl&268435455)===0&&(pf&268435455)===0||xa(er,hr)}function Sf(n,r){var l=bt;bt|=2;var v=Ug();(er!==n||hr!==r)&&(_o=null,hl(n,r));do try{Ix();break}catch(E){Vg(n,E)}while(!0);if(Gr(),bt=l,ff.current=v,Fn!==null)throw Error(i(261));return er=null,hr=0,qn}function Ix(){for(;Fn!==null;)Bg(Fn)}function Lx(){for(;Fn!==null&&!ot();)Bg(Fn)}function Bg(n){var r=Hg(n.alternate,n,Ci);n.memoizedProps=n.pendingProps,r===null?Gg(n):Fn=r,M0.current=null}function Gg(n){var r=n;do{var l=r.alternate;if(n=r.return,(r.flags&32768)===0){if(l=kx(l,r,Ci),l!==null){Fn=l;return}}else{if(l=Tx(l,r),l!==null){l.flags&=32767,Fn=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{qn=6,Fn=null;return}}if(r=r.sibling,r!==null){Fn=r;return}Fn=r=n}while(r!==null);qn===0&&(qn=5)}function fl(n,r,l){var v=At,E=Vi.transition;try{Vi.transition=null,At=1,Ox(n,r,l,v)}finally{Vi.transition=E,At=v}return null}function Ox(n,r,l,v){do Pu();while(va!==null);if((bt&6)!==0)throw Error(i(327));l=n.finishedWork;var E=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0;var M=l.lanes|l.childLanes;if(S0(n,M),n===er&&(Fn=er=null,hr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gf||(gf=!0,qg(dt,function(){return Pu(),null})),M=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||M){M=Vi.transition,Vi.transition=null;var U=At;At=1;var J=bt;bt|=4,M0.current=null,Nx(n,l),Ig(l,n),Wa(vc),Fl=!!gc,vc=gc=null,n.current=l,Ax(l),Ae(),bt=J,At=U,Vi.transition=M}else n.current=l;if(gf&&(gf=!1,va=n,vf=E),M=n.pendingLanes,M===0&&(ga=null),rt(l.stateNode),li(n,Ye()),r!==null)for(v=n.onRecoverableError,l=0;l<r.length;l++)E=r[l],v(E.value,{componentStack:E.stack,digest:E.digest});if(mf)throw mf=!1,n=O0,O0=null,n;return(vf&1)!==0&&n.tag!==0&&Pu(),M=n.pendingLanes,(M&1)!==0?n===j0?Vc++:(Vc=0,j0=n):Vc=0,As(),null}function Pu(){if(va!==null){var n=Da(vf),r=Vi.transition,l=At;try{if(Vi.transition=null,At=16>n?16:n,va===null)var v=!1;else{if(n=va,va=null,vf=0,(bt&6)!==0)throw Error(i(331));var E=bt;for(bt|=4,Ve=n.current;Ve!==null;){var M=Ve,U=M.child;if((Ve.flags&16)!==0){var J=M.deletions;if(J!==null){for(var oe=0;oe<J.length;oe++){var ve=J[oe];for(Ve=ve;Ve!==null;){var Pe=Ve;switch(Pe.tag){case 0:case 11:case 15:Dc(8,Pe,M)}var ke=Pe.child;if(ke!==null)ke.return=Pe,Ve=ke;else for(;Ve!==null;){Pe=Ve;var Ee=Pe.sibling,Fe=Pe.return;if(Rg(Pe),Pe===ve){Ve=null;break}if(Ee!==null){Ee.return=Fe,Ve=Ee;break}Ve=Fe}}}var Ue=M.alternate;if(Ue!==null){var Be=Ue.child;if(Be!==null){Ue.child=null;do{var Tn=Be.sibling;Be.sibling=null,Be=Tn}while(Be!==null)}}Ve=M}}if((M.subtreeFlags&2064)!==0&&U!==null)U.return=M,Ve=U;else e:for(;Ve!==null;){if(M=Ve,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Dc(9,M,M.return)}var fe=M.sibling;if(fe!==null){fe.return=M.return,Ve=fe;break e}Ve=M.return}}var ue=n.current;for(Ve=ue;Ve!==null;){U=Ve;var pe=U.child;if((U.subtreeFlags&2064)!==0&&pe!==null)pe.return=U,Ve=pe;else e:for(U=ue;Ve!==null;){if(J=Ve,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:hf(9,J)}}catch(He){yn(J,J.return,He)}if(J===U){Ve=null;break e}var Ne=J.sibling;if(Ne!==null){Ne.return=J.return,Ve=Ne;break e}Ve=J.return}}if(bt=E,As(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ln,n)}catch{}v=!0}return v}finally{At=l,Vi.transition=r}}return!1}function $g(n,r,l){r=wo(l,r),r=s(n,r,1),n=si(n,r,1),r=Kr(),n!==null&&(ja(n,1,r),li(n,r))}function yn(n,r,l){if(n.tag===3)$g(n,n,l);else for(;r!==null;){if(r.tag===3){$g(r,n,l);break}else if(r.tag===1){var v=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ga===null||!ga.has(v))){n=wo(l,n),n=o(r,n,1),r=si(r,n,1),n=Kr(),r!==null&&(ja(r,1,n),li(r,n));break}}r=r.return}}function jx(n,r,l){var v=n.pingCache;v!==null&&v.delete(r),r=Kr(),n.pingedLanes|=n.suspendedLanes&l,er===n&&(hr&l)===l&&(qn===4||qn===3&&(hr&130023424)===hr&&500>Ye()-L0?hl(n,0):I0|=l),li(n,r)}function Wg(n,r){r===0&&((n.mode&1)===0?r=1:(r=qi,qi<<=1,(qi&130023424)===0&&(qi=4194304)));var l=Kr();n=ri(n,r),n!==null&&(ja(n,r,l),li(n,l))}function Dx(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),Wg(n,l)}function Fx(n,r){var l=0;switch(n.tag){case 13:var v=n.stateNode,E=n.memoizedState;E!==null&&(l=E.retryLane);break;case 19:v=n.stateNode;break;default:throw Error(i(314))}v!==null&&v.delete(r),Wg(n,l)}var Hg;Hg=function(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps||Xn.current)Y=!0;else{if((n.lanes&l)===0&&(r.flags&128)===0)return Y=!1,Px(n,r,l);Y=(n.flags&131072)!==0}else Y=!1,Ot&&(r.flags&1048576)!==0&&Jh(r,Ms,r.index);switch(r.lanes=0,r.tag){case 2:var v=r.type;_i(n,r),n=r.pendingProps;var E=co(r,$n.current);sa(r,l),E=sl(null,r,v,n,E,l);var M=Tc();return r.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qn(v)?(M=!0,ho(r)):M=!1,r.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,oa(r),E.updater=vo,r.stateNode=E,E._reactInternals=r,pn(r,v,n,l),r=Jn(null,r,v,!0,M,l)):(r.tag=0,Ot&&M&&ra(r),le(null,r,E,l),r=r.child),r;case 16:v=r.elementType;e:{switch(_i(n,r),n=r.pendingProps,E=v._init,v=E(v._payload),r.type=v,E=r.tag=Vx(v),n=Ft(v,n),E){case 0:r=zt(null,r,v,n,l);break e;case 1:r=jt(null,r,v,n,l);break e;case 11:r=ye(null,r,v,n,l);break e;case 14:r=Re(null,r,v,Ft(v.type,n),l);break e}throw Error(i(306,v,""))}return r;case 0:return v=r.type,E=r.pendingProps,E=r.elementType===v?E:Ft(v,E),zt(n,r,v,E,l);case 1:return v=r.type,E=r.pendingProps,E=r.elementType===v?E:Ft(v,E),jt(n,r,v,E,l);case 3:e:{if(zi(r),n===null)throw Error(i(387));v=r.pendingProps,M=r.memoizedState,E=M.element,nl(n,r),la(r,v,null,l);var U=r.memoizedState;if(v=U.element,M.isDehydrated)if(M={element:v,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},r.updateQueue.baseState=M,r.memoizedState=M,r.flags&256){E=wo(Error(i(423)),r),r=ge(n,r,v,l,E);break e}else if(v!==E){E=wo(Error(i(424)),r),r=ge(n,r,v,l,E);break e}else for(Ie=Mi(r.stateNode.containerInfo.firstChild),Vr=r,Ot=!0,Ur=null,l=ua(r,null,v,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(go(),v===E){r=is(n,r,l);break e}le(n,r,v,l)}r=r.child}return r;case 5:return ji(r),n===null&&ia(r),v=r.type,E=r.pendingProps,M=n!==null?n.memoizedProps:null,U=E.children,yc(v,E)?U=null:M!==null&&yc(v,M)&&(r.flags|=32),Le(n,r),le(n,r,U,l),r.child;case 6:return n===null&&ia(r),null;case 13:return Oe(n,r,l);case 4:return rl(r,r.stateNode.containerInfo),v=r.pendingProps,n===null?r.child=Qt(r,null,v,l):le(n,r,v,l),r.child;case 11:return v=r.type,E=r.pendingProps,E=r.elementType===v?E:Ft(v,E),ye(n,r,v,E,l);case 7:return le(n,r,r.pendingProps,l),r.child;case 8:return le(n,r,r.pendingProps.children,l),r.child;case 12:return le(n,r,r.pendingProps.children,l),r.child;case 10:e:{if(v=r.type._context,E=r.pendingProps,M=r.memoizedProps,U=E.value,Dt(_r,v._currentValue),v._currentValue=U,M!==null)if(wr(M.value,U)){if(M.children===E.children&&!Xn.current){r=is(n,r,l);break e}}else for(M=r.child,M!==null&&(M.return=r);M!==null;){var J=M.dependencies;if(J!==null){U=M.child;for(var oe=J.firstContext;oe!==null;){if(oe.context===v){if(M.tag===1){oe=ii(-1,l&-l),oe.tag=2;var ve=M.updateQueue;if(ve!==null){ve=ve.shared;var Pe=ve.pending;Pe===null?oe.next=oe:(oe.next=Pe.next,Pe.next=oe),ve.pending=oe}}M.lanes|=l,oe=M.alternate,oe!==null&&(oe.lanes|=l),ni(M.return,l,r),J.lanes|=l;break}oe=oe.next}}else if(M.tag===10)U=M.type===r.type?null:M.child;else if(M.tag===18){if(U=M.return,U===null)throw Error(i(341));U.lanes|=l,J=U.alternate,J!==null&&(J.lanes|=l),ni(U,l,r),U=M.sibling}else U=M.child;if(U!==null)U.return=M;else for(U=M;U!==null;){if(U===r){U=null;break}if(M=U.sibling,M!==null){M.return=U.return,U=M;break}U=U.return}M=U}le(n,r,E.children,l),r=r.child}return r;case 9:return E=r.type,v=r.pendingProps.children,sa(r,l),E=$r(E),v=v(E),r.flags|=1,le(n,r,v,l),r.child;case 14:return v=r.type,E=Ft(v,r.pendingProps),E=Ft(v.type,E),Re(n,r,v,E,l);case 15:return ze(n,r,r.type,r.pendingProps,l);case 17:return v=r.type,E=r.pendingProps,E=r.elementType===v?E:Ft(v,E),_i(n,r),r.tag=1,Qn(v)?(n=!0,ho(r)):n=!1,sa(r,l),sn(r,v,E),pn(r,v,E,l),Jn(null,r,v,!0,n,l);case 19:return Rt(n,r,l);case 22:return st(n,r,l)}throw Error(i(156,r.tag))};function qg(n,r){return ct(n,r)}function zx(n,r,l,v){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(n,r,l,v){return new zx(n,r,l,v)}function B0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vx(n){if(typeof n=="function")return B0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ne)return 11;if(n===$)return 14}return 2}function Sa(n,r){var l=n.alternate;return l===null?(l=Ui(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function wf(n,r,l,v,E,M){var U=2;if(v=n,typeof n=="function")B0(n)&&(U=1);else if(typeof n=="string")U=5;else e:switch(n){case W:return pl(l.children,E,M,r);case F:U=8,E|=8;break;case q:return n=Ui(12,l,r,E|2),n.elementType=q,n.lanes=M,n;case z:return n=Ui(13,l,r,E),n.elementType=z,n.lanes=M,n;case V:return n=Ui(19,l,r,E),n.elementType=V,n.lanes=M,n;case Q:return _f(l,E,M,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:U=10;break e;case X:U=9;break e;case ne:U=11;break e;case $:U=14;break e;case Z:U=16,v=null;break e}throw Error(i(130,n==null?n:typeof n,""))}return r=Ui(U,l,r,E),r.elementType=n,r.type=v,r.lanes=M,r}function pl(n,r,l,v){return n=Ui(7,n,v,r),n.lanes=l,n}function _f(n,r,l,v){return n=Ui(22,n,v,r),n.elementType=Q,n.lanes=l,n.stateNode={isHidden:!1},n}function G0(n,r,l){return n=Ui(6,n,null,r),n.lanes=l,n}function $0(n,r,l){return r=Ui(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Ux(n,r,l,v,E){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=v,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function W0(n,r,l,v,E,M,U,J,oe){return n=new Ux(n,r,l,J,oe),r===1?(r=1,M===!0&&(r|=8)):r=0,M=Ui(3,null,null,r),n.current=M,M.stateNode=n,M.memoizedState={element:v,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(M),n}function Bx(n,r,l){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:v==null?null:""+v,children:n,containerInfo:r,implementation:l}}function Kg(n){if(!n)return Li;n=n._reactInternals;e:{if(De(n)!==n||n.tag!==1)throw Error(i(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(i(171))}if(n.tag===1){var l=n.type;if(Qn(l))return ou(n,l,r)}return r}function Yg(n,r,l,v,E,M,U,J,oe){return n=W0(l,v,!0,n,E,M,U,J,oe),n.context=Kg(null),l=n.current,v=Kr(),E=ya(l),M=ii(v,E),M.callback=r??null,si(l,M,E),n.current.lanes=E,ja(n,E,v),li(n,v),n}function Cf(n,r,l,v){var E=r.current,M=Kr(),U=ya(E);return l=Kg(l),r.context===null?r.context=l:r.pendingContext=l,r=ii(M,U),r.payload={element:n},v=v===void 0?null:v,v!==null&&(r.callback=v),n=si(E,r,U),n!==null&&(as(n,E,U,M),aa(n,E,U)),U}function Ef(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Xg(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function H0(n,r){Xg(n,r),(n=n.alternate)&&Xg(n,r)}function Gx(){return null}var Qg=typeof reportError=="function"?reportError:function(n){console.error(n)};function q0(n){this._internalRoot=n}Pf.prototype.render=q0.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));Cf(n,r,null,null)},Pf.prototype.unmount=q0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;dl(function(){Cf(null,n,null,null)}),r[Ii]=null}};function Pf(n){this._internalRoot=n}Pf.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ah();n={blockedOn:null,target:n,priority:r};for(var l=0;l<bi.length&&r!==0&&r<bi[l].priority;l++);bi.splice(l,0,n),l===0&&Ol(n)}};function K0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function kf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function $x(n,r,l,v,E){if(E){if(typeof v=="function"){var M=v;v=function(){var ve=Ef(U);M.call(ve)}}var U=Yg(r,v,n,0,null,!1,!1,"",Zg);return n._reactRootContainer=U,n[Ii]=U.current,so(n.nodeType===8?n.parentNode:n),dl(),U}for(;E=n.lastChild;)n.removeChild(E);if(typeof v=="function"){var J=v;v=function(){var ve=Ef(oe);J.call(ve)}}var oe=W0(n,0,!1,null,null,!1,!1,"",Zg);return n._reactRootContainer=oe,n[Ii]=oe.current,so(n.nodeType===8?n.parentNode:n),dl(function(){Cf(r,oe,l,v)}),oe}function Tf(n,r,l,v,E){var M=l._reactRootContainer;if(M){var U=M;if(typeof E=="function"){var J=E;E=function(){var oe=Ef(U);J.call(oe)}}Cf(r,U,n,E)}else U=$x(l,r,n,E,v);return Ef(U)}Vo=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var l=In(r.pendingLanes);l!==0&&(Ku(r,l|1),li(r,Ye()),(bt&6)===0&&(Eu=Ye()+500,As()))}break;case 13:dl(function(){var v=ri(n,1);if(v!==null){var E=Kr();as(v,n,1,E)}}),H0(n,1)}},Uo=function(n){if(n.tag===13){var r=ri(n,134217728);if(r!==null){var l=Kr();as(r,n,134217728,l)}H0(n,134217728)}},Nh=function(n){if(n.tag===13){var r=ya(n),l=ri(n,r);if(l!==null){var v=Kr();as(l,n,r,v)}H0(n,r)}},Ah=function(){return At},Il=function(n,r){var l=At;try{return At=n,r()}finally{At=l}},Hs=function(n,r,l){switch(r){case"input":if(Gt(n,l),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var v=l[r];if(v!==n&&v.form===n.form){var E=jn(v);if(!E)throw Error(i(90));Qe(v),Gt(v,E)}}}break;case"textarea":_n(n,l);break;case"select":r=l.value,r!=null&&xt(n,!!l.multiple,r,!1)}},bl=z0,Fo=dl;var Wx={usingClientEntryPoint:!1,Events:[Za,Pn,jn,La,Do,z0]},Uc={findFiberByHostInstance:Rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hx={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mt(n),n===null?null:n.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||Gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{ln=Rf.inject(Hx),Ct=Rf}catch{}}return ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx,ui.createPortal=function(n,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(r))throw Error(i(200));return Bx(n,r,null,l)},ui.createRoot=function(n,r){if(!K0(n))throw Error(i(299));var l=!1,v="",E=Qg;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(v=r.identifierPrefix),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=W0(n,1,!1,null,null,l,!1,v,E),n[Ii]=r.current,so(n.nodeType===8?n.parentNode:n),new q0(r)},ui.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=mt(r),n=n===null?null:n.stateNode,n},ui.flushSync=function(n){return dl(n)},ui.hydrate=function(n,r,l){if(!kf(r))throw Error(i(200));return Tf(null,n,r,!0,l)},ui.hydrateRoot=function(n,r,l){if(!K0(n))throw Error(i(405));var v=l!=null&&l.hydratedSources||null,E=!1,M="",U=Qg;if(l!=null&&(l.unstable_strictMode===!0&&(E=!0),l.identifierPrefix!==void 0&&(M=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),r=Yg(r,null,n,1,l??null,E,!1,M,U),n[Ii]=r.current,so(n),v)for(n=0;n<v.length;n++)l=v[n],E=l._getVersion,E=E(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,E]:r.mutableSourceEagerHydrationData.push(l,E);return new Pf(r)},ui.render=function(n,r,l){if(!kf(r))throw Error(i(200));return Tf(null,n,r,!1,l)},ui.unmountComponentAtNode=function(n){if(!kf(n))throw Error(i(40));return n._reactRootContainer?(dl(function(){Tf(null,null,n,!1,function(){n._reactRootContainer=null,n[Ii]=null})}),!0):!1},ui.unstable_batchedUpdates=z0,ui.unstable_renderSubtreeIntoContainer=function(n,r,l,v){if(!kf(l))throw Error(i(200));if(n==null||n._reactInternals===void 0)throw Error(i(38));return Tf(n,r,l,!1,v)},ui.version="18.2.0-next-9e3b772b8-20220608",ui}var a1;function Hy(){if(a1)return Q0.exports;a1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Q0.exports=t6(),Q0.exports}var l1;function n6(){if(l1)return Nf;l1=1;var e=Hy();return Nf.createRoot=e.createRoot,Nf.hydrateRoot=e.hydrateRoot,Nf}var r6=n6();const i6=yh(r6);var s6=Hy();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Jd.apply(this,arguments)}var Pa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pa||(Pa={}));const u1="popstate";function o6(e){e===void 0&&(e={});function t(a,u){let{pathname:d,search:c,hash:h}=a.location;return Vp("",{pathname:d,search:c,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(a,u){return typeof u=="string"?u:Ky(u)}return l6(t,i,null,e)}function Yn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a6(){return Math.random().toString(36).substr(2,8)}function c1(e,t){return{usr:e.state,key:e.key,idx:t}}function Vp(e,t,i,a){return i===void 0&&(i=null),Jd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vu(t):t,{state:i,key:t&&t.key||a||a6()})}function Ky(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Vu(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function l6(e,t,i,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,c=u.history,h=Pa.Pop,m=null,f=y();f==null&&(f=0,c.replaceState(Jd({},c.state,{idx:f}),""));function y(){return(c.state||{idx:null}).idx}function g(){h=Pa.Pop;let k=y(),b=k==null?null:k-f;f=k,m&&m({action:h,location:P.location,delta:b})}function x(k,b){h=Pa.Push;let R=Vp(P.location,k,b);f=y()+1;let C=c1(R,f),I=P.createHref(R);try{c.pushState(C,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;u.location.assign(I)}d&&m&&m({action:h,location:P.location,delta:1})}function S(k,b){h=Pa.Replace;let R=Vp(P.location,k,b);f=y();let C=c1(R,f),I=P.createHref(R);c.replaceState(C,"",I),d&&m&&m({action:h,location:P.location,delta:0})}function w(k){let b=u.location.origin!=="null"?u.location.origin:u.location.href,R=typeof k=="string"?k:Ky(k);return R=R.replace(/ $/,"%20"),Yn(b,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,b)}let P={get action(){return h},get location(){return e(u,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(u1,g),m=k,()=>{u.removeEventListener(u1,g),m=null}},createHref(k){return t(u,k)},createURL:w,encodeLocation(k){let b=w(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:S,go(k){return c.go(k)}};return P}var d1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d1||(d1={}));function u6(e,t,i){return i===void 0&&(i="/"),c6(e,t,i)}function c6(e,t,i,a){let u=typeof t=="string"?Vu(t):t,d=Qy(u.pathname||"/",i);if(d==null)return null;let c=Yy(e);d6(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let f=C6(d);h=S6(c[m],f)}return h}function Yy(e,t,i,a){t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a="");let u=(d,c,h)=>{let m={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:c,route:d};m.relativePath.startsWith("/")&&(Yn(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let f=Tl([a,m.relativePath]),y=i.concat(m);d.children&&d.children.length>0&&(Yn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Yy(d.children,t,y,f)),!(d.path==null&&!d.index)&&t.push({path:f,score:y6(f,d.index),routesMeta:y})};return e.forEach((d,c)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))u(d,c);else for(let m of Xy(d.path))u(d,c,m)}),t}function Xy(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(a.length===0)return u?[d,""]:[d];let c=Xy(a.join("/")),h=[];return h.push(...c.map(m=>m===""?d:[d,m].join("/"))),u&&h.push(...c),h.map(m=>e.startsWith("/")&&m===""?"/":m)}function d6(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:x6(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const h6=/^:[\w-]+$/,f6=3,p6=2,m6=1,g6=10,v6=-2,h1=e=>e==="*";function y6(e,t){let i=e.split("/"),a=i.length;return i.some(h1)&&(a+=v6),t&&(a+=p6),i.filter(u=>!h1(u)).reduce((u,d)=>u+(h6.test(d)?f6:d===""?m6:g6),a)}function x6(e,t){return e.length===t.length&&e.slice(0,-1).every((a,u)=>a===t[u])?e[e.length-1]-t[t.length-1]:0}function S6(e,t,i){let{routesMeta:a}=e,u={},d="/",c=[];for(let h=0;h<a.length;++h){let m=a[h],f=h===a.length-1,y=d==="/"?t:t.slice(d.length)||"/",g=w6({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},y),x=m.route;if(!g)return null;Object.assign(u,g.params),c.push({params:u,pathname:Tl([d,g.pathname]),pathnameBase:N6(Tl([d,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(d=Tl([d,g.pathnameBase]))}return c}function w6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=_6(e.path,e.caseSensitive,e.end),u=t.match(i);if(!u)return null;let d=u[0],c=d.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:a.reduce((f,y,g)=>{let{paramName:x,isOptional:S}=y;if(x==="*"){let P=h[g]||"";c=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}const w=h[g];return S&&!w?f[x]=void 0:f[x]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:c,pattern:e}}function _6(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),qy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(a.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),a]}function C6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}function E6(e,t){t===void 0&&(t="/");let{pathname:i,search:a="",hash:u=""}=typeof e=="string"?Vu(e):e;return{pathname:i?i.startsWith("/")?i:P6(i,t):t,search:A6(a),hash:b6(u)}}function P6(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function ep(e,t,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k6(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function T6(e,t){let i=k6(e);return t?i.map((a,u)=>u===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function R6(e,t,i,a){a===void 0&&(a=!1);let u;typeof e=="string"?u=Vu(e):(u=Jd({},e),Yn(!u.pathname||!u.pathname.includes("?"),ep("?","pathname","search",u)),Yn(!u.pathname||!u.pathname.includes("#"),ep("#","pathname","hash",u)),Yn(!u.search||!u.search.includes("#"),ep("#","search","hash",u)));let d=e===""||u.pathname==="",c=d?"/":u.pathname,h;if(c==null)h=i;else{let g=t.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;u.pathname=x.join("/")}h=g>=0?t[g]:"/"}let m=E6(u,h),f=c&&c!=="/"&&c.endsWith("/"),y=(d||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(f||y)&&(m.pathname+="/"),m}const Tl=e=>e.join("/").replace(/\/\/+/g,"/"),N6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zy=["post","put","patch","delete"];new Set(Zy);const I6=["get",...Zy];new Set(I6);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},eh.apply(this,arguments)}const xm=te.createContext(null),L6=te.createContext(null),e0=te.createContext(null),t0=te.createContext(null),Uu=te.createContext({outlet:null,matches:[],isDataRoute:!1}),Jy=te.createContext(null);function n0(){return te.useContext(t0)!=null}function e5(){return n0()||Yn(!1),te.useContext(t0).location}function t5(e){te.useContext(e0).static||te.useLayoutEffect(e)}function Sm(){let{isDataRoute:e}=te.useContext(Uu);return e?q6():O6()}function O6(){n0()||Yn(!1);let e=te.useContext(xm),{basename:t,future:i,navigator:a}=te.useContext(e0),{matches:u}=te.useContext(Uu),{pathname:d}=e5(),c=JSON.stringify(T6(u,i.v7_relativeSplatPath)),h=te.useRef(!1);return t5(()=>{h.current=!0}),te.useCallback(function(f,y){if(y===void 0&&(y={}),!h.current)return;if(typeof f=="number"){a.go(f);return}let g=R6(f,JSON.parse(c),d,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Tl([t,g.pathname])),(y.replace?a.replace:a.push)(g,y.state,y)},[t,a,c,d,e])}function j6(e,t){return D6(e,t)}function D6(e,t,i,a){n0()||Yn(!1);let{navigator:u,static:d}=te.useContext(e0),{matches:c}=te.useContext(Uu),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let f=h?h.pathnameBase:"/";h&&h.route;let y=e5(),g;if(t){var x;let b=typeof t=="string"?Vu(t):t;f==="/"||(x=b.pathname)!=null&&x.startsWith(f)||Yn(!1),g=b}else g=y;let S=g.pathname||"/",w=S;if(f!=="/"){let b=f.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=u6(e,{pathname:w}),k=B6(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},m,b.params),pathname:Tl([f,u.encodeLocation?u.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Tl([f,u.encodeLocation?u.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),c,i,a);return t&&k?te.createElement(t0.Provider,{value:{location:eh({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Pa.Pop}},k):k}function F6(){let e=H6(),t=M6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),i?te.createElement("pre",{style:u},i):null,null)}const z6=te.createElement(F6,null);class V6 extends te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?te.createElement(Uu.Provider,{value:this.props.routeContext},te.createElement(Jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U6(e){let{routeContext:t,match:i,children:a}=e,u=te.useContext(xm);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),te.createElement(Uu.Provider,{value:t},a)}function B6(e,t,i,a){var u;if(t===void 0&&(t=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var d;if(!i)return null;if(i.errors)e=i.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let c=e,h=(u=i)==null?void 0:u.errors;if(h!=null){let y=c.findIndex(g=>g.route.id&&(h==null?void 0:h[g.route.id])!==void 0);y>=0||Yn(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,f=-1;if(i&&a&&a.v7_partialHydration)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:x,errors:S}=i,w=g.route.loader&&x[g.route.id]===void 0&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((y,g,x)=>{let S,w=!1,P=null,k=null;i&&(S=h&&g.route.id?h[g.route.id]:void 0,P=g.route.errorElement||z6,m&&(f<0&&x===0?(K6("route-fallback"),w=!0,k=null):f===x&&(w=!0,k=g.route.hydrateFallbackElement||null)));let b=t.concat(c.slice(0,x+1)),R=()=>{let C;return S?C=P:w?C=k:g.route.Component?C=te.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=y,te.createElement(U6,{match:g,routeContext:{outlet:y,matches:b,isDataRoute:i!=null},children:C})};return i&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?te.createElement(V6,{location:i.location,revalidation:i.revalidation,component:P,error:S,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}var n5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(n5||{}),r5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(r5||{});function G6(e){let t=te.useContext(xm);return t||Yn(!1),t}function $6(e){let t=te.useContext(L6);return t||Yn(!1),t}function W6(e){let t=te.useContext(Uu);return t||Yn(!1),t}function i5(e){let t=W6(),i=t.matches[t.matches.length-1];return i.route.id||Yn(!1),i.route.id}function H6(){var e;let t=te.useContext(Jy),i=$6(),a=i5();return t!==void 0?t:(e=i.errors)==null?void 0:e[a]}function q6(){let{router:e}=G6(n5.UseNavigateStable),t=i5(r5.UseNavigateStable),i=te.useRef(!1);return t5(()=>{i.current=!0}),te.useCallback(function(u,d){d===void 0&&(d={}),i.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,eh({fromRouteId:t},d)))},[e,t])}const f1={};function K6(e,t,i){f1[e]||(f1[e]=!0)}function Y6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zd(e){Yn(!1)}function X6(e){let{basename:t="/",children:i=null,location:a,navigationType:u=Pa.Pop,navigator:d,static:c=!1,future:h}=e;n0()&&Yn(!1);let m=t.replace(/^\/*/,"/"),f=te.useMemo(()=>({basename:m,navigator:d,static:c,future:eh({v7_relativeSplatPath:!1},h)}),[m,h,d,c]);typeof a=="string"&&(a=Vu(a));let{pathname:y="/",search:g="",hash:x="",state:S=null,key:w="default"}=a,P=te.useMemo(()=>{let k=Qy(y,m);return k==null?null:{location:{pathname:k,search:g,hash:x,state:S,key:w},navigationType:u}},[m,y,g,x,S,w,u]);return P==null?null:te.createElement(e0.Provider,{value:f},te.createElement(t0.Provider,{children:i,value:P}))}function Q6(e){let{children:t,location:i}=e;return j6(Up(t),i)}new Promise(()=>{});function Up(e,t){t===void 0&&(t=[]);let i=[];return te.Children.forEach(e,(a,u)=>{if(!te.isValidElement(a))return;let d=[...t,u];if(a.type===te.Fragment){i.push.apply(i,Up(a.props.children,d));return}a.type!==zd&&Yn(!1),!a.props.index||!a.props.children||Yn(!1);let c={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Up(a.props.children,d)),i.push(c)}),i}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Z6="6";try{window.__reactRouterVersion=Z6}catch{}const J6="startTransition",p1=Jx[J6];function e8(e){let{basename:t,children:i,future:a,window:u}=e,d=te.useRef();d.current==null&&(d.current=o6({window:u,v5Compat:!0}));let c=d.current,[h,m]=te.useState({action:c.action,location:c.location}),{v7_startTransition:f}=a||{},y=te.useCallback(g=>{f&&p1?p1(()=>m(g)):m(g)},[m,f]);return te.useLayoutEffect(()=>c.listen(y),[c,y]),te.useEffect(()=>Y6(a),[a]),te.createElement(X6,{basename:t,children:i,location:h.location,navigationType:h.action,navigator:c,future:a})}var m1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m1||(m1={}));var g1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g1||(g1={}));var tp={exports:{}},np,v1;function t8(){if(v1)return np;v1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return np=e,np}var rp,y1;function n8(){if(y1)return rp;y1=1;var e=t8();function t(){}function i(){}return i.resetWarningCache=t,rp=function(){function a(c,h,m,f,y,g){if(g!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function u(){return a}var d={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:u,element:a,elementType:a,instanceOf:u,node:a,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:i,resetWarningCache:t};return d.PropTypes=d,d},rp}var x1;function r8(){return x1||(x1=1,tp.exports=n8()()),tp.exports}var i8=r8();const me=yh(i8),s5=te.createContext();function o5({children:e}){const[t,i]=te.useState(!1);te.useEffect(()=>{const c=()=>{const h=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;i(!!h)};return c(),document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),()=>{document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c)}},[]);const a=c=>{c&&(c.requestFullscreen?c.requestFullscreen().catch(h=>console.error("Fullscreen error:",h)):c.mozRequestFullScreen?c.mozRequestFullScreen().catch(h=>console.error("Fullscreen error:",h)):c.webkitRequestFullscreen?c.webkitRequestFullscreen().catch(h=>console.error("Fullscreen error:",h)):c.msRequestFullscreen&&c.msRequestFullscreen().catch(h=>console.error("Fullscreen error:",h)))},u=()=>{document.exitFullscreen?document.exitFullscreen().catch(c=>console.error("Exit fullscreen error:",c)):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(c=>console.error("Exit fullscreen error:",c)):document.webkitExitFullscreen?document.webkitExitFullscreen().catch(c=>console.error("Exit fullscreen error:",c)):document.msExitFullscreen&&document.msExitFullscreen().catch(c=>console.error("Exit fullscreen error:",c))},d=nr.useMemo(()=>({isFullscreen:t,enterFullscreen:a,exitFullscreen:u}),[t]);return A.jsx(s5.Provider,{value:d,children:e})}o5.propTypes={children:me.node.isRequired};const a5=()=>te.useContext(s5),wm=te.createContext({});function _m(e){const t=te.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cm=typeof window<"u",l5=Cm?te.useLayoutEffect:te.useEffect,r0=te.createContext(null),Em=te.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class s8 extends te.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const a=i.offsetParent,u=a instanceof HTMLElement&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=i.offsetHeight||0,d.width=i.offsetWidth||0,d.top=i.offsetTop,d.left=i.offsetLeft,d.right=u-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o8({children:e,isPresent:t,anchorX:i}){const a=te.useId(),u=te.useRef(null),d=te.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=te.useContext(Em);return te.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:y,right:g}=d.current;if(t||!u.current||!h||!m)return;const x=i==="left"?`left: ${y}`:`right: ${g}`;u.current.dataset.motionPopId=a;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[t]),A.jsx(s8,{isPresent:t,childRef:u,sizeRef:d,children:te.cloneElement(e,{ref:u})})}const a8=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:u,presenceAffectsLayout:d,mode:c,anchorX:h})=>{const m=_m(l8),f=te.useId(),y=te.useCallback(x=>{m.set(x,!0);for(const S of m.values())if(!S)return;a&&a()},[m,a]),g=te.useMemo(()=>({id:f,initial:t,isPresent:i,custom:u,onExitComplete:y,register:x=>(m.set(x,!1),()=>m.delete(x))}),d?[Math.random(),y]:[i,y]);return te.useMemo(()=>{m.forEach((x,S)=>m.set(S,!1))},[i]),te.useEffect(()=>{!i&&!m.size&&a&&a()},[i]),c==="popLayout"&&(e=A.jsx(o8,{isPresent:i,anchorX:h,children:e})),A.jsx(r0.Provider,{value:g,children:e})};function l8(){return new Map}function u5(e=!0){const t=te.useContext(r0);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:u}=t,d=te.useId();te.useEffect(()=>{if(e)return u(d)},[e]);const c=te.useCallback(()=>e&&a&&a(d),[d,a,e]);return!i&&a?[!1,c]:[!0]}const Af=e=>e.key||"";function S1(e){const t=[];return te.Children.forEach(e,i=>{te.isValidElement(i)&&t.push(i)}),t}const Bf=({children:e,custom:t,initial:i=!0,onExitComplete:a,presenceAffectsLayout:u=!0,mode:d="sync",propagate:c=!1,anchorX:h="left"})=>{const[m,f]=u5(c),y=te.useMemo(()=>S1(e),[e]),g=c&&!m?[]:y.map(Af),x=te.useRef(!0),S=te.useRef(y),w=_m(()=>new Map),[P,k]=te.useState(y),[b,R]=te.useState(y);l5(()=>{x.current=!1,S.current=y;for(let L=0;L<b.length;L++){const B=Af(b[L]);g.includes(B)?w.delete(B):w.get(B)!==!0&&w.set(B,!1)}},[b,g.length,g.join("-")]);const C=[];if(y!==P){let L=[...y];for(let B=0;B<b.length;B++){const W=b[B],F=Af(W);g.includes(F)||(L.splice(B,0,W),C.push(W))}return d==="wait"&&C.length&&(L=C),R(S1(L)),k(y),null}const{forceRender:I}=te.useContext(wm);return A.jsx(A.Fragment,{children:b.map(L=>{const B=Af(L),W=c&&!m?!1:y===b||g.includes(B),F=()=>{if(w.has(B))w.set(B,!0);else return;let q=!0;w.forEach(G=>{G||(q=!1)}),q&&(I==null||I(),R(S.current),c&&(f==null||f()),a&&a())};return A.jsx(a8,{isPresent:W,initial:!x.current||i?void 0:!1,custom:t,presenceAffectsLayout:u,mode:d,onExitComplete:W?void 0:F,anchorX:h,children:L},B)})})};function Pm(e,t){e.indexOf(t)===-1&&e.push(t)}function km(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Ti=e=>e;let c5=Ti;const u8={useManualTiming:!1};function Tm(e){let t;return()=>(t===void 0&&(t=e()),t)}const ju=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a};class Rm{constructor(){this.subscriptions=[]}add(t){return Pm(this.subscriptions,t),()=>km(this.subscriptions,t)}notify(t,i,a){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](t,i,a);else for(let d=0;d<u;d++){const c=this.subscriptions[d];c&&c(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const No=e=>e*1e3,Ao=e=>e/1e3;function d5(e,t){return t?e*(1e3/t):0}const c8=Tm(()=>window.ScrollTimeline!==void 0);class d8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,i){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=i}attachTimeline(t,i){const a=this.animations.map(u=>{if(c8()&&u.attachTimeline)return u.attachTimeline(t);if(typeof i=="function")return i(u)});return()=>{a.forEach((u,d)=>{u&&u(),this.animations[d].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class h8 extends d8{then(t,i){return Promise.all(this.animations).then(t).catch(i)}}function Nm(e,t){return e?e[t]||e.default||e:void 0}const Bp=2e4;function h5(e){let t=0;const i=50;let a=e.next(t);for(;!a.done&&t<Bp;)t+=i,a=e.next(t);return t>=Bp?1/0:t}function Am(e){return typeof e=="function"}function w1(e,t){e.timeline=t,e.onfinish=null}const bm=e=>Array.isArray(e)&&typeof e[0]=="number",f8={linearEasing:void 0};function p8(e,t){const i=Tm(e);return()=>{var a;return(a=f8[t])!==null&&a!==void 0?a:i()}}const Gf=p8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),f5=(e,t,i=10)=>{let a="";const u=Math.max(Math.round(t/i),2);for(let d=0;d<u;d++)a+=e(ju(0,u-1,d))+", ";return`linear(${a.substring(0,a.length-2)})`};function p5(e){return!!(typeof e=="function"&&Gf()||!e||typeof e=="string"&&(e in Gp||Gf())||bm(e)||Array.isArray(e)&&e.every(p5))}const Vd=([e,t,i,a])=>`cubic-bezier(${e}, ${t}, ${i}, ${a})`,Gp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vd([0,.65,.55,1]),circOut:Vd([.55,0,1,.45]),backIn:Vd([.31,.01,.66,-.59]),backOut:Vd([.33,1.53,.69,.99])};function m5(e,t){if(e)return typeof e=="function"&&Gf()?f5(e,t):bm(e)?Vd(e):Array.isArray(e)?e.map(i=>m5(i,t)||Gp.easeOut):Gp[e]}const bf=["read","resolveKeyframes","update","preRender","render","postRender"],_1={value:null};function m8(e,t){let i=new Set,a=new Set,u=!1,d=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},m=0;function f(g){c.has(g)&&(y.schedule(g),e()),m++,g(h)}const y={schedule:(g,x=!1,S=!1)=>{const P=S&&u?i:a;return x&&c.add(g),P.has(g)||P.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(h=g,u){d=!0;return}u=!0,[i,a]=[a,i],i.forEach(f),t&&_1.value&&_1.value.frameloop[t].push(m),m=0,i.clear(),u=!1,d&&(d=!1,y.process(g))}};return y}const g8=40;function g5(e,t){let i=!1,a=!0;const u={delta:0,timestamp:0,isProcessing:!1},d=()=>i=!0,c=bf.reduce((b,R)=>(b[R]=m8(d,t?R:void 0),b),{}),{read:h,resolveKeyframes:m,update:f,preRender:y,render:g,postRender:x}=c,S=()=>{const b=performance.now();i=!1,u.delta=a?1e3/60:Math.max(Math.min(b-u.timestamp,g8),1),u.timestamp=b,u.isProcessing=!0,h.process(u),m.process(u),f.process(u),y.process(u),g.process(u),x.process(u),u.isProcessing=!1,i&&t&&(a=!1,e(S))},w=()=>{i=!0,a=!0,u.isProcessing||e(S)};return{schedule:bf.reduce((b,R)=>{const C=c[R];return b[R]=(I,L=!1,B=!1)=>(i||w(),C.schedule(I,L,B)),b},{}),cancel:b=>{for(let R=0;R<bf.length;R++)c[bf[R]].cancel(b)},state:u,steps:c}}const{schedule:Zt,cancel:Na,state:mr,steps:ip}=g5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0),{schedule:Mm}=g5(queueMicrotask,!1);let jf;function v8(){jf=void 0}const Vs={now:()=>(jf===void 0&&Vs.set(mr.isProcessing||u8.useManualTiming?mr.timestamp:performance.now()),jf),set:e=>{jf=e,queueMicrotask(v8)}},ds={x:!1,y:!1};function v5(){return ds.x||ds.y}function y8(e){return e==="x"||e==="y"?ds[e]?null:(ds[e]=!0,()=>{ds[e]=!1}):ds.x||ds.y?null:(ds.x=ds.y=!0,()=>{ds.x=ds.y=!1})}function x8(e,t,i){var a;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let u=document;const d=(a=void 0)!==null&&a!==void 0?a:u.querySelectorAll(e);return d?Array.from(d):[]}return Array.from(e)}function y5(e,t){const i=x8(e),a=new AbortController,u={passive:!0,...t,signal:a.signal};return[i,u,()=>a.abort()]}function C1(e){return!(e.pointerType==="touch"||v5())}function S8(e,t,i={}){const[a,u,d]=y5(e,i),c=h=>{if(!C1(h))return;const{target:m}=h,f=t(m,h);if(typeof f!="function"||!m)return;const y=g=>{C1(g)&&(f(g),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,u)};return a.forEach(h=>{h.addEventListener("pointerenter",c,u)}),d}function E1(e,t){const i=`${t}PointerCapture`;if(e.target instanceof Element&&i in e.target&&e.pointerId!==void 0)try{e.target[i](e.pointerId)}catch{}}const x5=(e,t)=>t?e===t?!0:x5(e,t.parentElement):!1,Im=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,w8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _8(e){return w8.has(e.tagName)||e.tabIndex!==-1}const Ud=new WeakSet;function P1(e){return t=>{t.key==="Enter"&&e(t)}}function sp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C8=(e,t)=>{const i=e.currentTarget;if(!i)return;const a=P1(()=>{if(Ud.has(i))return;sp(i,"down");const u=P1(()=>{sp(i,"up")}),d=()=>sp(i,"cancel");i.addEventListener("keyup",u,t),i.addEventListener("blur",d,t)});i.addEventListener("keydown",a,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),t)};function k1(e){return Im(e)&&!v5()}function E8(e,t,i={}){const[a,u,d]=y5(e,i),c=h=>{const m=h.currentTarget;if(!m||!k1(h)||Ud.has(m))return;Ud.add(m),E1(h,"set");const f=t(m,h),y=(S,w)=>{m.removeEventListener("pointerup",g),m.removeEventListener("pointercancel",x),E1(S,"release"),!(!k1(S)||!Ud.has(m))&&(Ud.delete(m),typeof f=="function"&&f(S,{success:w}))},g=S=>{(S.isTrusted?P8(S,m instanceof Element?m.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(S,!1):y(S,!(m instanceof Element)||x5(m,S.target))},x=S=>{y(S,!1)};m.addEventListener("pointerup",g,u),m.addEventListener("pointercancel",x,u),m.addEventListener("lostpointercapture",x,u)};return a.forEach(h=>{h=i.useGlobalTarget?window:h;let m=!1;h instanceof HTMLElement&&(m=!0,!_8(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",c,u),m&&h.addEventListener("focus",f=>C8(f,u),u)}),d}function P8(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}const T1=30,k8=e=>!isNaN(parseFloat(e));class T8{constructor(t,i={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,u=!0)=>{const d=Vs.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),u&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Vs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=k8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Rm);const a=this.events[t].add(i);return t==="change"?()=>{a(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>T1)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,T1);return d5(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function th(e,t){return new T8(e,t)}const S5=te.createContext({strict:!1}),R1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const e in R1)Du[e]={isEnabled:t=>R1[e].some(i=>!!t[i])};function R8(e){for(const t in e)Du[t]={...Du[t],...e[t]}}const N8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $f(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||N8.has(e)}let w5=e=>!$f(e);function A8(e){e&&(w5=t=>t.startsWith("on")?!$f(t):e(t))}try{A8(require("@emotion/is-prop-valid").default)}catch{}function b8(e,t,i){const a={};for(const u in e)u==="values"&&typeof e.values=="object"||(w5(u)||i===!0&&$f(u)||!t&&!$f(u)||e.draggable&&u.startsWith("onDrag"))&&(a[u]=e[u]);return a}function M8(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...a)=>e(...a);return new Proxy(i,{get:(a,u)=>u==="create"?e:(t.has(u)||t.set(u,e(u)),t.get(u))})}const i0=te.createContext({});function s0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nh(e){return typeof e=="string"||Array.isArray(e)}const Lm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Om=["initial",...Lm];function o0(e){return s0(e.animate)||Om.some(t=>nh(e[t]))}function _5(e){return!!(o0(e)||e.variants)}function I8(e,t){if(o0(e)){const{initial:i,animate:a}=e;return{initial:i===!1||nh(i)?i:void 0,animate:nh(a)?a:void 0}}return e.inherit!==!1?t:{}}function L8(e){const{initial:t,animate:i}=I8(e,te.useContext(i0));return te.useMemo(()=>({initial:t,animate:i}),[N1(t),N1(i)])}function N1(e){return Array.isArray(e)?e.join(" "):e}const O8=Symbol.for("motionComponentSymbol");function Ru(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j8(e,t,i){return te.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):Ru(i)&&(i.current=a))},[t])}const jm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D8="framerAppearId",C5="data-"+jm(D8),E5=te.createContext({});function F8(e,t,i,a,u){var d,c;const{visualElement:h}=te.useContext(i0),m=te.useContext(S5),f=te.useContext(r0),y=te.useContext(Em).reducedMotion,g=te.useRef(null);a=a||m.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:h,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y}));const x=g.current,S=te.useContext(E5);x&&!x.projection&&u&&(x.type==="html"||x.type==="svg")&&z8(g.current,i,u,S);const w=te.useRef(!1);te.useInsertionEffect(()=>{x&&w.current&&x.update(i,f)});const P=i[C5],k=te.useRef(!!P&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return l5(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Mm.render(x.render),k.current&&x.animationState&&x.animationState.animateChanges())}),te.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,P)}),k.current=!1))}),x}function z8(e,t,i,a){const{layoutId:u,layout:d,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:f}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:P5(e.parent)),e.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!c||h&&Ru(h),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:f})}function P5(e){if(e)return e.options.allowProjection!==!1?e.projection:P5(e.parent)}function V8({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:a,Component:u}){var d,c;e&&R8(e);function h(f,y){let g;const x={...te.useContext(Em),...f,layoutId:U8(f)},{isStatic:S}=x,w=L8(f),P=a(f,S);if(!S&&Cm){B8();const k=G8(x);g=k.MeasureLayout,w.visualElement=F8(u,P,x,t,k.ProjectionNode)}return A.jsxs(i0.Provider,{value:w,children:[g&&w.visualElement?A.jsx(g,{visualElement:w.visualElement,...x}):null,i(u,f,j8(P,w.visualElement,y),P,S,w.visualElement)]})}h.displayName=`motion.${typeof u=="string"?u:`create(${(c=(d=u.displayName)!==null&&d!==void 0?d:u.name)!==null&&c!==void 0?c:""})`}`;const m=te.forwardRef(h);return m[O8]=u,m}function U8({layoutId:e}){const t=te.useContext(wm).id;return t&&e!==void 0?t+"-"+e:e}function B8(e,t){te.useContext(S5).strict}function G8(e){const{drag:t,layout:i}=Du;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const k5=e=>t=>typeof t=="string"&&t.startsWith(e),Dm=k5("--"),$8=k5("var(--"),Fm=e=>$8(e)?W8.test(e.split("/*")[0].trim()):!1,W8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rh={};function H8(e){for(const t in e)rh[t]=e[t],Dm(t)&&(rh[t].isCSSVariable=!0)}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(Bu);function T5(e,{layout:t,layoutId:i}){return Al.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!rh[e]||e==="opacity")}const Nr=e=>!!(e&&e.getVelocity),R5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bo=(e,t,i)=>i>t?t:i<e?e:i,Gu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ih={...Gu,transform:e=>bo(0,1,e)},Mf={...Gu,default:1},xh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ea=xh("deg"),Us=xh("%"),et=xh("px"),q8=xh("vh"),K8=xh("vw"),A1={...Us,parse:e=>Us.parse(e)/100,transform:e=>Us.transform(e*100)},Y8={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,backgroundPositionX:et,backgroundPositionY:et},X8={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:Mf,scaleX:Mf,scaleY:Mf,scaleZ:Mf,skew:Ea,skewX:Ea,skewY:Ea,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:ih,originX:A1,originY:A1,originZ:et},b1={...Gu,transform:Math.round},zm={...Y8,...X8,zIndex:b1,size:et,fillOpacity:ih,strokeOpacity:ih,numOctaves:b1},Q8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z8=Bu.length;function J8(e,t,i){let a="",u=!0;for(let d=0;d<Z8;d++){const c=Bu[d],h=e[c];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(c.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||i){const f=R5(h,zm[c]);if(!m){u=!1;const y=Q8[c]||c;a+=`${y}(${f}) `}i&&(t[c]=f)}}return a=a.trim(),i?a=i(t,u?"":a):u&&(a="none"),a}function Vm(e,t,i){const{style:a,vars:u,transformOrigin:d}=e;let c=!1,h=!1;for(const m in t){const f=t[m];if(Al.has(m)){c=!0;continue}else if(Dm(m)){u[m]=f;continue}else{const y=R5(f,zm[m]);m.startsWith("origin")?(h=!0,d[m]=y):a[m]=y}}if(t.transform||(c||i?a.transform=J8(t,e.transform,i):a.transform&&(a.transform="none")),h){const{originX:m="50%",originY:f="50%",originZ:y=0}=d;a.transformOrigin=`${m} ${f} ${y}`}}const Um=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N5(e,t,i){for(const a in t)!Nr(t[a])&&!T5(a,i)&&(e[a]=t[a])}function eS({transformTemplate:e},t){return te.useMemo(()=>{const i=Um();return Vm(i,t,e),Object.assign({},i.vars,i.style)},[t])}function tS(e,t){const i=e.style||{},a={};return N5(a,i,e),Object.assign(a,eS(e,t)),a}function nS(e,t){const i={},a=tS(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const rS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bm(e){return typeof e!="string"||e.includes("-")?!1:!!(rS.indexOf(e)>-1||/[A-Z]/u.test(e))}const iS={offset:"stroke-dashoffset",array:"stroke-dasharray"},sS={offset:"strokeDashoffset",array:"strokeDasharray"};function oS(e,t,i=1,a=0,u=!0){e.pathLength=1;const d=u?iS:sS;e[d.offset]=et.transform(-a);const c=et.transform(t),h=et.transform(i);e[d.array]=`${c} ${h}`}function M1(e,t,i){return typeof e=="string"?e:et.transform(t+i*e)}function aS(e,t,i){const a=M1(t,e.x,e.width),u=M1(i,e.y,e.height);return`${a} ${u}`}function Gm(e,{attrX:t,attrY:i,attrScale:a,originX:u,originY:d,pathLength:c,pathSpacing:h=1,pathOffset:m=0,...f},y,g){if(Vm(e,f,g),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:S,dimensions:w}=e;x.transform&&(w&&(S.transform=x.transform),delete x.transform),w&&(u!==void 0||d!==void 0||S.transform)&&(S.transformOrigin=aS(w,u!==void 0?u:.5,d!==void 0?d:.5)),t!==void 0&&(x.x=t),i!==void 0&&(x.y=i),a!==void 0&&(x.scale=a),c!==void 0&&oS(x,c,h,m,!1)}const A5=()=>({...Um(),attrs:{}}),$m=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lS(e,t,i,a){const u=te.useMemo(()=>{const d=A5();return Gm(d,t,$m(a),e.transformTemplate),{...d.attrs,style:{...d.style}}},[t]);if(e.style){const d={};N5(d,e.style,e),u.style={...d,...u.style}}return u}function uS(e=!1){return(i,a,u,{latestValues:d},c)=>{const m=(Bm(i)?lS:nS)(a,d,c,i),f=b8(a,typeof i=="string",e),y=i!==te.Fragment?{...f,...m,ref:u}:{},{children:g}=a,x=te.useMemo(()=>Nr(g)?g.get():g,[g]);return te.createElement(i,{...y,children:x})}}function I1(e){const t=[{},{}];return e==null||e.values.forEach((i,a)=>{t[0][a]=i.get(),t[1][a]=i.getVelocity()}),t}function Wm(e,t,i,a){if(typeof t=="function"){const[u,d]=I1(a);t=t(i!==void 0?i:e.custom,u,d)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[u,d]=I1(a);t=t(i!==void 0?i:e.custom,u,d)}return t}const $p=e=>Array.isArray(e),cS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dS=e=>$p(e)?e[e.length-1]||0:e;function Df(e){const t=Nr(e)?e.get():e;return cS(t)?t.toValue():t}function hS({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},a,u,d){const c={latestValues:fS(a,u,d,e),renderState:t()};return i&&(c.onMount=h=>i({props:a,current:h,...c}),c.onUpdate=h=>i(h)),c}const b5=e=>(t,i)=>{const a=te.useContext(i0),u=te.useContext(r0),d=()=>hS(e,t,a,u);return i?d():_m(d)};function fS(e,t,i,a){const u={},d=a(e,{});for(const x in d)u[x]=Df(d[x]);let{initial:c,animate:h}=e;const m=o0(e),f=_5(e);t&&f&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const g=y?h:c;if(g&&typeof g!="boolean"&&!s0(g)){const x=Array.isArray(g)?g:[g];for(let S=0;S<x.length;S++){const w=Wm(e,x[S]);if(w){const{transitionEnd:P,transition:k,...b}=w;for(const R in b){let C=b[R];if(Array.isArray(C)){const I=y?C.length-1:0;C=C[I]}C!==null&&(u[R]=C)}for(const R in P)u[R]=P[R]}}}return u}function Hm(e,t,i){var a;const{style:u}=e,d={};for(const c in u)(Nr(u[c])||t.style&&Nr(t.style[c])||T5(c,e)||((a=i==null?void 0:i.getValue(c))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(d[c]=u[c]);return d}const pS={useVisualState:b5({scrapeMotionValuesFromProps:Hm,createRenderState:Um})};function M5(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function I5(e,{style:t,vars:i},a,u){Object.assign(e.style,t,u&&u.getProjectionStyles(a));for(const d in i)e.style.setProperty(d,i[d])}const L5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O5(e,t,i,a){I5(e,t,void 0,a);for(const u in t.attrs)e.setAttribute(L5.has(u)?u:jm(u),t.attrs[u])}function j5(e,t,i){const a=Hm(e,t,i);for(const u in e)if(Nr(e[u])||Nr(t[u])){const d=Bu.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;a[d]=e[u]}return a}const L1=["x","y","width","height","cx","cy","r"],mS={useVisualState:b5({scrapeMotionValuesFromProps:j5,createRenderState:A5,onUpdate:({props:e,prevProps:t,current:i,renderState:a,latestValues:u})=>{if(!i)return;let d=!!e.drag;if(!d){for(const h in u)if(Al.has(h)){d=!0;break}}if(!d)return;let c=!t;if(t)for(let h=0;h<L1.length;h++){const m=L1[h];e[m]!==t[m]&&(c=!0)}c&&Zt.read(()=>{M5(i,a),Zt.render(()=>{Gm(a,u,$m(i.tagName),e.transformTemplate),O5(i,a)})})}})};function gS(e,t){return function(a,{forwardMotionProps:u}={forwardMotionProps:!1}){const c={...Bm(a)?mS:pS,preloadedFeatures:e,useRender:uS(u),createVisualElement:t,Component:a};return V8(c)}}function sh(e,t,i){const a=e.getProps();return Wm(a,t,i!==void 0?i:a.custom,e)}const D5=new Set(["width","height","top","left","right","bottom",...Bu]);function vS(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,th(i))}function yS(e,t){const i=sh(e,t);let{transitionEnd:a={},transition:u={},...d}=i||{};d={...d,...a};for(const c in d){const h=dS(d[c]);vS(e,c,h)}}function xS(e){return!!(Nr(e)&&e.add)}function Wp(e,t){const i=e.getValue("willChange");if(xS(i))return i.add(t)}function F5(e){return e.props[C5]}const z5=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,SS=1e-7,wS=12;function _S(e,t,i,a,u){let d,c,h=0;do c=t+(i-t)/2,d=z5(c,a,u)-e,d>0?i=c:t=c;while(Math.abs(d)>SS&&++h<wS);return c}function Sh(e,t,i,a){if(e===t&&i===a)return Ti;const u=d=>_S(d,0,1,e,i);return d=>d===0||d===1?d:z5(u(d),t,a)}const V5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,U5=e=>t=>1-e(1-t),B5=Sh(.33,1.53,.69,.99),qm=U5(B5),G5=V5(qm),$5=e=>(e*=2)<1?.5*qm(e):.5*(2-Math.pow(2,-10*(e-1))),Km=e=>1-Math.sin(Math.acos(e)),W5=U5(Km),H5=V5(Km),q5=e=>/^0[^.\s]+$/u.test(e);function CS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||q5(e):!0}const Wd=e=>Math.round(e*1e5)/1e5,Ym=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ES(e){return e==null}const PS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xm=(e,t)=>i=>!!(typeof i=="string"&&PS.test(i)&&i.startsWith(e)||t&&!ES(i)&&Object.prototype.hasOwnProperty.call(i,t)),K5=(e,t,i)=>a=>{if(typeof a!="string")return a;const[u,d,c,h]=a.match(Ym);return{[e]:parseFloat(u),[t]:parseFloat(d),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},kS=e=>bo(0,255,e),op={...Gu,transform:e=>Math.round(kS(e))},Pl={test:Xm("rgb","red"),parse:K5("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+op.transform(e)+", "+op.transform(t)+", "+op.transform(i)+", "+Wd(ih.transform(a))+")"};function TS(e){let t="",i="",a="",u="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),u=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),u=e.substring(4,5),t+=t,i+=i,a+=a,u+=u),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:u?parseInt(u,16)/255:1}}const Hp={test:Xm("#"),parse:TS,transform:Pl.transform},Nu={test:Xm("hsl","hue"),parse:K5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+Us.transform(Wd(t))+", "+Us.transform(Wd(i))+", "+Wd(ih.transform(a))+")"},Rr={test:e=>Pl.test(e)||Hp.test(e)||Nu.test(e),parse:e=>Pl.test(e)?Pl.parse(e):Nu.test(e)?Nu.parse(e):Hp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pl.transform(e):Nu.transform(e)},RS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NS(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ym))===null||t===void 0?void 0:t.length)||0)+(((i=e.match(RS))===null||i===void 0?void 0:i.length)||0)>0}const Y5="number",X5="color",AS="var",bS="var(",O1="${}",MS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oh(e){const t=e.toString(),i=[],a={color:[],number:[],var:[]},u=[];let d=0;const h=t.replace(MS,m=>(Rr.test(m)?(a.color.push(d),u.push(X5),i.push(Rr.parse(m))):m.startsWith(bS)?(a.var.push(d),u.push(AS),i.push(m)):(a.number.push(d),u.push(Y5),i.push(parseFloat(m))),++d,O1)).split(O1);return{values:i,split:h,indexes:a,types:u}}function Q5(e){return oh(e).values}function Z5(e){const{split:t,types:i}=oh(e),a=t.length;return u=>{let d="";for(let c=0;c<a;c++)if(d+=t[c],u[c]!==void 0){const h=i[c];h===Y5?d+=Wd(u[c]):h===X5?d+=Rr.transform(u[c]):d+=u[c]}return d}}const IS=e=>typeof e=="number"?0:e;function LS(e){const t=Q5(e);return Z5(e)(t.map(IS))}const Aa={test:NS,parse:Q5,createTransformer:Z5,getAnimatableNone:LS},OS=new Set(["brightness","contrast","saturate","opacity"]);function jS(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(Ym)||[];if(!a)return e;const u=i.replace(a,"");let d=OS.has(t)?1:0;return a!==i&&(d*=100),t+"("+d+u+")"}const DS=/\b([a-z-]*)\(.*?\)/gu,qp={...Aa,getAnimatableNone:e=>{const t=e.match(DS);return t?t.map(jS).join(" "):e}},FS={...zm,color:Rr,backgroundColor:Rr,outlineColor:Rr,fill:Rr,stroke:Rr,borderColor:Rr,borderTopColor:Rr,borderRightColor:Rr,borderBottomColor:Rr,borderLeftColor:Rr,filter:qp,WebkitFilter:qp},J5=e=>FS[e];function e3(e,t){let i=J5(e);return i!==qp&&(i=Aa),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const zS=new Set(["auto","none","0"]);function VS(e,t,i){let a=0,u;for(;a<e.length&&!u;){const d=e[a];typeof d=="string"&&!zS.has(d)&&oh(d).values.length&&(u=e[a]),a++}if(u&&i)for(const d of t)e[d]=e3(i,u)}const kl=e=>e*180/Math.PI,Kp=e=>{const t=kl(Math.atan2(e[1],e[0]));return Yp(t)},US={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Kp,rotateZ:Kp,skewX:e=>kl(Math.atan(e[1])),skewY:e=>kl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Yp=e=>(e=e%360,e<0&&(e+=360),e),j1=Kp,D1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),F1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D1,scaleY:F1,scale:e=>(D1(e)+F1(e))/2,rotateX:e=>Yp(kl(Math.atan2(e[6],e[5]))),rotateY:e=>Yp(kl(Math.atan2(-e[2],e[0]))),rotateZ:j1,rotate:j1,skewX:e=>kl(Math.atan(e[4])),skewY:e=>kl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function z1(e){return e.includes("scale")?1:0}function Xp(e,t){if(!e||e==="none")return z1(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,u;if(i)a=BS,u=i;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=US,u=h}if(!u)return z1(t);const d=a[t],c=u[1].split(",").map($S);return typeof d=="function"?d(c):c[d]}const GS=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Xp(i,t)};function $S(e){return parseFloat(e.trim())}const V1=e=>e===Gu||e===et,WS=new Set(["x","y","z"]),HS=Bu.filter(e=>!WS.has(e));function qS(e){const t=[];return HS.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t}const Fu={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xp(t,"x"),y:(e,{transform:t})=>Xp(t,"y")};Fu.translateX=Fu.x;Fu.translateY=Fu.y;const Rl=new Set;let Qp=!1,Zp=!1;function t3(){if(Zp){const e=Array.from(Rl).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),i=new Map;t.forEach(a=>{const u=qS(a);u.length&&(i.set(a,u),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const u=i.get(a);u&&u.forEach(([d,c])=>{var h;(h=a.getValue(d))===null||h===void 0||h.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Zp=!1,Qp=!1,Rl.forEach(e=>e.complete()),Rl.clear()}function n3(){Rl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zp=!0)})}function KS(){n3(),t3()}class Qm{constructor(t,i,a,u,d,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=a,this.motionValue=u,this.element=d,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rl.add(this),Qp||(Qp=!0,Zt.read(n3),Zt.resolveKeyframes(t3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:a,motionValue:u}=this;for(let d=0;d<t.length;d++)if(t[d]===null)if(d===0){const c=u==null?void 0:u.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(a&&i){const m=a.readValue(i,h);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=h),u&&c===void 0&&u.set(t[0])}else t[d]=t[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),YS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XS(e){const t=YS.exec(e);if(!t)return[,];const[,i,a,u]=t;return[`--${i??a}`,u]}function i3(e,t,i=1){const[a,u]=XS(e);if(!a)return;const d=window.getComputedStyle(t).getPropertyValue(a);if(d){const c=d.trim();return r3(c)?parseFloat(c):c}return Fm(u)?i3(u,t,i+1):u}const s3=e=>t=>t.test(e),QS={test:e=>e==="auto",parse:e=>e},o3=[Gu,et,Us,Ea,K8,q8,QS],U1=e=>o3.find(s3(e));class a3 extends Qm{constructor(t,i,a,u,d){super(t,i,a,u,d,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),Fm(f))){const y=i3(f,i.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!D5.has(a)||t.length!==2)return;const[u,d]=t,c=U1(u),h=U1(d);if(c!==h)if(V1(c)&&V1(h))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,a=[];for(let u=0;u<t.length;u++)CS(t[u])&&a.push(u);a.length&&VS(t,a,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fu[a](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const u=i[i.length-1];u!==void 0&&t.getValue(a,u).jump(u,!1)}measureEndState(){var t;const{element:i,name:a,unresolvedKeyframes:u}=this;if(!i||!i.current)return;const d=i.getValue(a);d&&d.jump(this.measuredOrigin,!1);const c=u.length-1,h=u[c];u[c]=Fu[a](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([m,f])=>{i.getValue(m).set(f)}),this.resolveNoneKeyframes()}}const B1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Aa.test(e)||e==="0")&&!e.startsWith("url("));function ZS(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function JS(e,t,i,a){const u=e[0];if(u===null)return!1;if(t==="display"||t==="visibility")return!0;const d=e[e.length-1],c=B1(u,t),h=B1(d,t);return!c||!h?!1:ZS(e)||(i==="spring"||Am(i))&&a}const ew=e=>e!==null;function a0(e,{repeat:t,repeatType:i="loop"},a){const u=e.filter(ew),d=t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||a===void 0?u[d]:a}const tw=40;class l3{constructor({autoplay:t=!0,delay:i=0,type:a="keyframes",repeat:u=0,repeatDelay:d=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vs.now(),this.options={autoplay:t,delay:i,type:a,repeat:u,repeatDelay:d,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tw?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KS(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=Vs.now(),this.hasAttemptedResolve=!0;const{name:a,type:u,velocity:d,delay:c,onComplete:h,onUpdate:m,isGenerator:f}=this.options;if(!f&&!JS(t,a,u,d))if(c)this.options.duration=0;else{m&&m(a0(t,this.options,i)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,i);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...y},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const cn=(e,t,i)=>e+(t-e)*i;function ap(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function nw({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let u=0,d=0,c=0;if(!t)u=d=c=i;else{const h=i<.5?i*(1+t):i+t-i*t,m=2*i-h;u=ap(m,h,e+1/3),d=ap(m,h,e),c=ap(m,h,e-1/3)}return{red:Math.round(u*255),green:Math.round(d*255),blue:Math.round(c*255),alpha:a}}function Wf(e,t){return i=>i>0?t:e}const lp=(e,t,i)=>{const a=e*e,u=i*(t*t-a)+a;return u<0?0:Math.sqrt(u)},rw=[Hp,Pl,Nu],iw=e=>rw.find(t=>t.test(e));function G1(e){const t=iw(e);if(!t)return!1;let i=t.parse(e);return t===Nu&&(i=nw(i)),i}const $1=(e,t)=>{const i=G1(e),a=G1(t);if(!i||!a)return Wf(e,t);const u={...i};return d=>(u.red=lp(i.red,a.red,d),u.green=lp(i.green,a.green,d),u.blue=lp(i.blue,a.blue,d),u.alpha=cn(i.alpha,a.alpha,d),Pl.transform(u))},sw=(e,t)=>i=>t(e(i)),wh=(...e)=>e.reduce(sw),Jp=new Set(["none","hidden"]);function ow(e,t){return Jp.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function aw(e,t){return i=>cn(e,t,i)}function Zm(e){return typeof e=="number"?aw:typeof e=="string"?Fm(e)?Wf:Rr.test(e)?$1:cw:Array.isArray(e)?u3:typeof e=="object"?Rr.test(e)?$1:lw:Wf}function u3(e,t){const i=[...e],a=i.length,u=e.map((d,c)=>Zm(d)(d,t[c]));return d=>{for(let c=0;c<a;c++)i[c]=u[c](d);return i}}function lw(e,t){const i={...e,...t},a={};for(const u in i)e[u]!==void 0&&t[u]!==void 0&&(a[u]=Zm(e[u])(e[u],t[u]));return u=>{for(const d in a)i[d]=a[d](u);return i}}function uw(e,t){var i;const a=[],u={color:0,var:0,number:0};for(let d=0;d<t.values.length;d++){const c=t.types[d],h=e.indexes[c][u[c]],m=(i=e.values[h])!==null&&i!==void 0?i:0;a[d]=m,u[c]++}return a}const cw=(e,t)=>{const i=Aa.createTransformer(t),a=oh(e),u=oh(t);return a.indexes.var.length===u.indexes.var.length&&a.indexes.color.length===u.indexes.color.length&&a.indexes.number.length>=u.indexes.number.length?Jp.has(e)&&!u.values.length||Jp.has(t)&&!a.values.length?ow(e,t):wh(u3(uw(a,u),u.values),i):Wf(e,t)};function c3(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?cn(e,t,i):Zm(e)(e,t)}const dw=5;function d3(e,t,i){const a=Math.max(t-dw,0);return d5(i-e(a),t-a)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W1=.001;function hw({duration:e=xn.duration,bounce:t=xn.bounce,velocity:i=xn.velocity,mass:a=xn.mass}){let u,d,c=1-t;c=bo(xn.minDamping,xn.maxDamping,c),e=bo(xn.minDuration,xn.maxDuration,Ao(e)),c<1?(u=f=>{const y=f*c,g=y*e,x=y-i,S=em(f,c),w=Math.exp(-g);return W1-x/S*w},d=f=>{const g=f*c*e,x=g*i+i,S=Math.pow(c,2)*Math.pow(f,2)*e,w=Math.exp(-g),P=em(Math.pow(f,2),c);return(-u(f)+W1>0?-1:1)*((x-S)*w)/P}):(u=f=>{const y=Math.exp(-f*e),g=(f-i)*e+1;return-.001+y*g},d=f=>{const y=Math.exp(-f*e),g=(i-f)*(e*e);return y*g});const h=5/e,m=pw(u,d,h);if(e=No(e),isNaN(m))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const f=Math.pow(m,2)*a;return{stiffness:f,damping:c*2*Math.sqrt(a*f),duration:e}}}const fw=12;function pw(e,t,i){let a=i;for(let u=1;u<fw;u++)a=a-e(a)/t(a);return a}function em(e,t){return e*Math.sqrt(1-t*t)}const mw=["duration","bounce"],gw=["stiffness","damping","mass"];function H1(e,t){return t.some(i=>e[i]!==void 0)}function vw(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!H1(e,gw)&&H1(e,mw))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),u=a*a,d=2*bo(.05,1,1-(e.bounce||0))*Math.sqrt(u);t={...t,mass:xn.mass,stiffness:u,damping:d}}else{const i=hw(e);t={...t,...i,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function h3(e=xn.visualDuration,t=xn.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:u}=i;const d=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:d},{stiffness:m,damping:f,mass:y,duration:g,velocity:x,isResolvedFromDuration:S}=vw({...i,velocity:-Ao(i.velocity||0)}),w=x||0,P=f/(2*Math.sqrt(m*y)),k=c-d,b=Ao(Math.sqrt(m/y)),R=Math.abs(k)<5;a||(a=R?xn.restSpeed.granular:xn.restSpeed.default),u||(u=R?xn.restDelta.granular:xn.restDelta.default);let C;if(P<1){const L=em(b,P);C=B=>{const W=Math.exp(-P*b*B);return c-W*((w+P*b*k)/L*Math.sin(L*B)+k*Math.cos(L*B))}}else if(P===1)C=L=>c-Math.exp(-b*L)*(k+(w+b*k)*L);else{const L=b*Math.sqrt(P*P-1);C=B=>{const W=Math.exp(-P*b*B),F=Math.min(L*B,300);return c-W*((w+P*b*k)*Math.sinh(F)+L*k*Math.cosh(F))/L}}const I={calculatedDuration:S&&g||null,next:L=>{const B=C(L);if(S)h.done=L>=g;else{let W=0;P<1&&(W=L===0?No(w):d3(C,L,B));const F=Math.abs(W)<=a,q=Math.abs(c-B)<=u;h.done=F&&q}return h.value=h.done?c:B,h},toString:()=>{const L=Math.min(h5(I),Bp),B=f5(W=>I.next(L*W).value,L,30);return L+"ms "+B}};return I}function q1({keyframes:e,velocity:t=0,power:i=.8,timeConstant:a=325,bounceDamping:u=10,bounceStiffness:d=500,modifyTarget:c,min:h,max:m,restDelta:f=.5,restSpeed:y}){const g=e[0],x={done:!1,value:g},S=F=>h!==void 0&&F<h||m!==void 0&&F>m,w=F=>h===void 0?m:m===void 0||Math.abs(h-F)<Math.abs(m-F)?h:m;let P=i*t;const k=g+P,b=c===void 0?k:c(k);b!==k&&(P=b-g);const R=F=>-P*Math.exp(-F/a),C=F=>b+R(F),I=F=>{const q=R(F),G=C(F);x.done=Math.abs(q)<=f,x.value=x.done?b:G};let L,B;const W=F=>{S(x.value)&&(L=F,B=h3({keyframes:[x.value,w(x.value)],velocity:d3(C,F,x.value),damping:u,stiffness:d,restDelta:f,restSpeed:y}))};return W(0),{calculatedDuration:null,next:F=>{let q=!1;return!B&&L===void 0&&(q=!0,I(F),W(F)),L!==void 0&&F>=L?B.next(F-L):(!q&&I(F),x)}}}const yw=Sh(.42,0,1,1),xw=Sh(0,0,.58,1),f3=Sh(.42,0,.58,1),Sw=e=>Array.isArray(e)&&typeof e[0]!="number",ww={linear:Ti,easeIn:yw,easeInOut:f3,easeOut:xw,circIn:Km,circInOut:H5,circOut:W5,backIn:qm,backInOut:G5,backOut:B5,anticipate:$5},K1=e=>{if(bm(e)){c5(e.length===4);const[t,i,a,u]=e;return Sh(t,i,a,u)}else if(typeof e=="string")return ww[e];return e};function _w(e,t,i){const a=[],u=i||c3,d=e.length-1;for(let c=0;c<d;c++){let h=u(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Ti:t;h=wh(m,h)}a.push(h)}return a}function Cw(e,t,{clamp:i=!0,ease:a,mixer:u}={}){const d=e.length;if(c5(d===t.length),d===1)return()=>t[0];if(d===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=_w(t,a,u),m=h.length,f=y=>{if(c&&y<e[0])return t[0];let g=0;if(m>1)for(;g<e.length-2&&!(y<e[g+1]);g++);const x=ju(e[g],e[g+1],y);return h[g](x)};return i?y=>f(bo(e[0],e[d-1],y)):f}function Ew(e,t){const i=e[e.length-1];for(let a=1;a<=t;a++){const u=ju(0,t,a);e.push(cn(i,1,u))}}function Pw(e){const t=[0];return Ew(t,e.length-1),t}function kw(e,t){return e.map(i=>i*t)}function Tw(e,t){return e.map(()=>t||f3).splice(0,e.length-1)}function Hf({duration:e=300,keyframes:t,times:i,ease:a="easeInOut"}){const u=Sw(a)?a.map(K1):K1(a),d={done:!1,value:t[0]},c=kw(i&&i.length===t.length?i:Pw(t),e),h=Cw(c,t,{ease:Array.isArray(u)?u:Tw(t,u)});return{calculatedDuration:e,next:m=>(d.value=h(m),d.done=m>=e,d)}}const Rw=e=>{const t=({timestamp:i})=>e(i);return{start:()=>Zt.update(t,!0),stop:()=>Na(t),now:()=>mr.isProcessing?mr.timestamp:Vs.now()}},Nw={decay:q1,inertia:q1,tween:Hf,keyframes:Hf,spring:h3},Aw=e=>e/100;class Jm extends l3{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:i,motionValue:a,element:u,keyframes:d}=this.options,c=(u==null?void 0:u.KeyframeResolver)||Qm,h=(m,f)=>this.onKeyframesResolved(m,f);this.resolver=new c(d,h,i,a,u),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:d,velocity:c=0}=this.options,h=Am(i)?i:Nw[i]||Hf;let m,f;h!==Hf&&typeof t[0]!="number"&&(m=wh(Aw,c3(t[0],t[1])),t=[0,100]);const y=h({...this.options,keyframes:t});d==="mirror"&&(f=h({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=h5(y));const{calculatedDuration:g}=y,x=g+u,S=x*(a+1)-u;return{generator:y,mirroredGenerator:f,mapPercentToKeyframes:m,calculatedDuration:g,resolvedDuration:x,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:a}=this;if(!a){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:u,generator:d,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:m,calculatedDuration:f,totalDuration:y,resolvedDuration:g}=a;if(this.startTime===null)return d.next(0);const{delay:x,repeat:S,repeatType:w,repeatDelay:P,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-x*(this.speed>=0?1:-1),R=this.speed>=0?b<0:b>y;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let C=this.currentTime,I=d;if(S){const F=Math.min(this.currentTime,y)/g;let q=Math.floor(F),G=F%1;!G&&F>=1&&(G=1),G===1&&q--,q=Math.min(q,S+1),!!(q%2)&&(w==="reverse"?(G=1-G,P&&(G-=P/g)):w==="mirror"&&(I=c)),C=bo(0,1,G)*g}const L=R?{done:!1,value:m[0]}:I.next(C);h&&(L.value=h(L.value));let{done:B}=L;!R&&f!==null&&(B=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return W&&u!==void 0&&(L.value=a0(m,this.options,u)),k&&k(L.value),W&&this.finish(),L}get duration(){const{resolved:t}=this;return t?Ao(t.calculatedDuration):0}get time(){return Ao(this.currentTime)}set time(t){t=No(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Ao(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Rw,onPlay:i,startTime:a}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),i&&i();const u=this.driver.now();this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=u):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bw=new Set(["opacity","clipPath","filter","transform"]);function Mw(e,t,i,{delay:a=0,duration:u=300,repeat:d=0,repeatType:c="loop",ease:h="easeInOut",times:m}={}){const f={[t]:i};m&&(f.offset=m);const y=m5(h,u);return Array.isArray(y)&&(f.easing=y),e.animate(f,{delay:a,duration:u,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:d+1,direction:c==="reverse"?"alternate":"normal"})}const Iw=Tm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qf=10,Lw=2e4;function Ow(e){return Am(e.type)||e.type==="spring"||!p5(e.ease)}function jw(e,t){const i=new Jm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const u=[];let d=0;for(;!a.done&&d<Lw;)a=i.sample(d),u.push(a.value),d+=qf;return{times:void 0,keyframes:u,duration:d-qf,ease:"linear"}}const p3={anticipate:$5,backInOut:G5,circInOut:H5};function Dw(e){return e in p3}class Y1 extends l3{constructor(t){super(t);const{name:i,motionValue:a,element:u,keyframes:d}=this.options;this.resolver=new a3(d,(c,h)=>this.onKeyframesResolved(c,h),i,a,u),this.resolver.scheduleResolve()}initPlayback(t,i){let{duration:a=300,times:u,ease:d,type:c,motionValue:h,name:m,startTime:f}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof d=="string"&&Gf()&&Dw(d)&&(d=p3[d]),Ow(this.options)){const{onComplete:g,onUpdate:x,motionValue:S,element:w,...P}=this.options,k=jw(t,P);t=k.keyframes,t.length===1&&(t[1]=t[0]),a=k.duration,u=k.times,d=k.ease,c="keyframes"}const y=Mw(h.owner.current,m,t,{...this.options,duration:a,times:u,ease:d});return y.startTime=f??this.calcStartTime(),this.pendingTimeline?(w1(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:g}=this.options;h.set(a0(t,this.options,i)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:a,times:u,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return Ao(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return Ao(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.currentTime=No(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return Ti;const{animation:a}=i;w1(a,t)}return Ti}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:a,duration:u,type:d,ease:c,times:h}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:y,onComplete:g,element:x,...S}=this.options,w=new Jm({...S,keyframes:a,duration:u,type:d,ease:c,times:h,isGenerator:!0}),P=No(this.time);f.setWithVelocity(w.sample(P-qf).value,w.sample(P).value,qf)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:a,repeatDelay:u,repeatType:d,damping:c,type:h}=t;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=i.owner.getProps();return Iw()&&a&&bw.has(a)&&!m&&!f&&!u&&d!=="mirror"&&c!==0&&h!=="inertia"}}const Fw={type:"spring",stiffness:500,damping:25,restSpeed:10},zw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vw={type:"keyframes",duration:.8},Uw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bw=(e,{keyframes:t})=>t.length>2?Vw:Al.has(e)?e.startsWith("scale")?zw(t[1]):Fw:Uw;function Gw({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:u,repeat:d,repeatType:c,repeatDelay:h,from:m,elapsed:f,...y}){return!!Object.keys(y).length}const eg=(e,t,i,a={},u,d)=>c=>{const h=Nm(a,e)||{},m=h.delay||a.delay||0;let{elapsed:f=0}=a;f=f-No(m);let y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-f,onUpdate:x=>{t.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:d?void 0:u};Gw(h)||(y={...y,...Bw(e,y)}),y.duration&&(y.duration=No(y.duration)),y.repeatDelay&&(y.repeatDelay=No(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(g=!0)),y.allowFlatten=!h.type&&!h.ease,g&&!d&&t.get()!==void 0){const x=a0(y.keyframes,h);if(x!==void 0)return Zt.update(()=>{y.onUpdate(x),y.onComplete()}),new h8([])}return!d&&Y1.supports(y)?new Y1(y):new Jm(y)};function $w({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}function m3(e,t,{delay:i=0,transitionOverride:a,type:u}={}){var d;let{transition:c=e.getDefaultTransition(),transitionEnd:h,...m}=t;a&&(c=a);const f=[],y=u&&e.animationState&&e.animationState.getState()[u];for(const g in m){const x=e.getValue(g,(d=e.latestValues[g])!==null&&d!==void 0?d:null),S=m[g];if(S===void 0||y&&$w(y,g))continue;const w={delay:i,...Nm(c||{},g)};let P=!1;if(window.MotionHandoffAnimation){const b=F5(e);if(b){const R=window.MotionHandoffAnimation(b,g,Zt);R!==null&&(w.startTime=R,P=!0)}}Wp(e,g),x.start(eg(g,x,S,e.shouldReduceMotion&&D5.has(g)?{type:!1}:w,e,P));const k=x.animation;k&&f.push(k)}return h&&Promise.all(f).then(()=>{Zt.update(()=>{h&&yS(e,h)})}),f}function tm(e,t,i={}){var a;const u=sh(e,t,i.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=u||{};i.transitionOverride&&(d=i.transitionOverride);const c=u?()=>Promise.all(m3(e,u,i)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:x}=d;return Ww(e,t,y+f,g,x,i)}:()=>Promise.resolve(),{when:m}=d;if(m){const[f,y]=m==="beforeChildren"?[c,h]:[h,c];return f().then(()=>y())}else return Promise.all([c(),h(i.delay)])}function Ww(e,t,i=0,a=0,u=1,d){const c=[],h=(e.variantChildren.size-1)*a,m=u===1?(f=0)=>f*a:(f=0)=>h-f*a;return Array.from(e.variantChildren).sort(Hw).forEach((f,y)=>{f.notify("AnimationStart",t),c.push(tm(f,t,{...d,delay:i+m(y)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function Hw(e,t){return e.sortNodePosition(t)}function qw(e,t,i={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const u=t.map(d=>tm(e,d,i));a=Promise.all(u)}else if(typeof t=="string")a=tm(e,t,i);else{const u=typeof t=="function"?sh(e,t,i.custom):t;a=Promise.all(m3(e,u,i))}return a.then(()=>{e.notify("AnimationComplete",t)})}function g3(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const Kw=Om.length;function v3(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?v3(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<Kw;i++){const a=Om[i],u=e.props[a];(nh(u)||u===!1)&&(t[a]=u)}return t}const Yw=[...Lm].reverse(),Xw=Lm.length;function Qw(e){return t=>Promise.all(t.map(({animation:i,options:a})=>qw(e,i,a)))}function Zw(e){let t=Qw(e),i=X1(),a=!0;const u=m=>(f,y)=>{var g;const x=sh(e,y,m==="exit"?(g=e.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:S,transitionEnd:w,...P}=x;f={...f,...P,...w}}return f};function d(m){t=m(e)}function c(m){const{props:f}=e,y=v3(e.parent)||{},g=[],x=new Set;let S={},w=1/0;for(let k=0;k<Xw;k++){const b=Yw[k],R=i[b],C=f[b]!==void 0?f[b]:y[b],I=nh(C),L=b===m?R.isActive:null;L===!1&&(w=k);let B=C===y[b]&&C!==f[b]&&I;if(B&&a&&e.manuallyAnimateOnMount&&(B=!1),R.protectedKeys={...S},!R.isActive&&L===null||!C&&!R.prevProp||s0(C)||typeof C=="boolean")continue;const W=Jw(R.prevProp,C);let F=W||b===m&&R.isActive&&!B&&I||k>w&&I,q=!1;const G=Array.isArray(C)?C:[C];let X=G.reduce(u(b),{});L===!1&&(X={});const{prevResolvedValues:ne={}}=R,z={...ne,...X},V=Q=>{F=!0,x.has(Q)&&(q=!0,x.delete(Q)),R.needsAnimating[Q]=!0;const re=e.getValue(Q);re&&(re.liveStyle=!1)};for(const Q in z){const re=X[Q],ie=ne[Q];if(S.hasOwnProperty(Q))continue;let K=!1;$p(re)&&$p(ie)?K=!g3(re,ie):K=re!==ie,K?re!=null?V(Q):x.add(Q):re!==void 0&&x.has(Q)?V(Q):R.protectedKeys[Q]=!0}R.prevProp=C,R.prevResolvedValues=X,R.isActive&&(S={...S,...X}),a&&e.blockInitialAnimation&&(F=!1),F&&(!(B&&W)||q)&&g.push(...G.map(Q=>({animation:Q,options:{type:b}})))}if(x.size){const k={};if(typeof f.initial!="boolean"){const b=sh(e,Array.isArray(f.initial)?f.initial[0]:f.initial);b&&b.transition&&(k.transition=b.transition)}x.forEach(b=>{const R=e.getBaseTarget(b),C=e.getValue(b);C&&(C.liveStyle=!0),k[b]=R??null}),g.push({animation:k})}let P=!!g.length;return a&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(P=!1),a=!1,P?t(g):Promise.resolve()}function h(m,f){var y;if(i[m].isActive===f)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(m,f)}),i[m].isActive=f;const g=c(m);for(const x in i)i[x].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:d,getState:()=>i,reset:()=>{i=X1(),a=!0}}}function Jw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!g3(t,e):!1}function ml(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X1(){return{animate:ml(!0),whileInView:ml(),whileHover:ml(),whileTap:ml(),whileDrag:ml(),whileFocus:ml(),exit:ml()}}class ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class e_ extends ba{constructor(t){super(t),t.animationState||(t.animationState=Zw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();s0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let t_=0;class n_ extends ba{constructor(){super(...arguments),this.id=t_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const u=this.node.animationState.setActive("exit",!t);i&&!t&&u.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r_={animation:{Feature:e_},exit:{Feature:n_}};function ah(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}function _h(e){return{point:{x:e.pageX,y:e.pageY}}}const i_=e=>t=>Im(t)&&e(t,_h(t));function Hd(e,t,i,a){return ah(e,t,i_(i),a)}function y3({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function s_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function o_(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}const x3=1e-4,a_=1-x3,l_=1+x3,S3=.01,u_=0-S3,c_=0+S3;function Xr(e){return e.max-e.min}function d_(e,t,i){return Math.abs(e-t)<=i}function Q1(e,t,i,a=.5){e.origin=a,e.originPoint=cn(t.min,t.max,e.origin),e.scale=Xr(i)/Xr(t),e.translate=cn(i.min,i.max,e.origin)-e.originPoint,(e.scale>=a_&&e.scale<=l_||isNaN(e.scale))&&(e.scale=1),(e.translate>=u_&&e.translate<=c_||isNaN(e.translate))&&(e.translate=0)}function qd(e,t,i,a){Q1(e.x,t.x,i.x,a?a.originX:void 0),Q1(e.y,t.y,i.y,a?a.originY:void 0)}function Z1(e,t,i){e.min=i.min+t.min,e.max=e.min+Xr(t)}function h_(e,t,i){Z1(e.x,t.x,i.x),Z1(e.y,t.y,i.y)}function J1(e,t,i){e.min=t.min-i.min,e.max=e.min+Xr(t)}function Kd(e,t,i){J1(e.x,t.x,i.x),J1(e.y,t.y,i.y)}const ev=()=>({translate:0,scale:1,origin:0,originPoint:0}),Au=()=>({x:ev(),y:ev()}),tv=()=>({min:0,max:0}),Rn=()=>({x:tv(),y:tv()});function Gi(e){return[e("x"),e("y")]}function up(e){return e===void 0||e===1}function nm({scale:e,scaleX:t,scaleY:i}){return!up(e)||!up(t)||!up(i)}function Cl(e){return nm(e)||w3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function w3(e){return nv(e.x)||nv(e.y)}function nv(e){return e&&e!=="0%"}function Kf(e,t,i){const a=e-i,u=t*a;return i+u}function rv(e,t,i,a,u){return u!==void 0&&(e=Kf(e,u,a)),Kf(e,i,a)+t}function rm(e,t=0,i=1,a,u){e.min=rv(e.min,t,i,a,u),e.max=rv(e.max,t,i,a,u)}function _3(e,{x:t,y:i}){rm(e.x,t.translate,t.scale,t.originPoint),rm(e.y,i.translate,i.scale,i.originPoint)}const iv=.999999999999,sv=1.0000000000001;function f_(e,t,i,a=!1){const u=i.length;if(!u)return;t.x=t.y=1;let d,c;for(let h=0;h<u;h++){d=i[h],c=d.projectionDelta;const{visualElement:m}=d.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mu(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_3(e,c)),a&&Cl(d.latestValues)&&Mu(e,d.latestValues))}t.x<sv&&t.x>iv&&(t.x=1),t.y<sv&&t.y>iv&&(t.y=1)}function bu(e,t){e.min=e.min+t,e.max=e.max+t}function ov(e,t,i,a,u=.5){const d=cn(e.min,e.max,u);rm(e,t,i,d,a)}function Mu(e,t){ov(e.x,t.x,t.scaleX,t.scale,t.originX),ov(e.y,t.y,t.scaleY,t.scale,t.originY)}function C3(e,t){return y3(o_(e.getBoundingClientRect(),t))}function p_(e,t,i){const a=C3(e,i),{scroll:u}=t;return u&&(bu(a.x,u.offset.x),bu(a.y,u.offset.y)),a}const E3=({current:e})=>e?e.ownerDocument.defaultView:null,av=(e,t)=>Math.abs(e-t);function m_(e,t){const i=av(e.x,t.x),a=av(e.y,t.y);return Math.sqrt(i**2+a**2)}class P3{constructor(t,i,{transformPagePoint:a,contextWindow:u,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=dp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=m_(g.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:w}=g,{timestamp:P}=mr;this.history.push({...w,timestamp:P});const{onStart:k,onMove:b}=this.handlers;x||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=cp(x,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=dp(g.type==="pointercancel"?this.lastMoveEventInfo:cp(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,k),w&&w(g,k)},!Im(t))return;this.dragSnapToOrigin=d,this.handlers=i,this.transformPagePoint=a,this.contextWindow=u||window;const c=_h(t),h=cp(c,this.transformPagePoint),{point:m}=h,{timestamp:f}=mr;this.history=[{...m,timestamp:f}];const{onSessionStart:y}=i;y&&y(t,dp(h,this.history)),this.removeListeners=wh(Hd(this.contextWindow,"pointermove",this.handlePointerMove),Hd(this.contextWindow,"pointerup",this.handlePointerUp),Hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Na(this.updatePoint)}}function cp(e,t){return t?{point:t(e.point)}:e}function lv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dp({point:e},t){return{point:e,delta:lv(e,k3(t)),offset:lv(e,g_(t)),velocity:v_(t,.1)}}function g_(e){return e[0]}function k3(e){return e[e.length-1]}function v_(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const u=k3(e);for(;i>=0&&(a=e[i],!(u.timestamp-a.timestamp>No(t)));)i--;if(!a)return{x:0,y:0};const d=Ao(u.timestamp-a.timestamp);if(d===0)return{x:0,y:0};const c={x:(u.x-a.x)/d,y:(u.y-a.y)/d};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function y_(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?cn(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?cn(i,e,a.max):Math.min(e,i)),e}function uv(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function x_(e,{top:t,left:i,bottom:a,right:u}){return{x:uv(e.x,i,u),y:uv(e.y,t,a)}}function cv(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function S_(e,t){return{x:cv(e.x,t.x),y:cv(e.y,t.y)}}function w_(e,t){let i=.5;const a=Xr(e),u=Xr(t);return u>a?i=ju(t.min,t.max-a,e.min):a>u&&(i=ju(e.min,e.max-u,t.min)),bo(0,1,i)}function __(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const im=.35;function C_(e=im){return e===!1?e=0:e===!0&&(e=im),{x:dv(e,"left","right"),y:dv(e,"top","bottom")}}function dv(e,t,i){return{min:hv(e,t),max:hv(e,i)}}function hv(e,t){return typeof e=="number"?e:e[t]||0}const E_=new WeakMap;class P_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rn(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(_h(y).point)},d=(y,g)=>{const{drag:x,dragPropagation:S,onDragStart:w}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y8(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(k=>{let b=this.getAxisMotionValue(k).get()||0;if(Us.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const C=R.layout.layoutBox[k];C&&(b=Xr(C)*(parseFloat(b)/100))}}this.originPoint[k]=b}),w&&Zt.postRender(()=>w(y,g)),Wp(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(y,g)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:w,onDrag:P}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=g;if(S&&this.currentDirection===null){this.currentDirection=k_(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),P&&P(y,g)},h=(y,g)=>this.stop(y,g),m=()=>Gi(y=>{var g;return this.getAnimationState(y)==="paused"&&((g=this.getAxisMotionValue(y).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new P3(t,{onSessionStart:u,onStart:d,onMove:c,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:E3(this.visualElement)})}stop(t,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:u}=i;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Zt.postRender(()=>d(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,a){const{drag:u}=this.getProps();if(!a||!If(t,u,this.currentDirection))return;const d=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=y_(c,this.constraints[t],this.elastic[t])),d.set(c)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:a}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,d=this.constraints;i&&Ru(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&u?this.constraints=x_(u.layoutBox,i):this.constraints=!1,this.elastic=C_(a),d!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&Gi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=__(u.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Ru(t))return!1;const a=t.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const d=p_(a,u.root,this.visualElement.getTransformPagePoint());let c=S_(u.layout.layoutBox,d);if(i){const h=i(s_(c));this.hasMutatedConstraints=!!h,h&&(c=y3(h))}return c}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:u,dragTransition:d,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},f=Gi(y=>{if(!If(y,i,this.currentDirection))return;let g=m&&m[y]||{};c&&(g={min:0,max:0});const x=u?200:1e6,S=u?40:1e7,w={type:"inertia",velocity:a?t[y]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...d,...g};return this.startAxisValueAnimation(y,w)});return Promise.all(f).then(h)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return Wp(this.visualElement,t),a.start(eg(t,a,0,i,this.visualElement,!1))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),u=a[i];return u||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Gi(i=>{const{drag:a}=this.getProps();if(!If(i,a,this.currentDirection))return;const{projection:u}=this.visualElement,d=this.getAxisMotionValue(i);if(u&&u.layout){const{min:c,max:h}=u.layout.layoutBox[i];d.set(t[i]-cn(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!Ru(i)||!a||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Gi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();u[c]=w_({min:m,max:m},this.constraints[c])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Gi(c=>{if(!If(c,t,null))return;const h=this.getAxisMotionValue(c),{min:m,max:f}=this.constraints[c];h.set(cn(m,f,u[c]))})}addListeners(){if(!this.visualElement.current)return;E_.set(this.visualElement,this);const t=this.visualElement.current,i=Hd(t,"pointerdown",m=>{const{drag:f,dragListener:y=!0}=this.getProps();f&&y&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();Ru(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,d=u.addEventListener("measure",a);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),Zt.read(a);const c=ah(window,"resize",()=>this.scalePositionWithinConstraints()),h=u.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Gi(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=m[y].translate,g.set(g.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),i(),d(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:u=!1,dragConstraints:d=!1,dragElastic:c=im,dragMomentum:h=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:u,dragConstraints:d,dragElastic:c,dragMomentum:h}}}function If(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function k_(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class T_ extends ba{constructor(t){super(t),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new P_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const fv=e=>(t,i)=>{e&&Zt.postRender(()=>e(t,i))};class R_ extends ba{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(t){this.session=new P3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:a,onPanEnd:u}=this.node.getProps();return{onSessionStart:fv(t),onStart:fv(i),onMove:a,onEnd:(d,c)=>{delete this.session,u&&Zt.postRender(()=>u(d,c))}}}mount(){this.removePointerDownListener=Hd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(et.test(e))e=parseFloat(e);else return e;const i=pv(e,t.target.x),a=pv(e,t.target.y);return`${i}% ${a}%`}},N_={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,u=Aa.parse(e);if(u.length>5)return a;const d=Aa.createTransformer(e),c=typeof u[0]!="number"?1:0,h=i.x.scale*t.x,m=i.y.scale*t.y;u[0+c]/=h,u[1+c]/=m;const f=cn(h,m,.5);return typeof u[2+c]=="number"&&(u[2+c]/=f),typeof u[3+c]=="number"&&(u[3+c]/=f),d(u)}};class A_ extends te.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:u}=this.props,{projection:d}=t;H8(b_),d&&(i.group&&i.group.add(d),a&&a.register&&u&&a.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:u,isPresent:d}=this.props,c=a.projection;return c&&(c.isPresent=d,u||t.layoutDependency!==i||i===void 0||t.isPresent!==d?c.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?c.promote():c.relegate()||Zt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:u}=t;u&&(u.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(u),a&&a.deregister&&a.deregister(u))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function T3(e){const[t,i]=u5(),a=te.useContext(wm);return A.jsx(A_,{...e,layoutGroup:a,switchLayoutGroup:te.useContext(E5),isPresent:t,safeToRemove:i})}const b_={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:N_};function M_(e,t,i){const a=Nr(e)?e:th(e);return a.start(eg("",a,t,i)),a.animation}function I_(e){return e instanceof SVGElement&&e.tagName!=="svg"}const L_=(e,t)=>e.depth-t.depth;class O_{constructor(){this.children=[],this.isDirty=!1}add(t){Pm(this.children,t),this.isDirty=!0}remove(t){km(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L_),this.isDirty=!1,this.children.forEach(t)}}function j_(e,t){const i=Vs.now(),a=({timestamp:u})=>{const d=u-i;d>=t&&(Na(a),e(d-t))};return Zt.read(a,!0),()=>Na(a)}const R3=["TopLeft","TopRight","BottomLeft","BottomRight"],D_=R3.length,mv=e=>typeof e=="string"?parseFloat(e):e,gv=e=>typeof e=="number"||et.test(e);function F_(e,t,i,a,u,d){u?(e.opacity=cn(0,i.opacity!==void 0?i.opacity:1,z_(a)),e.opacityExit=cn(t.opacity!==void 0?t.opacity:1,0,V_(a))):d&&(e.opacity=cn(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let c=0;c<D_;c++){const h=`border${R3[c]}Radius`;let m=vv(t,h),f=vv(i,h);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||gv(m)===gv(f)?(e[h]=Math.max(cn(mv(m),mv(f),a),0),(Us.test(f)||Us.test(m))&&(e[h]+="%")):e[h]=f}(t.rotate||i.rotate)&&(e.rotate=cn(t.rotate||0,i.rotate||0,a))}function vv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z_=N3(0,.5,W5),V_=N3(.5,.95,Ti);function N3(e,t,i){return a=>a<e?0:a>t?1:i(ju(e,t,a))}function yv(e,t){e.min=t.min,e.max=t.max}function Bi(e,t){yv(e.x,t.x),yv(e.y,t.y)}function xv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Sv(e,t,i,a,u){return e-=t,e=Kf(e,1/i,a),u!==void 0&&(e=Kf(e,1/u,a)),e}function U_(e,t=0,i=1,a=.5,u,d=e,c=e){if(Us.test(t)&&(t=parseFloat(t),t=cn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=cn(d.min,d.max,a);e===d&&(h-=t),e.min=Sv(e.min,t,i,h,u),e.max=Sv(e.max,t,i,h,u)}function wv(e,t,[i,a,u],d,c){U_(e,t[i],t[a],t[u],t.scale,d,c)}const B_=["x","scaleX","originX"],G_=["y","scaleY","originY"];function _v(e,t,i,a){wv(e.x,t,B_,i?i.x:void 0,a?a.x:void 0),wv(e.y,t,G_,i?i.y:void 0,a?a.y:void 0)}function Cv(e){return e.translate===0&&e.scale===1}function A3(e){return Cv(e.x)&&Cv(e.y)}function Ev(e,t){return e.min===t.min&&e.max===t.max}function $_(e,t){return Ev(e.x,t.x)&&Ev(e.y,t.y)}function Pv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function b3(e,t){return Pv(e.x,t.x)&&Pv(e.y,t.y)}function kv(e){return Xr(e.x)/Xr(e.y)}function Tv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class W_{constructor(){this.members=[]}add(t){Pm(this.members,t),t.scheduleRender()}remove(t){if(km(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(u=>t===u);if(i===0)return!1;let a;for(let u=i;u>=0;u--){const d=this.members[u];if(d.isPresent!==!1){a=d;break}}return a?(this.promote(a),!0):!1}promote(t,i){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,i&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:u}=t.options;u===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:a}=t;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function H_(e,t,i){let a="";const u=e.x.translate/t.x,d=e.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((u||d||c)&&(a=`translate3d(${u}px, ${d}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:f,rotate:y,rotateX:g,rotateY:x,skewX:S,skewY:w}=i;f&&(a=`perspective(${f}px) ${a}`),y&&(a+=`rotate(${y}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),S&&(a+=`skewX(${S}deg) `),w&&(a+=`skewY(${w}deg) `)}const h=e.x.scale*t.x,m=e.y.scale*t.y;return(h!==1||m!==1)&&(a+=`scale(${h}, ${m})`),a||"none"}const hp=["","X","Y","Z"],q_={visibility:"hidden"},Rv=1e3;let K_=0;function fp(e,t,i,a){const{latestValues:u}=t;u[e]&&(i[e]=u[e],t.setStaticValue(e,0),a&&(a[e]=0))}function M3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=F5(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:u,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Zt,!(u||d))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&M3(a)}function I3({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:u}){return class{constructor(c={},h=t==null?void 0:t()){this.id=K_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q_),this.nodes.forEach(n9),this.nodes.forEach(r9),this.nodes.forEach(Z_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new O_)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Rm),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I_(c),this.instance=c;const{layoutId:m,layout:f,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(f||m)&&(this.isLayoutDirty=!0),e){let g;const x=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=j_(x,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(Av))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||y.getDefaultTransition()||l9,{onLayoutAnimationStart:k,onLayoutAnimationComplete:b}=y.getProps(),R=!this.targetLayout||!b3(this.targetLayout,w),C=!x&&S;if(this.options.layoutRoot||this.resumeFrom||C||x&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,C);const I={...Nm(P,"layout"),onPlay:k,onComplete:b};(y.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else x||Av(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nv);return}this.isUpdating||this.nodes.forEach(e9),this.isUpdating=!1,this.nodes.forEach(t9),this.nodes.forEach(Y_),this.nodes.forEach(X_),this.clearAllSnapshots();const h=Vs.now();mr.delta=bo(0,1e3/60,h-mr.timestamp),mr.timestamp=h,mr.isProcessing=!0,ip.update.process(mr),ip.preRender.process(mr),ip.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J_),this.sharedNodes.forEach(s9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xr(this.snapshot.measuredBox.x)&&!Xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!u)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!A3(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,y=f!==this.prevTransformTemplateValue;c&&(h||Cl(this.latestValues)||y)&&(u(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),u9(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Rn();const m=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(c9))){const{scroll:y}=this.root;y&&(bu(m.x,y.offset.x),bu(m.y,y.offset.y))}return m}removeElementScroll(c){var h;const m=Rn();if(Bi(m,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return m;for(let f=0;f<this.path.length;f++){const y=this.path[f],{scroll:g,options:x}=y;y!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Bi(m,c),bu(m.x,g.offset.x),bu(m.y,g.offset.y))}return m}applyTransform(c,h=!1){const m=Rn();Bi(m,c);for(let f=0;f<this.path.length;f++){const y=this.path[f];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Mu(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Cl(y.latestValues)&&Mu(m,y.latestValues)}return Cl(this.latestValues)&&Mu(m,this.latestValues),m}removeTransform(c){const h=Rn();Bi(h,c);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!Cl(f.latestValues))continue;nm(f.latestValues)&&f.updateSnapshot();const y=Rn(),g=f.measurePageBox();Bi(y,g),_v(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,y)}return Cl(this.latestValues)&&_v(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==m;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Kd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rn(),this.targetWithTransforms=Rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),_3(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Kd(this.relativeTargetOrigin,this.target,S.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nm(this.parent.latestValues)||w3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(f=!1),f)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;Bi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;f_(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Rn());const{target:w}=h;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xv(this.prevProjectionDelta.x,this.projectionDelta.x),xv(this.prevProjectionDelta.y,this.projectionDelta.y)),qd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!Tv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Au(),this.projectionDelta=Au(),this.projectionDeltaWithTransform=Au()}setAnimationOrigin(c,h=!1){const m=this.snapshot,f=m?m.latestValues:{},y={...this.latestValues},g=Au();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Rn(),S=m?m.source:void 0,w=this.layout?this.layout.source:void 0,P=S!==w,k=this.getStack(),b=!k||k.members.length<=1,R=!!(P&&!b&&this.options.crossfade===!0&&!this.path.some(a9));this.animationProgress=0;let C;this.mixTargetDelta=I=>{const L=I/1e3;bv(g.x,c.x,L),bv(g.y,c.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9(this.relativeTarget,this.relativeTargetOrigin,x,L),C&&$_(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Rn()),Bi(C,this.relativeTarget)),P&&(this.animationValues=y,F_(y,f,this.latestValues,L,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{Ff.hasAnimatedSinceResize=!0,this.currentAnimation=M_(0,Rv,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:f,latestValues:y}=c;if(!(!h||!m||!f)){if(this!==c&&this.layout&&f&&L3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||Rn();const g=Xr(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const x=Xr(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}Bi(h,m),Mu(h,y),qd(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new W_),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const f={};m.z&&fp("z",c,f,this.animationValues);for(let y=0;y<hp.length;y++)fp(`rotate${hp[y]}`,c,f,this.animationValues),fp(`skew${hp[y]}`,c,f,this.animationValues);c.render();for(const y in f)c.setStaticValue(y,f[y]),this.animationValues&&(this.animationValues[y]=f[y]);c.scheduleRender()}getProjectionStyles(c){var h,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return q_;const f={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Df(c==null?void 0:c.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Df(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Cl(this.latestValues)&&(P.transform=y?y({},""):"none",this.hasProjected=!1),P}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=H_(this.projectionDeltaWithTransform,this.treeScale,x),y&&(f.transform=y(x,f.transform));const{x:S,y:w}=this.projectionDelta;f.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,g.animationValues?f.opacity=g===this?(m=(h=x.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const P in rh){if(x[P]===void 0)continue;const{correct:k,applyTo:b,isCSSVariable:R}=rh[P],C=f.transform==="none"?x[P]:k(x[P],g);if(b){const I=b.length;for(let L=0;L<I;L++)f[b[L]]=C}else R?this.options.visualElement.renderState.vars[P]=C:f[P]=C}return this.options.layoutId&&(f.pointerEvents=g===this?Df(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Nv),this.root.sharedNodes.clear()}}}function Y_(e){e.updateLayout()}function X_(e){var t;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:u}=e.layout,{animationType:d}=e.options,c=i.source!==e.layout.source;d==="size"?Gi(g=>{const x=c?i.measuredBox[g]:i.layoutBox[g],S=Xr(x);x.min=a[g].min,x.max=x.min+S}):L3(d,i.layoutBox,a)&&Gi(g=>{const x=c?i.measuredBox[g]:i.layoutBox[g],S=Xr(a[g]);x.max=x.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+S)});const h=Au();qd(h,a,i.layoutBox);const m=Au();c?qd(m,e.applyTransform(u,!0),i.measuredBox):qd(m,a,i.layoutBox);const f=!A3(h);let y=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:S}=g;if(x&&S){const w=Rn();Kd(w,i.layoutBox,x.layoutBox);const P=Rn();Kd(P,a,S.layoutBox),b3(w,P)||(y=!0),g.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:m,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Q_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function J_(e){e.clearSnapshot()}function Nv(e){e.clearMeasurements()}function e9(e){e.isLayoutDirty=!1}function t9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Av(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n9(e){e.resolveTargetDelta()}function r9(e){e.calcProjection()}function i9(e){e.resetSkewAndRotation()}function s9(e){e.removeLeadSnapshot()}function bv(e,t,i){e.translate=cn(t.translate,0,i),e.scale=cn(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function Mv(e,t,i,a){e.min=cn(t.min,i.min,a),e.max=cn(t.max,i.max,a)}function o9(e,t,i,a){Mv(e.x,t.x,i.x,a),Mv(e.y,t.y,i.y,a)}function a9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const l9={duration:.45,ease:[.4,0,.1,1]},Iv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Lv=Iv("applewebkit/")&&!Iv("chrome/")?Math.round:Ti;function Ov(e){e.min=Lv(e.min),e.max=Lv(e.max)}function u9(e){Ov(e.x),Ov(e.y)}function L3(e,t,i){return e==="position"||e==="preserve-aspect"&&!d_(kv(t),kv(i),.2)}function c9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const d9=I3({attachResizeListener:(e,t)=>ah(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},O3=I3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pp.current){const e=new d9({});e.mount(window),e.setOptions({layoutScroll:!0}),pp.current=e}return pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),h9={pan:{Feature:R_},drag:{Feature:T_,ProjectionNode:O3,MeasureLayout:T3}};function jv(e,t,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const u="onHover"+i,d=a[u];d&&Zt.postRender(()=>d(t,_h(t)))}class f9 extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=S8(t,(i,a)=>(jv(this.node,a,"Start"),u=>jv(this.node,u,"End"))))}unmount(){}}class p9 extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wh(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dv(e,t,i){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const u="onTap"+(i==="End"?"":i),d=a[u];d&&Zt.postRender(()=>d(t,_h(t)))}class m9 extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=E8(t,(i,a)=>(Dv(this.node,a,"Start"),(u,{success:d})=>Dv(this.node,u,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sm=new WeakMap,mp=new WeakMap,g9=e=>{const t=sm.get(e.target);t&&t(e)},v9=e=>{e.forEach(g9)};function y9({root:e,...t}){const i=e||document;mp.has(i)||mp.set(i,{});const a=mp.get(i),u=JSON.stringify(t);return a[u]||(a[u]=new IntersectionObserver(v9,{root:e,...t})),a[u]}function x9(e,t,i){const a=y9(t);return sm.set(e,i),a.observe(e),()=>{sm.delete(e),a.unobserve(e)}}const S9={some:0,all:1};class w9 extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:a,amount:u="some",once:d}=t,c={root:i?i.current:void 0,rootMargin:a,threshold:typeof u=="number"?u:S9[u]},h=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,d&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),x=f?y:g;x&&x(m)};return x9(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(_9(t,i))&&this.startObserver()}unmount(){}}function _9({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const C9={inView:{Feature:w9},tap:{Feature:m9},focus:{Feature:p9},hover:{Feature:f9}},E9={layout:{ProjectionNode:O3,MeasureLayout:T3}},om={current:null},j3={current:!1};function P9(){if(j3.current=!0,!!Cm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>om.current=e.matches;e.addListener(t),t()}else om.current=!1}const k9=[...o3,Rr,Aa],T9=e=>k9.find(s3(e)),R9=new WeakMap;function N9(e,t,i){for(const a in t){const u=t[a],d=i[a];if(Nr(u))e.addValue(a,u);else if(Nr(d))e.addValue(a,th(u,{owner:e}));else if(d!==u)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(u):c.hasAnimated||c.set(u)}else{const c=e.getStaticValue(a);e.addValue(a,th(c!==void 0?c:u,{owner:e}))}}for(const a in i)t[a]===void 0&&e.removeValue(a);return t}const Fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class A9{scrapeMotionValuesFromProps(t,i,a){return{}}constructor({parent:t,props:i,presenceContext:a,reducedMotionConfig:u,blockInitialAnimation:d,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Vs.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Zt.render(this.render,!1,!0))};const{latestValues:m,renderState:f,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=i,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=o0(i),this.isVariantNode=_5(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in x){const w=x[S];m[S]!==void 0&&Nr(w)&&w.set(m[S],!1)}}mount(t){this.current=t,R9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),j3.current||P9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:om.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Na(this.notifyUpdate),Na(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Al.has(t);a&&this.onBindTransform&&this.onBindTransform();const u=i.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),d=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{u(),d(),c&&c(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Du){const i=Du[t];if(!i)continue;const{isEnabled:a,Feature:u}=i;if(!this.features[t]&&u&&a(this.props)&&(this.features[t]=new u(this)),this.features[t]){const d=this.features[t];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<Fv.length;a++){const u=Fv[a];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const d="on"+u,c=t[d];c&&(this.propEventSubscriptions[u]=this.on(u,c))}this.prevMotionValues=N9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const a=this.values.get(t);i!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&i!==void 0&&(a=th(i===null?void 0:i,{owner:this}),this.addValue(t,a)),a}readValue(t,i){var a;let u=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options);return u!=null&&(typeof u=="string"&&(r3(u)||q5(u))?u=parseFloat(u):!T9(u)&&Aa.test(i)&&(u=e3(t,i)),this.setBaseTarget(t,Nr(u)?u.get():u)),Nr(u)?u.get():u}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:a}=this.props;let u;if(typeof a=="string"||typeof a=="object"){const c=Wm(this.props,a,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);c&&(u=c[t])}if(a&&u!==void 0)return u;const d=this.getBaseTargetFromProps(this.props,t);return d!==void 0&&!Nr(d)?d:this.initialValues[t]!==void 0&&u===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Rm),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class D3 extends A9{constructor(){super(...arguments),this.KeyframeResolver=a3}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:a}){delete i[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nr(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function b9(e){return window.getComputedStyle(e)}class M9 extends D3{constructor(){super(...arguments),this.type="html",this.renderInstance=I5}readValueFromInstance(t,i){if(Al.has(i))return GS(t,i);{const a=b9(t),u=(Dm(i)?a.getPropertyValue(i):a[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return C3(t,i)}build(t,i,a){Vm(t,i,a.transformTemplate)}scrapeMotionValuesFromProps(t,i,a){return Hm(t,i,a)}}class I9 extends D3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&M5(this.current,this.renderState)}}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Al.has(i)){const a=J5(i);return a&&a.default||0}return i=L5.has(i)?i:jm(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,a){return j5(t,i,a)}onBindTransform(){this.current&&!this.renderState.dimensions&&Zt.postRender(this.updateDimensions)}build(t,i,a){Gm(t,i,this.isSVGTag,a.transformTemplate)}renderInstance(t,i,a,u){O5(t,i,a,u)}mount(t){this.isSVGTag=$m(t.tagName),super.mount(t)}}const L9=(e,t)=>Bm(e)?new I9(t):new M9(t,{allowProjection:e!==te.Fragment}),O9=gS({...r_,...C9,...h9,...E9},L9),nt=M8(O9);function F3(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:A.jsx("div",{className:"rhodes-hexagon-pattern"})}),A.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent to-black opacity-70 pointer-events-none"}),A.jsx("div",{className:"scanline pointer-events-none"}),A.jsx("div",{className:"absolute inset-0 blue-pulse-effect pointer-events-none"}),A.jsx("style",{jsx:"true",children:`
        .scanline {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(to bottom, transparent, rgba(30, 64, 175, 0.02), transparent);
          pointer-events: none;
          animation: scanline 8s linear infinite;
          z-index: 40;
          opacity: 0.5;
        }
        
        .blue-pulse-effect {
          background: radial-gradient(circle, rgba(37, 99, 235, 0) 0%, rgba(37, 99, 235, 0) 70%, rgba(37, 99, 235, 0.1) 100%);
          animation: pulse 4s ease-in-out infinite;
        }
        
        .rhodes-hexagon-pattern {
          background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5L55 20L55 40L30 55L5 40L5 20L30 5Z' stroke='%230369a1' fill='none' stroke-opacity='0.2'/%3E%3C/svg%3E");
          background-size: 60px 60px;
          width: 100%;
          height: 100%;
        }
        
        @keyframes scanline {
          0% {
            transform: translateY(-100%);
          }
          100% {
            transform: translateY(100%);
          }
        }
        
        @keyframes pulse {
          0% {
            opacity: 0.3;
            transform: scale(0.98);
          }
          50% {
            opacity: 0.4;
            transform: scale(1);
          }
          100% {
            opacity: 0.3;
            transform: scale(0.98);
          }
        }
      `})]})}function z3(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full text-blue-500/60",children:[A.jsx("path",{d:"M0,20 L20,20 L20,0",fill:"none",stroke:"currentColor",strokeWidth:"2"}),A.jsx("path",{d:"M0,40 L40,40 L40,0",fill:"none",stroke:"currentColor",strokeWidth:"1"})]})}),A.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full text-blue-500/60",children:[A.jsx("path",{d:"M100,20 L80,20 L80,0",fill:"none",stroke:"currentColor",strokeWidth:"2"}),A.jsx("path",{d:"M100,40 L60,40 L60,0",fill:"none",stroke:"currentColor",strokeWidth:"1"})]})}),A.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full text-blue-500/60",children:[A.jsx("path",{d:"M0,80 L20,80 L20,100",fill:"none",stroke:"currentColor",strokeWidth:"2"}),A.jsx("path",{d:"M0,60 L40,60 L40,100",fill:"none",stroke:"currentColor",strokeWidth:"1"})]})}),A.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full text-blue-500/60",children:[A.jsx("path",{d:"M100,80 L80,80 L80,100",fill:"none",stroke:"currentColor",strokeWidth:"2"}),A.jsx("path",{d:"M100,60 L60,60 L60,100",fill:"none",stroke:"currentColor",strokeWidth:"1"})]})})]})}function V3(){return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"fixed left-4 top-1/4 bottom-1/4 w-1 flex flex-col justify-between pointer-events-none",children:[A.jsx("div",{className:"h-1/3 w-full bg-gradient-to-b from-transparent to-blue-500/30"}),A.jsx("div",{className:"h-8 w-8 border border-blue-500/50 -ml-4 flex items-center justify-center",children:A.jsx("div",{className:"h-1 w-1 bg-blue-400 animate-pulse"})}),A.jsx("div",{className:"h-1/3 w-full bg-gradient-to-b from-blue-500/30 to-transparent"})]}),A.jsxs("div",{className:"fixed right-4 top-1/4 bottom-1/4 w-1 flex flex-col justify-between pointer-events-none",children:[A.jsx("div",{className:"h-1/3 w-full bg-gradient-to-b from-transparent to-blue-500/30"}),A.jsx("div",{className:"h-8 w-8 border border-blue-500/50 -mr-4 flex items-center justify-center",children:A.jsx("div",{className:"h-1 w-1 bg-blue-400 animate-pulse"})}),A.jsx("div",{className:"h-1/3 w-full bg-gradient-to-b from-blue-500/30 to-transparent"})]})]})}function U3({onLoadComplete:e}){const[t,i]=te.useState(0),[a,u]=te.useState(0),[d,c]=te.useState(!1),[h,m]=te.useState(!1),f=[{text:"INITIALIZING NEURAL NETWORK...",threshold:20},{text:"ACCESSING TACTICAL DATABASE...",threshold:40},{text:"CALCULATING BATTLEFIELD PARAMETERS...",threshold:60},{text:"ESTABLISHING ORIGINIUM RESONANCE...",threshold:80},{text:"CALIBRATING COMBAT SYSTEMS...",threshold:95},{text:"DEPLOYMENT READY",threshold:100}],y=te.useRef(null),[g,x]=te.useState("");te.useEffect(()=>{const w=setInterval(()=>{const P=new Date,k=`${P.getHours().toString().padStart(2,"0")}:${P.getMinutes().toString().padStart(2,"0")}:${P.getSeconds().toString().padStart(2,"0")}`;x(k)},1e3);return()=>clearInterval(w)},[]),te.useEffect(()=>{if(!y.current)return;const P=setInterval(()=>{y.current&&(y.current.classList.add("glitch-effect"),setTimeout(()=>{y.current&&y.current.classList.remove("glitch-effect")},200))},3e3);return()=>clearInterval(P)},[]),te.useEffect(()=>{const w=f[t];a>=w.threshold&&t<f.length-1&&i(t+1)},[a,t]);const S=()=>{m(!0),setTimeout(()=>{c(!0),e()},1200)};return te.useEffect(()=>{const w=setInterval(()=>{u(P=>{if(P>=100)return clearInterval(w),setTimeout(S,700),100;const k=P>80?Math.random()*1.5:Math.random()*4+1;return Math.min(P+k,100)})},150);return()=>clearInterval(w)},[e]),A.jsxs("div",{className:`fixed inset-0 bg-gray-900 z-50 flex flex-col items-center justify-center transition-opacity duration-1000 overflow-hidden ${d?"opacity-0 pointer-events-none":"opacity-100"}`,children:[A.jsx(F3,{}),A.jsx(z3,{}),A.jsxs("div",{className:"fixed top-0 left-0 right-0 flex justify-between p-4 text-blue-300 font-mono text-xs opacity-70",children:[A.jsxs("div",{children:[A.jsx("div",{children:"TACTICAL WARFARE SYSTEM v2.6.3"}),A.jsx("div",{children:"RHINE LAB TECHNOLOGY"})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{children:g}),A.jsx("div",{children:"NEURAL LINK: ESTABLISHED"})]})]}),A.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-6",children:[A.jsx(nt.div,{className:`relative transition-all duration-1000 ${h?"transform -translate-y-32 scale-90":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-3 -top-3 w-6 h-6 border-l-2 border-t-2 border-blue-400"}),A.jsx("div",{className:"absolute -right-3 -top-3 w-6 h-6 border-r-2 border-t-2 border-blue-400"}),A.jsx("div",{className:"absolute -left-3 -bottom-3 w-6 h-6 border-l-2 border-b-2 border-blue-400"}),A.jsx("div",{className:"absolute -right-3 -bottom-3 w-6 h-6 border-r-2 border-b-2 border-blue-400"}),A.jsx("div",{className:"absolute -left-8 top-1/4 w-5 h-px bg-blue-400/70"}),A.jsx("div",{className:"absolute -right-8 top-1/4 w-5 h-px bg-blue-400/70"}),A.jsx("div",{className:"absolute -left-8 bottom-1/4 w-5 h-px bg-blue-400/70"}),A.jsx("div",{className:"absolute -right-8 bottom-1/4 w-5 h-px bg-blue-400/70"}),A.jsxs("div",{ref:y,className:"glitch-container py-4 px-6 bg-gray-900/50 border border-blue-900/30",children:[A.jsx("h1",{className:"text-6xl font-bold text-white tracking-wider mb-1 font-mono text-center",children:"TANKI.IO"}),A.jsx("div",{className:"h-px w-3/4 mx-auto bg-gradient-to-r from-transparent via-blue-400 to-transparent"}),A.jsx("p",{className:"text-center text-blue-300 mt-2 text-sm tracking-widest uppercase",children:"TACTICAL ARMORED OPERATIONS"})]})]})}),A.jsx(Bf,{children:!h&&A.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5},className:"mt-12 w-full",children:[A.jsxs(nt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"mb-3",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx("div",{className:"h-3 w-3 bg-blue-500 animate-pulse mr-2"}),A.jsx("span",{className:"text-sm text-blue-400 font-mono tracking-wider",children:f[t].text})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-1 ml-5 text-xs text-gray-400 font-mono",children:[A.jsx("div",{children:"OPERATOR STATUS: STANDBY"}),A.jsx("div",{children:"WEAPONS: CALIBRATED"}),A.jsx("div",{children:"REACTOR: ONLINE"}),A.jsx("div",{children:"SENSOR ARRAY: ACTIVE"})]})]},t),A.jsxs("div",{className:"relative",children:[A.jsxs("div",{className:"relative h-1.5 bg-gray-800/70 rounded-sm overflow-hidden border border-gray-700",children:[A.jsx(nt.div,{className:"h-full bg-gradient-to-r from-blue-600 via-blue-400 to-blue-600",style:{width:`${a}%`},transition:{type:"spring",stiffness:30}}),f.map((w,P)=>A.jsx("div",{className:`absolute top-0 bottom-0 w-0.5 ${a>=w.threshold?"bg-blue-300":"bg-gray-600"}`,style:{left:`${w.threshold}%`}},"stage-"+P))]}),A.jsxs("div",{className:"flex justify-between mt-1 text-xs text-blue-300/70 font-mono",children:[A.jsx("span",{children:"0%"}),A.jsx("span",{children:"25%"}),A.jsx("span",{children:"50%"}),A.jsx("span",{children:"75%"}),A.jsxs("span",{children:[a.toFixed(0),"%"]})]})]}),A.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:Array.from({length:3}).map((w,P)=>A.jsxs("div",{className:"border border-blue-900/30 bg-gray-900/30 p-2",children:[A.jsx("div",{className:"text-xs text-gray-400 font-mono mb-1",children:(()=>{switch(P){case 0:return"ARMOR INTEGRITY";case 1:return"AMMO SYSTEMS";default:return"ENGINE OUTPUT"}})()}),A.jsx("div",{className:"h-1 bg-gray-800 rounded-full overflow-hidden",children:A.jsx(nt.div,{className:`h-full ${P===0?"bg-green-500":P===1?"bg-blue-500":"bg-yellow-500"}`,initial:{width:"0%"},animate:{width:a>=50?"100%":`${a*2}%`}})})]},"diag-"+P))})]})}),A.jsxs("div",{className:"absolute -bottom-20 left-0 right-0",children:[A.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-blue-500/30 to-transparent"}),A.jsxs("div",{className:"flex justify-between text-xs text-blue-300/50 font-mono mt-4",children:[A.jsx("div",{children:"RHODES ISLAND TACTICAL SYSTEMS"}),A.jsx("div",{children:"EXPERIMENTAL DESIGN DIVISION"})]})]})]}),A.jsx(V3,{}),A.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4",children:A.jsxs("div",{className:"flex justify-between text-blue-300/70 font-mono text-xs",children:[A.jsxs("div",{children:[A.jsx("div",{children:"TANK MODEL: T-90 URSUS"}),A.jsx("div",{children:"CREW: 1 OPERATOR"})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{children:"CONNECTION: SECURE"}),A.jsx("div",{children:"SIGNAL INTEGRITY: 98.7%"})]})]})}),A.jsx(Bf,{children:a>=100&&!h&&A.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 bg-blue-500/20 border border-blue-400/50 px-6 py-2",children:A.jsxs("div",{className:"text-center text-blue-100 font-mono text-sm",children:[A.jsx("span",{className:"animate-pulse",children:"▶"})," TANK DEPLOYMENT READY"]})})})]})}U3.propTypes={onLoadComplete:me.func.isRequired};/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B3=(...e)=>e.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=te.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:d,iconNode:c,...h},m)=>te.createElement("svg",{ref:m,...D9,width:t,height:t,stroke:e,strokeWidth:a?Number(i)*24/Number(t):i,className:B3("lucide",u),...h},[...c.map(([f,y])=>te.createElement(f,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=(e,t)=>{const i=te.forwardRef(({className:a,...u},d)=>te.createElement(F9,{ref:d,iconNode:t,className:B3(`lucide-${j9(e)}`,a),...u}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G3=Gs("ArrowRight",z9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],U9=Gs("ChevronLeft",V9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G9=Gs("ChevronRight",B9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$3=Gs("Info",$9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],H9=Gs("Maximize2",W9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],W3=Gs("Shield",q9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],H3=Gs("Target",K9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X9=Gs("TriangleAlert",Y9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z9=Gs("X",Q9);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],q3=Gs("Zap",J9);function K3({onEnable:e,onDismiss:t}){return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:A.jsxs("div",{className:"bg-gray-900 border border-gray-700 w-5/6 max-w-md rounded-md overflow-hidden animate-in fade-in duration-300",children:[A.jsxs("div",{className:"bg-red-900 bg-opacity-50 px-4 py-3 border-b border-gray-700 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(X9,{size:16,className:"text-red-400 mr-2"}),A.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Combat Alert"})]}),A.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:A.jsx(Z9,{size:18})})]}),A.jsxs("div",{className:"p-5",children:[A.jsxs("div",{className:"mb-4 text-center",children:[A.jsx(H9,{size:40,className:"mx-auto mb-3 text-blue-400"}),A.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Tactical Display Optimization Required"}),A.jsx("p",{className:"text-sm text-gray-300",children:"For optimal battlefield awareness and control interface, fullscreen mode is recommended."})]}),A.jsxs("div",{className:"border-t border-gray-800 pt-4 mt-4",children:[A.jsx("p",{className:"text-xs text-gray-400 mb-4 text-center",children:"Enable fullscreen mode to maximize tactical advantage"}),A.jsxs("div",{className:"flex flex-col space-y-3",children:[A.jsx("button",{onClick:e,className:"w-full py-3 bg-blue-600 text-white font-bold tracking-wider flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(52, 152, 219, 0.5)"},children:A.jsx("span",{children:"ENABLE FULLSCREEN"})}),A.jsx("button",{onClick:t,className:"w-full py-2 border border-gray-700 text-gray-400 text-sm tracking-wider",children:"CONTINUE WITHOUT FULLSCREEN"})]})]})]})]})})}K3.propTypes={onEnable:me.func.isRequired,onDismiss:me.func.isRequired};function Y3(e){return te.useMemo(()=>{let t;return e<568?t="xs":e<667?t="sm":e<812?t="md":t="lg",{layoutSize:t,spacing:{xs:{header:"pt-2 pb-1",form:"space-y-2",stats:"mt-2",briefing:"my-auto py-2",actionButtons:"p-2",tankPreview:"h-48",tankStats:"py-2"},sm:{header:"pt-1 pb-1",form:"space-y-3",stats:"mt-3",briefing:"my-auto py-3",actionButtons:"p-1",tankPreview:"h-38",tankStats:"py-2"},md:{header:"pt-6 pb-2",form:"space-y-4",stats:"mt-4",briefing:"my-auto py-4",actionButtons:"p-4",tankPreview:"h-64",tankStats:"py-4"},lg:{header:"pt-8 pb-2",form:"space-y-5",stats:"mt-6",briefing:"my-auto py-5",actionButtons:"p-6",tankPreview:"h-72",tankStats:"py-5"}}[t]}},[e])}function tg(e){const[t,i]=te.useState({width:0,height:0});return te.useEffect(()=>{const a=()=>{if(!e.current)return;const u=e.current.clientWidth,d=e.current.clientHeight;i({width:u,height:d})};return setTimeout(a,200),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[e]),t}function X3({spacing:e,layoutSize:t,themeColor:i,username:a,handleSubmit:u,navigate:d}){return A.jsxs("div",{className:`bg-black bg-opacity-80 ${e.actionButtons} border-t border-gray-800`,children:[A.jsxs("button",{onClick:u,disabled:!a.trim(),className:`w-full ${t==="xs"?"py-2":"py-3"} mb-2 flex items-center justify-center ${a.trim()?"opacity-100":"opacity-50"}`,style:{backgroundColor:i,boxShadow:a.trim()?`0 0 20px ${i}80`:"none"},children:[A.jsx("span",{className:"font-bold tracking-wider mr-2",children:"DEPLOY"}),A.jsx(G3,{size:16})]}),t!=="xs"&&A.jsx("button",{onClick:()=>d("/tanki.io/game"),className:`w-full ${t==="xs"?"py-2":"py-3"} border border-gray-700 bg-transparent flex items-center justify-center`,children:A.jsx("span",{className:"text-sm tracking-wider text-gray-400",children:"SPECTATE OPERATION"})})]})}X3.propTypes={spacing:me.string.isRequired,layoutSize:me.string.isRequired,themeColor:me.string.isRequired,username:me.string.isRequired,handleSubmit:me.func.isRequired,navigate:me.func.isRequired};function Q3({username:e,setUsername:t,handleSubmit:i,spacing:a,layoutSize:u,themeColor:d}){return A.jsx("form",{onSubmit:i,className:a.form,children:A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx("div",{className:"w-1 h-4 mr-2",style:{backgroundColor:d}}),A.jsx("label",{htmlFor:"username",className:"text-xs uppercase tracking-wider text-gray-300",children:"Commander Identification"})]}),A.jsx("input",{type:"text",id:"username",value:e,onChange:c=>t(c.target.value),className:`w-full ${u==="xs"?"py-2":"py-3"} px-4 bg-black bg-opacity-50 border border-gray-800 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500`,placeholder:"Enter tactical callsign",required:!0,style:{boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"}}),u!=="xs"&&A.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[A.jsx($3,{size:10,className:"mr-1"}),A.jsx("span",{children:"Required for battlefield identification"})]})]})})}Q3.propTypes={username:me.string.isRequired,setUsername:me.func.isRequired,handleSubmit:me.func.isRequired,spacing:me.object.isRequired,layoutSize:me.string.isRequired,themeColor:me.string.isRequired};function Z3({spacing:e,animateIn:t,themeColor:i,layoutSize:a}){const[u,d]=te.useState("");return te.useEffect(()=>{const c=setInterval(()=>{const h=new Date,m=`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}:${h.getSeconds().toString().padStart(2,"0")}`;d(m)},1e3);return()=>clearInterval(c)},[]),A.jsxs("div",{className:`${e.stats} transition-all duration-700 delay-500 transform ${t?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx("div",{className:"w-1 h-4 mr-2",style:{backgroundColor:i}}),A.jsx("h2",{className:"text-xs uppercase tracking-wider text-gray-300",children:"Combat Operation Status"})]}),A.jsxs("div",{className:`bg-black bg-opacity-50 border border-gray-800 ${a==="xs"?"p-2":"p-4"}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),A.jsx("span",{className:"text-xs text-green-400",children:"OPERATION ACTIVE"})]}),A.jsx("span",{className:"text-xs text-gray-500 font-mono",children:"ID: TK-274"})]}),A.jsxs("div",{className:`space-y-${a==="xs"?"1":"3"}`,children:[A.jsxs("div",{className:"flex justify-between text-xs",children:[A.jsx("span",{className:"text-gray-400",children:"Active Units"}),A.jsx("span",{className:"text-white font-mono",children:"6"})]}),A.jsxs("div",{className:"flex justify-between text-xs",children:[A.jsx("span",{className:"text-gray-400",children:"Battlefield Status"}),A.jsx("span",{className:"text-white font-mono",children:"CONTESTED"})]}),a!=="xs"&&A.jsxs("div",{className:"flex justify-between text-xs",children:[A.jsx("span",{className:"text-gray-400",children:"Operation Time"}),A.jsx("span",{className:"text-white font-mono",children:u})]})]})]})]})}Z3.propTypes={spacing:me.object.isRequired,animateIn:me.bool.isRequired,themeColor:me.string.isRequired,layoutSize:me.string.isRequired};function J3({spacing:e,animateIn:t,layoutSize:i}){const a=()=>i==="xs"?"text-xl":i==="sm"?"text-2xl":"text-3xl";return A.jsx("div",{className:`px-4 ${e} transition-all duration-700 transform ${t?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:A.jsxs("div",{className:"flex flex-col items-center mb-2",children:[A.jsxs("div",{className:"relative mb-1",children:[A.jsx("h1",{className:`${a()} font-bold text-white tracking-wider`,children:"TANKI.IO"}),A.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-blue-400 to-transparent"})]}),A.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest mt-1",children:"Tactical Tank Combat System"})]})})}J3.propTypes={spacing:me.string.isRequired,animateIn:me.bool.isRequired,layoutSize:me.oneOf(["xs","sm","md","lg","xl"]).isRequired};function e4({spacing:e,animateIn:t,layoutSize:i}){return A.jsxs("div",{className:`${e.stats} transition-all duration-700 delay-500 transform ${t?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx("div",{className:"w-1 h-4 mr-2",style:{backgroundColor:"#ff9800"}}),A.jsx("h2",{className:"text-xs uppercase tracking-wider text-gray-300",children:"Mission Briefing"})]}),A.jsx("div",{className:`bg-yellow-950 bg-opacity-500 border border-gray-800 ${i==="xs"?"p-2":"p-4"}`,children:A.jsx("div",{className:`space-y-${i==="xs"?"1":"3"}`,children:A.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 pl-2",children:[A.jsxs("li",{className:"flex",children:[A.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),A.jsx("span",{children:"Deploy your tank and engage hostiles"})]}),A.jsxs("li",{className:"flex",children:[A.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),A.jsx("span",{children:"Use tactical controls for navigation"})]}),A.jsxs("li",{className:"flex",children:[A.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),A.jsx("span",{children:"Execute firing sequence on enemies"})]}),A.jsxs("li",{className:"flex",children:[A.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),A.jsx("span",{children:"Secure battlefield dominance"})]})]})})})]})}e4.propTypes={spacing:me.object.isRequired,animateIn:me.bool.isRequired,layoutSize:me.string.isRequired};function ng({themeColor:e,title:t,version:i}){return A.jsxs("div",{className:"bg-black bg-opacity-70 py-2 px-4 flex justify-between items-center border-b border-gray-800",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-1 h-5 mr-2",style:{backgroundColor:e}}),A.jsx("h1",{className:"text-sm font-light tracking-widest",children:t})]}),A.jsx("div",{className:"text-xs text-gray-400 font-mono",children:i})]})}ng.propTypes={themeColor:me.string.isRequired,title:me.string.isRequired,version:me.string.isRequired};function t4({animateIn:e=!1,themeColor:t="#3498db"}){const[i,a]=te.useState(""),[u,d]=te.useState(!1),c=Sm(),h=te.useRef(null),{height:m}=tg(h),{layoutSize:f,spacing:y}=Y3(m);te.useEffect(()=>{if(e){const x=setTimeout(()=>{d(!0)},300);return()=>clearTimeout(x)}},[e]);const g=x=>{x&&x.preventDefault(),i.trim()&&(sessionStorage.setItem("username",i.trim()),c("/tanki.io/tank-selection"))};return A.jsxs("div",{ref:h,className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden",children:[A.jsx(F3,{}),A.jsx(z3,{}),A.jsx(ng,{themeColor:t,title:"TANKI.IO",version:"SYSTEM v2.5"}),A.jsxs("div",{className:"flex-grow flex flex-col h-full relative z-10",children:[A.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:u?1:0,y:u?0:10},transition:{duration:.5},children:A.jsx(J3,{spacing:y.header,animateIn:u,layoutSize:f})}),A.jsx("div",{className:"flex flex-col flex-grow px-6",children:A.jsxs("div",{children:[A.jsx(nt.div,{initial:{opacity:0,y:15},animate:{opacity:u?1:0,y:u?0:15},transition:{duration:.6,delay:.1},children:A.jsx(Q3,{username:i,setUsername:a,handleSubmit:g,spacing:y,layoutSize:f,themeColor:t})}),A.jsx(nt.div,{initial:{opacity:0,y:15},animate:{opacity:u?1:0,y:u?0:15},transition:{duration:.6,delay:.2},children:A.jsx(Z3,{spacing:y,animateIn:u,themeColor:t,layoutSize:f})}),A.jsx(nt.div,{initial:{opacity:0,y:15},animate:{opacity:u?1:0,y:u?0:15},transition:{duration:.6,delay:.3},children:A.jsx(e4,{spacing:y,animateIn:u,layoutSize:f})})]})}),A.jsx(nt.div,{initial:{opacity:0,y:15},animate:{opacity:u?1:0,y:u?0:15},transition:{duration:.6,delay:.4},children:A.jsx(X3,{spacing:y.actionButtons,layoutSize:f,themeColor:t,username:i,handleSubmit:g,navigate:c})})]}),A.jsx(V3,{})]})}t4.propTypes={animateIn:me.bool,themeColor:me.string};var gp={},zv={},Vv;function e7(){return Vv||(Vv=1,ArrayBuffer.isView||(ArrayBuffer.isView=e=>e!==null&&typeof e=="object"&&e.buffer instanceof ArrayBuffer),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window)),zv}var Co={},vp={},Uv;function rg(){return Uv||(Uv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.CloseCode=void 0,function(i){i[i.CONSENTED=4e3]="CONSENTED",i[i.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(e.CloseCode||(e.CloseCode={}));class t extends Error{constructor(a,u){super(u),this.name="ServerError",this.code=a}}e.ServerError=t}(vp)),vp}var ls={},gl={},Bv;function t7(){if(Bv)return gl;Bv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.decode=gl.encode=void 0;function e(f,y){if(this._offset=y,f instanceof ArrayBuffer)this._buffer=f,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(f))this._buffer=f.buffer,this._view=new DataView(this._buffer,f.byteOffset,f.byteLength);else throw new Error("Invalid argument")}function t(f,y,g){for(var x="",S=0,w=y,P=y+g;w<P;w++){var k=f.getUint8(w);if((k&128)===0){x+=String.fromCharCode(k);continue}if((k&224)===192){x+=String.fromCharCode((k&31)<<6|f.getUint8(++w)&63);continue}if((k&240)===224){x+=String.fromCharCode((k&15)<<12|(f.getUint8(++w)&63)<<6|(f.getUint8(++w)&63)<<0);continue}if((k&248)===240){S=(k&7)<<18|(f.getUint8(++w)&63)<<12|(f.getUint8(++w)&63)<<6|(f.getUint8(++w)&63)<<0,S>=65536?(S-=65536,x+=String.fromCharCode((S>>>10)+55296,(S&1023)+56320)):x+=String.fromCharCode(S);continue}throw new Error("Invalid byte "+k.toString(16))}return x}e.prototype._array=function(f){for(var y=new Array(f),g=0;g<f;g++)y[g]=this._parse();return y},e.prototype._map=function(f){for(var y="",g={},x=0;x<f;x++)y=this._parse(),g[y]=this._parse();return g},e.prototype._str=function(f){var y=t(this._view,this._offset,f);return this._offset+=f,y},e.prototype._bin=function(f){var y=this._buffer.slice(this._offset,this._offset+f);return this._offset+=f,y},e.prototype._parse=function(){var f=this._view.getUint8(this._offset++),y,g=0,x=0,S=0,w=0;if(f<192)return f<128?f:f<144?this._map(f&15):f<160?this._array(f&15):this._str(f&31);if(f>223)return(255-f+1)*-1;switch(f){case 192:return null;case 194:return!1;case 195:return!0;case 196:return g=this._view.getUint8(this._offset),this._offset+=1,this._bin(g);case 197:return g=this._view.getUint16(this._offset),this._offset+=2,this._bin(g);case 198:return g=this._view.getUint32(this._offset),this._offset+=4,this._bin(g);case 199:if(g=this._view.getUint8(this._offset),x=this._view.getInt8(this._offset+1),this._offset+=2,x===-1){var P=this._view.getUint32(this._offset);return S=this._view.getInt32(this._offset+4),w=this._view.getUint32(this._offset+8),this._offset+=12,new Date((S*4294967296+w)*1e3+P/1e6)}return[x,this._bin(g)];case 200:return g=this._view.getUint16(this._offset),x=this._view.getInt8(this._offset+2),this._offset+=3,[x,this._bin(g)];case 201:return g=this._view.getUint32(this._offset),x=this._view.getInt8(this._offset+4),this._offset+=5,[x,this._bin(g)];case 202:return y=this._view.getFloat32(this._offset),this._offset+=4,y;case 203:return y=this._view.getFloat64(this._offset),this._offset+=8,y;case 204:return y=this._view.getUint8(this._offset),this._offset+=1,y;case 205:return y=this._view.getUint16(this._offset),this._offset+=2,y;case 206:return y=this._view.getUint32(this._offset),this._offset+=4,y;case 207:return S=this._view.getUint32(this._offset)*Math.pow(2,32),w=this._view.getUint32(this._offset+4),this._offset+=8,S+w;case 208:return y=this._view.getInt8(this._offset),this._offset+=1,y;case 209:return y=this._view.getInt16(this._offset),this._offset+=2,y;case 210:return y=this._view.getInt32(this._offset),this._offset+=4,y;case 211:return S=this._view.getInt32(this._offset)*Math.pow(2,32),w=this._view.getUint32(this._offset+4),this._offset+=8,S+w;case 212:if(x=this._view.getInt8(this._offset),this._offset+=1,x===0){this._offset+=1;return}return[x,this._bin(1)];case 213:return x=this._view.getInt8(this._offset),this._offset+=1,[x,this._bin(2)];case 214:return x=this._view.getInt8(this._offset),this._offset+=1,x===-1?(y=this._view.getUint32(this._offset),this._offset+=4,new Date(y*1e3)):[x,this._bin(4)];case 215:if(x=this._view.getInt8(this._offset),this._offset+=1,x===0)return S=this._view.getInt32(this._offset)*Math.pow(2,32),w=this._view.getUint32(this._offset+4),this._offset+=8,new Date(S+w);if(x===-1){S=this._view.getUint32(this._offset),w=this._view.getUint32(this._offset+4),this._offset+=8;var k=(S&3)*4294967296+w;return new Date(k*1e3+(S>>>2)/1e6)}return[x,this._bin(8)];case 216:return x=this._view.getInt8(this._offset),this._offset+=1,[x,this._bin(16)];case 217:return g=this._view.getUint8(this._offset),this._offset+=1,this._str(g);case 218:return g=this._view.getUint16(this._offset),this._offset+=2,this._str(g);case 219:return g=this._view.getUint32(this._offset),this._offset+=4,this._str(g);case 220:return g=this._view.getUint16(this._offset),this._offset+=2,this._array(g);case 221:return g=this._view.getUint32(this._offset),this._offset+=4,this._array(g);case 222:return g=this._view.getUint16(this._offset),this._offset+=2,this._map(g);case 223:return g=this._view.getUint32(this._offset),this._offset+=4,this._map(g)}throw new Error("Could not parse")};function i(f,y=0){var g=new e(f,y),x=g._parse();if(g._offset!==f.byteLength)throw new Error(f.byteLength-g._offset+" trailing bytes");return x}gl.decode=i;var a=4294967296-1,u=17179869184-1;function d(f,y,g){for(var x=0,S=0,w=g.length;S<w;S++)x=g.charCodeAt(S),x<128?f.setUint8(y++,x):x<2048?(f.setUint8(y++,192|x>>6),f.setUint8(y++,128|x&63)):x<55296||x>=57344?(f.setUint8(y++,224|x>>12),f.setUint8(y++,128|x>>6&63),f.setUint8(y++,128|x&63)):(S++,x=65536+((x&1023)<<10|g.charCodeAt(S)&1023),f.setUint8(y++,240|x>>18),f.setUint8(y++,128|x>>12&63),f.setUint8(y++,128|x>>6&63),f.setUint8(y++,128|x&63))}function c(f){for(var y=0,g=0,x=0,S=f.length;x<S;x++)y=f.charCodeAt(x),y<128?g+=1:y<2048?g+=2:y<55296||y>=57344?g+=3:(x++,g+=4);return g}function h(f,y,g){var x=typeof g,S=0,w=0,P=0,k=0,b=0,R=0;if(x==="string"){if(b=c(g),b<32)f.push(b|160),R=1;else if(b<256)f.push(217,b),R=2;else if(b<65536)f.push(218,b>>8,b),R=3;else if(b<4294967296)f.push(219,b>>24,b>>16,b>>8,b),R=5;else throw new Error("String too long");return y.push({_str:g,_length:b,_offset:f.length}),R+b}if(x==="number")return Math.floor(g)!==g||!isFinite(g)?(f.push(203),y.push({_float:g,_length:8,_offset:f.length}),9):g>=0?g<128?(f.push(g),1):g<256?(f.push(204,g),2):g<65536?(f.push(205,g>>8,g),3):g<4294967296?(f.push(206,g>>24,g>>16,g>>8,g),5):(P=g/Math.pow(2,32)>>0,k=g>>>0,f.push(207,P>>24,P>>16,P>>8,P,k>>24,k>>16,k>>8,k),9):g>=-32?(f.push(g),1):g>=-128?(f.push(208,g),2):g>=-32768?(f.push(209,g>>8,g),3):g>=-2147483648?(f.push(210,g>>24,g>>16,g>>8,g),5):(P=Math.floor(g/Math.pow(2,32)),k=g>>>0,f.push(211,P>>24,P>>16,P>>8,P,k>>24,k>>16,k>>8,k),9);if(x==="object"){if(g===null)return f.push(192),1;if(Array.isArray(g)){if(b=g.length,b<16)f.push(b|144),R=1;else if(b<65536)f.push(220,b>>8,b),R=3;else if(b<4294967296)f.push(221,b>>24,b>>16,b>>8,b),R=5;else throw new Error("Array too large");for(S=0;S<b;S++)R+=h(f,y,g[S]);return R}if(g instanceof Date){var C=g.getTime(),I=Math.floor(C/1e3),L=(C-I*1e3)*1e6;return I>=0&&L>=0&&I<=u?L===0&&I<=a?(f.push(214,255,I>>24,I>>16,I>>8,I),6):(P=I/4294967296,k=I&4294967295,f.push(215,255,L>>22,L>>14,L>>6,P,k>>24,k>>16,k>>8,k),10):(P=Math.floor(I/4294967296),k=I>>>0,f.push(199,12,255,L>>24,L>>16,L>>8,L,P>>24,P>>16,P>>8,P,k>>24,k>>16,k>>8,k),15)}if(g instanceof ArrayBuffer){if(b=g.byteLength,b<256)f.push(196,b),R=2;else if(b<65536)f.push(197,b>>8,b),R=3;else if(b<4294967296)f.push(198,b>>24,b>>16,b>>8,b),R=5;else throw new Error("Buffer too large");return y.push({_bin:g,_length:b,_offset:f.length}),R+b}if(typeof g.toJSON=="function")return h(f,y,g.toJSON());var B=[],W="",F=Object.keys(g);for(S=0,w=F.length;S<w;S++)W=F[S],g[W]!==void 0&&typeof g[W]!="function"&&B.push(W);if(b=B.length,b<16)f.push(b|128),R=1;else if(b<65536)f.push(222,b>>8,b),R=3;else if(b<4294967296)f.push(223,b>>24,b>>16,b>>8,b),R=5;else throw new Error("Object too large");for(S=0;S<b;S++)W=B[S],R+=h(f,y,W),R+=h(f,y,g[W]);return R}if(x==="boolean")return f.push(g?195:194),1;if(x==="undefined")return f.push(192),1;if(typeof g.toJSON=="function")return h(f,y,g.toJSON());throw new Error("Could not encode")}function m(f){var y=[],g=[],x=h(y,g,f),S=new ArrayBuffer(x),w=new DataView(S),P=0,k=0,b=-1;g.length>0&&(b=g[0]._offset);for(var R,C=0,I=0,L=0,B=y.length;L<B;L++)if(w.setUint8(k+L,y[L]),L+1===b){if(R=g[P],C=R._length,I=k+b,R._bin)for(var W=new Uint8Array(R._bin),F=0;F<C;F++)w.setUint8(I+F,W[F]);else R._str?d(w,I,R._str):R._float!==void 0&&w.setFloat64(I,R._float);P++,k+=C,g[P]&&(b=g[P]._offset)}return S}return gl.encode=m,gl}var $c={},vl={},yp,Gv;function n7(){return Gv||(Gv=1,yp=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),yp}var $v;function r7(){if($v)return vl;$v=1;var e=vl&&vl.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(vl,"__esModule",{value:!0}),vl.WebSocketTransport=void 0;const t=e(n7()),i=globalThis.WebSocket||t.default;let a=class{constructor(d){this.events=d}send(d){d instanceof ArrayBuffer?this.ws.send(d):Array.isArray(d)&&this.ws.send(new Uint8Array(d).buffer)}connect(d){this.ws=new i(d,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(d,c){this.ws.close(d,c)}get isOpen(){return this.ws.readyState===i.OPEN}};return vl.WebSocketTransport=a,vl}var Wv;function i7(){if(Wv)return $c;Wv=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.Connection=void 0;const e=r7();let t=class{constructor(){this.events={},this.transport=new e.WebSocketTransport(this.events)}send(a){this.transport.send(a)}connect(a){this.transport.connect(a)}close(a,u){this.transport.close(a,u)}get isOpen(){return this.transport.isOpen}};return $c.Connection=t,$c}var xp={},Hv;function n4(){return Hv||(Hv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Length=e.utf8Read=e.ErrorCode=e.Protocol=void 0,function(a){a[a.HANDSHAKE=9]="HANDSHAKE",a[a.JOIN_ROOM=10]="JOIN_ROOM",a[a.ERROR=11]="ERROR",a[a.LEAVE_ROOM=12]="LEAVE_ROOM",a[a.ROOM_DATA=13]="ROOM_DATA",a[a.ROOM_STATE=14]="ROOM_STATE",a[a.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",a[a.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",a[a.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),function(a){a[a.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",a[a.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",a[a.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",a[a.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",a[a.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",a[a.AUTH_FAILED=4215]="AUTH_FAILED",a[a.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(e.ErrorCode||(e.ErrorCode={}));function t(a,u){const d=a[u++];for(var c="",h=0,m=u,f=u+d;m<f;m++){var y=a[m];if((y&128)===0){c+=String.fromCharCode(y);continue}if((y&224)===192){c+=String.fromCharCode((y&31)<<6|a[++m]&63);continue}if((y&240)===224){c+=String.fromCharCode((y&15)<<12|(a[++m]&63)<<6|(a[++m]&63)<<0);continue}if((y&248)===240){h=(y&7)<<18|(a[++m]&63)<<12|(a[++m]&63)<<6|(a[++m]&63)<<0,h>=65536?(h-=65536,c+=String.fromCharCode((h>>>10)+55296,(h&1023)+56320)):c+=String.fromCharCode(h);continue}throw new Error("Invalid byte "+y.toString(16))}return c}e.utf8Read=t;function i(a=""){let u=0,d=0;for(let c=0,h=a.length;c<h;c++)u=a.charCodeAt(c),u<128?d+=1:u<2048?d+=2:u<55296||u>=57344?d+=3:(c++,d+=4);return d+1}e.utf8Length=i}(xp)),xp}var yl={},qv;function r4(){if(qv)return yl;qv=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.getSerializer=yl.registerSerializer=void 0;const e={};function t(a,u){e[a]=u}yl.registerSerializer=t;function i(a){const u=e[a];if(!u)throw new Error("missing serializer: "+a);return u}return yl.getSerializer=i,yl}var Wc={},Kv;function i4(){if(Kv)return Wc;Kv=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.createNanoEvents=void 0;const e=()=>({emit(t,...i){let a=this.events[t]||[];for(let u=0,d=a.length;u<d;u++)a[u](...i)},events:{},on(t,i){var a;return!((a=this.events[t])===null||a===void 0)&&a.push(i)||(this.events[t]=[i]),()=>{var u;this.events[t]=(u=this.events[t])===null||u===void 0?void 0:u.filter(d=>i!==d)}}});return Wc.createNanoEvents=e,Wc}var xl={},Yv;function s7(){if(Yv)return xl;Yv=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.createSignal=xl.EventEmitter=void 0;class e{constructor(){this.handlers=[]}register(a,u=!1){return this.handlers.push(a),this}invoke(...a){this.handlers.forEach(u=>u.apply(this,a))}invokeAsync(...a){return Promise.all(this.handlers.map(u=>u.apply(this,a)))}remove(a){const u=this.handlers.indexOf(a);this.handlers[u]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}xl.EventEmitter=e;function t(){const i=new e;function a(u){return i.register(u,this===null)}return a.once=u=>{const d=function(...c){u.apply(this,c),i.remove(d)};i.register(d)},a.remove=u=>i.remove(u),a.invoke=(...u)=>i.invoke(...u),a.invokeAsync=(...u)=>i.invokeAsync(...u),a.clear=()=>i.clear(),a}return xl.createSignal=t,xl}var Bd={exports:{}},o7=Bd.exports,Xv;function s4(){return Xv||(Xv=1,function(e,t){(function(i,a){a(t)})(o7,function(i){var a=function(O,T){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,H){for(var ce in H)Object.prototype.hasOwnProperty.call(H,ce)&&(D[ce]=H[ce])},a(O,T)};function u(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");a(O,T);function D(){this.constructor=O}O.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}function d(O,T,D,H){var ce=arguments.length,we=ce<3?T:H,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(O,T,D,H);else for(var De=O.length-1;De>=0;De--)(qe=O[De])&&(we=(ce<3?qe(we):ce>3?qe(T,D,we):qe(T,D))||we);return ce>3&&we&&Object.defineProperty(T,D,we),we}function c(O,T,D){if(arguments.length===2)for(var H=0,ce=T.length,we;H<ce;H++)(we||!(H in T))&&(we||(we=Array.prototype.slice.call(T,0,H)),we[H]=T[H]);return O.concat(we||Array.prototype.slice.call(T))}typeof SuppressedError=="function"&&SuppressedError;var h=255,m=213;i.OPERATION=void 0,function(O){O[O.ADD=128]="ADD",O[O.REPLACE=0]="REPLACE",O[O.DELETE=64]="DELETE",O[O.DELETE_AND_ADD=192]="DELETE_AND_ADD",O[O.TOUCH=1]="TOUCH",O[O.CLEAR=10]="CLEAR"}(i.OPERATION||(i.OPERATION={}));var f=function(){function O(T,D,H){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=T,this.setParent(D,H)}return O.prototype.setParent=function(T,D,H){var ce=this;if(this.indexes||(this.indexes=this.ref instanceof Vn?this.ref._definition.indexes:{}),this.parent=T,this.parentIndex=H,!!D)if(this.root=D,this.ref instanceof Vn){var we=this.ref._definition;for(var qe in we.schema){var De=this.ref[qe];if(De&&De.$changes){var vt=we.indexes[qe];De.$changes.setParent(this.ref,D,vt)}}}else typeof this.ref=="object"&&this.ref.forEach(function(pt,Ke){if(pt instanceof Vn){var mt=pt.$changes,We=ce.ref.$changes.indexes[Ke];mt.setParent(ce.ref,ce.root,We)}})},O.prototype.operation=function(T){this.changes.set(--this.currentCustomOperation,T)},O.prototype.change=function(T,D){D===void 0&&(D=i.OPERATION.ADD);var H=typeof T=="number"?T:this.indexes[T];this.assertValidIndex(H,T);var ce=this.changes.get(H);(!ce||ce.op===i.OPERATION.DELETE||ce.op===i.OPERATION.TOUCH)&&this.changes.set(H,{op:ce&&ce.op===i.OPERATION.DELETE?i.OPERATION.DELETE_AND_ADD:D,index:H}),this.allChanges.add(H),this.changed=!0,this.touchParents()},O.prototype.touch=function(T){var D=typeof T=="number"?T:this.indexes[T];this.assertValidIndex(D,T),this.changes.has(D)||this.changes.set(D,{op:i.OPERATION.TOUCH,index:D}),this.allChanges.add(D),this.touchParents()},O.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},O.prototype.getType=function(T){if(this.ref._definition){var D=this.ref._definition;return D.schema[D.fieldsByIndex[T]]}else{var D=this.parent._definition,H=D.schema[D.fieldsByIndex[this.parentIndex]];return Object.values(H)[0]}},O.prototype.getChildrenFilter=function(){var T=this.parent._definition.childFilters;return T&&T[this.parentIndex]},O.prototype.getValue=function(T){return this.ref.getByIndex(T)},O.prototype.delete=function(T){var D=typeof T=="number"?T:this.indexes[T];if(D===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(T," (").concat(D,")"));return}var H=this.getValue(D);this.changes.set(D,{op:i.OPERATION.DELETE,index:D}),this.allChanges.delete(D),delete this.caches[D],H&&H.$changes&&(H.$changes.parent=void 0),this.changed=!0,this.touchParents()},O.prototype.discard=function(T,D){var H=this;T===void 0&&(T=!1),D===void 0&&(D=!1),this.ref instanceof Vn||this.changes.forEach(function(ce){if(ce.op===i.OPERATION.DELETE){var we=H.ref.getIndex(ce.index);delete H.indexes[we]}}),this.changes.clear(),this.changed=T,D&&this.allChanges.clear(),this.currentCustomOperation=0},O.prototype.discardAll=function(){var T=this;this.changes.forEach(function(D){var H=T.getValue(D.index);H&&H.$changes&&H.$changes.discardAll()}),this.discard()},O.prototype.cache=function(T,D){this.caches[T]=D},O.prototype.clone=function(){return new O(this.ref,this.parent,this.root)},O.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},O.prototype.assertValidIndex=function(T,D){if(T===void 0)throw new Error('ChangeTree: missing index for field "'.concat(D,'"'))},O}();function y(O,T,D,H){return O[T]||(O[T]=[]),O[T].push(D),H==null||H.forEach(function(ce,we){return D(ce,we)}),function(){return x(O[T],O[T].indexOf(D))}}function g(O){var T=this,D=typeof this.$changes.getType()!="string";this.$items.forEach(function(H,ce){O.push({refId:T.$changes.refId,op:i.OPERATION.DELETE,field:ce,value:void 0,previousValue:H}),D&&T.$changes.root.removeRef(H.$changes.refId)})}function x(O,T){if(T===-1||T>=O.length)return!1;for(var D=O.length-1,H=T;H<D;H++)O[H]=O[H+1];return O.length=D,!0}var S=function(O,T){var D=O.toString(),H=T.toString();return D<H?-1:D>H?1:0};function w(O){return O.$proxy=!0,O=new Proxy(O,{get:function(T,D){return typeof D!="symbol"&&!isNaN(D)?T.at(D):T[D]},set:function(T,D,H){if(typeof D!="symbol"&&!isNaN(D)){var ce=Array.from(T.$items.keys()),we=parseInt(ce[D]||D);H==null?T.deleteAt(we):T.setAt(we,H)}else T[D]=H;return!0},deleteProperty:function(T,D){return typeof D=="number"?T.deleteAt(D):delete T[D],!0},has:function(T,D){return typeof D!="symbol"&&!isNaN(Number(D))?T.$items.has(Number(D)):Reflect.has(T,D)}}),O}var P=function(){function O(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,T)}return O.prototype.onAdd=function(T,D){return D===void 0&&(D=!0),y(this.$callbacks||(this.$callbacks={}),i.OPERATION.ADD,T,D?this.$items:void 0)},O.prototype.onRemove=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.DELETE,T)},O.prototype.onChange=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.REPLACE,T)},O.is=function(T){return Array.isArray(T)||T.array!==void 0},Object.defineProperty(O.prototype,"length",{get:function(){return this.$items.size},set:function(T){T===0?this.clear():this.splice(T,this.length-T)},enumerable:!1,configurable:!0}),O.prototype.push=function(){for(var T=this,D=[],H=0;H<arguments.length;H++)D[H]=arguments[H];var ce;return D.forEach(function(we){ce=T.$refId++,T.setAt(ce,we)}),ce},O.prototype.pop=function(){var T=Array.from(this.$indexes.values()).pop();if(T!==void 0){this.$changes.delete(T),this.$indexes.delete(T);var D=this.$items.get(T);return this.$items.delete(T),D}},O.prototype.at=function(T){if(T=Math.trunc(T)||0,T<0&&(T+=this.length),!(T<0||T>=this.length)){var D=Array.from(this.$items.keys())[T];return this.$items.get(D)}},O.prototype.setAt=function(T,D){var H,ce;if(D==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(T)!==D){D.$changes!==void 0&&D.$changes.setParent(this,this.$changes.root,T);var we=(ce=(H=this.$changes.indexes[T])===null||H===void 0?void 0:H.op)!==null&&ce!==void 0?ce:i.OPERATION.ADD;this.$changes.indexes[T]=T,this.$indexes.set(T,T),this.$items.set(T,D),this.$changes.change(T,we)}},O.prototype.deleteAt=function(T){var D=Array.from(this.$items.keys())[T];return D===void 0?!1:this.$deleteAt(D)},O.prototype.$deleteAt=function(T){return this.$changes.delete(T),this.$indexes.delete(T),this.$items.delete(T)},O.prototype.clear=function(T){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),T&&g.call(this,T),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.concat=function(){for(var T,D=[],H=0;H<arguments.length;H++)D[H]=arguments[H];return new(O.bind.apply(O,c([void 0],(T=Array.from(this.$items.values())).concat.apply(T,D),!1)))},O.prototype.join=function(T){return Array.from(this.$items.values()).join(T)},O.prototype.reverse=function(){var T=this,D=Array.from(this.$items.keys()),H=Array.from(this.$items.values()).reverse();return H.forEach(function(ce,we){T.setAt(D[we],ce)}),this},O.prototype.shift=function(){var T=Array.from(this.$items.keys()),D=T.shift();if(D!==void 0){var H=this.$items.get(D);return this.$deleteAt(D),H}},O.prototype.slice=function(T,D){var H=new O;return H.push.apply(H,Array.from(this.$items.values()).slice(T,D)),H},O.prototype.sort=function(T){var D=this;T===void 0&&(T=S);var H=Array.from(this.$items.keys()),ce=Array.from(this.$items.values()).sort(T);return ce.forEach(function(we,qe){D.setAt(H[qe],we)}),this},O.prototype.splice=function(T,D){D===void 0&&(D=this.length-T);for(var H=[],ce=2;ce<arguments.length;ce++)H[ce-2]=arguments[ce];for(var we=Array.from(this.$items.keys()),qe=[],De=T;De<T+D;De++)qe.push(this.$items.get(we[De])),this.$deleteAt(we[De]);for(var De=0;De<H.length;De++)this.setAt(T+De,H[De]);return qe},O.prototype.unshift=function(){for(var T=this,D=[],H=0;H<arguments.length;H++)D[H]=arguments[H];var ce=this.length,we=D.length,qe=Array.from(this.$items.values());return D.forEach(function(De,vt){T.setAt(vt,De)}),qe.forEach(function(De,vt){T.setAt(we+vt,De)}),ce+we},O.prototype.indexOf=function(T,D){return Array.from(this.$items.values()).indexOf(T,D)},O.prototype.lastIndexOf=function(T,D){return D===void 0&&(D=this.length-1),Array.from(this.$items.values()).lastIndexOf(T,D)},O.prototype.every=function(T,D){return Array.from(this.$items.values()).every(T,D)},O.prototype.some=function(T,D){return Array.from(this.$items.values()).some(T,D)},O.prototype.forEach=function(T,D){Array.from(this.$items.values()).forEach(T,D)},O.prototype.map=function(T,D){return Array.from(this.$items.values()).map(T,D)},O.prototype.filter=function(T,D){return Array.from(this.$items.values()).filter(T,D)},O.prototype.reduce=function(T,D){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},O.prototype.reduceRight=function(T,D){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},O.prototype.find=function(T,D){return Array.from(this.$items.values()).find(T,D)},O.prototype.findIndex=function(T,D){return Array.from(this.$items.values()).findIndex(T,D)},O.prototype.fill=function(T,D,H){throw new Error("ArraySchema#fill() not implemented")},O.prototype.copyWithin=function(T,D,H){throw new Error("ArraySchema#copyWithin() not implemented")},O.prototype.toString=function(){return this.$items.toString()},O.prototype.toLocaleString=function(){return this.$items.toLocaleString()},O.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(O,Symbol.species,{get:function(){return O},enumerable:!1,configurable:!0}),O.prototype.entries=function(){return this.$items.entries()},O.prototype.keys=function(){return this.$items.keys()},O.prototype.values=function(){return this.$items.values()},O.prototype.includes=function(T,D){return Array.from(this.$items.values()).includes(T,D)},O.prototype.flatMap=function(T,D){throw new Error("ArraySchema#flatMap() is not supported.")},O.prototype.flat=function(T){throw new Error("ArraySchema#flat() is not supported.")},O.prototype.findLast=function(){var T=Array.from(this.$items.values());return T.findLast.apply(T,arguments)},O.prototype.findLastIndex=function(){var T=Array.from(this.$items.values());return T.findLastIndex.apply(T,arguments)},O.prototype.with=function(T,D){var H=Array.from(this.$items.values());return H[T]=D,new(O.bind.apply(O,c([void 0],H,!1)))},O.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},O.prototype.toSorted=function(T){return Array.from(this.$items.values()).sort(T)},O.prototype.toSpliced=function(T,D){var H=Array.from(this.$items.values());return H.toSpliced.apply(H,arguments)},O.prototype.setIndex=function(T,D){this.$indexes.set(T,D)},O.prototype.getIndex=function(T){return this.$indexes.get(T)},O.prototype.getByIndex=function(T){return this.$items.get(this.$indexes.get(T))},O.prototype.deleteByIndex=function(T){var D=this.$indexes.get(T);this.$items.delete(D),this.$indexes.delete(T)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){return this.toArray().map(function(T){return typeof T.toJSON=="function"?T.toJSON():T})},O.prototype.clone=function(T){var D;return T?D=new(O.bind.apply(O,c([void 0],Array.from(this.$items.values()),!1))):D=new(O.bind.apply(O,c([void 0],this.map(function(H){return H.$changes?H.clone():H}),!1))),D},O}();function k(O){return O.$proxy=!0,O=new Proxy(O,{get:function(T,D){return typeof D!="symbol"&&typeof T[D]>"u"?T.get(D):T[D]},set:function(T,D,H){return typeof D!="symbol"&&D.indexOf("$")===-1&&D!=="onAdd"&&D!=="onRemove"&&D!=="onChange"?T.set(D,H):T[D]=H,!0},deleteProperty:function(T,D){return T.delete(D),!0}}),O}var b=function(){function O(T){var D=this;if(this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,T)if(T instanceof Map||T instanceof O)T.forEach(function(ce,we){return D.set(we,ce)});else for(var H in T)this.set(H,T[H])}return O.prototype.onAdd=function(T,D){return D===void 0&&(D=!0),y(this.$callbacks||(this.$callbacks={}),i.OPERATION.ADD,T,D?this.$items:void 0)},O.prototype.onRemove=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.DELETE,T)},O.prototype.onChange=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.REPLACE,T)},O.is=function(T){return T.map!==void 0},O.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(O.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(O,Symbol.species,{get:function(){return O},enumerable:!1,configurable:!0}),O.prototype.set=function(T,D){if(D==null)throw new Error("MapSchema#set('".concat(T,"', ").concat(D,"): trying to set ").concat(D," value on '").concat(T,"'."));T=T.toString();var H=typeof this.$changes.indexes[T]<"u",ce=H?this.$changes.indexes[T]:this.$refId++,we=H?i.OPERATION.REPLACE:i.OPERATION.ADD,qe=D.$changes!==void 0;if(qe&&D.$changes.setParent(this,this.$changes.root,ce),!H)this.$changes.indexes[T]=ce,this.$indexes.set(ce,T);else{if(!qe&&this.$items.get(T)===D)return;qe&&this.$items.get(T)!==D&&(we=i.OPERATION.ADD)}return this.$items.set(T,D),this.$changes.change(T,we),this},O.prototype.get=function(T){return this.$items.get(T)},O.prototype.delete=function(T){return this.$changes.delete(T.toString()),this.$items.delete(T)},O.prototype.clear=function(T){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),T&&g.call(this,T),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(T){return this.$items.has(T)},O.prototype.forEach=function(T){this.$items.forEach(T)},O.prototype.entries=function(){return this.$items.entries()},O.prototype.keys=function(){return this.$items.keys()},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(T,D){this.$indexes.set(T,D)},O.prototype.getIndex=function(T){return this.$indexes.get(T)},O.prototype.getByIndex=function(T){return this.$items.get(this.$indexes.get(T))},O.prototype.deleteByIndex=function(T){var D=this.$indexes.get(T);this.$items.delete(D),this.$indexes.delete(T)},O.prototype.toJSON=function(){var T={};return this.forEach(function(D,H){T[H]=typeof D.toJSON=="function"?D.toJSON():D}),T},O.prototype.clone=function(T){var D;return T?D=Object.assign(new O,this):(D=new O,this.forEach(function(H,ce){H.$changes?D.set(ce,H.clone()):D.set(ce,H)})),D},O}(),R={};function C(O,T){R[O]=T}function I(O){return R[O]}var L=function(){function O(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return O.create=function(T){var D=new O;return D.schema=Object.assign({},T&&T.schema||{}),D.indexes=Object.assign({},T&&T.indexes||{}),D.fieldsByIndex=Object.assign({},T&&T.fieldsByIndex||{}),D.descriptors=Object.assign({},T&&T.descriptors||{}),D.deprecated=Object.assign({},T&&T.deprecated||{}),D},O.prototype.addField=function(T,D){var H=this.getNextFieldIndex();this.fieldsByIndex[H]=T,this.indexes[T]=H,this.schema[T]=Array.isArray(D)?{array:D[0]}:D},O.prototype.hasField=function(T){return this.indexes[T]!==void 0},O.prototype.addFilter=function(T,D){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[T]]=D,this.indexesWithFilters.push(this.indexes[T]),!0},O.prototype.addChildrenFilter=function(T,D){var H=this.indexes[T],ce=this.schema[T];if(I(Object.keys(ce)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[H]=D,!0;console.warn("@filterChildren: field '".concat(T,"' can't have children. Ignoring filter."))},O.prototype.getChildrenFilter=function(T){return this.childFilters&&this.childFilters[this.indexes[T]]},O.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},O}();function B(O){return O._context&&O._context.useFilters}var W=function(){function O(){this.types={},this.schemas=new Map,this.useFilters=!1}return O.prototype.has=function(T){return this.schemas.has(T)},O.prototype.get=function(T){return this.types[T]},O.prototype.add=function(T,D){D===void 0&&(D=this.schemas.size),T._definition=L.create(T._definition),T._typeid=D,this.types[D]=T,this.schemas.set(T,D)},O.create=function(T){return T===void 0&&(T={}),function(D){return T.context||(T.context=new O),q(D,T)}},O}(),F=new W;function q(O,T){return T===void 0&&(T={}),function(D,H){var ce=T.context||F,we=D.constructor;if(we._context=ce,!O)throw new Error("".concat(we.name,': @type() reference provided for "').concat(H,`" is undefined. Make sure you don't have any circular dependencies.`));ce.has(we)||ce.add(we);var qe=we._definition;if(qe.addField(H,O),qe.descriptors[H]){if(qe.deprecated[H])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(H,"' definition on '").concat(we.name,`'.
Check @type() annotation`))}catch(We){var De=We.stack.split(`
`)[4].trim();throw new Error("".concat(We.message," ").concat(De))}}var vt=P.is(O),pt=!vt&&b.is(O);if(typeof O!="string"&&!Vn.is(O)){var Ke=Object.values(O)[0];typeof Ke!="string"&&!ce.has(Ke)&&ce.add(Ke)}if(T.manual){qe.descriptors[H]={enumerable:!0,configurable:!0,writable:!0};return}var mt="_".concat(H);qe.descriptors[mt]={enumerable:!1,configurable:!1,writable:!0},qe.descriptors[H]={get:function(){return this[mt]},set:function(We){We!==this[mt]&&(We!=null?(vt&&!(We instanceof P)&&(We=new(P.bind.apply(P,c([void 0],We,!1)))),pt&&!(We instanceof b)&&(We=new b(We)),We.$proxy===void 0&&(pt?We=k(We):vt&&(We=w(We))),this.$changes.change(H),We.$changes&&We.$changes.setParent(this,this.$changes.root,this._definition.indexes[H])):this[mt]&&this.$changes.delete(H),this[mt]=We)},enumerable:!0,configurable:!0}}}function G(O){return function(T,D){var H=T.constructor,ce=H._definition;ce.addFilter(D,O)&&(H._context.useFilters=!0)}}function X(O){return function(T,D){var H=T.constructor,ce=H._definition;ce.addChildrenFilter(D,O)&&(H._context.useFilters=!0)}}function ne(O){return O===void 0&&(O=!0),function(T,D){var H=T.constructor,ce=H._definition;ce.deprecated[D]=!0,O&&(ce.descriptors[D]={get:function(){throw new Error("".concat(D," is deprecated."))},set:function(we){},enumerable:!1,configurable:!0})}}function z(O,T,D){D===void 0&&(D={}),D.context||(D.context=O._context||D.context||F);for(var H in T)q(T[H],D)(O.prototype,H);return O}function V(O){for(var T=0,D=0,H=0,ce=O.length;H<ce;H++)T=O.charCodeAt(H),T<128?D+=1:T<2048?D+=2:T<55296||T>=57344?D+=3:(H++,D+=4);return D}function $(O,T,D){for(var H=0,ce=0,we=D.length;ce<we;ce++)H=D.charCodeAt(ce),H<128?O[T++]=H:H<2048?(O[T++]=192|H>>6,O[T++]=128|H&63):H<55296||H>=57344?(O[T++]=224|H>>12,O[T++]=128|H>>6&63,O[T++]=128|H&63):(ce++,H=65536+((H&1023)<<10|D.charCodeAt(ce)&1023),O[T++]=240|H>>18,O[T++]=128|H>>12&63,O[T++]=128|H>>6&63,O[T++]=128|H&63)}function Z(O,T){O.push(T&255)}function Q(O,T){O.push(T&255)}function re(O,T){O.push(T&255),O.push(T>>8&255)}function ie(O,T){O.push(T&255),O.push(T>>8&255)}function K(O,T){O.push(T&255),O.push(T>>8&255),O.push(T>>16&255),O.push(T>>24&255)}function ae(O,T){var D=T>>24,H=T>>16,ce=T>>8,we=T;O.push(we&255),O.push(ce&255),O.push(H&255),O.push(D&255)}function se(O,T){var D=Math.floor(T/Math.pow(2,32)),H=T>>>0;ae(O,H),ae(O,D)}function _e(O,T){var D=T/Math.pow(2,32)>>0,H=T>>>0;ae(O,H),ae(O,D)}function Se(O,T){Ce(O,T)}function be(O,T){Ge(O,T)}var Te=new Int32Array(2),ee=new Float32Array(Te.buffer),he=new Float64Array(Te.buffer);function Ce(O,T){ee[0]=T,K(O,Te[0])}function Ge(O,T){he[0]=T,K(O,Te[0]),K(O,Te[1])}function je(O,T){return Q(O,T?1:0)}function Qe(O,T){T||(T="");var D=V(T),H=0;if(D<32)O.push(D|160),H=1;else if(D<256)O.push(217),Q(O,D),H=2;else if(D<65536)O.push(218),ie(O,D),H=3;else if(D<4294967296)O.push(219),ae(O,D),H=5;else throw new Error("String too long");return $(O,O.length,T),H+D}function $e(O,T){if(isNaN(T))return $e(O,0);if(isFinite(T)){if(T!==(T|0))return O.push(203),Ge(O,T),9}else return $e(O,T>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return T>=0?T<128?(Q(O,T),1):T<256?(O.push(204),Q(O,T),2):T<65536?(O.push(205),ie(O,T),3):T<4294967296?(O.push(206),ae(O,T),5):(O.push(207),_e(O,T),9):T>=-32?(O.push(224|T+32),1):T>=-128?(O.push(208),Z(O,T),2):T>=-32768?(O.push(209),re(O,T),3):T>=-2147483648?(O.push(210),K(O,T),5):(O.push(211),se(O,T),9)}var qt=Object.freeze({__proto__:null,boolean:je,float32:Se,float64:be,int16:re,int32:K,int64:se,int8:Z,number:$e,string:Qe,uint16:ie,uint32:ae,uint64:_e,uint8:Q,utf8Write:$,writeFloat32:Ce,writeFloat64:Ge});function yt(O,T,D){for(var H="",ce=0,we=T,qe=T+D;we<qe;we++){var De=O[we];if((De&128)===0){H+=String.fromCharCode(De);continue}if((De&224)===192){H+=String.fromCharCode((De&31)<<6|O[++we]&63);continue}if((De&240)===224){H+=String.fromCharCode((De&15)<<12|(O[++we]&63)<<6|(O[++we]&63)<<0);continue}if((De&248)===240){ce=(De&7)<<18|(O[++we]&63)<<12|(O[++we]&63)<<6|(O[++we]&63)<<0,ce>=65536?(ce-=65536,H+=String.fromCharCode((ce>>>10)+55296,(ce&1023)+56320)):H+=String.fromCharCode(ce);continue}console.error("Invalid byte "+De.toString(16))}return H}function wn(O,T){return Gt(O,T)<<24>>24}function Gt(O,T){return O[T.offset++]}function an(O,T){return Jt(O,T)<<16>>16}function Jt(O,T){return O[T.offset++]|O[T.offset++]<<8}function kt(O,T){return O[T.offset++]|O[T.offset++]<<8|O[T.offset++]<<16|O[T.offset++]<<24}function xt(O,T){return kt(O,T)>>>0}function ir(O,T){return Qr(O,T)}function zn(O,T){return An(O,T)}function _n(O,T){var D=xt(O,T),H=kt(O,T)*Math.pow(2,32);return H+D}function rn(O,T){var D=xt(O,T),H=xt(O,T)*Math.pow(2,32);return H+D}var dn=new Int32Array(2),Ar=new Float32Array(dn.buffer),gr=new Float64Array(dn.buffer);function Qr(O,T){return dn[0]=kt(O,T),Ar[0]}function An(O,T){return dn[0]=kt(O,T),dn[1]=kt(O,T),gr[0]}function vr(O,T){return Gt(O,T)>0}function Io(O,T){var D=O[T.offset++],H;D<192?H=D&31:D===217?H=Gt(O,T):D===218?H=Jt(O,T):D===219&&(H=xt(O,T));var ce=yt(O,T.offset,H);return T.offset+=H,ce}function Lo(O,T){var D=O[T.offset];return D<192&&D>160||D===217||D===218||D===219}function yr(O,T){var D=O[T.offset++];if(D<128)return D;if(D===202)return Qr(O,T);if(D===203)return An(O,T);if(D===204)return Gt(O,T);if(D===205)return Jt(O,T);if(D===206)return xt(O,T);if(D===207)return rn(O,T);if(D===208)return wn(O,T);if(D===209)return an(O,T);if(D===210)return kt(O,T);if(D===211)return _n(O,T);if(D>223)return(255-D+1)*-1}function Hu(O,T){var D=O[T.offset];return D<128||D>=202&&D<=211}function Ia(O,T){return O[T.offset]<160}function $s(O,T){return O[T.offset-1]===h&&(O[T.offset]<128||O[T.offset]>=202&&O[T.offset]<=211)}var Oo=Object.freeze({__proto__:null,arrayCheck:Ia,boolean:vr,float32:ir,float64:zn,int16:an,int32:kt,int64:_n,int8:wn,number:yr,numberCheck:Hu,readFloat32:Qr,readFloat64:An,string:Io,stringCheck:Lo,switchStructureCheck:$s,uint16:Jt,uint32:xt,uint64:rn,uint8:Gt}),Ws=function(){function O(T){var D=this;this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,T&&T.forEach(function(H){return D.add(H)})}return O.prototype.onAdd=function(T,D){return D===void 0&&(D=!0),y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,T,D?this.$items:void 0)},O.prototype.onRemove=function(T){return y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,T)},O.prototype.onChange=function(T){return y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,T)},O.is=function(T){return T.collection!==void 0},O.prototype.add=function(T){var D=this.$refId++,H=T.$changes!==void 0;return H&&T.$changes.setParent(this,this.$changes.root,D),this.$changes.indexes[D]=D,this.$indexes.set(D,D),this.$items.set(D,T),this.$changes.change(D),D},O.prototype.at=function(T){var D=Array.from(this.$items.keys())[T];return this.$items.get(D)},O.prototype.entries=function(){return this.$items.entries()},O.prototype.delete=function(T){for(var D=this.$items.entries(),H,ce;(ce=D.next())&&!ce.done;)if(T===ce.value[1]){H=ce.value[0];break}return H===void 0?!1:(this.$changes.delete(H),this.$indexes.delete(H),this.$items.delete(H))},O.prototype.clear=function(T){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),T&&g.call(this,T),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(T){return Array.from(this.$items.values()).some(function(D){return D===T})},O.prototype.forEach=function(T){var D=this;this.$items.forEach(function(H,ce,we){return T(H,ce,D)})},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(T,D){this.$indexes.set(T,D)},O.prototype.getIndex=function(T){return this.$indexes.get(T)},O.prototype.getByIndex=function(T){return this.$items.get(this.$indexes.get(T))},O.prototype.deleteByIndex=function(T){var D=this.$indexes.get(T);this.$items.delete(D),this.$indexes.delete(T)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){var T=[];return this.forEach(function(D,H){T.push(typeof D.toJSON=="function"?D.toJSON():D)}),T},O.prototype.clone=function(T){var D;return T?D=Object.assign(new O,this):(D=new O,this.forEach(function(H){H.$changes?D.add(H.clone()):D.add(H)})),D},O}(),Hs=function(){function O(T){var D=this;this.$changes=new f(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,T&&T.forEach(function(H){return D.add(H)})}return O.prototype.onAdd=function(T,D){return D===void 0&&(D=!0),y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,T,D?this.$items:void 0)},O.prototype.onRemove=function(T){return y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,T)},O.prototype.onChange=function(T){return y(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,T)},O.is=function(T){return T.set!==void 0},O.prototype.add=function(T){var D,H;if(this.has(T))return!1;var ce=this.$refId++;T.$changes!==void 0&&T.$changes.setParent(this,this.$changes.root,ce);var we=(H=(D=this.$changes.indexes[ce])===null||D===void 0?void 0:D.op)!==null&&H!==void 0?H:i.OPERATION.ADD;return this.$changes.indexes[ce]=ce,this.$indexes.set(ce,ce),this.$items.set(ce,T),this.$changes.change(ce,we),ce},O.prototype.entries=function(){return this.$items.entries()},O.prototype.delete=function(T){for(var D=this.$items.entries(),H,ce;(ce=D.next())&&!ce.done;)if(T===ce.value[1]){H=ce.value[0];break}return H===void 0?!1:(this.$changes.delete(H),this.$indexes.delete(H),this.$items.delete(H))},O.prototype.clear=function(T){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),T&&g.call(this,T),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},O.prototype.has=function(T){for(var D=this.$items.values(),H=!1,ce;(ce=D.next())&&!ce.done;)if(T===ce.value){H=!0;break}return H},O.prototype.forEach=function(T){var D=this;this.$items.forEach(function(H,ce,we){return T(H,ce,D)})},O.prototype.values=function(){return this.$items.values()},Object.defineProperty(O.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),O.prototype.setIndex=function(T,D){this.$indexes.set(T,D)},O.prototype.getIndex=function(T){return this.$indexes.get(T)},O.prototype.getByIndex=function(T){return this.$items.get(this.$indexes.get(T))},O.prototype.deleteByIndex=function(T){var D=this.$indexes.get(T);this.$items.delete(D),this.$indexes.delete(T)},O.prototype.toArray=function(){return Array.from(this.$items.values())},O.prototype.toJSON=function(){var T=[];return this.forEach(function(D,H){T.push(typeof D.toJSON=="function"?D.toJSON():D)}),T},O.prototype.clone=function(T){var D;return T?D=Object.assign(new O,this):(D=new O,this.forEach(function(H){H.$changes?D.add(H.clone()):D.add(H)})),D},O}(),gs=function(){function O(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return O.prototype.addRefId=function(T){this.refIds.has(T)||(this.refIds.add(T),this.containerIndexes.set(T,new Set))},O.get=function(T){return T.$filterState===void 0&&(T.$filterState=new O),T.$filterState},O}(),vs=function(){function O(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return O.prototype.getNextUniqueId=function(){return this.nextUniqueId++},O.prototype.addRef=function(T,D,H){H===void 0&&(H=!0),this.refs.set(T,D),H&&(this.refCounts[T]=(this.refCounts[T]||0)+1)},O.prototype.removeRef=function(T){var D=this.refCounts[T];if(D===void 0){console.warn("trying to remove reference ".concat(T," that doesn't exist"));return}if(D===0){console.warn("trying to remove reference ".concat(T," with 0 refCount"));return}this.refCounts[T]=D-1,this.deletedRefs.add(T)},O.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},O.prototype.garbageCollectDeletedRefs=function(){var T=this;this.deletedRefs.forEach(function(D){if(!(T.refCounts[D]>0)){var H=T.refs.get(D);if(H instanceof Vn)for(var ce in H._definition.schema)typeof H._definition.schema[ce]!="string"&&H[ce]&&H[ce].$changes&&T.removeRef(H[ce].$changes.refId);else{var we=H.$changes.parent._definition,qe=we.schema[we.fieldsByIndex[H.$changes.parentIndex]];typeof Object.values(qe)[0]=="function"&&Array.from(H.values()).forEach(function(De){return T.removeRef(De.$changes.refId)})}T.refs.delete(D),delete T.refCounts[D]}}),this.deletedRefs.clear()},O}(),jo=function(O){u(T,O);function T(){return O!==null&&O.apply(this,arguments)||this}return T}(Error);function La(O,T,D,H){var ce,we=!1;switch(T){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":ce="number",isNaN(O)&&console.log('trying to encode "NaN" in '.concat(D.constructor.name,"#").concat(H));break;case"string":ce="string",we=!0;break;case"boolean":return}if(typeof O!==ce&&(!we||we&&O!==null)){var qe="'".concat(JSON.stringify(O),"'").concat(O&&O.constructor&&" (".concat(O.constructor.name,")")||"");throw new jo("a '".concat(ce,"' was expected, but ").concat(qe," was provided in ").concat(D.constructor.name,"#").concat(H))}}function Do(O,T,D,H){if(!(O instanceof T))throw new jo("a '".concat(T.name,"' was expected, but '").concat(O.constructor.name,"' was provided in ").concat(D.constructor.name,"#").concat(H))}function bl(O,T,D,H,ce){La(D,O,H,ce);var we=qt[O];if(we)we(T,D);else throw new jo("a '".concat(O,"' was expected, but ").concat(D," was provided in ").concat(H.constructor.name,"#").concat(ce))}function Fo(O,T,D){return Oo[O](T,D)}var Vn=function(){function O(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];Object.defineProperties(this,{$changes:{value:new f(this,void 0,new vs),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var H=this._definition.descriptors;H&&Object.defineProperties(this,H),T[0]&&this.assign(T[0])}return O.onError=function(T){console.error(T)},O.is=function(T){return T._definition&&T._definition.schema!==void 0},O.prototype.onChange=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.REPLACE,T)},O.prototype.onRemove=function(T){return y(this.$callbacks||(this.$callbacks={}),i.OPERATION.DELETE,T)},O.prototype.assign=function(T){return Object.assign(this,T),this},Object.defineProperty(O.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),O.prototype.setDirty=function(T,D){this.$changes.change(T,D)},O.prototype.listen=function(T,D,H){var ce=this;return H===void 0&&(H=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[T]||(this.$callbacks[T]=[]),this.$callbacks[T].push(D),H&&this[T]!==void 0&&D(this[T],void 0),function(){return x(ce.$callbacks[T],ce.$callbacks[T].indexOf(D))}},O.prototype.decode=function(T,D,H){D===void 0&&(D={offset:0}),H===void 0&&(H=this);var ce=[],we=this.$changes.root,qe=T.length,De=0;for(we.refs.set(De,this);D.offset<qe;){var vt=T[D.offset++];if(vt==h){De=yr(T,D);var pt=we.refs.get(De);if(!pt)throw new Error('"refId" not found: '.concat(De));H=pt;continue}var Ke=H.$changes,mt=H._definition!==void 0,We=mt?vt>>6<<6:vt;if(We===i.OPERATION.CLEAR){H.clear(ce);continue}var ct=mt?vt%(We||255):yr(T,D),tt=mt?H._definition.fieldsByIndex[ct]:"",ot=Ke.getType(ct),Ae=void 0,Ye=void 0,bn=void 0;if(mt?Ye=H["_".concat(tt)]:(Ye=H.getByIndex(ct),(We&i.OPERATION.ADD)===i.OPERATION.ADD?(bn=H instanceof b?Io(T,D):ct,H.setIndex(ct,bn)):bn=H.getIndex(ct)),(We&i.OPERATION.DELETE)===i.OPERATION.DELETE&&(We!==i.OPERATION.DELETE_AND_ADD&&H.deleteByIndex(ct),Ye&&Ye.$changes&&we.removeRef(Ye.$changes.refId),Ae=null),tt===void 0){console.warn("@colyseus/schema: definition mismatch");for(var Lt={offset:D.offset};D.offset<qe&&!($s(T,D)&&(Lt.offset=D.offset+1,we.refs.has(yr(T,Lt))));)D.offset++;continue}else if(We!==i.OPERATION.DELETE)if(O.is(ot)){var ut=yr(T,D);if(Ae=we.refs.get(ut),We!==i.OPERATION.REPLACE){var dt=this.getSchemaType(T,D,ot);Ae||(Ae=this.createTypeInstance(dt),Ae.$changes.refId=ut,Ye&&(Ae.$callbacks=Ye.$callbacks,Ye.$changes.refId&&ut!==Ye.$changes.refId&&we.removeRef(Ye.$changes.refId))),we.addRef(ut,Ae,Ae!==Ye)}}else if(typeof ot=="string")Ae=Fo(ot,T,D);else{var Ni=I(Object.keys(ot)[0]),Mr=yr(T,D),ln=we.refs.has(Mr)?Ye||we.refs.get(Mr):new Ni.constructor;if(Ae=ln.clone(!0),Ae.$changes.refId=Mr,Ye&&(Ae.$callbacks=Ye.$callbacks,Ye.$changes.refId&&Mr!==Ye.$changes.refId)){we.removeRef(Ye.$changes.refId);for(var Ct=Ye.entries(),rt=void 0;(rt=Ct.next())&&!rt.done;){var ht=rt.value,Mn=ht[0],hn=ht[1];ce.push({refId:Mr,op:i.OPERATION.DELETE,field:Mn,value:void 0,previousValue:hn})}}we.addRef(Mr,Ae,ln!==Ye)}if(Ae!=null){if(Ae.$changes&&Ae.$changes.setParent(Ke.ref,Ke.root,ct),H instanceof O)H[tt]=Ae;else if(H instanceof b){var Mn=bn;H.$items.set(Mn,Ae),H.$changes.allChanges.add(ct)}else if(H instanceof P)H.setAt(ct,Ae);else if(H instanceof Ws){var en=H.add(Ae);H.setIndex(ct,en)}else if(H instanceof Hs){var en=H.add(Ae);en!==!1&&H.setIndex(ct,en)}}Ye!==Ae&&ce.push({refId:De,op:We,field:tt,dynamicIndex:bn,value:Ae,previousValue:Ye})}return this._triggerChanges(ce),we.garbageCollectDeletedRefs(),ce},O.prototype.encode=function(T,D,H){T===void 0&&(T=!1),D===void 0&&(D=[]),H===void 0&&(H=!1);for(var ce=this.$changes,we=new WeakSet,qe=[ce],De=1,vt=0;vt<De;vt++){var pt=qe[vt],Ke=pt.ref,mt=Ke instanceof O;pt.ensureRefId(),we.add(pt),pt!==ce&&(pt.changed||T)&&(Q(D,h),$e(D,pt.refId));for(var We=T?Array.from(pt.allChanges):Array.from(pt.changes.values()),ct=0,tt=We.length;ct<tt;ct++){var ot=T?{op:i.OPERATION.ADD,index:We[ct]}:We[ct],Ae=ot.index,Ye=mt?Ke._definition.fieldsByIndex&&Ke._definition.fieldsByIndex[Ae]:Ae,bn=D.length;if(ot.op!==i.OPERATION.TOUCH)if(mt)Q(D,Ae|ot.op);else{if(Q(D,ot.op),ot.op===i.OPERATION.CLEAR)continue;$e(D,Ae)}if(!mt&&(ot.op&i.OPERATION.ADD)==i.OPERATION.ADD&&Ke instanceof b){var Lt=pt.ref.$indexes.get(Ae);Qe(D,Lt)}if(ot.op!==i.OPERATION.DELETE){var ut=pt.getType(Ae),dt=pt.getValue(Ae);if(dt&&dt.$changes&&!we.has(dt.$changes)&&(qe.push(dt.$changes),dt.$changes.ensureRefId(),De++),ot.op!==i.OPERATION.TOUCH){if(O.is(ut))Do(dt,ut,Ke,Ye),$e(D,dt.$changes.refId),(ot.op&i.OPERATION.ADD)===i.OPERATION.ADD&&this.tryEncodeTypeId(D,ut,dt.constructor);else if(typeof ut=="string")bl(ut,D,dt,Ke,Ye);else{var Ni=I(Object.keys(ut)[0]);Do(Ke["_".concat(Ye)],Ni.constructor,Ke,Ye),$e(D,dt.$changes.refId)}H&&pt.cache(Ae,D.slice(bn))}}}!T&&!H&&pt.discard()}return D},O.prototype.encodeAll=function(T){return this.encode(!0,[],T)},O.prototype.applyFilters=function(T,D){var H,ce;D===void 0&&(D=!1);for(var we=this,qe=new Set,De=gs.get(T),vt=[this.$changes],pt=1,Ke=[],mt=function(ct){var tt=vt[ct];if(qe.has(tt.refId))return"continue";var ot=tt.ref,Ae=ot instanceof O;Q(Ke,h),$e(Ke,tt.refId);var Ye=De.refIds.has(tt),bn=D||!Ye;De.addRefId(tt);var Lt=De.containerIndexes.get(tt),ut=bn?Array.from(tt.allChanges):Array.from(tt.changes.values());if(!D&&Ae&&ot._definition.indexesWithFilters){var dt=ot._definition.indexesWithFilters;dt.forEach(function(sr){!Lt.has(sr)&&tt.allChanges.has(sr)&&(bn?ut.push(sr):ut.push({op:i.OPERATION.ADD,index:sr}))})}for(var Ni=0,Mr=ut.length;Ni<Mr;Ni++){var ln=bn?{op:i.OPERATION.ADD,index:ut[Ni]}:ut[Ni];if(ln.op===i.OPERATION.CLEAR){Q(Ke,ln.op);continue}var Ct=ln.index;if(ln.op===i.OPERATION.DELETE){Ae?Q(Ke,ln.op|Ct):(Q(Ke,ln.op),$e(Ke,Ct));continue}var rt=tt.getValue(Ct),ht=tt.getType(Ct);if(Ae){var Mn=ot._definition.filters&&ot._definition.filters[Ct];if(Mn&&!Mn.call(ot,T,rt,we)){rt&&rt.$changes&&qe.add(rt.$changes.refId);continue}}else{var hn=tt.parent,Mn=tt.getChildrenFilter();if(Mn&&!Mn.call(hn,T,ot.$indexes.get(Ct),rt,we)){rt&&rt.$changes&&qe.add(rt.$changes.refId);continue}}if(rt.$changes&&(vt.push(rt.$changes),pt++),ln.op!==i.OPERATION.TOUCH)if(ln.op===i.OPERATION.ADD||Ae)Ke.push.apply(Ke,(H=tt.caches[Ct])!==null&&H!==void 0?H:[]),Lt.add(Ct);else if(Lt.has(Ct))Ke.push.apply(Ke,(ce=tt.caches[Ct])!==null&&ce!==void 0?ce:[]);else{if(Lt.add(Ct),Q(Ke,i.OPERATION.ADD),$e(Ke,Ct),ot instanceof b){var en=tt.ref.$indexes.get(Ct);Qe(Ke,en)}rt.$changes?$e(Ke,rt.$changes.refId):qt[ht](Ke,rt)}else if(rt.$changes&&!Ae){if(Q(Ke,i.OPERATION.ADD),$e(Ke,Ct),ot instanceof b){var en=tt.ref.$indexes.get(Ct);Qe(Ke,en)}$e(Ke,rt.$changes.refId)}}},We=0;We<pt;We++)mt(We);return Ke},O.prototype.clone=function(){var T,D=new this.constructor,H=this._definition.schema;for(var ce in H)typeof this[ce]=="object"&&typeof((T=this[ce])===null||T===void 0?void 0:T.clone)=="function"?D[ce]=this[ce].clone():D[ce]=this[ce];return D},O.prototype.toJSON=function(){var T=this._definition.schema,D=this._definition.deprecated,H={};for(var ce in T)!D[ce]&&this[ce]!==null&&typeof this[ce]<"u"&&(H[ce]=typeof this[ce].toJSON=="function"?this[ce].toJSON():this["_".concat(ce)]);return H},O.prototype.discardAllChanges=function(){this.$changes.discardAll()},O.prototype.getByIndex=function(T){return this[this._definition.fieldsByIndex[T]]},O.prototype.deleteByIndex=function(T){this[this._definition.fieldsByIndex[T]]=void 0},O.prototype.tryEncodeTypeId=function(T,D,H){D._typeid!==H._typeid&&(Q(T,m),$e(T,H._typeid))},O.prototype.getSchemaType=function(T,D,H){var ce;return T[D.offset]===m&&(D.offset++,ce=this.constructor._context.get(yr(T,D))),ce||H},O.prototype.createTypeInstance=function(T){var D=new T;return D.$changes.root=this.$changes.root,D},O.prototype._triggerChanges=function(T){for(var D,H,ce,we,qe,De,vt,pt,Ke,mt=new Set,We=this.$changes.root.refs,ct=function(ot){var Ae=T[ot],Ye=Ae.refId,bn=We.get(Ye),Lt=bn.$callbacks;if((Ae.op&i.OPERATION.DELETE)===i.OPERATION.DELETE&&Ae.previousValue instanceof O&&((H=(D=Ae.previousValue.$callbacks)===null||D===void 0?void 0:D[i.OPERATION.DELETE])===null||H===void 0||H.forEach(function(ut){return ut()})),!Lt)return"continue";if(bn instanceof O){if(!mt.has(Ye))try{(ce=Lt==null?void 0:Lt[i.OPERATION.REPLACE])===null||ce===void 0||ce.forEach(function(ut){return ut()})}catch(ut){O.onError(ut)}try{Lt.hasOwnProperty(Ae.field)&&((we=Lt[Ae.field])===null||we===void 0||we.forEach(function(ut){return ut(Ae.value,Ae.previousValue)}))}catch(ut){O.onError(ut)}}else Ae.op===i.OPERATION.ADD&&Ae.previousValue===void 0?(qe=Lt[i.OPERATION.ADD])===null||qe===void 0||qe.forEach(function(ut){var dt;return ut(Ae.value,(dt=Ae.dynamicIndex)!==null&&dt!==void 0?dt:Ae.field)}):Ae.op===i.OPERATION.DELETE?Ae.previousValue!==void 0&&((De=Lt[i.OPERATION.DELETE])===null||De===void 0||De.forEach(function(ut){var dt;return ut(Ae.previousValue,(dt=Ae.dynamicIndex)!==null&&dt!==void 0?dt:Ae.field)})):Ae.op===i.OPERATION.DELETE_AND_ADD&&(Ae.previousValue!==void 0&&((vt=Lt[i.OPERATION.DELETE])===null||vt===void 0||vt.forEach(function(ut){var dt;return ut(Ae.previousValue,(dt=Ae.dynamicIndex)!==null&&dt!==void 0?dt:Ae.field)})),(pt=Lt[i.OPERATION.ADD])===null||pt===void 0||pt.forEach(function(ut){var dt;return ut(Ae.value,(dt=Ae.dynamicIndex)!==null&&dt!==void 0?dt:Ae.field)})),Ae.value!==Ae.previousValue&&((Ke=Lt[i.OPERATION.REPLACE])===null||Ke===void 0||Ke.forEach(function(ut){var dt;return ut(Ae.value,(dt=Ae.dynamicIndex)!==null&&dt!==void 0?dt:Ae.field)}));mt.add(Ye)},tt=0;tt<T.length;tt++)ct(tt)},O._definition=L.create(),O}();function Oa(O){for(var T=[O.$changes],D=1,H={},ce=H,we=function(De){var vt=T[De];vt.changes.forEach(function(pt){var Ke=vt.ref,mt=pt.index,We=Ke._definition?Ke._definition.fieldsByIndex[mt]:Ke.$indexes.get(mt);ce[We]=vt.getValue(mt)})},qe=0;qe<D;qe++)we(qe);return H}var br={context:new W},qs=function(O){u(T,O);function T(){return O!==null&&O.apply(this,arguments)||this}return d([q("string",br)],T.prototype,"name",void 0),d([q("string",br)],T.prototype,"type",void 0),d([q("number",br)],T.prototype,"referencedType",void 0),T}(Vn),Hi=function(O){u(T,O);function T(){var D=O!==null&&O.apply(this,arguments)||this;return D.fields=new P,D}return d([q("number",br)],T.prototype,"id",void 0),d([q([qs],br)],T.prototype,"fields",void 0),T}(Vn),Ml=function(O){u(T,O);function T(){var D=O!==null&&O.apply(this,arguments)||this;return D.types=new P,D}return T.encode=function(D){var H,ce=D.constructor,we=new T;we.rootType=ce._typeid;var qe=function(Ke,mt){for(var We in mt){var ct=new qs;ct.name=We;var tt=void 0;if(typeof mt[We]=="string")tt=mt[We];else{var ot=mt[We],Ae=void 0;Vn.is(ot)?(tt="ref",Ae=mt[We]):(tt=Object.keys(ot)[0],typeof ot[tt]=="string"?tt+=":"+ot[tt]:Ae=ot[tt]),ct.referencedType=Ae?Ae._typeid:-1}ct.type=tt,Ke.fields.push(ct)}we.types.push(Ke)},De=(H=ce._context)===null||H===void 0?void 0:H.types;for(var vt in De){var pt=new Hi;pt.id=Number(vt),qe(pt,De[vt]._definition.schema)}return we.encodeAll()},T.decode=function(D,H){var ce=new W,we=new T;we.decode(D,H);var qe=we.types.reduce(function(mt,We){var ct=function(ot){u(Ae,ot);function Ae(){return ot!==null&&ot.apply(this,arguments)||this}return Ae}(Vn),tt=We.id;return mt[tt]=ct,ce.add(ct,tt),mt},{});we.types.forEach(function(mt){var We=qe[mt.id];mt.fields.forEach(function(ct){var tt;if(ct.referencedType!==void 0){var ot=ct.type,Ae=qe[ct.referencedType];if(!Ae){var Ye=ct.type.split(":");ot=Ye[0],Ae=Ye[1]}ot==="ref"?q(Ae,{context:ce})(We.prototype,ct.name):q((tt={},tt[ot]=Ae,tt),{context:ce})(We.prototype,ct.name)}else q(ct.type,{context:ce})(We.prototype,ct.name)})});var De=qe[we.rootType],vt=new De;for(var pt in De._definition.schema){var Ke=De._definition.schema[pt];typeof Ke!="string"&&(vt[pt]=typeof Ke=="function"?new Ke:new(I(Object.keys(Ke)[0])).constructor)}return vt},d([q([Hi],br)],T.prototype,"types",void 0),d([q("number",br)],T.prototype,"rootType",void 0),T}(Vn);C("map",{constructor:b}),C("array",{constructor:P}),C("set",{constructor:Hs}),C("collection",{constructor:Ws}),i.ArraySchema=P,i.CollectionSchema=Ws,i.Context=W,i.MapSchema=b,i.Reflection=Ml,i.ReflectionField=qs,i.ReflectionType=Hi,i.Schema=Vn,i.SchemaDefinition=L,i.SetSchema=Hs,i.decode=Oo,i.defineTypes=z,i.deprecated=ne,i.dumpChanges=Oa,i.encode=qt,i.filter=G,i.filterChildren=X,i.hasFilter=B,i.registerType=C,i.type=q})}(Bd,Bd.exports)),Bd.exports}var Qv;function a4(){if(Qv)return ls;Qv=1;var e=ls&&ls.__createBinding||(Object.create?function(x,S,w,P){P===void 0&&(P=w);var k=Object.getOwnPropertyDescriptor(S,w);(!k||("get"in k?!S.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return S[w]}}),Object.defineProperty(x,P,k)}:function(x,S,w,P){P===void 0&&(P=w),x[P]=S[w]}),t=ls&&ls.__setModuleDefault||(Object.create?function(x,S){Object.defineProperty(x,"default",{enumerable:!0,value:S})}:function(x,S){x.default=S}),i=ls&&ls.__importStar||function(x){if(x&&x.__esModule)return x;var S={};if(x!=null)for(var w in x)w!=="default"&&Object.prototype.hasOwnProperty.call(x,w)&&e(S,x,w);return t(S,x),S};Object.defineProperty(ls,"__esModule",{value:!0}),ls.Room=void 0;const a=i(t7()),u=i7(),d=n4(),c=r4(),h=i4(),m=s7(),f=s4(),y=rg();let g=class o4{constructor(S,w){this.onStateChange=(0,m.createSignal)(),this.onError=(0,m.createSignal)(),this.onLeave=(0,m.createSignal)(),this.onJoin=(0,m.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,h.createNanoEvents)(),this.roomId=null,this.name=S,w&&(this.serializer=new((0,c.getSerializer)("schema")),this.rootSchema=w,this.serializer.state=new w),this.onError((P,k)=>{var b;return(b=console.warn)===null||b===void 0?void 0:b.call(console,`colyseus.js - onError => (${P}) ${k}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(S,w,P=this){const k=new u.Connection;P.connection=k,k.events.onmessage=o4.prototype.onMessageCallback.bind(P),k.events.onclose=function(b){var R;if(!P.hasJoined){(R=console.warn)===null||R===void 0||R.call(console,`Room connection was closed unexpectedly (${b.code}): ${b.reason}`),P.onError.invoke(b.code,b.reason);return}b.code===y.CloseCode.DEVMODE_RESTART&&w?w():(P.onLeave.invoke(b.code,b.reason),P.destroy())},k.events.onerror=function(b){var R;(R=console.warn)===null||R===void 0||R.call(console,`Room, onError (${b.code}): ${b.reason}`),P.onError.invoke(b.code,b.reason)},k.connect(S)}leave(S=!0){return new Promise(w=>{this.onLeave(P=>w(P)),this.connection?S?this.connection.send([d.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(y.CloseCode.CONSENTED)})}onMessage(S,w){return this.onMessageHandlers.on(this.getMessageHandlerKey(S),w)}send(S,w){const P=[d.Protocol.ROOM_DATA];typeof S=="string"?f.encode.string(P,S):f.encode.number(P,S);let k;if(w!==void 0){const b=a.encode(w);k=new Uint8Array(P.length+b.byteLength),k.set(new Uint8Array(P),0),k.set(new Uint8Array(b),P.length)}else k=new Uint8Array(P);this.connection.send(k.buffer)}sendBytes(S,w){const P=[d.Protocol.ROOM_DATA_BYTES];typeof S=="string"?f.encode.string(P,S):f.encode.number(P,S);let k;k=new Uint8Array(P.length+(w.byteLength||w.length)),k.set(new Uint8Array(P),0),k.set(new Uint8Array(w),P.length),this.connection.send(k.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(S){const w=Array.from(new Uint8Array(S.data)),P=w[0];if(P===d.Protocol.JOIN_ROOM){let k=1;const b=(0,d.utf8Read)(w,k);if(k+=(0,d.utf8Length)(b),this.serializerId=(0,d.utf8Read)(w,k),k+=(0,d.utf8Length)(this.serializerId),!this.serializer){const R=(0,c.getSerializer)(this.serializerId);this.serializer=new R}w.length>k&&this.serializer.handshake&&this.serializer.handshake(w,{offset:k}),this.reconnectionToken=`${this.roomId}:${b}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([d.Protocol.JOIN_ROOM])}else if(P===d.Protocol.ERROR){const k={offset:1},b=f.decode.number(w,k),R=f.decode.string(w,k);this.onError.invoke(b,R)}else if(P===d.Protocol.LEAVE_ROOM)this.leave();else if(P===d.Protocol.ROOM_DATA_SCHEMA){const k={offset:1},R=this.serializer.getState().constructor._context.get(f.decode.number(w,k)),C=new R;C.decode(w,k),this.dispatchMessage(R,C)}else if(P===d.Protocol.ROOM_STATE)w.shift(),this.setState(w);else if(P===d.Protocol.ROOM_STATE_PATCH)w.shift(),this.patch(w);else if(P===d.Protocol.ROOM_DATA){const k={offset:1},b=f.decode.stringCheck(w,k)?f.decode.string(w,k):f.decode.number(w,k),R=w.length>k.offset?a.decode(S.data,k.offset):void 0;this.dispatchMessage(b,R)}else if(P===d.Protocol.ROOM_DATA_BYTES){const k={offset:1},b=f.decode.stringCheck(w,k)?f.decode.string(w,k):f.decode.number(w,k);this.dispatchMessage(b,new Uint8Array(w.slice(k.offset)))}}setState(S){this.serializer.setState(S),this.onStateChange.invoke(this.serializer.getState())}patch(S){this.serializer.patch(S),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(S,w){var P;const k=this.getMessageHandlerKey(S);this.onMessageHandlers.events[k]?this.onMessageHandlers.emit(k,w):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",S,w):(P=console.warn)===null||P===void 0||P.call(console,`colyseus.js: onMessage() not registered for type '${S}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(S){switch(typeof S){case"function":return`$${S._typeid}`;case"string":return S;case"number":return`i${S}`;default:throw new Error("invalid message type.")}}};return ls.Room=g,ls}var us={};function Zv(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function ps(e,t,i){return new Promise(function(a,u){i=i||{};var d=new XMLHttpRequest,c,h,m,f=i.body,y=i.headers||{};i.timeout&&(d.timeout=i.timeout),d.ontimeout=d.onerror=function(g){g.timeout=g.type=="timeout",u(g)},d.open(e,t.href||t),d.onload=function(){for(m=d.getAllResponseHeaders().trim().split(/[\r\n]+/),Zv(d,d);h=m.shift();)h=h.split(": "),d.headers[h.shift().toLowerCase()]=h.join(": ");if(h=d.headers["content-type"],h&&~h.indexOf("application/json"))try{d.data=JSON.parse(d.data,i.reviver)}catch(g){return Zv(d,g),u(g)}(d.status>=400?u:a)(d)},typeof FormData<"u"&&f instanceof FormData||f&&typeof f=="object"&&(y["content-type"]="application/json",f=JSON.stringify(f)),d.withCredentials=!!i.withCredentials;for(c in y)d.setRequestHeader(c,y[c]);d.send(f)})}var a7=ps.bind(ps,"GET"),l7=ps.bind(ps,"POST"),u7=ps.bind(ps,"PATCH"),c7=ps.bind(ps,"DELETE"),d7=ps.bind(ps,"PUT");const h7=Object.freeze(Object.defineProperty({__proto__:null,del:c7,get:a7,patch:u7,post:l7,put:d7,send:ps},Symbol.toStringTag,{value:"Module"})),f7=Yx(h7);var Jv;function p7(){if(Jv)return us;Jv=1;var e=us&&us.__createBinding||(Object.create?function(c,h,m,f){f===void 0&&(f=m);var y=Object.getOwnPropertyDescriptor(h,m);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(c,f,y)}:function(c,h,m,f){f===void 0&&(f=m),c[f]=h[m]}),t=us&&us.__setModuleDefault||(Object.create?function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}:function(c,h){c.default=h}),i=us&&us.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var m in c)m!=="default"&&Object.prototype.hasOwnProperty.call(c,m)&&e(h,c,m);return t(h,c),h};Object.defineProperty(us,"__esModule",{value:!0}),us.HTTP=void 0;const a=rg(),u=i(f7);let d=class{constructor(h){this.client=h}get(h,m={}){return this.request("get",h,m)}post(h,m={}){return this.request("post",h,m)}del(h,m={}){return this.request("del",h,m)}put(h,m={}){return this.request("put",h,m)}request(h,m,f={}){return u[h](this.client.getHttpEndpoint(m),this.getOptions(f)).catch(y=>{var g;const x=y.statusCode,S=((g=y.data)===null||g===void 0?void 0:g.error)||y.statusMessage||y.message;throw!x&&!S?y:new a.ServerError(x,S)})}getOptions(h){return this.authToken&&(h.headers||(h.headers={}),h.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(h.withCredentials=!0),h}};return us.HTTP=d,us}var cs={},Eo={},e2;function m7(){if(e2)return Eo;e2=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.getItem=Eo.removeItem=Eo.setItem=void 0;let e;function t(){if(!e)try{e=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return e||(e={cache:{},setItem:function(d,c){this.cache[d]=c},getItem:function(d){this.cache[d]},removeItem:function(d){delete this.cache[d]}}),e}function i(d,c){t().setItem(d,c)}Eo.setItem=i;function a(d){t().removeItem(d)}Eo.removeItem=a;function u(d,c){const h=t().getItem(d);typeof Promise>"u"||!(h instanceof Promise)?c(h):h.then(m=>c(m))}return Eo.getItem=u,Eo}var t2;function l4(){if(t2)return cs;t2=1;var e=cs&&cs.__awaiter||function(y,g,x,S){function w(P){return P instanceof x?P:new x(function(k){k(P)})}return new(x||(x=Promise))(function(P,k){function b(I){try{C(S.next(I))}catch(L){k(L)}}function R(I){try{C(S.throw(I))}catch(L){k(L)}}function C(I){I.done?P(I.value):w(I.value).then(b,R)}C((S=S.apply(y,g||[])).next())})},t=cs&&cs.__classPrivateFieldGet||function(y,g,x,S){if(x==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?y!==g||!S:!g.has(y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?S:x==="a"?S.call(y):S?S.value:g.get(y)},i=cs&&cs.__classPrivateFieldSet||function(y,g,x,S,w){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?y!==g||!w:!g.has(y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?w.call(y,x):w?w.value=x:g.set(y,x),x},a,u,d,c;Object.defineProperty(cs,"__esModule",{value:!0}),cs.Auth=void 0;const h=m7(),m=i4();let f=class{constructor(g){this.http=g,this.settings={path:"/auth",key:"colyseus-auth-token"},a.set(this,!1),u.set(this,void 0),d.set(this,void 0),c.set(this,(0,m.createNanoEvents)()),(0,h.getItem)(this.settings.key,x=>this.token=x)}set token(g){this.http.authToken=g}get token(){return this.http.authToken}onChange(g){const x=t(this,c,"f").on("change",g);return t(this,a,"f")||i(this,u,new Promise((S,w)=>{this.getUserData().then(P=>{this.emitChange(Object.assign(Object.assign({},P),{token:this.token}))}).catch(P=>{this.emitChange({user:null,token:void 0})}).finally(()=>{S()})}),"f"),i(this,a,!0,"f"),x}getUserData(){return e(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(g,x,S){return e(this,void 0,void 0,function*(){const w=(yield this.http.post(`${this.settings.path}/register`,{body:{email:g,password:x,options:S}})).data;return this.emitChange(w),w})}signInWithEmailAndPassword(g,x){return e(this,void 0,void 0,function*(){const S=(yield this.http.post(`${this.settings.path}/login`,{body:{email:g,password:x}})).data;return this.emitChange(S),S})}signInAnonymously(g){return e(this,void 0,void 0,function*(){const x=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:g}})).data;return this.emitChange(x),x})}sendPasswordResetEmail(g){return e(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:g}})).data})}signInWithProvider(g,x={}){return e(this,void 0,void 0,function*(){return new Promise((S,w)=>{const P=x.width||480,k=x.height||768,b=this.token?`?token=${this.token}`:"",R=`Login with ${g[0].toUpperCase()+g.substring(1)}`,C=this.http.client.getHttpEndpoint(`${x.prefix||`${this.settings.path}/provider`}/${g}${b}`),I=screen.width/2-P/2,L=screen.height/2-k/2;i(this,d,window.open(C,R,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+P+", height="+k+", top="+L+", left="+I),"f");const B=F=>{F.data.user===void 0&&F.data.token===void 0||(clearInterval(W),t(this,d,"f").close(),i(this,d,void 0,"f"),window.removeEventListener("message",B),F.data.error!==void 0?w(F.data.error):(S(F.data),this.emitChange(F.data)))},W=setInterval(()=>{(!t(this,d,"f")||t(this,d,"f").closed)&&(i(this,d,void 0,"f"),w("cancelled"),window.removeEventListener("message",B))},200);window.addEventListener("message",B)})})}signOut(){return e(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(g){g.token!==void 0&&(this.token=g.token,g.token===null?(0,h.removeItem)(this.settings.key):(0,h.setItem)(this.settings.key,g.token)),t(this,c,"f").emit("change",g)}};return cs.Auth=f,a=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,cs}var Hc={},n2;function g7(){if(n2)return Hc;n2=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.discordURLBuilder=void 0;function e(t){var i;const a=((i=window==null?void 0:window.location)===null||i===void 0?void 0:i.hostname)||"localhost",u=t.hostname.split("."),d=!t.hostname.includes("trycloudflare.com")&&!t.hostname.includes("discordsays.com")&&u.length>2?`/${u[0]}`:"";return t.pathname.startsWith("/.proxy")?`${t.protocol}//${a}${d}${t.pathname}${t.search}`:`${t.protocol}//${a}/.proxy/colyseus${d}${t.pathname}${t.search}`}return Hc.discordURLBuilder=e,Hc}var r2;function v7(){if(r2)return Co;r2=1;var e=Co&&Co.__awaiter||function(y,g,x,S){function w(P){return P instanceof x?P:new x(function(k){k(P)})}return new(x||(x=Promise))(function(P,k){function b(I){try{C(S.next(I))}catch(L){k(L)}}function R(I){try{C(S.throw(I))}catch(L){k(L)}}function C(I){I.done?P(I.value):w(I.value).then(b,R)}C((S=S.apply(y,g||[])).next())})},t;Object.defineProperty(Co,"__esModule",{value:!0}),Co.Client=Co.MatchMakeError=void 0;const i=rg(),a=a4(),u=p7(),d=l4(),c=g7();class h extends Error{constructor(g,x){super(g),this.code=x,Object.setPrototypeOf(this,h.prototype)}}Co.MatchMakeError=h;const m=typeof window<"u"&&typeof((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";let f=class{constructor(g=m,x){var S,w;if(typeof g=="string"){const P=g.startsWith("/")?new URL(g,m):new URL(g),k=P.protocol==="https:"||P.protocol==="wss:",b=Number(P.port||(k?443:80));this.settings={hostname:P.hostname,pathname:P.pathname,port:b,secure:k}}else g.port===void 0&&(g.port=g.secure?443:80),g.pathname===void 0&&(g.pathname=""),this.settings=g;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new u.HTTP(this),this.auth=new d.Auth(this.http),this.urlBuilder=x,!this.urlBuilder&&typeof window<"u"&&(!((w=(S=window==null?void 0:window.location)===null||S===void 0?void 0:S.hostname)===null||w===void 0)&&w.includes("discordsays.com"))&&(this.urlBuilder=c.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(g,x={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",g,x,S)})}create(g,x={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",g,x,S)})}join(g,x={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",g,x,S)})}joinById(g,x={},S){return e(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",g,x,S)})}reconnect(g,x){return e(this,void 0,void 0,function*(){if(typeof g=="string"&&typeof x=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[S,w]=g.split(":");if(!S||!w)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",S,{reconnectionToken:w},x)})}getAvailableRooms(g=""){return e(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${g}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(g,x,S){return e(this,void 0,void 0,function*(){const w=this.createRoom(g.room.name,x);w.roomId=g.room.roomId,w.sessionId=g.sessionId;const P={sessionId:w.sessionId};g.reconnectionToken&&(P.reconnectionToken=g.reconnectionToken);const k=S||w;return w.connect(this.buildEndpoint(g.room,P),g.devMode&&(()=>e(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${w.roomId}'...`);let b=0,R=8;const C=()=>e(this,void 0,void 0,function*(){b++;try{yield this.consumeSeatReservation(g,x,k),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${w.roomId}'`)}catch{b<R?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${b} out of ${R})`),setTimeout(C,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(C,2e3)})),k),new Promise((b,R)=>{const C=(I,L)=>R(new i.ServerError(I,L));k.onError.once(C),k.onJoin.once(()=>{k.onError.remove(C),b(k)})})})}createMatchMakeRequest(g,x,S={},w,P){return e(this,void 0,void 0,function*(){const k=(yield this.http.post(`matchmake/${g}/${x}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(S)})).data;if(k.error)throw new h(k.error,k.code);return g==="reconnect"&&(k.reconnectionToken=S.reconnectionToken),yield this.consumeSeatReservation(k,w,P)})}createRoom(g,x){return new a.Room(g,x)}buildEndpoint(g,x={}){const S=[];for(const k in x)x.hasOwnProperty(k)&&S.push(`${k}=${x[k]}`);let w=this.settings.secure?"wss://":"ws://";g.publicAddress?w+=`${g.publicAddress}`:w+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const P=`${w}/${g.processId}/${g.roomId}?${S.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(P)):P}getHttpEndpoint(g=""){const x=g.startsWith("/")?g:`/${g}`,S=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${x}`;return this.urlBuilder?this.urlBuilder(new URL(S)):S}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};return Co.Client=f,Co}var qc={},i2;function y7(){if(i2)return qc;i2=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.SchemaSerializer=void 0;const e=s4();let t=class{setState(a){return this.state.decode(a)}getState(){return this.state}patch(a){return this.state.decode(a)}teardown(){var a,u;(u=(a=this.state)===null||a===void 0?void 0:a.$changes)===null||u===void 0||u.root.clearRefs()}handshake(a,u){this.state?new e.Reflection().decode(a,u):this.state=e.Reflection.decode(a,u)}};return qc.SchemaSerializer=t,qc}var Kc={},s2;function x7(){if(s2)return Kc;s2=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.NoneSerializer=void 0;let e=class{setState(i){}getState(){return null}patch(i){}teardown(){}handshake(i){}};return Kc.NoneSerializer=e,Kc}var o2;function S7(){return o2||(o2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=e.registerSerializer=e.Auth=e.Room=e.ErrorCode=e.Protocol=e.Client=void 0,e7();var t=v7();Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return t.Client}});var i=n4();Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return i.Protocol}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return i.ErrorCode}});var a=a4();Object.defineProperty(e,"Room",{enumerable:!0,get:function(){return a.Room}});var u=l4();Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return u.Auth}});const d=y7();Object.defineProperty(e,"SchemaSerializer",{enumerable:!0,get:function(){return d.SchemaSerializer}});const c=x7(),h=r4();Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return h.registerSerializer}}),(0,h.registerSerializer)("schema",d.SchemaSerializer),(0,h.registerSerializer)("none",c.NoneSerializer)}(gp)),gp}var u4=S7(),zf={exports:{}},Yc={},Sp={},wp={},a2;function wt(){return a2||(a2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof Jg<"u"?Jg:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.2.3",isBrowser:i(),isUnminified:/param/.test((function(u){}).toString()),dblClickWindow:400,getAngle(u){return e.Konva.angleDeg?u*t:u},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(u){e.glob.Konva=u}};const a=u=>{e.Konva[u.prototype.getClassName()]=u};e._registerNode=a,e.Konva._injectGlobal(e.Konva)}(wp)),wp}var _p={},l2;function Sn(){return l2||(l2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=wt();class i{constructor(I=[1,0,0,1,0,0]){this.dirty=!1,this.m=I&&I.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(I){I.m[0]=this.m[0],I.m[1]=this.m[1],I.m[2]=this.m[2],I.m[3]=this.m[3],I.m[4]=this.m[4],I.m[5]=this.m[5]}point(I){var L=this.m;return{x:L[0]*I.x+L[2]*I.y+L[4],y:L[1]*I.x+L[3]*I.y+L[5]}}translate(I,L){return this.m[4]+=this.m[0]*I+this.m[2]*L,this.m[5]+=this.m[1]*I+this.m[3]*L,this}scale(I,L){return this.m[0]*=I,this.m[1]*=I,this.m[2]*=L,this.m[3]*=L,this}rotate(I){var L=Math.cos(I),B=Math.sin(I),W=this.m[0]*L+this.m[2]*B,F=this.m[1]*L+this.m[3]*B,q=this.m[0]*-B+this.m[2]*L,G=this.m[1]*-B+this.m[3]*L;return this.m[0]=W,this.m[1]=F,this.m[2]=q,this.m[3]=G,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(I,L){var B=this.m[0]+this.m[2]*L,W=this.m[1]+this.m[3]*L,F=this.m[2]+this.m[0]*I,q=this.m[3]+this.m[1]*I;return this.m[0]=B,this.m[1]=W,this.m[2]=F,this.m[3]=q,this}multiply(I){var L=this.m[0]*I.m[0]+this.m[2]*I.m[1],B=this.m[1]*I.m[0]+this.m[3]*I.m[1],W=this.m[0]*I.m[2]+this.m[2]*I.m[3],F=this.m[1]*I.m[2]+this.m[3]*I.m[3],q=this.m[0]*I.m[4]+this.m[2]*I.m[5]+this.m[4],G=this.m[1]*I.m[4]+this.m[3]*I.m[5]+this.m[5];return this.m[0]=L,this.m[1]=B,this.m[2]=W,this.m[3]=F,this.m[4]=q,this.m[5]=G,this}invert(){var I=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),L=this.m[3]*I,B=-this.m[1]*I,W=-this.m[2]*I,F=this.m[0]*I,q=I*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),G=I*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=L,this.m[1]=B,this.m[2]=W,this.m[3]=F,this.m[4]=q,this.m[5]=G,this}getMatrix(){return this.m}decompose(){var I=this.m[0],L=this.m[1],B=this.m[2],W=this.m[3],F=this.m[4],q=this.m[5],G=I*W-L*B;let X={x:F,y:q,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(I!=0||L!=0){var ne=Math.sqrt(I*I+L*L);X.rotation=L>0?Math.acos(I/ne):-Math.acos(I/ne),X.scaleX=ne,X.scaleY=G/ne,X.skewX=(I*B+L*W)/G,X.skewY=0}else if(B!=0||W!=0){var z=Math.sqrt(B*B+W*W);X.rotation=Math.PI/2-(W>0?Math.acos(-B/z):-Math.acos(B/z)),X.scaleX=G/z,X.scaleY=z,X.skewX=0,X.skewY=(I*B+L*W)/G}return X.rotation=e.Util._getRotation(X.rotation),X}}e.Transform=i;var a="[object Array]",u="[object Number]",d="[object String]",c="[object Boolean]",h=Math.PI/180,m=180/Math.PI,f="#",y="",g="0",x="Konva warning: ",S="Konva error: ",w="rgb(",P={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},k=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,b=[];const R=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};e.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===a},_isNumber(C){return Object.prototype.toString.call(C)===u&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===d},_isBoolean(C){return Object.prototype.toString.call(C)===c},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;var I=C[0];return I==="#"||I==="."||I===I.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){b.push(C),b.length===1&&R(function(){const I=b;b=[],I.forEach(function(L){L()})})},createCanvasElement(){var C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,I){var L=e.Util.createImageElement();L.onload=function(){I(L)},L.src=C},_rgbToHex(C,I,L){return((1<<24)+(C<<16)+(I<<8)+L).toString(16).slice(1)},_hexToRgb(C){C=C.replace(f,y);var I=parseInt(C,16);return{r:I>>16&255,g:I>>8&255,b:I&255}},getRandomColor(){for(var C=(Math.random()*16777215<<0).toString(16);C.length<6;)C=g+C;return f+C},getRGB(C){var I;return C in P?(I=P[C],{r:I[0],g:I[1],b:I[2]}):C[0]===f?this._hexToRgb(C.substring(1)):C.substr(0,4)===w?(I=k.exec(C.replace(/ /g,"")),{r:parseInt(I[1],10),g:parseInt(I[2],10),b:parseInt(I[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",e.Util._namedColorToRBA(C)||e.Util._hex3ColorToRGBA(C)||e.Util._hex4ColorToRGBA(C)||e.Util._hex6ColorToRGBA(C)||e.Util._hex8ColorToRGBA(C)||e.Util._rgbColorToRGBA(C)||e.Util._rgbaColorToRGBA(C)||e.Util._hslColorToRGBA(C)},_namedColorToRBA(C){var I=P[C.toLowerCase()];return I?{r:I[0],g:I[1],b:I[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];var I=C.split(/ *, */).map(Number);return{r:I[0],g:I[1],b:I[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];var I=C.split(/ *, */).map((L,B)=>L.slice(-1)==="%"?B===3?parseInt(L)/100:parseInt(L)/100*255:Number(L));return{r:I[0],g:I[1],b:I[2],a:I[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[I,...L]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),B=Number(L[0])/360,W=Number(L[1])/100,F=Number(L[2])/100;let q,G,X;if(W===0)return X=F*255,{r:Math.round(X),g:Math.round(X),b:Math.round(X),a:1};F<.5?q=F*(1+W):q=F+W-F*W;const ne=2*F-q,z=[0,0,0];for(let V=0;V<3;V++)G=B+1/3*-(V-1),G<0&&G++,G>1&&G--,6*G<1?X=ne+(q-ne)*6*G:2*G<1?X=q:3*G<2?X=ne+(q-ne)*(2/3-G)*6:X=ne,z[V]=X*255;return{r:Math.round(z[0]),g:Math.round(z[1]),b:Math.round(z[2]),a:1}}},haveIntersection(C,I){return!(I.x>C.x+C.width||I.x+I.width<C.x||I.y>C.y+C.height||I.y+I.height<C.y)},cloneObject(C){var I={};for(var L in C)this._isPlainObject(C[L])?I[L]=this.cloneObject(C[L]):this._isArray(C[L])?I[L]=this.cloneArray(C[L]):I[L]=C[L];return I},cloneArray(C){return C.slice(0)},degToRad(C){return C*h},radToDeg(C){return C*m},_degToRad(C){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(C)},_radToDeg(C){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(C)},_getRotation(C){return t.Konva.angleDeg?e.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(S+C)},error(C){console.error(S+C)},warn(C){t.Konva.showWarnings&&console.warn(x+C)},each(C,I){for(var L in C)I(L,C[L])},_inRange(C,I,L){return I<=C&&C<L},_getProjectionToSegment(C,I,L,B,W,F){var q,G,X,ne=(C-L)*(C-L)+(I-B)*(I-B);if(ne==0)q=C,G=I,X=(W-L)*(W-L)+(F-B)*(F-B);else{var z=((W-C)*(L-C)+(F-I)*(B-I))/ne;z<0?(q=C,G=I,X=(C-W)*(C-W)+(I-F)*(I-F)):z>1?(q=L,G=B,X=(L-W)*(L-W)+(B-F)*(B-F)):(q=C+z*(L-C),G=I+z*(B-I),X=(q-W)*(q-W)+(G-F)*(G-F))}return[q,G,X]},_getProjectionToLine(C,I,L){var B=e.Util.cloneObject(C),W=Number.MAX_VALUE;return I.forEach(function(F,q){if(!(!L&&q===I.length-1)){var G=I[(q+1)%I.length],X=e.Util._getProjectionToSegment(F.x,F.y,G.x,G.y,C.x,C.y),ne=X[0],z=X[1],V=X[2];V<W&&(B.x=ne,B.y=z,W=V)}}),B},_prepareArrayForTween(C,I,L){var B,W=[],F=[];if(C.length>I.length){var q=I;I=C,C=q}for(B=0;B<C.length;B+=2)W.push({x:C[B],y:C[B+1]});for(B=0;B<I.length;B+=2)F.push({x:I[B],y:I[B+1]});var G=[];return F.forEach(function(X){var ne=e.Util._getProjectionToLine(X,W,L);G.push(ne.x),G.push(ne.y)}),G},_prepareToStringify(C){var I;C.visitedByCircularReferenceRemoval=!0;for(var L in C)if(C.hasOwnProperty(L)&&C[L]&&typeof C[L]=="object"){if(I=Object.getOwnPropertyDescriptor(C,L),C[L].visitedByCircularReferenceRemoval||e.Util._isElement(C[L]))if(I.configurable)delete C[L];else return null;else if(e.Util._prepareToStringify(C[L])===null)if(I.configurable)delete C[L];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,I){for(var L in I)C[L]=I[L];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){t.Konva.releaseCanvasOnDestroy&&C.forEach(I=>{I.width=0,I.height=0})},drawRoundedRectPath(C,I,L,B){let W=0,F=0,q=0,G=0;typeof B=="number"?W=F=q=G=Math.min(B,I/2,L/2):(W=Math.min(B[0]||0,I/2,L/2),F=Math.min(B[1]||0,I/2,L/2),G=Math.min(B[2]||0,I/2,L/2),q=Math.min(B[3]||0,I/2,L/2)),C.moveTo(W,0),C.lineTo(I-F,0),C.arc(I-F,F,F,Math.PI*3/2,0,!1),C.lineTo(I,L-G),C.arc(I-G,L-G,G,0,Math.PI/2,!1),C.lineTo(q,L),C.arc(q,L-q,q,Math.PI/2,Math.PI,!1),C.lineTo(0,W),C.arc(W,W,W,Math.PI,Math.PI*3/2,!1)}}}(_p)),_p}var Xc={},Cp={},nn={},u2;function Pt(){if(u2)return nn;u2=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.getComponentValidator=nn.getBooleanValidator=nn.getNumberArrayValidator=nn.getFunctionValidator=nn.getStringOrGradientValidator=nn.getStringValidator=nn.getNumberOrAutoValidator=nn.getNumberOrArrayOfNumbersValidator=nn.getNumberValidator=nn.alphaComponent=nn.RGBComponent=void 0;const e=wt(),t=Sn();function i(w){return t.Util._isString(w)?'"'+w+'"':Object.prototype.toString.call(w)==="[object Number]"||t.Util._isBoolean(w)?w:Object.prototype.toString.call(w)}function a(w){return w>255?255:w<0?0:Math.round(w)}nn.RGBComponent=a;function u(w){return w>1?1:w<1e-4?1e-4:w}nn.alphaComponent=u;function d(){if(e.Konva.isUnminified)return function(w,P){return t.Util._isNumber(w)||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a number.'),w}}nn.getNumberValidator=d;function c(w){if(e.Konva.isUnminified)return function(P,k){let b=t.Util._isNumber(P),R=t.Util._isArray(P)&&P.length==w;return!b&&!R&&t.Util.warn(i(P)+' is a not valid value for "'+k+'" attribute. The value should be a number or Array<number>('+w+")"),P}}nn.getNumberOrArrayOfNumbersValidator=c;function h(){if(e.Konva.isUnminified)return function(w,P){var k=t.Util._isNumber(w),b=w==="auto";return k||b||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a number or "auto".'),w}}nn.getNumberOrAutoValidator=h;function m(){if(e.Konva.isUnminified)return function(w,P){return t.Util._isString(w)||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a string.'),w}}nn.getStringValidator=m;function f(){if(e.Konva.isUnminified)return function(w,P){const k=t.Util._isString(w),b=Object.prototype.toString.call(w)==="[object CanvasGradient]"||w&&w.addColorStop;return k||b||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a string or a native gradient.'),w}}nn.getStringOrGradientValidator=f;function y(){if(e.Konva.isUnminified)return function(w,P){return t.Util._isFunction(w)||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a function.'),w}}nn.getFunctionValidator=y;function g(){if(e.Konva.isUnminified)return function(w,P){const k=Int8Array?Object.getPrototypeOf(Int8Array):null;return k&&w instanceof k||(t.Util._isArray(w)?w.forEach(function(b){t.Util._isNumber(b)||t.Util.warn('"'+P+'" attribute has non numeric element '+b+". Make sure that all elements are numbers.")}):t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a array of numbers.')),w}}nn.getNumberArrayValidator=g;function x(){if(e.Konva.isUnminified)return function(w,P){var k=w===!0||w===!1;return k||t.Util.warn(i(w)+' is a not valid value for "'+P+'" attribute. The value should be a boolean.'),w}}nn.getBooleanValidator=x;function S(w){if(e.Konva.isUnminified)return function(P,k){return P==null||t.Util.isObject(P)||t.Util.warn(i(P)+' is a not valid value for "'+k+'" attribute. The value should be an object with properties '+w),P}}return nn.getComponentValidator=S,nn}var c2;function _t(){return c2||(c2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Sn(),i=Pt();var a="get",u="set";e.Factory={addGetterSetter(d,c,h,m,f){e.Factory.addGetter(d,c,h),e.Factory.addSetter(d,c,m,f),e.Factory.addOverloadedGetterSetter(d,c)},addGetter(d,c,h){var m=a+t.Util._capitalize(c);d.prototype[m]=d.prototype[m]||function(){var f=this.attrs[c];return f===void 0?h:f}},addSetter(d,c,h,m){var f=u+t.Util._capitalize(c);d.prototype[f]||e.Factory.overWriteSetter(d,c,h,m)},overWriteSetter(d,c,h,m){var f=u+t.Util._capitalize(c);d.prototype[f]=function(y){return h&&y!==void 0&&y!==null&&(y=h.call(this,y,c)),this._setAttr(c,y),m&&m.call(this),this}},addComponentsGetterSetter(d,c,h,m,f){var y=h.length,g=t.Util._capitalize,x=a+g(c),S=u+g(c),w,P;d.prototype[x]=function(){var b={};for(w=0;w<y;w++)P=h[w],b[P]=this.getAttr(c+g(P));return b};var k=(0,i.getComponentValidator)(h);d.prototype[S]=function(b){var R=this.attrs[c],C;m&&(b=m.call(this,b)),k&&k.call(this,b,c);for(C in b)b.hasOwnProperty(C)&&this._setAttr(c+g(C),b[C]);return b||h.forEach(I=>{this._setAttr(c+g(I),void 0)}),this._fireChangeEvent(c,R,b),f&&f.call(this),this},e.Factory.addOverloadedGetterSetter(d,c)},addOverloadedGetterSetter(d,c){var h=t.Util._capitalize(c),m=u+h,f=a+h;d.prototype[c]=function(){return arguments.length?(this[m](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(d,c,h,m){t.Util.error("Adding deprecated "+c);var f=a+t.Util._capitalize(c),y=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";d.prototype[f]=function(){t.Util.error(y);var g=this.attrs[c];return g===void 0?h:g},e.Factory.addSetter(d,c,m,function(){t.Util.error(y)}),e.Factory.addOverloadedGetterSetter(d,c)},backCompat(d,c){t.Util.each(c,function(h,m){var f=d.prototype[m],y=a+t.Util._capitalize(h),g=u+t.Util._capitalize(h);function x(){f.apply(this,arguments),t.Util.error('"'+h+'" method is deprecated and will be removed soon. Use ""'+m+'" instead.')}d.prototype[h]=x,d.prototype[y]=x,d.prototype[g]=x})},afterSetFilter(){this._filterUpToDate=!1}}}(Cp)),Cp}var Po={},ko={},d2;function c4(){if(d2)return ko;d2=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.HitContext=ko.SceneContext=ko.Context=void 0;const e=Sn(),t=wt();function i(b){var R=[],C=b.length,I=e.Util,L,B;for(L=0;L<C;L++)B=b[L],I._isNumber(B)?B=Math.round(B*1e3)/1e3:I._isString(B)||(B=B+""),R.push(B);return R}var a=",",u="(",d=")",c="([",h="])",m=";",f="()",y="=",g=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],x=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const S=100;let w=class{constructor(R){this.canvas=R,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(R){R.fillEnabled()&&this._fill(R)}_fill(R){}strokeShape(R){R.hasStroke()&&this._stroke(R)}_stroke(R){}fillStrokeShape(R){R.attrs.fillAfterStrokeEnabled?(this.strokeShape(R),this.fillShape(R)):(this.fillShape(R),this.strokeShape(R))}getTrace(R,C){var I=this.traceArr,L=I.length,B="",W,F,q,G;for(W=0;W<L;W++)F=I[W],q=F.method,q?(G=F.args,B+=q,R?B+=f:e.Util._isArray(G[0])?B+=c+G.join(a)+h:(C&&(G=G.map(X=>typeof X=="number"?Math.floor(X):X)),B+=u+G.join(a)+d)):(B+=F.property,R||(B+=y+F.val)),B+=m;return B}clearTrace(){this.traceArr=[]}_trace(R){var C=this.traceArr,I;C.push(R),I=C.length,I>=S&&C.shift()}reset(){var R=this.getCanvas().getPixelRatio();this.setTransform(1*R,0,0,1*R,0,0)}getCanvas(){return this.canvas}clear(R){var C=this.getCanvas();R?this.clearRect(R.x||0,R.y||0,R.width||0,R.height||0):this.clearRect(0,0,C.getWidth()/C.pixelRatio,C.getHeight()/C.pixelRatio)}_applyLineCap(R){const C=R.attrs.lineCap;C&&this.setAttr("lineCap",C)}_applyOpacity(R){var C=R.getAbsoluteOpacity();C!==1&&this.setAttr("globalAlpha",C)}_applyLineJoin(R){const C=R.attrs.lineJoin;C&&this.setAttr("lineJoin",C)}setAttr(R,C){this._context[R]=C}arc(R,C,I,L,B,W){this._context.arc(R,C,I,L,B,W)}arcTo(R,C,I,L,B){this._context.arcTo(R,C,I,L,B)}beginPath(){this._context.beginPath()}bezierCurveTo(R,C,I,L,B,W){this._context.bezierCurveTo(R,C,I,L,B,W)}clearRect(R,C,I,L){this._context.clearRect(R,C,I,L)}clip(...R){this._context.clip.apply(this._context,R)}closePath(){this._context.closePath()}createImageData(R,C){var I=arguments;if(I.length===2)return this._context.createImageData(R,C);if(I.length===1)return this._context.createImageData(R)}createLinearGradient(R,C,I,L){return this._context.createLinearGradient(R,C,I,L)}createPattern(R,C){return this._context.createPattern(R,C)}createRadialGradient(R,C,I,L,B,W){return this._context.createRadialGradient(R,C,I,L,B,W)}drawImage(R,C,I,L,B,W,F,q,G){var X=arguments,ne=this._context;X.length===3?ne.drawImage(R,C,I):X.length===5?ne.drawImage(R,C,I,L,B):X.length===9&&ne.drawImage(R,C,I,L,B,W,F,q,G)}ellipse(R,C,I,L,B,W,F,q){this._context.ellipse(R,C,I,L,B,W,F,q)}isPointInPath(R,C,I,L){return I?this._context.isPointInPath(I,R,C,L):this._context.isPointInPath(R,C,L)}fill(...R){this._context.fill.apply(this._context,R)}fillRect(R,C,I,L){this._context.fillRect(R,C,I,L)}strokeRect(R,C,I,L){this._context.strokeRect(R,C,I,L)}fillText(R,C,I,L){L?this._context.fillText(R,C,I,L):this._context.fillText(R,C,I)}measureText(R){return this._context.measureText(R)}getImageData(R,C,I,L){return this._context.getImageData(R,C,I,L)}lineTo(R,C){this._context.lineTo(R,C)}moveTo(R,C){this._context.moveTo(R,C)}rect(R,C,I,L){this._context.rect(R,C,I,L)}putImageData(R,C,I){this._context.putImageData(R,C,I)}quadraticCurveTo(R,C,I,L){this._context.quadraticCurveTo(R,C,I,L)}restore(){this._context.restore()}rotate(R){this._context.rotate(R)}save(){this._context.save()}scale(R,C){this._context.scale(R,C)}setLineDash(R){this._context.setLineDash?this._context.setLineDash(R):"mozDash"in this._context?this._context.mozDash=R:"webkitLineDash"in this._context&&(this._context.webkitLineDash=R)}getLineDash(){return this._context.getLineDash()}setTransform(R,C,I,L,B,W){this._context.setTransform(R,C,I,L,B,W)}stroke(R){R?this._context.stroke(R):this._context.stroke()}strokeText(R,C,I,L){this._context.strokeText(R,C,I,L)}transform(R,C,I,L,B,W){this._context.transform(R,C,I,L,B,W)}translate(R,C){this._context.translate(R,C)}_enableTrace(){var R=this,C=g.length,I=this.setAttr,L,B,W=function(F){var q=R[F],G;R[F]=function(){return B=i(Array.prototype.slice.call(arguments,0)),G=q.apply(R,arguments),R._trace({method:F,args:B}),G}};for(L=0;L<C;L++)W(g[L]);R.setAttr=function(){I.apply(R,arguments);var F=arguments[0],q=arguments[1];(F==="shadowOffsetX"||F==="shadowOffsetY"||F==="shadowBlur")&&(q=q/this.canvas.getPixelRatio()),R._trace({property:F,val:q})}}_applyGlobalCompositeOperation(R){const C=R.attrs.globalCompositeOperation;var I=!C||C==="source-over";I||this.setAttr("globalCompositeOperation",C)}};ko.Context=w,x.forEach(function(b){Object.defineProperty(w.prototype,b,{get(){return this._context[b]},set(R){this._context[b]=R}})});class P extends w{constructor(R,{willReadFrequently:C=!1}={}){super(R),this._context=R._canvas.getContext("2d",{willReadFrequently:C})}_fillColor(R){var C=R.fill();this.setAttr("fillStyle",C),R._fillFunc(this)}_fillPattern(R){this.setAttr("fillStyle",R._getFillPattern()),R._fillFunc(this)}_fillLinearGradient(R){var C=R._getLinearGradient();C&&(this.setAttr("fillStyle",C),R._fillFunc(this))}_fillRadialGradient(R){const C=R._getRadialGradient();C&&(this.setAttr("fillStyle",C),R._fillFunc(this))}_fill(R){const C=R.fill(),I=R.getFillPriority();if(C&&I==="color"){this._fillColor(R);return}const L=R.getFillPatternImage();if(L&&I==="pattern"){this._fillPattern(R);return}const B=R.getFillLinearGradientColorStops();if(B&&I==="linear-gradient"){this._fillLinearGradient(R);return}const W=R.getFillRadialGradientColorStops();if(W&&I==="radial-gradient"){this._fillRadialGradient(R);return}C?this._fillColor(R):L?this._fillPattern(R):B?this._fillLinearGradient(R):W&&this._fillRadialGradient(R)}_strokeLinearGradient(R){const C=R.getStrokeLinearGradientStartPoint(),I=R.getStrokeLinearGradientEndPoint(),L=R.getStrokeLinearGradientColorStops(),B=this.createLinearGradient(C.x,C.y,I.x,I.y);if(L){for(var W=0;W<L.length;W+=2)B.addColorStop(L[W],L[W+1]);this.setAttr("strokeStyle",B)}}_stroke(R){var C=R.dash(),I=R.getStrokeScaleEnabled();if(R.hasStroke()){if(!I){this.save();var L=this.getCanvas().getPixelRatio();this.setTransform(L,0,0,L,0,0)}this._applyLineCap(R),C&&R.dashEnabled()&&(this.setLineDash(C),this.setAttr("lineDashOffset",R.dashOffset())),this.setAttr("lineWidth",R.strokeWidth()),R.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var B=R.getStrokeLinearGradientColorStops();B?this._strokeLinearGradient(R):this.setAttr("strokeStyle",R.stroke()),R._strokeFunc(this),I||this.restore()}}_applyShadow(R){var C,I,L,B=(C=R.getShadowRGBA())!==null&&C!==void 0?C:"black",W=(I=R.getShadowBlur())!==null&&I!==void 0?I:5,F=(L=R.getShadowOffset())!==null&&L!==void 0?L:{x:0,y:0},q=R.getAbsoluteScale(),G=this.canvas.getPixelRatio(),X=q.x*G,ne=q.y*G;this.setAttr("shadowColor",B),this.setAttr("shadowBlur",W*Math.min(Math.abs(X),Math.abs(ne))),this.setAttr("shadowOffsetX",F.x*X),this.setAttr("shadowOffsetY",F.y*ne)}}ko.SceneContext=P;class k extends w{constructor(R){super(R),this._context=R._canvas.getContext("2d",{willReadFrequently:!0})}_fill(R){this.save(),this.setAttr("fillStyle",R.colorKey),R._fillFuncHit(this),this.restore()}strokeShape(R){R.hasHitStroke()&&this._stroke(R)}_stroke(R){if(R.hasHitStroke()){const B=R.getStrokeScaleEnabled();if(!B){this.save();var C=this.getCanvas().getPixelRatio();this.setTransform(C,0,0,C,0,0)}this._applyLineCap(R);var I=R.hitStrokeWidth(),L=I==="auto"?R.strokeWidth():I;this.setAttr("lineWidth",L),this.setAttr("strokeStyle",R.colorKey),R._strokeFuncHit(this),B||this.restore()}}}return ko.HitContext=k,ko}var h2;function l0(){if(h2)return Po;h2=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.HitCanvas=Po.SceneCanvas=Po.Canvas=void 0;const e=Sn(),t=c4(),i=wt(),a=_t(),u=Pt();var d;function c(){if(d)return d;var y=e.Util.createCanvasElement(),g=y.getContext("2d");return d=function(){var x=i.Konva._global.devicePixelRatio||1,S=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1;return x/S}(),e.Util.releaseCanvas(y),d}let h=class{constructor(g){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var x=g||{},S=x.pixelRatio||i.Konva.pixelRatio||c();this.pixelRatio=S,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(g){var x=this.pixelRatio;this.pixelRatio=g,this.setSize(this.getWidth()/x,this.getHeight()/x)}setWidth(g){this.width=this._canvas.width=g*this.pixelRatio,this._canvas.style.width=g+"px";var x=this.pixelRatio,S=this.getContext()._context;S.scale(x,x)}setHeight(g){this.height=this._canvas.height=g*this.pixelRatio,this._canvas.style.height=g+"px";var x=this.pixelRatio,S=this.getContext()._context;S.scale(x,x)}getWidth(){return this.width}getHeight(){return this.height}setSize(g,x){this.setWidth(g||0),this.setHeight(x||0)}toDataURL(g,x){try{return this._canvas.toDataURL(g,x)}catch{try{return this._canvas.toDataURL()}catch(w){return e.Util.error("Unable to get data URL. "+w.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Po.Canvas=h,a.Factory.addGetterSetter(h,"pixelRatio",void 0,(0,u.getNumberValidator)());class m extends h{constructor(g={width:0,height:0,willReadFrequently:!1}){super(g),this.context=new t.SceneContext(this,{willReadFrequently:g.willReadFrequently}),this.setSize(g.width,g.height)}}Po.SceneCanvas=m;class f extends h{constructor(g={width:0,height:0}){super(g),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(g.width,g.height)}}return Po.HitCanvas=f,Po}var Ep={},f2;function ig(){return f2||(f2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=wt(),i=Sn();e.DD={get isDragging(){var a=!1;return e.DD._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(a=!0)}),a},justDragged:!1,get node(){var a;return e.DD._dragElements.forEach(u=>{a=u.node}),a},_dragElements:new Map,_drag(a){const u=[];e.DD._dragElements.forEach((d,c)=>{const{node:h}=d,m=h.getStage();m.setPointersPositions(a),d.pointerId===void 0&&(d.pointerId=i.Util._getFirstPointerId(a));const f=m._changedPointerPositions.find(x=>x.id===d.pointerId);if(f){if(d.dragStatus!=="dragging"){var y=h.dragDistance(),g=Math.max(Math.abs(f.x-d.startPointerPos.x),Math.abs(f.y-d.startPointerPos.y));if(g<y||(h.startDrag({evt:a}),!h.isDragging()))return}h._setDragPosition(a,d),u.push(h)}}),u.forEach(d=>{d.fire("dragmove",{type:"dragmove",target:d,evt:a},!0)})},_endDragBefore(a){const u=[];e.DD._dragElements.forEach(d=>{const{node:c}=d,h=c.getStage();if(a&&h.setPointersPositions(a),!h._changedPointerPositions.find(y=>y.id===d.pointerId))return;(d.dragStatus==="dragging"||d.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,d.dragStatus="stopped");const f=d.node.getLayer()||d.node instanceof t.Konva.Stage&&d.node;f&&u.indexOf(f)===-1&&u.push(f)}),u.forEach(d=>{d.draw()})},_endDragAfter(a){e.DD._dragElements.forEach((u,d)=>{u.dragStatus==="stopped"&&u.node.fire("dragend",{type:"dragend",target:u.node,evt:a},!0),u.dragStatus!=="dragging"&&e.DD._dragElements.delete(d)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))}(Ep)),Ep}var p2;function Nn(){if(p2)return Xc;p2=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.Node=void 0;const e=Sn(),t=_t(),i=l0(),a=wt(),u=ig(),d=Pt();var c="absoluteOpacity",h="allEventListeners",m="absoluteTransform",f="absoluteScale",y="canvas",g="Change",x="children",S="konva",w="listening",P="mouseenter",k="mouseleave",b="set",R="Shape",C=" ",I="stage",L="transform",B="Stage",W="visible",F=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(C);let q=1,G=class am{constructor(z){this._id=q++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(z),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(z){(z===L||z===m)&&this._cache.get(z)?this._cache.get(z).dirty=!0:z?this._cache.delete(z):this._cache.clear()}_getCache(z,V){var $=this._cache.get(z),Z=z===L||z===m,Q=$===void 0||Z&&$.dirty===!0;return Q&&($=V.call(this),this._cache.set(z,$)),$}_calculate(z,V,$){if(!this._attachedDepsListeners.get(z)){const Z=V.map(Q=>Q+"Change.konva").join(C);this.on(Z,()=>{this._clearCache(z)}),this._attachedDepsListeners.set(z,!0)}return this._getCache(z,$)}_getCanvasCache(){return this._cache.get(y)}_clearSelfAndDescendantCache(z){this._clearCache(z),z===m&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(y)){const{scene:z,filter:V,hit:$}=this._cache.get(y);e.Util.releaseCanvas(z,V,$),this._cache.delete(y)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(z){var V=z||{},$={};(V.x===void 0||V.y===void 0||V.width===void 0||V.height===void 0)&&($=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var Z=Math.ceil(V.width||$.width),Q=Math.ceil(V.height||$.height),re=V.pixelRatio,ie=V.x===void 0?Math.floor($.x):V.x,K=V.y===void 0?Math.floor($.y):V.y,ae=V.offset||0,se=V.drawBorder||!1,_e=V.hitCanvasPixelRatio||1;if(!Z||!Q){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}Z+=ae*2+1,Q+=ae*2+1,ie-=ae,K-=ae;var Se=new i.SceneCanvas({pixelRatio:re,width:Z,height:Q}),be=new i.SceneCanvas({pixelRatio:re,width:0,height:0,willReadFrequently:!0}),Te=new i.HitCanvas({pixelRatio:_e,width:Z,height:Q}),ee=Se.getContext(),he=Te.getContext();return Te.isCache=!0,Se.isCache=!0,this._cache.delete(y),this._filterUpToDate=!1,V.imageSmoothingEnabled===!1&&(Se.getContext()._context.imageSmoothingEnabled=!1,be.getContext()._context.imageSmoothingEnabled=!1),ee.save(),he.save(),ee.translate(-ie,-K),he.translate(-ie,-K),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this.drawScene(Se,this),this.drawHit(Te,this),this._isUnderCache=!1,ee.restore(),he.restore(),se&&(ee.save(),ee.beginPath(),ee.rect(0,0,Z,Q),ee.closePath(),ee.setAttr("strokeStyle","red"),ee.setAttr("lineWidth",5),ee.stroke(),ee.restore()),this._cache.set(y,{scene:Se,filter:be,hit:Te,x:ie,y:K}),this._requestDraw(),this}isCached(){return this._cache.has(y)}getClientRect(z){throw new Error('abstract "getClientRect" method call')}_transformedRect(z,V){var $=[{x:z.x,y:z.y},{x:z.x+z.width,y:z.y},{x:z.x+z.width,y:z.y+z.height},{x:z.x,y:z.y+z.height}],Z=1/0,Q=1/0,re=-1/0,ie=-1/0,K=this.getAbsoluteTransform(V);return $.forEach(function(ae){var se=K.point(ae);Z===void 0&&(Z=re=se.x,Q=ie=se.y),Z=Math.min(Z,se.x),Q=Math.min(Q,se.y),re=Math.max(re,se.x),ie=Math.max(ie,se.y)}),{x:Z,y:Q,width:re-Z,height:ie-Q}}_drawCachedSceneCanvas(z){z.save(),z._applyOpacity(this),z._applyGlobalCompositeOperation(this);const V=this._getCanvasCache();z.translate(V.x,V.y);var $=this._getCachedSceneCanvas(),Z=$.pixelRatio;z.drawImage($._canvas,0,0,$.width/Z,$.height/Z),z.restore()}_drawCachedHitCanvas(z){var V=this._getCanvasCache(),$=V.hit;z.save(),z.translate(V.x,V.y),z.drawImage($._canvas,0,0,$.width/$.pixelRatio,$.height/$.pixelRatio),z.restore()}_getCachedSceneCanvas(){var z=this.filters(),V=this._getCanvasCache(),$=V.scene,Z=V.filter,Q=Z.getContext(),re,ie,K,ae;if(z){if(!this._filterUpToDate){var se=$.pixelRatio;Z.setSize($.width/$.pixelRatio,$.height/$.pixelRatio);try{for(re=z.length,Q.clear(),Q.drawImage($._canvas,0,0,$.getWidth()/se,$.getHeight()/se),ie=Q.getImageData(0,0,Z.getWidth(),Z.getHeight()),K=0;K<re;K++){if(ae=z[K],typeof ae!="function"){e.Util.error("Filter should be type of function, but got "+typeof ae+" instead. Please check correct filters");continue}ae.call(this,ie),Q.putImageData(ie,0,0)}}catch(_e){e.Util.error("Unable to apply filter. "+_e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return Z}return $}on(z,V){if(this._cache&&this._cache.delete(h),arguments.length===3)return this._delegate.apply(this,arguments);var $=z.split(C),Z=$.length,Q,re,ie,K,ae;for(Q=0;Q<Z;Q++)re=$[Q],ie=re.split("."),K=ie[0],ae=ie[1]||"",this.eventListeners[K]||(this.eventListeners[K]=[]),this.eventListeners[K].push({name:ae,handler:V});return this}off(z,V){var $=(z||"").split(C),Z=$.length,Q,re,ie,K,ae,se;if(this._cache&&this._cache.delete(h),!z)for(re in this.eventListeners)this._off(re);for(Q=0;Q<Z;Q++)if(ie=$[Q],K=ie.split("."),ae=K[0],se=K[1],ae)this.eventListeners[ae]&&this._off(ae,se,V);else for(re in this.eventListeners)this._off(re,se,V);return this}dispatchEvent(z){var V={target:this,type:z.type,evt:z};return this.fire(z.type,V),this}addEventListener(z,V){return this.on(z,function($){V.call(this,$.evt)}),this}removeEventListener(z){return this.off(z),this}_delegate(z,V,$){var Z=this;this.on(z,function(Q){for(var re=Q.target.findAncestors(V,!0,Z),ie=0;ie<re.length;ie++)Q=e.Util.cloneObject(Q),Q.currentTarget=re[ie],$.call(re[ie],Q)})}remove(){return this.isDragging()&&this.stopDrag(),u.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(I),this._clearSelfAndDescendantCache(W),this._clearSelfAndDescendantCache(w)}_remove(){this._clearCaches();var z=this.getParent();z&&z.children&&(z.children.splice(this.index,1),z._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(z){var V="get"+e.Util._capitalize(z);return e.Util._isFunction(this[V])?this[V]():this.attrs[z]}getAncestors(){for(var z=this.getParent(),V=[];z;)V.push(z),z=z.getParent();return V}getAttrs(){return this.attrs||{}}setAttrs(z){return this._batchTransformChanges(()=>{var V,$;if(!z)return this;for(V in z)V!==x&&($=b+e.Util._capitalize(V),e.Util._isFunction(this[$])?this[$](z[V]):this._setAttr(V,z[V]))}),this}isListening(){return this._getCache(w,this._isListening)}_isListening(z){if(!this.listening())return!1;const $=this.getParent();return $&&$!==z&&this!==z?$._isListening(z):!0}isVisible(){return this._getCache(W,this._isVisible)}_isVisible(z){if(!this.visible())return!1;const $=this.getParent();return $&&$!==z&&this!==z?$._isVisible(z):!0}shouldDrawHit(z,V=!1){if(z)return this._isVisible(z)&&this._isListening(z);var $=this.getLayer(),Z=!1;u.DD._dragElements.forEach(re=>{re.dragStatus==="dragging"&&(re.node.nodeType==="Stage"||re.node.getLayer()===$)&&(Z=!0)});var Q=!V&&!a.Konva.hitOnDragEnabled&&Z;return this.isListening()&&this.isVisible()&&!Q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var z=this.getDepth(),V=this,$=0,Z,Q,re,ie;function K(se){for(Z=[],Q=se.length,re=0;re<Q;re++)ie=se[re],$++,ie.nodeType!==R&&(Z=Z.concat(ie.getChildren().slice())),ie._id===V._id&&(re=Q);Z.length>0&&Z[0].getDepth()<=z&&K(Z)}const ae=this.getStage();return V.nodeType!==B&&ae&&K(ae.getChildren()),$}getDepth(){for(var z=0,V=this.parent;V;)z++,V=V.parent;return z}_batchTransformChanges(z){this._batchingTransformChange=!0,z(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(L),this._clearSelfAndDescendantCache(m)),this._needClearTransformCache=!1}setPosition(z){return this._batchTransformChanges(()=>{this.x(z.x),this.y(z.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const z=this.getStage();if(!z)return null;var V=z.getPointerPosition();if(!V)return null;var $=this.getAbsoluteTransform().copy();return $.invert(),$.point(V)}getAbsolutePosition(z){let V=!1,$=this.parent;for(;$;){if($.isCached()){V=!0;break}$=$.parent}V&&!z&&(z=!0);var Z=this.getAbsoluteTransform(z).getMatrix(),Q=new e.Transform,re=this.offset();return Q.m=Z.slice(),Q.translate(re.x,re.y),Q.getTranslation()}setAbsolutePosition(z){const{x:V,y:$,...Z}=this._clearTransform();this.attrs.x=V,this.attrs.y=$,this._clearCache(L);var Q=this._getAbsoluteTransform().copy();return Q.invert(),Q.translate(z.x,z.y),z={x:this.attrs.x+Q.getTranslation().x,y:this.attrs.y+Q.getTranslation().y},this._setTransform(Z),this.setPosition({x:z.x,y:z.y}),this._clearCache(L),this._clearSelfAndDescendantCache(m),this}_setTransform(z){var V;for(V in z)this.attrs[V]=z[V]}_clearTransform(){var z={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,z}move(z){var V=z.x,$=z.y,Z=this.x(),Q=this.y();return V!==void 0&&(Z+=V),$!==void 0&&(Q+=$),this.setPosition({x:Z,y:Q}),this}_eachAncestorReverse(z,V){var $=[],Z=this.getParent(),Q,re;if(!(V&&V._id===this._id)){for($.unshift(this);Z&&(!V||Z._id!==V._id);)$.unshift(Z),Z=Z.parent;for(Q=$.length,re=0;re<Q;re++)z($[re])}}rotate(z){return this.rotation(this.rotation()+z),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var z=this.index,V=this.parent.getChildren().length;return z<V-1?(this.parent.children.splice(z,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var z=this.index,V=this.parent.getChildren().length;return z<V-1?(this.parent.children.splice(z,1),this.parent.children.splice(z+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var z=this.index;return z>0?(this.parent.children.splice(z,1),this.parent.children.splice(z-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var z=this.index;return z>0?(this.parent.children.splice(z,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(z){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(z<0||z>=this.parent.children.length)&&e.Util.warn("Unexpected value "+z+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var V=this.index;return this.parent.children.splice(V,1),this.parent.children.splice(z,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var z=this.opacity(),V=this.getParent();return V&&!V._isUnderCache&&(z*=V.getAbsoluteOpacity()),z}moveTo(z){return this.getParent()!==z&&(this._remove(),z.add(this)),this}toObject(){var z={},V=this.getAttrs(),$,Z,Q,re,ie;z.attrs={};for($ in V)Z=V[$],ie=e.Util.isObject(Z)&&!e.Util._isPlainObject(Z)&&!e.Util._isArray(Z),!ie&&(Q=typeof this[$]=="function"&&this[$],delete V[$],re=Q?Q.call(this):null,V[$]=Z,re!==Z&&(z.attrs[$]=Z));return z.className=this.getClassName(),e.Util._prepareToStringify(z)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(z,V,$){var Z=[];V&&this._isMatch(z)&&Z.push(this);for(var Q=this.parent;Q;){if(Q===$)return Z;Q._isMatch(z)&&Z.push(Q),Q=Q.parent}return Z}isAncestorOf(z){return!1}findAncestor(z,V,$){return this.findAncestors(z,V,$)[0]}_isMatch(z){if(!z)return!1;if(typeof z=="function")return z(this);var V=z.replace(/ /g,"").split(","),$=V.length,Z,Q;for(Z=0;Z<$;Z++)if(Q=V[Z],e.Util.isValidSelector(Q)||(e.Util.warn('Selector "'+Q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),Q.charAt(0)==="#"){if(this.id()===Q.slice(1))return!0}else if(Q.charAt(0)==="."){if(this.hasName(Q.slice(1)))return!0}else if(this.className===Q||this.nodeType===Q)return!0;return!1}getLayer(){var z=this.getParent();return z?z.getLayer():null}getStage(){return this._getCache(I,this._getStage)}_getStage(){var z=this.getParent();return z?z.getStage():null}fire(z,V={},$){return V.target=V.target||this,$?this._fireAndBubble(z,V):this._fire(z,V),this}getAbsoluteTransform(z){return z?this._getAbsoluteTransform(z):this._getCache(m,this._getAbsoluteTransform)}_getAbsoluteTransform(z){var V;if(z)return V=new e.Transform,this._eachAncestorReverse(function(Z){var Q=Z.transformsEnabled();Q==="all"?V.multiply(Z.getTransform()):Q==="position"&&V.translate(Z.x()-Z.offsetX(),Z.y()-Z.offsetY())},z),V;V=this._cache.get(m)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(V):V.reset();var $=this.transformsEnabled();if($==="all")V.multiply(this.getTransform());else if($==="position"){const Z=this.attrs.x||0,Q=this.attrs.y||0,re=this.attrs.offsetX||0,ie=this.attrs.offsetY||0;V.translate(Z-re,Q-ie)}return V.dirty=!1,V}getAbsoluteScale(z){for(var V=this;V;)V._isUnderCache&&(z=V),V=V.getParent();const Z=this.getAbsoluteTransform(z).decompose();return{x:Z.scaleX,y:Z.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(L,this._getTransform)}_getTransform(){var z,V,$=this._cache.get(L)||new e.Transform;$.reset();var Z=this.x(),Q=this.y(),re=a.Konva.getAngle(this.rotation()),ie=(z=this.attrs.scaleX)!==null&&z!==void 0?z:1,K=(V=this.attrs.scaleY)!==null&&V!==void 0?V:1,ae=this.attrs.skewX||0,se=this.attrs.skewY||0,_e=this.attrs.offsetX||0,Se=this.attrs.offsetY||0;return(Z!==0||Q!==0)&&$.translate(Z,Q),re!==0&&$.rotate(re),(ae!==0||se!==0)&&$.skew(ae,se),(ie!==1||K!==1)&&$.scale(ie,K),(_e!==0||Se!==0)&&$.translate(-1*_e,-1*Se),$.dirty=!1,$}clone(z){var V=e.Util.cloneObject(this.attrs),$,Z,Q,re,ie;for($ in z)V[$]=z[$];var K=new this.constructor(V);for($ in this.eventListeners)for(Z=this.eventListeners[$],Q=Z.length,re=0;re<Q;re++)ie=Z[re],ie.name.indexOf(S)<0&&(K.eventListeners[$]||(K.eventListeners[$]=[]),K.eventListeners[$].push(ie));return K}_toKonvaCanvas(z){z=z||{};var V=this.getClientRect(),$=this.getStage(),Z=z.x!==void 0?z.x:Math.floor(V.x),Q=z.y!==void 0?z.y:Math.floor(V.y),re=z.pixelRatio||1,ie=new i.SceneCanvas({width:z.width||Math.ceil(V.width)||($?$.width():0),height:z.height||Math.ceil(V.height)||($?$.height():0),pixelRatio:re}),K=ie.getContext();return z.imageSmoothingEnabled===!1&&(K._context.imageSmoothingEnabled=!1),K.save(),(Z||Q)&&K.translate(-1*Z,-1*Q),this.drawScene(ie),K.restore(),ie}toCanvas(z){return this._toKonvaCanvas(z)._canvas}toDataURL(z){z=z||{};var V=z.mimeType||null,$=z.quality||null,Z=this._toKonvaCanvas(z).toDataURL(V,$);return z.callback&&z.callback(Z),Z}toImage(z){return new Promise((V,$)=>{try{const Z=z==null?void 0:z.callback;Z&&delete z.callback,e.Util._urlToImage(this.toDataURL(z),function(Q){V(Q),Z==null||Z(Q)})}catch(Z){$(Z)}})}toBlob(z){return new Promise((V,$)=>{try{const Z=z==null?void 0:z.callback;Z&&delete z.callback,this.toCanvas(z).toBlob(Q=>{V(Q),Z==null||Z(Q)})}catch(Z){$(Z)}})}setSize(z){return this.width(z.width),this.height(z.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance}_off(z,V,$){var Z=this.eventListeners[z],Q,re,ie;for(Q=0;Q<Z.length;Q++)if(re=Z[Q].name,ie=Z[Q].handler,(re!=="konva"||V==="konva")&&(!V||re===V)&&(!$||$===ie)){if(Z.splice(Q,1),Z.length===0){delete this.eventListeners[z];break}Q--}}_fireChangeEvent(z,V,$){this._fire(z+g,{oldVal:V,newVal:$})}addName(z){if(!this.hasName(z)){var V=this.name(),$=V?V+" "+z:z;this.name($)}return this}hasName(z){if(!z)return!1;const V=this.name();if(!V)return!1;var $=(V||"").split(/\s/g);return $.indexOf(z)!==-1}removeName(z){var V=(this.name()||"").split(/\s/g),$=V.indexOf(z);return $!==-1&&(V.splice($,1),this.name(V.join(" "))),this}setAttr(z,V){var $=this[b+e.Util._capitalize(z)];return e.Util._isFunction($)?$.call(this,V):this._setAttr(z,V),this}_requestDraw(){if(a.Konva.autoDrawEnabled){const z=this.getLayer()||this.getStage();z==null||z.batchDraw()}}_setAttr(z,V){var $=this.attrs[z];$===V&&!e.Util.isObject(V)||(V==null?delete this.attrs[z]:this.attrs[z]=V,this._shouldFireChangeEvents&&this._fireChangeEvent(z,$,V),this._requestDraw())}_setComponentAttr(z,V,$){var Z;$!==void 0&&(Z=this.attrs[z],Z||(this.attrs[z]=this.getAttr(z)),this.attrs[z][V]=$,this._fireChangeEvent(z,Z,$))}_fireAndBubble(z,V,$){V&&this.nodeType===R&&(V.target=this);var Z=(z===P||z===k)&&($&&(this===$||this.isAncestorOf&&this.isAncestorOf($))||this.nodeType==="Stage"&&!$);if(!Z){this._fire(z,V);var Q=(z===P||z===k)&&$&&$.isAncestorOf&&$.isAncestorOf(this)&&!$.isAncestorOf(this.parent);(V&&!V.cancelBubble||!V)&&this.parent&&this.parent.isListening()&&!Q&&($&&$.parent?this._fireAndBubble.call(this.parent,z,V,$):this._fireAndBubble.call(this.parent,z,V))}}_getProtoListeners(z){var V,$,Z;const Q=(V=this._cache.get(h))!==null&&V!==void 0?V:{};let re=Q==null?void 0:Q[z];if(re===void 0){re=[];let ie=Object.getPrototypeOf(this);for(;ie;){const K=(Z=($=ie.eventListeners)===null||$===void 0?void 0:$[z])!==null&&Z!==void 0?Z:[];re.push(...K),ie=Object.getPrototypeOf(ie)}Q[z]=re,this._cache.set(h,Q)}return re}_fire(z,V){V=V||{},V.currentTarget=this,V.type=z;const $=this._getProtoListeners(z);if($)for(var Z=0;Z<$.length;Z++)$[Z].handler.call(this,V);const Q=this.eventListeners[z];if(Q)for(var Z=0;Z<Q.length;Z++)Q[Z].handler.call(this,V)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(z){var V=z?z.pointerId:void 0,$=this.getStage(),Z=this.getAbsolutePosition();if($){var Q=$._getPointerById(V)||$._changedPointerPositions[0]||Z;u.DD._dragElements.set(this._id,{node:this,startPointerPos:Q,offset:{x:Q.x-Z.x,y:Q.y-Z.y},dragStatus:"ready",pointerId:V})}}startDrag(z,V=!0){u.DD._dragElements.has(this._id)||this._createDragElement(z);const $=u.DD._dragElements.get(this._id);$.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:z&&z.evt},V)}_setDragPosition(z,V){const $=this.getStage()._getPointerById(V.pointerId);if($){var Z={x:$.x-V.offset.x,y:$.y-V.offset.y},Q=this.dragBoundFunc();if(Q!==void 0){const re=Q.call(this,Z,z);re?Z=re:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==Z.x||this._lastPos.y!==Z.y)&&(this.setAbsolutePosition(Z),this._requestDraw()),this._lastPos=Z}}stopDrag(z){const V=u.DD._dragElements.get(this._id);V&&(V.dragStatus="stopped"),u.DD._endDragBefore(z),u.DD._endDragAfter(z)}setDraggable(z){this._setAttr("draggable",z),this._dragChange()}isDragging(){const z=u.DD._dragElements.get(this._id);return z?z.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(z){var V=z.evt.button!==void 0,$=!V||a.Konva.dragButtons.indexOf(z.evt.button)>=0;if($&&!this.isDragging()){var Z=!1;u.DD._dragElements.forEach(Q=>{this.isAncestorOf(Q.node)&&(Z=!0)}),Z||this._createDragElement(z)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var z=this.getStage();if(!z)return;const V=u.DD._dragElements.get(this._id),$=V&&V.dragStatus==="dragging",Z=V&&V.dragStatus==="ready";$?this.stopDrag():Z&&u.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(z={x:0,y:0}){const V=this.getStage();if(!V)return!1;const $={x:-z.x,y:-z.y,width:V.width()+2*z.x,height:V.height()+2*z.y};return e.Util.haveIntersection($,this.getClientRect())}static create(z,V){return e.Util._isString(z)&&(z=JSON.parse(z)),this._createNode(z,V)}static _createNode(z,V){var $=am.prototype.getClassName.call(z),Z=z.children,Q,re,ie;V&&(z.attrs.container=V),a.Konva[$]||(e.Util.warn('Can not find a node with class name "'+$+'". Fallback to "Shape".'),$="Shape");const K=a.Konva[$];if(Q=new K(z.attrs),Z)for(re=Z.length,ie=0;ie<re;ie++)Q.add(am._createNode(Z[ie]));return Q}};Xc.Node=G,G.prototype.nodeType="Node",G.prototype._attrsAffectingSize=[],G.prototype.eventListeners={},G.prototype.on.call(G.prototype,F,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(L),this._clearSelfAndDescendantCache(m)}),G.prototype.on.call(G.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(W)}),G.prototype.on.call(G.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(w)}),G.prototype.on.call(G.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const X=t.Factory.addGetterSetter;return X(G,"zIndex"),X(G,"absolutePosition"),X(G,"position"),X(G,"x",0,(0,d.getNumberValidator)()),X(G,"y",0,(0,d.getNumberValidator)()),X(G,"globalCompositeOperation","source-over",(0,d.getStringValidator)()),X(G,"opacity",1,(0,d.getNumberValidator)()),X(G,"name","",(0,d.getStringValidator)()),X(G,"id","",(0,d.getStringValidator)()),X(G,"rotation",0,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(G,"scale",["x","y"]),X(G,"scaleX",1,(0,d.getNumberValidator)()),X(G,"scaleY",1,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(G,"skew",["x","y"]),X(G,"skewX",0,(0,d.getNumberValidator)()),X(G,"skewY",0,(0,d.getNumberValidator)()),t.Factory.addComponentsGetterSetter(G,"offset",["x","y"]),X(G,"offsetX",0,(0,d.getNumberValidator)()),X(G,"offsetY",0,(0,d.getNumberValidator)()),X(G,"dragDistance",null,(0,d.getNumberValidator)()),X(G,"width",0,(0,d.getNumberValidator)()),X(G,"height",0,(0,d.getNumberValidator)()),X(G,"listening",!0,(0,d.getBooleanValidator)()),X(G,"preventDefault",!0,(0,d.getBooleanValidator)()),X(G,"filters",null,function(ne){return this._filterUpToDate=!1,ne}),X(G,"visible",!0,(0,d.getBooleanValidator)()),X(G,"transformsEnabled","all",(0,d.getStringValidator)()),X(G,"size"),X(G,"dragBoundFunc"),X(G,"draggable",!1,(0,d.getBooleanValidator)()),t.Factory.backCompat(G,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Xc}var Qc={},m2;function u0(){if(m2)return Qc;m2=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Container=void 0;const e=_t(),t=Nn(),i=Pt();let a=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(d){if(!d)return this.children||[];const c=this.children||[];var h=[];return c.forEach(function(m){d(m)&&h.push(m)}),h}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(d=>{d.parent=null,d.index=0,d.destroy()}),this.children=[],this._requestDraw(),this}add(...d){if(d.length===0)return this;if(d.length>1){for(var c=0;c<d.length;c++)this.add(d[c]);return this}const h=d[0];return h.getParent()?(h.moveTo(this),this):(this._validateAdd(h),h.index=this.getChildren().length,h.parent=this,h._clearCaches(),this.getChildren().push(h),this._fire("add",{child:h}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(d){return this._generalFind(d,!1)}findOne(d){var c=this._generalFind(d,!0);return c.length>0?c[0]:void 0}_generalFind(d,c){var h=[];return this._descendants(m=>{const f=m._isMatch(d);return f&&h.push(m),!!(f&&c)}),h}_descendants(d){let c=!1;const h=this.getChildren();for(const m of h){if(c=d(m),c)return!0;if(m.hasChildren()&&(c=m._descendants(d),c))return!0}return!1}toObject(){var d=t.Node.prototype.toObject.call(this);return d.children=[],this.getChildren().forEach(c=>{d.children.push(c.toObject())}),d}isAncestorOf(d){for(var c=d.getParent();c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(d){var c=t.Node.prototype.clone.call(this,d);return this.getChildren().forEach(function(h){c.add(h.clone())}),c}getAllIntersections(d){var c=[];return this.find("Shape").forEach(h=>{h.isVisible()&&h.intersects(d)&&c.push(h)}),c}_clearSelfAndDescendantCache(d){var c;super._clearSelfAndDescendantCache(d),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(h){h._clearSelfAndDescendantCache(d)}))}_setChildrenIndices(){var d;(d=this.children)===null||d===void 0||d.forEach(function(c,h){c.index=h}),this._requestDraw()}drawScene(d,c){var h=this.getLayer(),m=d||h&&h.getCanvas(),f=m&&m.getContext(),y=this._getCanvasCache(),g=y&&y.scene,x=m&&m.isCache;if(!this.isVisible()&&!x)return this;if(g){f.save();var S=this.getAbsoluteTransform(c).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",m,c);return this}drawHit(d,c){if(!this.shouldDrawHit(c))return this;var h=this.getLayer(),m=d||h&&h.hitCanvas,f=m&&m.getContext(),y=this._getCanvasCache(),g=y&&y.hit;if(g){f.save();var x=this.getAbsoluteTransform(c).getMatrix();f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",m,c);return this}_drawChildren(d,c,h){var m,f=c&&c.getContext(),y=this.clipWidth(),g=this.clipHeight(),x=this.clipFunc(),S=y&&g||x;const w=h===this;if(S){f.save();var P=this.getAbsoluteTransform(h),k=P.getMatrix();f.transform(k[0],k[1],k[2],k[3],k[4],k[5]),f.beginPath();let I;if(x)I=x.call(this,f,this);else{var b=this.clipX(),R=this.clipY();f.rect(b,R,y,g)}f.clip.apply(f,I),k=P.copy().invert().getMatrix(),f.transform(k[0],k[1],k[2],k[3],k[4],k[5])}var C=!w&&this.globalCompositeOperation()!=="source-over"&&d==="drawScene";C&&(f.save(),f._applyGlobalCompositeOperation(this)),(m=this.children)===null||m===void 0||m.forEach(function(I){I[d](c,h)}),C&&f.restore(),S&&f.restore()}getClientRect(d={}){var c,h=d.skipTransform,m=d.relativeTo,f,y,g,x,S={x:1/0,y:1/0,width:0,height:0},w=this;(c=this.children)===null||c===void 0||c.forEach(function(C){if(C.visible()){var I=C.getClientRect({relativeTo:w,skipShadow:d.skipShadow,skipStroke:d.skipStroke});I.width===0&&I.height===0||(f===void 0?(f=I.x,y=I.y,g=I.x+I.width,x=I.y+I.height):(f=Math.min(f,I.x),y=Math.min(y,I.y),g=Math.max(g,I.x+I.width),x=Math.max(x,I.y+I.height)))}});for(var P=this.find("Shape"),k=!1,b=0;b<P.length;b++){var R=P[b];if(R._isVisible(this)){k=!0;break}}return k&&f!==void 0?S={x:f,y,width:g-f,height:x-y}:S={x:0,y:0,width:0,height:0},h?S:this._transformedRect(S,m)}};return Qc.Container=a,e.Factory.addComponentsGetterSetter(a,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(a,"clipX",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipY",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipWidth",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipHeight",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"clipFunc"),Qc}var Pp={},Ei={},g2;function d4(){if(g2)return Ei;g2=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.releaseCapture=Ei.setPointerCapture=Ei.hasPointerCapture=Ei.createEvent=Ei.getCapturedShape=void 0;const e=wt(),t=new Map,i=e.Konva._global.PointerEvent!==void 0;function a(m){return t.get(m)}Ei.getCapturedShape=a;function u(m){return{evt:m,pointerId:m.pointerId}}Ei.createEvent=u;function d(m,f){return t.get(m)===f}Ei.hasPointerCapture=d;function c(m,f){h(m),f.getStage()&&(t.set(m,f),i&&f._fire("gotpointercapture",u(new PointerEvent("gotpointercapture"))))}Ei.setPointerCapture=c;function h(m,f){const y=t.get(m);if(!y)return;const g=y.getStage();g&&g.content,t.delete(m),i&&y._fire("lostpointercapture",u(new PointerEvent("lostpointercapture")))}return Ei.releaseCapture=h,Ei}var v2;function w7(){return v2||(v2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Sn(),i=_t(),a=u0(),u=wt(),d=l0(),c=ig(),h=wt(),m=d4();var f="Stage",y="string",g="px",x="mouseout",S="mouseleave",w="mouseover",P="mouseenter",k="mousemove",b="mousedown",R="mouseup",C="pointermove",I="pointerdown",L="pointerup",B="pointercancel",W="lostpointercapture",F="pointerout",q="pointerleave",G="pointerover",X="pointerenter",ne="contextmenu",z="touchstart",V="touchend",$="touchmove",Z="touchcancel",Q="wheel",re=5,ie=[[P,"_pointerenter"],[b,"_pointerdown"],[k,"_pointermove"],[R,"_pointerup"],[S,"_pointerleave"],[z,"_pointerdown"],[$,"_pointermove"],[V,"_pointerup"],[Z,"_pointercancel"],[w,"_pointerover"],[Q,"_wheel"],[ne,"_contextmenu"],[I,"_pointerdown"],[C,"_pointermove"],[L,"_pointerup"],[B,"_pointercancel"],[W,"_lostpointercapture"]];const K={mouse:{[F]:x,[q]:S,[G]:w,[X]:P,[C]:k,[I]:b,[L]:R,[B]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[F]:"touchout",[q]:"touchleave",[G]:"touchover",[X]:"touchenter",[C]:$,[I]:z,[L]:V,[B]:Z,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[F]:F,[q]:q,[G]:G,[X]:X,[C]:C,[I]:I,[L]:L,[B]:B,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ae=Te=>Te.indexOf("pointer")>=0?"pointer":Te.indexOf("touch")>=0?"touch":"mouse",se=Te=>{const ee=ae(Te);if(ee==="pointer")return u.Konva.pointerEventsEnabled&&K.pointer;if(ee==="touch")return K.touch;if(ee==="mouse")return K.mouse};function _e(Te={}){return(Te.clipFunc||Te.clipWidth||Te.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Te}const Se="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class be extends a.Container{constructor(ee){super(_e(ee)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{_e(this.attrs)}),this._checkVisibility()}_validateAdd(ee){const he=ee.getType()==="Layer",Ce=ee.getType()==="FastLayer";he||Ce||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ee=this.visible()?"":"none";this.content.style.display=ee}setContainer(ee){if(typeof ee===y){if(ee.charAt(0)==="."){var he=ee.slice(1);ee=document.getElementsByClassName(he)[0]}else{var Ce;ee.charAt(0)!=="#"?Ce=ee:Ce=ee.slice(1),ee=document.getElementById(Ce)}if(!ee)throw"Can not find container in document with id "+Ce}return this._setAttr("container",ee),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ee.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var ee=this.children,he=ee.length,Ce;for(Ce=0;Ce<he;Ce++)ee[Ce].clear();return this}clone(ee){return ee||(ee={}),ee.container=typeof document<"u"&&document.createElement("div"),a.Container.prototype.clone.call(this,ee)}destroy(){super.destroy();var ee=this.content;ee&&t.Util._isInDocument(ee)&&this.container().removeChild(ee);var he=e.stages.indexOf(this);return he>-1&&e.stages.splice(he,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ee=this._pointerPositions[0]||this._changedPointerPositions[0];return ee?{x:ee.x,y:ee.y}:(t.Util.warn(Se),null)}_getPointerById(ee){return this._pointerPositions.find(he=>he.id===ee)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ee){ee=ee||{},ee.x=ee.x||0,ee.y=ee.y||0,ee.width=ee.width||this.width(),ee.height=ee.height||this.height();var he=new d.SceneCanvas({width:ee.width,height:ee.height,pixelRatio:ee.pixelRatio||1}),Ce=he.getContext()._context,Ge=this.children;return(ee.x||ee.y)&&Ce.translate(-1*ee.x,-1*ee.y),Ge.forEach(function(je){if(je.isVisible()){var Qe=je._toKonvaCanvas(ee);Ce.drawImage(Qe._canvas,ee.x,ee.y,Qe.getWidth()/Qe.getPixelRatio(),Qe.getHeight()/Qe.getPixelRatio())}}),he}getIntersection(ee){if(!ee)return null;var he=this.children,Ce=he.length,Ge=Ce-1,je;for(je=Ge;je>=0;je--){const Qe=he[je].getIntersection(ee);if(Qe)return Qe}return null}_resizeDOM(){var ee=this.width(),he=this.height();this.content&&(this.content.style.width=ee+g,this.content.style.height=he+g),this.bufferCanvas.setSize(ee,he),this.bufferHitCanvas.setSize(ee,he),this.children.forEach(Ce=>{Ce.setSize({width:ee,height:he}),Ce.draw()})}add(ee,...he){if(arguments.length>1){for(var Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(ee);var Ge=this.children.length;return Ge>re&&t.Util.warn("The stage has "+Ge+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ee.setSize({width:this.width(),height:this.height()}),ee.draw(),u.Konva.isBrowser&&this.content.appendChild(ee.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ee){return m.hasPointerCapture(ee,this)}setPointerCapture(ee){m.setPointerCapture(ee,this)}releaseCapture(ee){m.releaseCapture(ee,this)}getLayers(){return this.children}_bindContentEvents(){u.Konva.isBrowser&&ie.forEach(([ee,he])=>{this.content.addEventListener(ee,Ce=>{this[he](Ce)},{passive:!1})})}_pointerenter(ee){this.setPointersPositions(ee);const he=se(ee.type);he&&this._fire(he.pointerenter,{evt:ee,target:this,currentTarget:this})}_pointerover(ee){this.setPointersPositions(ee);const he=se(ee.type);he&&this._fire(he.pointerover,{evt:ee,target:this,currentTarget:this})}_getTargetShape(ee){let he=this[ee+"targetShape"];return he&&!he.getStage()&&(he=null),he}_pointerleave(ee){const he=se(ee.type),Ce=ae(ee.type);if(he){this.setPointersPositions(ee);var Ge=this._getTargetShape(Ce),je=!c.DD.isDragging||u.Konva.hitOnDragEnabled;Ge&&je?(Ge._fireAndBubble(he.pointerout,{evt:ee}),Ge._fireAndBubble(he.pointerleave,{evt:ee}),this._fire(he.pointerleave,{evt:ee,target:this,currentTarget:this}),this[Ce+"targetShape"]=null):je&&(this._fire(he.pointerleave,{evt:ee,target:this,currentTarget:this}),this._fire(he.pointerout,{evt:ee,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(ee){const he=se(ee.type),Ce=ae(ee.type);if(he){this.setPointersPositions(ee);var Ge=!1;this._changedPointerPositions.forEach(je=>{var Qe=this.getIntersection(je);if(c.DD.justDragged=!1,u.Konva["_"+Ce+"ListenClick"]=!0,!Qe||!Qe.isListening())return;u.Konva.capturePointerEventsEnabled&&Qe.setPointerCapture(je.id),this[Ce+"ClickStartShape"]=Qe,Qe._fireAndBubble(he.pointerdown,{evt:ee,pointerId:je.id}),Ge=!0;const $e=ee.type.indexOf("touch")>=0;Qe.preventDefault()&&ee.cancelable&&$e&&ee.preventDefault()}),Ge||this._fire(he.pointerdown,{evt:ee,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(ee){const he=se(ee.type),Ce=ae(ee.type);if(!he)return;c.DD.isDragging&&c.DD.node.preventDefault()&&ee.cancelable&&ee.preventDefault(),this.setPointersPositions(ee);var Ge=!c.DD.isDragging||u.Konva.hitOnDragEnabled;if(!Ge)return;var je={};let Qe=!1;var $e=this._getTargetShape(Ce);this._changedPointerPositions.forEach(qt=>{const yt=m.getCapturedShape(qt.id)||this.getIntersection(qt),wn=qt.id,Gt={evt:ee,pointerId:wn};var an=$e!==yt;if(an&&$e&&($e._fireAndBubble(he.pointerout,{...Gt},yt),$e._fireAndBubble(he.pointerleave,{...Gt},yt)),yt){if(je[yt._id])return;je[yt._id]=!0}yt&&yt.isListening()?(Qe=!0,an&&(yt._fireAndBubble(he.pointerover,{...Gt},$e),yt._fireAndBubble(he.pointerenter,{...Gt},$e),this[Ce+"targetShape"]=yt),yt._fireAndBubble(he.pointermove,{...Gt})):$e&&(this._fire(he.pointerover,{evt:ee,target:this,currentTarget:this,pointerId:wn}),this[Ce+"targetShape"]=null)}),Qe||this._fire(he.pointermove,{evt:ee,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ee){const he=se(ee.type),Ce=ae(ee.type);if(!he)return;this.setPointersPositions(ee);const Ge=this[Ce+"ClickStartShape"],je=this[Ce+"ClickEndShape"];var Qe={};let $e=!1;this._changedPointerPositions.forEach(qt=>{const yt=m.getCapturedShape(qt.id)||this.getIntersection(qt);if(yt){if(yt.releaseCapture(qt.id),Qe[yt._id])return;Qe[yt._id]=!0}const wn=qt.id,Gt={evt:ee,pointerId:wn};let an=!1;u.Konva["_"+Ce+"InDblClickWindow"]?(an=!0,clearTimeout(this[Ce+"DblTimeout"])):c.DD.justDragged||(u.Konva["_"+Ce+"InDblClickWindow"]=!0,clearTimeout(this[Ce+"DblTimeout"])),this[Ce+"DblTimeout"]=setTimeout(function(){u.Konva["_"+Ce+"InDblClickWindow"]=!1},u.Konva.dblClickWindow),yt&&yt.isListening()?($e=!0,this[Ce+"ClickEndShape"]=yt,yt._fireAndBubble(he.pointerup,{...Gt}),u.Konva["_"+Ce+"ListenClick"]&&Ge&&Ge===yt&&(yt._fireAndBubble(he.pointerclick,{...Gt}),an&&je&&je===yt&&yt._fireAndBubble(he.pointerdblclick,{...Gt}))):(this[Ce+"ClickEndShape"]=null,u.Konva["_"+Ce+"ListenClick"]&&this._fire(he.pointerclick,{evt:ee,target:this,currentTarget:this,pointerId:wn}),an&&this._fire(he.pointerdblclick,{evt:ee,target:this,currentTarget:this,pointerId:wn}))}),$e||this._fire(he.pointerup,{evt:ee,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),u.Konva["_"+Ce+"ListenClick"]=!1,ee.cancelable&&Ce!=="touch"&&ee.preventDefault()}_contextmenu(ee){this.setPointersPositions(ee);var he=this.getIntersection(this.getPointerPosition());he&&he.isListening()?he._fireAndBubble(ne,{evt:ee}):this._fire(ne,{evt:ee,target:this,currentTarget:this})}_wheel(ee){this.setPointersPositions(ee);var he=this.getIntersection(this.getPointerPosition());he&&he.isListening()?he._fireAndBubble(Q,{evt:ee}):this._fire(Q,{evt:ee,target:this,currentTarget:this})}_pointercancel(ee){this.setPointersPositions(ee);const he=m.getCapturedShape(ee.pointerId)||this.getIntersection(this.getPointerPosition());he&&he._fireAndBubble(L,m.createEvent(ee)),m.releaseCapture(ee.pointerId)}_lostpointercapture(ee){m.releaseCapture(ee.pointerId)}setPointersPositions(ee){var he=this._getContentPosition(),Ce=null,Ge=null;ee=ee||window.event,ee.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ee.touches,je=>{this._pointerPositions.push({id:je.identifier,x:(je.clientX-he.left)/he.scaleX,y:(je.clientY-he.top)/he.scaleY})}),Array.prototype.forEach.call(ee.changedTouches||ee.touches,je=>{this._changedPointerPositions.push({id:je.identifier,x:(je.clientX-he.left)/he.scaleX,y:(je.clientY-he.top)/he.scaleY})})):(Ce=(ee.clientX-he.left)/he.scaleX,Ge=(ee.clientY-he.top)/he.scaleY,this.pointerPos={x:Ce,y:Ge},this._pointerPositions=[{x:Ce,y:Ge,id:t.Util._getFirstPointerId(ee)}],this._changedPointerPositions=[{x:Ce,y:Ge,id:t.Util._getFirstPointerId(ee)}])}_setPointerPosition(ee){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ee)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var ee=this.content.getBoundingClientRect();return{top:ee.top,left:ee.left,scaleX:ee.width/this.content.clientWidth||1,scaleY:ee.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new d.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new d.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!u.Konva.isBrowser){var ee=this.container();if(!ee)throw"Stage has no container. A container is required.";ee.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ee.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ee){ee.batchDraw()}),this}}e.Stage=be,be.prototype.nodeType=f,(0,h._registerNode)(be),i.Factory.addGetterSetter(be,"container")}(Pp)),Pp}var Zc={},kp={},y2;function rr(){return y2||(y2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=wt(),i=Sn(),a=_t(),u=Nn(),d=Pt(),c=wt(),h=d4();var m="hasShadow",f="shadowRGBA",y="patternImage",g="linearGradient",x="radialGradient";let S;function w(){return S||(S=i.Util.createCanvasElement().getContext("2d"),S)}e.shapes={};function P(q){const G=this.attrs.fillRule;G?q.fill(G):q.fill()}function k(q){q.stroke()}function b(q){q.fill()}function R(q){q.stroke()}function C(){this._clearCache(m)}function I(){this._clearCache(f)}function L(){this._clearCache(y)}function B(){this._clearCache(g)}function W(){this._clearCache(x)}class F extends u.Node{constructor(G){super(G);let X;for(;X=i.Util.getRandomColor(),!(X&&!(X in e.shapes)););this.colorKey=X,e.shapes[X]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(m,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var G=w();const X=G.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(X&&X.setTransform){const ne=new i.Transform;ne.translate(this.fillPatternX(),this.fillPatternY()),ne.rotate(t.Konva.getAngle(this.fillPatternRotation())),ne.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),ne.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const z=ne.getMatrix(),V=typeof DOMMatrix>"u"?{a:z[0],b:z[1],c:z[2],d:z[3],e:z[4],f:z[5]}:new DOMMatrix(z);X.setTransform(V)}return X}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){var G=this.fillLinearGradientColorStops();if(G){for(var X=w(),ne=this.fillLinearGradientStartPoint(),z=this.fillLinearGradientEndPoint(),V=X.createLinearGradient(ne.x,ne.y,z.x,z.y),$=0;$<G.length;$+=2)V.addColorStop(G[$],G[$+1]);return V}}_getRadialGradient(){return this._getCache(x,this.__getRadialGradient)}__getRadialGradient(){var G=this.fillRadialGradientColorStops();if(G){for(var X=w(),ne=this.fillRadialGradientStartPoint(),z=this.fillRadialGradientEndPoint(),V=X.createRadialGradient(ne.x,ne.y,this.fillRadialGradientStartRadius(),z.x,z.y,this.fillRadialGradientEndRadius()),$=0;$<G.length;$+=2)V.addColorStop(G[$],G[$+1]);return V}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var G=i.Util.colorToRGBA(this.shadowColor());if(G)return"rgba("+G.r+","+G.g+","+G.b+","+G.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const G=this.hitStrokeWidth();return G==="auto"?this.hasStroke():this.strokeEnabled()&&!!G}intersects(G){var X=this.getStage();if(!X)return!1;const ne=X.bufferHitCanvas;return ne.getContext().clear(),this.drawHit(ne,void 0,!0),ne.context.getImageData(Math.round(G.x),Math.round(G.y),1,1).data[3]>0}destroy(){return u.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(G){var X;if(!this.getStage()||!((X=this.attrs.perfectDrawEnabled)!==null&&X!==void 0?X:!0))return!1;const z=G||this.hasFill(),V=this.hasStroke(),$=this.getAbsoluteOpacity()!==1;if(z&&V&&$)return!0;const Z=this.hasShadow(),Q=this.shadowForStrokeEnabled();return!!(z&&V&&Z&&Q)}setStrokeHitEnabled(G){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),G?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var G=this.size();return{x:this._centroid?-G.width/2:0,y:this._centroid?-G.height/2:0,width:G.width,height:G.height}}getClientRect(G={}){const X=G.skipTransform,ne=G.relativeTo,z=this.getSelfRect(),$=!G.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Z=z.width+$,Q=z.height+$,re=!G.skipShadow&&this.hasShadow(),ie=re?this.shadowOffsetX():0,K=re?this.shadowOffsetY():0,ae=Z+Math.abs(ie),se=Q+Math.abs(K),_e=re&&this.shadowBlur()||0,Se=ae+_e*2,be=se+_e*2,Te={width:Se,height:be,x:-($/2+_e)+Math.min(ie,0)+z.x,y:-($/2+_e)+Math.min(K,0)+z.y};return X?Te:this._transformedRect(Te,ne)}drawScene(G,X){var ne=this.getLayer(),z=G||ne.getCanvas(),V=z.getContext(),$=this._getCanvasCache(),Z=this.getSceneFunc(),Q=this.hasShadow(),re,ie,K,ae=z.isCache,se=X===this;if(!this.isVisible()&&!se)return this;if($){V.save();var _e=this.getAbsoluteTransform(X).getMatrix();return V.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]),this._drawCachedSceneCanvas(V),V.restore(),this}if(!Z)return this;if(V.save(),this._useBufferCanvas()&&!ae){re=this.getStage(),ie=re.bufferCanvas,K=ie.getContext(),K.clear(),K.save(),K._applyLineJoin(this);var Se=this.getAbsoluteTransform(X).getMatrix();K.transform(Se[0],Se[1],Se[2],Se[3],Se[4],Se[5]),Z.call(this,K,this),K.restore();var be=ie.pixelRatio;Q&&V._applyShadow(this),V._applyOpacity(this),V._applyGlobalCompositeOperation(this),V.drawImage(ie._canvas,0,0,ie.width/be,ie.height/be)}else{if(V._applyLineJoin(this),!se){var Se=this.getAbsoluteTransform(X).getMatrix();V.transform(Se[0],Se[1],Se[2],Se[3],Se[4],Se[5]),V._applyOpacity(this),V._applyGlobalCompositeOperation(this)}Q&&V._applyShadow(this),Z.call(this,V,this)}return V.restore(),this}drawHit(G,X,ne=!1){if(!this.shouldDrawHit(X,ne))return this;var z=this.getLayer(),V=G||z.hitCanvas,$=V&&V.getContext(),Z=this.hitFunc()||this.sceneFunc(),Q=this._getCanvasCache(),re=Q&&Q.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),re){$.save();var ie=this.getAbsoluteTransform(X).getMatrix();return $.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),this._drawCachedHitCanvas($),$.restore(),this}if(!Z)return this;if($.save(),$._applyLineJoin(this),!(this===X)){var ae=this.getAbsoluteTransform(X).getMatrix();$.transform(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5])}return Z.call(this,$,this),$.restore(),this}drawHitFromCache(G=0){var X=this._getCanvasCache(),ne=this._getCachedSceneCanvas(),z=X.hit,V=z.getContext(),$=z.getWidth(),Z=z.getHeight(),Q,re,ie,K,ae,se;V.clear(),V.drawImage(ne._canvas,0,0,$,Z);try{for(Q=V.getImageData(0,0,$,Z),re=Q.data,ie=re.length,K=i.Util._hexToRgb(this.colorKey),ae=0;ae<ie;ae+=4)se=re[ae+3],se>G?(re[ae]=K.r,re[ae+1]=K.g,re[ae+2]=K.b,re[ae+3]=255):re[ae+3]=0;V.putImageData(Q,0,0)}catch(_e){i.Util.error("Unable to draw hit graph from cached scene canvas. "+_e.message)}return this}hasPointerCapture(G){return h.hasPointerCapture(G,this)}setPointerCapture(G){h.setPointerCapture(G,this)}releaseCapture(G){h.releaseCapture(G,this)}}e.Shape=F,F.prototype._fillFunc=P,F.prototype._strokeFunc=k,F.prototype._fillFuncHit=b,F.prototype._strokeFuncHit=R,F.prototype._centroid=!1,F.prototype.nodeType="Shape",(0,c._registerNode)(F),F.prototype.eventListeners={},F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",I),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",L),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",B),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",W),a.Factory.addGetterSetter(F,"stroke",void 0,(0,d.getStringOrGradientValidator)()),a.Factory.addGetterSetter(F,"strokeWidth",2,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillAfterStrokeEnabled",!1),a.Factory.addGetterSetter(F,"hitStrokeWidth","auto",(0,d.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(F,"strokeHitEnabled",!0,(0,d.getBooleanValidator)()),a.Factory.addGetterSetter(F,"perfectDrawEnabled",!0,(0,d.getBooleanValidator)()),a.Factory.addGetterSetter(F,"shadowForStrokeEnabled",!0,(0,d.getBooleanValidator)()),a.Factory.addGetterSetter(F,"lineJoin"),a.Factory.addGetterSetter(F,"lineCap"),a.Factory.addGetterSetter(F,"sceneFunc"),a.Factory.addGetterSetter(F,"hitFunc"),a.Factory.addGetterSetter(F,"dash"),a.Factory.addGetterSetter(F,"dashOffset",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowColor",void 0,(0,d.getStringValidator)()),a.Factory.addGetterSetter(F,"shadowBlur",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowOpacity",1,(0,d.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(F,"shadowOffsetX",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"shadowOffsetY",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternImage"),a.Factory.addGetterSetter(F,"fill",void 0,(0,d.getStringOrGradientValidator)()),a.Factory.addGetterSetter(F,"fillPatternX",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternY",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(F,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(F,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(F,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(F,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(F,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(F,"fillEnabled",!0),a.Factory.addGetterSetter(F,"strokeEnabled",!0),a.Factory.addGetterSetter(F,"shadowEnabled",!0),a.Factory.addGetterSetter(F,"dashEnabled",!0),a.Factory.addGetterSetter(F,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(F,"fillPriority","color"),a.Factory.addComponentsGetterSetter(F,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(F,"fillPatternOffsetX",0,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternOffsetY",0,(0,d.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(F,"fillPatternScaleX",1,(0,d.getNumberValidator)()),a.Factory.addGetterSetter(F,"fillPatternScaleY",1,(0,d.getNumberValidator)()),a.Factory.addComponentsGetterSetter(F,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(F,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(F,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(F,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(F,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(F,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(F,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(F,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(F,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(F,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(F,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(F,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(F,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(F,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(F,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(F,"fillPatternRotation",0),a.Factory.addGetterSetter(F,"fillRule",void 0,(0,d.getStringValidator)()),a.Factory.backCompat(F,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(kp)),kp}var x2;function h4(){if(x2)return Zc;x2=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.Layer=void 0;const e=Sn(),t=u0(),i=Nn(),a=_t(),u=l0(),d=Pt(),c=rr(),h=wt();var m="#",f="beforeDraw",y="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],x=g.length;class S extends t.Container{constructor(P){super(P),this.canvas=new u.SceneCanvas,this.hitCanvas=new u.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(P){return this.getContext().clear(P),this.getHitCanvas().getContext().clear(P),this}setZIndex(P){super.setZIndex(P);var k=this.getStage();return k&&k.content&&(k.content.removeChild(this.getNativeCanvasElement()),P<k.children.length-1?k.content.insertBefore(this.getNativeCanvasElement(),k.children[P+1].getCanvas()._canvas):k.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);var P=this.getStage();return P&&P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var P=i.Node.prototype.moveUp.call(this);if(!P)return!1;var k=this.getStage();return!k||!k.content?!1:(k.content.removeChild(this.getNativeCanvasElement()),this.index<k.children.length-1?k.content.insertBefore(this.getNativeCanvasElement(),k.children[this.index+1].getCanvas()._canvas):k.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){var P=this.getStage();if(P){var k=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),k[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){var P=this.getStage();if(P){var k=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),k[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var P=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),P&&P.parentNode&&e.Util._isInDocument(P)&&P.parentNode.removeChild(P),this}getStage(){return this.parent}setSize({width:P,height:k}){return this.canvas.setSize(P,k),this.hitCanvas.setSize(P,k),this._setSmoothEnabled(),this}_validateAdd(P){var k=P.getType();k!=="Group"&&k!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(P){return P=P||{},P.width=P.width||this.getWidth(),P.height=P.height||this.getHeight(),P.x=P.x!==void 0?P.x:this.x(),P.y=P.y!==void 0?P.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,P)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(P){if(!this.isListening()||!this.isVisible())return null;for(var k=1,b=!1;;){for(let R=0;R<x;R++){const C=g[R],I=this._getIntersection({x:P.x+C.x*k,y:P.y+C.y*k}),L=I.shape;if(L)return L;if(b=!!I.antialiased,!I.antialiased)break}if(b)k+=1;else return null}}_getIntersection(P){const k=this.hitCanvas.pixelRatio,b=this.hitCanvas.context.getImageData(Math.round(P.x*k),Math.round(P.y*k),1,1).data,R=b[3];if(R===255){const C=e.Util._rgbToHex(b[0],b[1],b[2]),I=c.shapes[m+C];return I?{shape:I}:{antialiased:!0}}else if(R>0)return{antialiased:!0};return{}}drawScene(P,k){var b=this.getLayer(),R=P||b&&b.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&R.getContext().clear(),t.Container.prototype.drawScene.call(this,R,k),this._fire(y,{node:this}),this}drawHit(P,k){var b=this.getLayer(),R=P||b&&b.hitCanvas;return b&&b.clearBeforeDraw()&&b.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,R,k),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(P){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(P)}getHitGraphEnabled(P){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var P=this.parent,k=!!this.hitCanvas._canvas.parentNode;k?P.content.removeChild(this.hitCanvas._canvas):P.content.appendChild(this.hitCanvas._canvas)}}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Zc.Layer=S,S.prototype.nodeType="Layer",(0,h._registerNode)(S),a.Factory.addGetterSetter(S,"imageSmoothingEnabled",!0),a.Factory.addGetterSetter(S,"clearBeforeDraw",!0),a.Factory.addGetterSetter(S,"hitGraphEnabled",!0,(0,d.getBooleanValidator)()),Zc}var Jc={},S2;function _7(){if(S2)return Jc;S2=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.FastLayer=void 0;const e=Sn(),t=h4(),i=wt();let a=class extends t.Layer{constructor(d){super(d),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Jc.FastLayer=a,a.prototype.nodeType="FastLayer",(0,i._registerNode)(a),Jc}var ed={},w2;function sg(){if(w2)return ed;w2=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.Group=void 0;const e=Sn(),t=u0(),i=wt();class a extends t.Container{_validateAdd(d){var c=d.getType();c!=="Group"&&c!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}}return ed.Group=a,a.prototype.nodeType="Group",(0,i._registerNode)(a),ed}var td={},_2;function og(){if(_2)return td;_2=1,Object.defineProperty(td,"__esModule",{value:!0}),td.Animation=void 0;const e=wt(),t=Sn(),i=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();class a{constructor(d,c){this.id=a.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=d,this.setLayers(c)}setLayers(d){let c=[];return d&&(c=Array.isArray(d)?d:[d]),this.layers=c,this}getLayers(){return this.layers}addLayer(d){const c=this.layers,h=c.length;for(let m=0;m<h;m++)if(c[m]._id===d._id)return!1;return this.layers.push(d),!0}isRunning(){const c=a.animations,h=c.length;for(let m=0;m<h;m++)if(c[m].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),a._addAnimation(this),this}stop(){return a._removeAnimation(this),this}_updateFrameObject(d){this.frame.timeDiff=d-this.frame.lastTime,this.frame.lastTime=d,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(d){this.animations.push(d),this._handleAnimation()}static _removeAnimation(d){const c=d.id,h=this.animations,m=h.length;for(let f=0;f<m;f++)if(h[f].id===c){this.animations.splice(f,1);break}}static _runFrames(){const d={},c=this.animations;for(let h=0;h<c.length;h++){const m=c[h],f=m.layers,y=m.func;m._updateFrameObject(i());const g=f.length;let x;if(y?x=y.call(m,m.frame)!==!1:x=!0,!!x)for(let S=0;S<g;S++){const w=f[S];w._id!==void 0&&(d[w._id]=w)}}for(let h in d)d.hasOwnProperty(h)&&d[h].batchDraw()}static _animationLoop(){const d=a;d.animations.length?(d._runFrames(),t.Util.requestAnimFrame(d._animationLoop)):d.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}}return td.Animation=a,a.animations=[],a.animIdCounter=0,a.animRunning=!1,td}var Tp={},C2;function C7(){return C2||(C2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Sn(),i=og(),a=Nn(),u=wt();var d={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,h=2,m=3,f=0,y=["fill","stroke","shadowColor"];class g{constructor(w,P,k,b,R,C,I){this.prop=w,this.propFunc=P,this.begin=b,this._pos=b,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=I,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=k,this._change=R-this.begin,this.pause()}fire(w){var P=this[w];P&&P()}setTime(w){w>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():w<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=w,this.update())}getTime(){return this._time}setPosition(w){this.prevPos=this._pos,this.propFunc(w),this._pos=w}getPosition(w){return w===void 0&&(w=this._time),this.func(w,this.begin,this._change,this.duration)}play(){this.state=h,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=m,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(w){this.pause(),this._time=w,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var w=this.getTimer()-this._startTime;this.state===h?this.setTime(w):this.state===m&&this.setTime(this.duration-w)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class x{constructor(w){var P=this,k=w.node,b=k._id,R,C=w.easing||e.Easings.Linear,I=!!w.yoyo,L;typeof w.duration>"u"?R=.3:w.duration===0?R=.001:R=w.duration,this.node=k,this._id=f++;var B=k.getLayer()||(k instanceof u.Konva.Stage?k.getLayers():null);B||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){P.tween.onEnterFrame()},B),this.tween=new g(L,function(W){P._tweenFunc(W)},C,0,1,R*1e3,I),this._addListeners(),x.attrs[b]||(x.attrs[b]={}),x.attrs[b][this._id]||(x.attrs[b][this._id]={}),x.tweens[b]||(x.tweens[b]={});for(L in w)d[L]===void 0&&this._addAttr(L,w[L]);this.reset(),this.onFinish=w.onFinish,this.onReset=w.onReset,this.onUpdate=w.onUpdate}_addAttr(w,P){var k=this.node,b=k._id,R,C,I,L,B,W,F,q;if(I=x.tweens[b][w],I&&delete x.attrs[b][I][w],R=k.getAttr(w),t.Util._isArray(P))if(C=[],B=Math.max(P.length,R.length),w==="points"&&P.length!==R.length&&(P.length>R.length?(F=R,R=t.Util._prepareArrayForTween(R,P,k.closed())):(W=P,P=t.Util._prepareArrayForTween(P,R,k.closed()))),w.indexOf("fill")===0)for(L=0;L<B;L++)if(L%2===0)C.push(P[L]-R[L]);else{var G=t.Util.colorToRGBA(R[L]);q=t.Util.colorToRGBA(P[L]),R[L]=G,C.push({r:q.r-G.r,g:q.g-G.g,b:q.b-G.b,a:q.a-G.a})}else for(L=0;L<B;L++)C.push(P[L]-R[L]);else y.indexOf(w)!==-1?(R=t.Util.colorToRGBA(R),q=t.Util.colorToRGBA(P),C={r:q.r-R.r,g:q.g-R.g,b:q.b-R.b,a:q.a-R.a}):C=P-R;x.attrs[b][this._id][w]={start:R,diff:C,end:P,trueEnd:W,trueStart:F},x.tweens[b][w]=this._id}_tweenFunc(w){var P=this.node,k=x.attrs[P._id][this._id],b,R,C,I,L,B,W,F;for(b in k){if(R=k[b],C=R.start,I=R.diff,F=R.end,t.Util._isArray(C))if(L=[],W=Math.max(C.length,F.length),b.indexOf("fill")===0)for(B=0;B<W;B++)B%2===0?L.push((C[B]||0)+I[B]*w):L.push("rgba("+Math.round(C[B].r+I[B].r*w)+","+Math.round(C[B].g+I[B].g*w)+","+Math.round(C[B].b+I[B].b*w)+","+(C[B].a+I[B].a*w)+")");else for(B=0;B<W;B++)L.push((C[B]||0)+I[B]*w);else y.indexOf(b)!==-1?L="rgba("+Math.round(C.r+I.r*w)+","+Math.round(C.g+I.g*w)+","+Math.round(C.b+I.b*w)+","+(C.a+I.a*w)+")":L=C+I*w;P.setAttr(b,L)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var w=this.node,P=x.attrs[w._id][this._id];P.points&&P.points.trueEnd&&w.setAttr("points",P.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var w=this.node,P=x.attrs[w._id][this._id];P.points&&P.points.trueStart&&w.points(P.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(w){return this.tween.seek(w*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var w=this.node._id,P=this._id,k=x.tweens[w],b;this.pause();for(b in k)delete x.tweens[w][b];delete x.attrs[w][P]}}e.Tween=x,x.attrs={},x.tweens={},a.Node.prototype.to=function(S){var w=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),w&&w()};var P=new x(S);P.play()},e.Easings={BackEaseIn(S,w,P,k){var b=1.70158;return P*(S/=k)*S*((b+1)*S-b)+w},BackEaseOut(S,w,P,k){var b=1.70158;return P*((S=S/k-1)*S*((b+1)*S+b)+1)+w},BackEaseInOut(S,w,P,k){var b=1.70158;return(S/=k/2)<1?P/2*(S*S*(((b*=1.525)+1)*S-b))+w:P/2*((S-=2)*S*(((b*=1.525)+1)*S+b)+2)+w},ElasticEaseIn(S,w,P,k,b,R){var C=0;return S===0?w:(S/=k)===1?w+P:(R||(R=k*.3),!b||b<Math.abs(P)?(b=P,C=R/4):C=R/(2*Math.PI)*Math.asin(P/b),-(b*Math.pow(2,10*(S-=1))*Math.sin((S*k-C)*(2*Math.PI)/R))+w)},ElasticEaseOut(S,w,P,k,b,R){var C=0;return S===0?w:(S/=k)===1?w+P:(R||(R=k*.3),!b||b<Math.abs(P)?(b=P,C=R/4):C=R/(2*Math.PI)*Math.asin(P/b),b*Math.pow(2,-10*S)*Math.sin((S*k-C)*(2*Math.PI)/R)+P+w)},ElasticEaseInOut(S,w,P,k,b,R){var C=0;return S===0?w:(S/=k/2)===2?w+P:(R||(R=k*(.3*1.5)),!b||b<Math.abs(P)?(b=P,C=R/4):C=R/(2*Math.PI)*Math.asin(P/b),S<1?-.5*(b*Math.pow(2,10*(S-=1))*Math.sin((S*k-C)*(2*Math.PI)/R))+w:b*Math.pow(2,-10*(S-=1))*Math.sin((S*k-C)*(2*Math.PI)/R)*.5+P+w)},BounceEaseOut(S,w,P,k){return(S/=k)<1/2.75?P*(7.5625*S*S)+w:S<2/2.75?P*(7.5625*(S-=1.5/2.75)*S+.75)+w:S<2.5/2.75?P*(7.5625*(S-=2.25/2.75)*S+.9375)+w:P*(7.5625*(S-=2.625/2.75)*S+.984375)+w},BounceEaseIn(S,w,P,k){return P-e.Easings.BounceEaseOut(k-S,0,P,k)+w},BounceEaseInOut(S,w,P,k){return S<k/2?e.Easings.BounceEaseIn(S*2,0,P,k)*.5+w:e.Easings.BounceEaseOut(S*2-k,0,P,k)*.5+P*.5+w},EaseIn(S,w,P,k){return P*(S/=k)*S+w},EaseOut(S,w,P,k){return-P*(S/=k)*(S-2)+w},EaseInOut(S,w,P,k){return(S/=k/2)<1?P/2*S*S+w:-P/2*(--S*(S-2)-1)+w},StrongEaseIn(S,w,P,k){return P*(S/=k)*S*S*S*S+w},StrongEaseOut(S,w,P,k){return P*((S=S/k-1)*S*S*S*S+1)+w},StrongEaseInOut(S,w,P,k){return(S/=k/2)<1?P/2*S*S*S*S*S+w:P/2*((S-=2)*S*S*S*S+2)+w},Linear(S,w,P,k){return P*S/k+w}}}(Tp)),Tp}var E2;function lm(){return E2||(E2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=wt(),i=Sn(),a=Nn(),u=u0(),d=w7(),c=h4(),h=_7(),m=sg(),f=ig(),y=rr(),g=og(),x=C7(),S=c4(),w=l0();e.Konva=i.Util._assign(t.Konva,{Util:i.Util,Transform:i.Transform,Node:a.Node,Container:u.Container,Stage:d.Stage,stages:d.stages,Layer:c.Layer,FastLayer:h.FastLayer,Group:m.Group,DD:f.DD,Shape:y.Shape,shapes:y.shapes,Animation:g.Animation,Tween:x.Tween,Easings:x.Easings,Context:S.Context,Canvas:w.Canvas}),e.default=e.Konva}(Sp)),Sp}var nd={},P2;function E7(){if(P2)return nd;P2=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.Arc=void 0;const e=_t(),t=rr(),i=wt(),a=Pt(),u=wt();let d=class extends t.Shape{_sceneFunc(h){var m=i.Konva.getAngle(this.angle()),f=this.clockwise();h.beginPath(),h.arc(0,0,this.outerRadius(),0,m,f),h.arc(0,0,this.innerRadius(),m,0,!f),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}getSelfRect(){const h=this.innerRadius(),m=this.outerRadius(),f=this.clockwise(),y=i.Konva.getAngle(f?360-this.angle():this.angle()),g=Math.cos(Math.min(y,Math.PI)),x=1,S=Math.sin(Math.min(Math.max(Math.PI,y),3*Math.PI/2)),w=Math.sin(Math.min(y,Math.PI/2)),P=g*(g>0?h:m),k=x*m,b=S*(S>0?h:m),R=w*(w>0?m:h);return{x:P,y:f?-1*R:b,width:k-P,height:R-b}}};return nd.Arc=d,d.prototype._centroid=!0,d.prototype.className="Arc",d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"innerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"outerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"angle",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"clockwise",!1,(0,a.getBooleanValidator)()),nd}var rd={},id={},k2;function f4(){if(k2)return id;k2=1,Object.defineProperty(id,"__esModule",{value:!0}),id.Line=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();function u(h,m,f,y,g,x,S){var w=Math.sqrt(Math.pow(f-h,2)+Math.pow(y-m,2)),P=Math.sqrt(Math.pow(g-f,2)+Math.pow(x-y,2)),k=S*w/(w+P),b=S*P/(w+P),R=f-k*(g-h),C=y-k*(x-m),I=f+b*(g-h),L=y+b*(x-m);return[R,C,I,L]}function d(h,m){var f=h.length,y=[],g,x;for(g=2;g<f-2;g+=2)x=u(h[g-2],h[g-1],h[g],h[g+1],h[g+2],h[g+3],m),!isNaN(x[0])&&(y.push(x[0]),y.push(x[1]),y.push(h[g]),y.push(h[g+1]),y.push(x[2]),y.push(x[3]));return y}class c extends t.Shape{constructor(m){super(m),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(m){var f=this.points(),y=f.length,g=this.tension(),x=this.closed(),S=this.bezier(),w,P,k;if(y){if(m.beginPath(),m.moveTo(f[0],f[1]),g!==0&&y>4){for(w=this.getTensionPoints(),P=w.length,k=x?0:4,x||m.quadraticCurveTo(w[0],w[1],w[2],w[3]);k<P-2;)m.bezierCurveTo(w[k++],w[k++],w[k++],w[k++],w[k++],w[k++]);x||m.quadraticCurveTo(w[P-2],w[P-1],f[y-2],f[y-1])}else if(S)for(k=2;k<y;)m.bezierCurveTo(f[k++],f[k++],f[k++],f[k++],f[k++],f[k++]);else for(k=2;k<y;k+=2)m.lineTo(f[k],f[k+1]);x?(m.closePath(),m.fillStrokeShape(this)):m.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():d(this.points(),this.tension())}_getTensionPointsClosed(){var m=this.points(),f=m.length,y=this.tension(),g=u(m[f-2],m[f-1],m[0],m[1],m[2],m[3],y),x=u(m[f-4],m[f-3],m[f-2],m[f-1],m[0],m[1],y),S=d(m,y),w=[g[2],g[3]].concat(S).concat([x[0],x[1],m[f-2],m[f-1],x[2],x[3],g[0],g[1],m[0],m[1]]);return w}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var m=this.points();if(m.length<4)return{x:m[0]||0,y:m[1]||0,width:0,height:0};this.tension()!==0?m=[m[0],m[1],...this._getTensionPoints(),m[m.length-2],m[m.length-1]]:m=this.points();for(var f=m[0],y=m[0],g=m[1],x=m[1],S,w,P=0;P<m.length/2;P++)S=m[P*2],w=m[P*2+1],f=Math.min(f,S),y=Math.max(y,S),g=Math.min(g,w),x=Math.max(x,w);return{x:f,y:g,width:y-f,height:x-g}}}return id.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,a._registerNode)(c),e.Factory.addGetterSetter(c,"closed",!1),e.Factory.addGetterSetter(c,"bezier",!1),e.Factory.addGetterSetter(c,"tension",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(c,"points",[],(0,i.getNumberArrayValidator)()),id}var sd={},Rp={},T2;function P7(){return T2||(T2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(c,h,m)=>{let f,y,g;f=m/2,y=0;for(let S=0;S<20;S++)g=f*e.tValues[20][S]+f,y+=e.cValues[20][S]*a(c,h,g);return f*y};e.getCubicArcLength=t;const i=(c,h,m)=>{m===void 0&&(m=1);const f=c[0]-2*c[1]+c[2],y=h[0]-2*h[1]+h[2],g=2*c[1]-2*c[0],x=2*h[1]-2*h[0],S=4*(f*f+y*y),w=4*(f*g+y*x),P=g*g+x*x;if(S===0)return m*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(h[2]-h[0],2));const k=w/(2*S),b=P/S,R=m+k,C=b-k*k,I=R*R+C>0?Math.sqrt(R*R+C):0,L=k*k+C>0?Math.sqrt(k*k+C):0,B=k+Math.sqrt(k*k+C)!==0?C*Math.log(Math.abs((R+I)/(k+L))):0;return Math.sqrt(S)/2*(R*I-k*L+B)};e.getQuadraticArcLength=i;function a(c,h,m){const f=u(1,m,c),y=u(1,m,h),g=f*f+y*y;return Math.sqrt(g)}const u=(c,h,m)=>{const f=m.length-1;let y,g;if(f===0)return 0;if(c===0){g=0;for(let x=0;x<=f;x++)g+=e.binomialCoefficients[f][x]*Math.pow(1-h,f-x)*Math.pow(h,x)*m[x];return g}else{y=new Array(f);for(let x=0;x<f;x++)y[x]=f*(m[x+1]-m[x]);return u(c-1,h,y)}},d=(c,h,m)=>{let f=1,y=c/h,g=(c-m(y))/h,x=0;for(;f>.001;){const S=m(y+g),w=Math.abs(c-S)/h;if(w<f)f=w,y+=g;else{const P=m(y-g),k=Math.abs(c-P)/h;k<f?(f=k,y-=g):g/=2}if(x++,x>500)break}return y};e.t2length=d}(Rp)),Rp}var R2;function ag(){if(R2)return sd;R2=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.Path=void 0;const e=_t(),t=rr(),i=wt(),a=P7();let u=class ci extends t.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ci.parsePathData(this.data()),this.pathLength=ci.getPathLength(this.dataArray)}_sceneFunc(c){var h=this.dataArray;c.beginPath();for(var m=!1,f=0;f<h.length;f++){var y=h[f].command,g=h[f].points;switch(y){case"L":c.lineTo(g[0],g[1]);break;case"M":c.moveTo(g[0],g[1]);break;case"C":c.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":c.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":var x=g[0],S=g[1],w=g[2],P=g[3],k=g[4],b=g[5],R=g[6],C=g[7],I=w>P?w:P,L=w>P?1:w/P,B=w>P?P/w:1;c.translate(x,S),c.rotate(R),c.scale(L,B),c.arc(0,0,I,k,k+b,1-C),c.scale(1/L,1/B),c.rotate(-R),c.translate(-x,-S);break;case"z":m=!0,c.closePath();break}}!m&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){var c=[];this.dataArray.forEach(function(w){if(w.command==="A"){var P=w.points[4],k=w.points[5],b=w.points[4]+k,R=Math.PI/180;if(Math.abs(P-b)<R&&(R=Math.abs(P-b)),k<0)for(let C=P-R;C>b;C-=R){const I=ci.getPointOnEllipticalArc(w.points[0],w.points[1],w.points[2],w.points[3],C,0);c.push(I.x,I.y)}else for(let C=P+R;C<b;C+=R){const I=ci.getPointOnEllipticalArc(w.points[0],w.points[1],w.points[2],w.points[3],C,0);c.push(I.x,I.y)}}else if(w.command==="C")for(let C=0;C<=1;C+=.01){const I=ci.getPointOnCubicBezier(C,w.start.x,w.start.y,w.points[0],w.points[1],w.points[2],w.points[3],w.points[4],w.points[5]);c.push(I.x,I.y)}else c=c.concat(w.points)});for(var h=c[0],m=c[0],f=c[1],y=c[1],g,x,S=0;S<c.length/2;S++)g=c[S*2],x=c[S*2+1],isNaN(g)||(h=Math.min(h,g),m=Math.max(m,g)),isNaN(x)||(f=Math.min(f,x),y=Math.max(y,x));return{x:h,y:f,width:m-h,height:y-f}}getLength(){return this.pathLength}getPointAtLength(c){return ci.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,h,m,f){return Math.sqrt((m-c)*(m-c)+(f-h)*(f-h))}static getPathLength(c){let h=0;for(var m=0;m<c.length;++m)h+=c[m].pathLength;return h}static getPointAtLengthOfDataArray(c,h){var m,f=0,y=h.length;if(!y)return null;for(;f<y&&c>h[f].pathLength;)c-=h[f].pathLength,++f;if(f===y)return m=h[f-1].points.slice(-2),{x:m[0],y:m[1]};if(c<.01)return m=h[f].points.slice(0,2),{x:m[0],y:m[1]};var g=h[f],x=g.points;switch(g.command){case"L":return ci.getPointOnLine(c,g.start.x,g.start.y,x[0],x[1]);case"C":return ci.getPointOnCubicBezier((0,a.t2length)(c,ci.getPathLength(h),I=>(0,a.getCubicArcLength)([g.start.x,x[0],x[2],x[4]],[g.start.y,x[1],x[3],x[5]],I)),g.start.x,g.start.y,x[0],x[1],x[2],x[3],x[4],x[5]);case"Q":return ci.getPointOnQuadraticBezier((0,a.t2length)(c,ci.getPathLength(h),I=>(0,a.getQuadraticArcLength)([g.start.x,x[0],x[2]],[g.start.y,x[1],x[3]],I)),g.start.x,g.start.y,x[0],x[1],x[2],x[3]);case"A":var S=x[0],w=x[1],P=x[2],k=x[3],b=x[4],R=x[5],C=x[6];return b+=R*c/g.pathLength,ci.getPointOnEllipticalArc(S,w,P,k,b,C)}return null}static getPointOnLine(c,h,m,f,y,g,x){g===void 0&&(g=h),x===void 0&&(x=m);var S=(y-m)/(f-h+1e-8),w=Math.sqrt(c*c/(1+S*S));f<h&&(w*=-1);var P=S*w,k;if(f===h)k={x:g,y:x+P};else if((x-m)/(g-h+1e-8)===S)k={x:g+w,y:x+P};else{var b,R,C=this.getLineLength(h,m,f,y),I=(g-h)*(f-h)+(x-m)*(y-m);I=I/(C*C),b=h+I*(f-h),R=m+I*(y-m);var L=this.getLineLength(g,x,b,R),B=Math.sqrt(c*c-L*L);w=Math.sqrt(B*B/(1+S*S)),f<h&&(w*=-1),P=S*w,k={x:b+w,y:R+P}}return k}static getPointOnCubicBezier(c,h,m,f,y,g,x,S,w){function P(L){return L*L*L}function k(L){return 3*L*L*(1-L)}function b(L){return 3*L*(1-L)*(1-L)}function R(L){return(1-L)*(1-L)*(1-L)}var C=S*P(c)+g*k(c)+f*b(c)+h*R(c),I=w*P(c)+x*k(c)+y*b(c)+m*R(c);return{x:C,y:I}}static getPointOnQuadraticBezier(c,h,m,f,y,g,x){function S(R){return R*R}function w(R){return 2*R*(1-R)}function P(R){return(1-R)*(1-R)}var k=g*S(c)+f*w(c)+h*P(c),b=x*S(c)+y*w(c)+m*P(c);return{x:k,y:b}}static getPointOnEllipticalArc(c,h,m,f,y,g){var x=Math.cos(g),S=Math.sin(g),w={x:m*Math.cos(y),y:f*Math.sin(y)};return{x:c+(w.x*x-w.y*S),y:h+(w.x*S+w.y*x)}}static parsePathData(c){if(!c)return[];var h=c,m=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];h=h.replace(new RegExp(" ","g"),",");for(var f=0;f<m.length;f++)h=h.replace(new RegExp(m[f],"g"),"|"+m[f]);var y=h.split("|"),g=[],x=[],S=0,w=0,P=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,k;for(f=1;f<y.length;f++){var b=y[f],R=b.charAt(0);for(b=b.slice(1),x.length=0;k=P.exec(b);)x.push(k[0]);for(var C=[],I=0,L=x.length;I<L;I++){if(x[I]==="00"){C.push(0,0);continue}var B=parseFloat(x[I]);isNaN(B)?C.push(0):C.push(B)}for(;C.length>0&&!isNaN(C[0]);){var W="",F=[],q=S,G=w,X,ne,z,V,$,Z,Q,re,ie,K;switch(R){case"l":S+=C.shift(),w+=C.shift(),W="L",F.push(S,w);break;case"L":S=C.shift(),w=C.shift(),F.push(S,w);break;case"m":var ae=C.shift(),se=C.shift();if(S+=ae,w+=se,W="M",g.length>2&&g[g.length-1].command==="z"){for(var _e=g.length-2;_e>=0;_e--)if(g[_e].command==="M"){S=g[_e].points[0]+ae,w=g[_e].points[1]+se;break}}F.push(S,w),R="l";break;case"M":S=C.shift(),w=C.shift(),W="M",F.push(S,w),R="L";break;case"h":S+=C.shift(),W="L",F.push(S,w);break;case"H":S=C.shift(),W="L",F.push(S,w);break;case"v":w+=C.shift(),W="L",F.push(S,w);break;case"V":w=C.shift(),W="L",F.push(S,w);break;case"C":F.push(C.shift(),C.shift(),C.shift(),C.shift()),S=C.shift(),w=C.shift(),F.push(S,w);break;case"c":F.push(S+C.shift(),w+C.shift(),S+C.shift(),w+C.shift()),S+=C.shift(),w+=C.shift(),W="C",F.push(S,w);break;case"S":ne=S,z=w,X=g[g.length-1],X.command==="C"&&(ne=S+(S-X.points[2]),z=w+(w-X.points[3])),F.push(ne,z,C.shift(),C.shift()),S=C.shift(),w=C.shift(),W="C",F.push(S,w);break;case"s":ne=S,z=w,X=g[g.length-1],X.command==="C"&&(ne=S+(S-X.points[2]),z=w+(w-X.points[3])),F.push(ne,z,S+C.shift(),w+C.shift()),S+=C.shift(),w+=C.shift(),W="C",F.push(S,w);break;case"Q":F.push(C.shift(),C.shift()),S=C.shift(),w=C.shift(),F.push(S,w);break;case"q":F.push(S+C.shift(),w+C.shift()),S+=C.shift(),w+=C.shift(),W="Q",F.push(S,w);break;case"T":ne=S,z=w,X=g[g.length-1],X.command==="Q"&&(ne=S+(S-X.points[0]),z=w+(w-X.points[1])),S=C.shift(),w=C.shift(),W="Q",F.push(ne,z,S,w);break;case"t":ne=S,z=w,X=g[g.length-1],X.command==="Q"&&(ne=S+(S-X.points[0]),z=w+(w-X.points[1])),S+=C.shift(),w+=C.shift(),W="Q",F.push(ne,z,S,w);break;case"A":V=C.shift(),$=C.shift(),Z=C.shift(),Q=C.shift(),re=C.shift(),ie=S,K=w,S=C.shift(),w=C.shift(),W="A",F=this.convertEndpointToCenterParameterization(ie,K,S,w,Q,re,V,$,Z);break;case"a":V=C.shift(),$=C.shift(),Z=C.shift(),Q=C.shift(),re=C.shift(),ie=S,K=w,S+=C.shift(),w+=C.shift(),W="A",F=this.convertEndpointToCenterParameterization(ie,K,S,w,Q,re,V,$,Z);break}g.push({command:W||R,points:F,start:{x:q,y:G},pathLength:this.calcLength(q,G,W||R,F)})}(R==="z"||R==="Z")&&g.push({command:"z",points:[],start:void 0,pathLength:0})}return g}static calcLength(c,h,m,f){var y,g,x,S,w=ci;switch(m){case"L":return w.getLineLength(c,h,f[0],f[1]);case"C":return(0,a.getCubicArcLength)([c,f[0],f[2],f[4]],[h,f[1],f[3],f[5]],1);case"Q":return(0,a.getQuadraticArcLength)([c,f[0],f[2]],[h,f[1],f[3]],1);case"A":y=0;var P=f[4],k=f[5],b=f[4]+k,R=Math.PI/180;if(Math.abs(P-b)<R&&(R=Math.abs(P-b)),g=w.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],P,0),k<0)for(S=P-R;S>b;S-=R)x=w.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],S,0),y+=w.getLineLength(g.x,g.y,x.x,x.y),g=x;else for(S=P+R;S<b;S+=R)x=w.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],S,0),y+=w.getLineLength(g.x,g.y,x.x,x.y),g=x;return x=w.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],b,0),y+=w.getLineLength(g.x,g.y,x.x,x.y),y}return 0}static convertEndpointToCenterParameterization(c,h,m,f,y,g,x,S,w){var P=w*(Math.PI/180),k=Math.cos(P)*(c-m)/2+Math.sin(P)*(h-f)/2,b=-1*Math.sin(P)*(c-m)/2+Math.cos(P)*(h-f)/2,R=k*k/(x*x)+b*b/(S*S);R>1&&(x*=Math.sqrt(R),S*=Math.sqrt(R));var C=Math.sqrt((x*x*(S*S)-x*x*(b*b)-S*S*(k*k))/(x*x*(b*b)+S*S*(k*k)));y===g&&(C*=-1),isNaN(C)&&(C=0);var I=C*x*b/S,L=C*-S*k/x,B=(c+m)/2+Math.cos(P)*I-Math.sin(P)*L,W=(h+f)/2+Math.sin(P)*I+Math.cos(P)*L,F=function($){return Math.sqrt($[0]*$[0]+$[1]*$[1])},q=function($,Z){return($[0]*Z[0]+$[1]*Z[1])/(F($)*F(Z))},G=function($,Z){return($[0]*Z[1]<$[1]*Z[0]?-1:1)*Math.acos(q($,Z))},X=G([1,0],[(k-I)/x,(b-L)/S]),ne=[(k-I)/x,(b-L)/S],z=[(-1*k-I)/x,(-1*b-L)/S],V=G(ne,z);return q(ne,z)<=-1&&(V=Math.PI),q(ne,z)>=1&&(V=0),g===0&&V>0&&(V=V-2*Math.PI),g===1&&V<0&&(V=V+2*Math.PI),[B,W,x,S,X,V,P,g]}};return sd.Path=u,u.prototype.className="Path",u.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(u),e.Factory.addGetterSetter(u,"data"),sd}var N2;function k7(){if(N2)return rd;N2=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.Arrow=void 0;const e=_t(),t=f4(),i=Pt(),a=wt(),u=ag();let d=class extends t.Line{_sceneFunc(h){super._sceneFunc(h);var m=Math.PI*2,f=this.points(),y=f,g=this.tension()!==0&&f.length>4;g&&(y=this.getTensionPoints());var x=this.pointerLength(),S=f.length,w,P;if(g){const R=[y[y.length-4],y[y.length-3],y[y.length-2],y[y.length-1],f[S-2],f[S-1]],C=u.Path.calcLength(y[y.length-4],y[y.length-3],"C",R),I=u.Path.getPointOnQuadraticBezier(Math.min(1,1-x/C),R[0],R[1],R[2],R[3],R[4],R[5]);w=f[S-2]-I.x,P=f[S-1]-I.y}else w=f[S-2]-f[S-4],P=f[S-1]-f[S-3];var k=(Math.atan2(P,w)+m)%m,b=this.pointerWidth();this.pointerAtEnding()&&(h.save(),h.beginPath(),h.translate(f[S-2],f[S-1]),h.rotate(k),h.moveTo(0,0),h.lineTo(-x,b/2),h.lineTo(-x,-b/2),h.closePath(),h.restore(),this.__fillStroke(h)),this.pointerAtBeginning()&&(h.save(),h.beginPath(),h.translate(f[0],f[1]),g?(w=(y[0]+y[2])/2-f[0],P=(y[1]+y[3])/2-f[1]):(w=f[2]-f[0],P=f[3]-f[1]),h.rotate((Math.atan2(-P,-w)+m)%m),h.moveTo(0,0),h.lineTo(-x,b/2),h.lineTo(-x,-b/2),h.closePath(),h.restore(),this.__fillStroke(h))}__fillStroke(h){var m=this.dashEnabled();m&&(this.attrs.dashEnabled=!1,h.setLineDash([])),h.fillStrokeShape(this),m&&(this.attrs.dashEnabled=!0)}getSelfRect(){const h=super.getSelfRect(),m=this.pointerWidth()/2;return{x:h.x-m,y:h.y-m,width:h.width+m*2,height:h.height+m*2}}};return rd.Arrow=d,d.prototype.className="Arrow",(0,a._registerNode)(d),e.Factory.addGetterSetter(d,"pointerLength",10,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(d,"pointerWidth",10,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(d,"pointerAtBeginning",!1),e.Factory.addGetterSetter(d,"pointerAtEnding",!0),rd}var od={},A2;function T7(){if(A2)return od;A2=1,Object.defineProperty(od,"__esModule",{value:!0}),od.Circle=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();class u extends t.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}}return od.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(u),e.Factory.addGetterSetter(u,"radius",0,(0,i.getNumberValidator)()),od}var ad={},b2;function R7(){if(b2)return ad;b2=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.Ellipse=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();let u=class extends t.Shape{_sceneFunc(c){var h=this.radiusX(),m=this.radiusY();c.beginPath(),c.save(),h!==m&&c.scale(1,m/h),c.arc(0,0,h,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return ad.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,a._registerNode)(u),e.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),e.Factory.addGetterSetter(u,"radiusX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"radiusY",0,(0,i.getNumberValidator)()),ad}var ld={},M2;function N7(){if(M2)return ld;M2=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.Image=void 0;const e=Sn(),t=_t(),i=rr(),a=wt(),u=Pt();let d=class p4 extends i.Shape{constructor(h){super(h),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const h=this.image();h&&h.complete||h&&h.readyState===4||h&&h.addEventListener&&h.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(h){const m=this.getWidth(),f=this.getHeight(),y=this.cornerRadius(),g=this.attrs.image;let x;if(g){const S=this.attrs.cropWidth,w=this.attrs.cropHeight;S&&w?x=[g,this.cropX(),this.cropY(),S,w,0,0,m,f]:x=[g,0,0,m,f]}(this.hasFill()||this.hasStroke()||y)&&(h.beginPath(),y?e.Util.drawRoundedRectPath(h,m,f,y):h.rect(0,0,m,f),h.closePath(),h.fillStrokeShape(this)),g&&(y&&h.clip(),h.drawImage.apply(h,x))}_hitFunc(h){var m=this.width(),f=this.height(),y=this.cornerRadius();h.beginPath(),y?e.Util.drawRoundedRectPath(h,m,f,y):h.rect(0,0,m,f),h.closePath(),h.fillStrokeShape(this)}getWidth(){var h,m;return(h=this.attrs.width)!==null&&h!==void 0?h:(m=this.image())===null||m===void 0?void 0:m.width}getHeight(){var h,m;return(h=this.attrs.height)!==null&&h!==void 0?h:(m=this.image())===null||m===void 0?void 0:m.height}static fromURL(h,m,f=null){var y=e.Util.createImageElement();y.onload=function(){var g=new p4({image:y});m(g)},y.onerror=f,y.crossOrigin="Anonymous",y.src=h}};return ld.Image=d,d.prototype.className="Image",(0,a._registerNode)(d),t.Factory.addGetterSetter(d,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(d,"image"),t.Factory.addComponentsGetterSetter(d,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(d,"cropX",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropY",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropWidth",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(d,"cropHeight",0,(0,u.getNumberValidator)()),ld}var Sl={},I2;function A7(){if(I2)return Sl;I2=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Tag=Sl.Label=void 0;const e=_t(),t=rr(),i=sg(),a=Pt(),u=wt();var d=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",h="none",m="up",f="right",y="down",g="left",x=d.length;let S=class extends i.Group{constructor(k){super(k),this.on("add.konva",function(b){this._addListeners(b.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(k){var b=this,R,C=function(){b._sync()};for(R=0;R<x;R++)k.on(d[R]+c,C)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var k=this.getText(),b=this.getTag(),R,C,I,L,B,W,F;if(k&&b){switch(R=k.width(),C=k.height(),I=b.pointerDirection(),L=b.pointerWidth(),F=b.pointerHeight(),B=0,W=0,I){case m:B=R/2,W=-1*F;break;case f:B=R+L,W=C/2;break;case y:B=R/2,W=C+F;break;case g:B=-1*L,W=C/2;break}b.setAttrs({x:-1*B,y:-1*W,width:R,height:C}),k.setAttrs({x:-1*B,y:-1*W})}}};Sl.Label=S,S.prototype.className="Label",(0,u._registerNode)(S);class w extends t.Shape{_sceneFunc(k){var b=this.width(),R=this.height(),C=this.pointerDirection(),I=this.pointerWidth(),L=this.pointerHeight(),B=this.cornerRadius();let W=0,F=0,q=0,G=0;typeof B=="number"?W=F=q=G=Math.min(B,b/2,R/2):(W=Math.min(B[0]||0,b/2,R/2),F=Math.min(B[1]||0,b/2,R/2),G=Math.min(B[2]||0,b/2,R/2),q=Math.min(B[3]||0,b/2,R/2)),k.beginPath(),k.moveTo(W,0),C===m&&(k.lineTo((b-I)/2,0),k.lineTo(b/2,-1*L),k.lineTo((b+I)/2,0)),k.lineTo(b-F,0),k.arc(b-F,F,F,Math.PI*3/2,0,!1),C===f&&(k.lineTo(b,(R-L)/2),k.lineTo(b+I,R/2),k.lineTo(b,(R+L)/2)),k.lineTo(b,R-G),k.arc(b-G,R-G,G,0,Math.PI/2,!1),C===y&&(k.lineTo((b+I)/2,R),k.lineTo(b/2,R+L),k.lineTo((b-I)/2,R)),k.lineTo(q,R),k.arc(q,R-q,q,Math.PI/2,Math.PI,!1),C===g&&(k.lineTo(0,(R+L)/2),k.lineTo(-1*I,R/2),k.lineTo(0,(R-L)/2)),k.lineTo(0,W),k.arc(W,W,W,Math.PI,Math.PI*3/2,!1),k.closePath(),k.fillStrokeShape(this)}getSelfRect(){var k=0,b=0,R=this.pointerWidth(),C=this.pointerHeight(),I=this.pointerDirection(),L=this.width(),B=this.height();return I===m?(b-=C,B+=C):I===y?B+=C:I===g?(k-=R*1.5,L+=R):I===f&&(L+=R*1.5),{x:k,y:b,width:L,height:B}}}return Sl.Tag=w,w.prototype.className="Tag",(0,u._registerNode)(w),e.Factory.addGetterSetter(w,"pointerDirection",h),e.Factory.addGetterSetter(w,"pointerWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(w,"pointerHeight",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(w,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),Sl}var ud={},L2;function m4(){if(L2)return ud;L2=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.Rect=void 0;const e=_t(),t=rr(),i=wt(),a=Sn(),u=Pt();class d extends t.Shape{_sceneFunc(h){var m=this.cornerRadius(),f=this.width(),y=this.height();h.beginPath(),m?a.Util.drawRoundedRectPath(h,f,y,m):h.rect(0,0,f,y),h.closePath(),h.fillStrokeShape(this)}}return ud.Rect=d,d.prototype.className="Rect",(0,i._registerNode)(d),e.Factory.addGetterSetter(d,"cornerRadius",0,(0,u.getNumberOrArrayOfNumbersValidator)(4)),ud}var cd={},O2;function b7(){if(O2)return cd;O2=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.RegularPolygon=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();class u extends t.Shape{_sceneFunc(c){const h=this._getPoints();c.beginPath(),c.moveTo(h[0].x,h[0].y);for(var m=1;m<h.length;m++)c.lineTo(h[m].x,h[m].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,h=this.attrs.radius||0,m=[];for(var f=0;f<c;f++)m.push({x:h*Math.sin(f*2*Math.PI/c),y:-1*h*Math.cos(f*2*Math.PI/c)});return m}getSelfRect(){const c=this._getPoints();var h=c[0].x,m=c[0].y,f=c[0].x,y=c[0].y;return c.forEach(g=>{h=Math.min(h,g.x),m=Math.max(m,g.x),f=Math.min(f,g.y),y=Math.max(y,g.y)}),{x:h,y:f,width:m-h,height:y-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}}return cd.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(u),e.Factory.addGetterSetter(u,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"sides",0,(0,i.getNumberValidator)()),cd}var dd={},j2;function M7(){if(j2)return dd;j2=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.Ring=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();var u=Math.PI*2;let d=class extends t.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.innerRadius(),0,u,!1),h.moveTo(this.outerRadius(),0),h.arc(0,0,this.outerRadius(),u,0,!0),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}};return dd.Ring=d,d.prototype.className="Ring",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(d),e.Factory.addGetterSetter(d,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(d,"outerRadius",0,(0,i.getNumberValidator)()),dd}var hd={},D2;function I7(){if(D2)return hd;D2=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.Sprite=void 0;const e=_t(),t=rr(),i=og(),a=Pt(),u=wt();let d=class extends t.Shape{constructor(h){super(h),this._updated=!0,this.anim=new i.Animation(()=>{var m=this._updated;return this._updated=!1,m}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(h){var m=this.animation(),f=this.frameIndex(),y=f*4,g=this.animations()[m],x=this.frameOffsets(),S=g[y+0],w=g[y+1],P=g[y+2],k=g[y+3],b=this.image();if((this.hasFill()||this.hasStroke())&&(h.beginPath(),h.rect(0,0,P,k),h.closePath(),h.fillStrokeShape(this)),b)if(x){var R=x[m],C=f*2;h.drawImage(b,S,w,P,k,R[C+0],R[C+1],P,k)}else h.drawImage(b,S,w,P,k,0,0,P,k)}_hitFunc(h){var m=this.animation(),f=this.frameIndex(),y=f*4,g=this.animations()[m],x=this.frameOffsets(),S=g[y+2],w=g[y+3];if(h.beginPath(),x){var P=x[m],k=f*2;h.rect(P[k+0],P[k+1],S,w)}else h.rect(0,0,S,w);h.closePath(),h.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var h=this;this.interval=setInterval(function(){h._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var h=this.getLayer();this.anim.setLayers(h),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var h=this.frameIndex(),m=this.animation(),f=this.animations(),y=f[m],g=y.length/4;h<g-1?this.frameIndex(h+1):this.frameIndex(0)}};return hd.Sprite=d,d.prototype.className="Sprite",(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"animation"),e.Factory.addGetterSetter(d,"animations"),e.Factory.addGetterSetter(d,"frameOffsets"),e.Factory.addGetterSetter(d,"image"),e.Factory.addGetterSetter(d,"frameIndex",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"frameRate",17,(0,a.getNumberValidator)()),e.Factory.backCompat(d,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),hd}var fd={},F2;function L7(){if(F2)return fd;F2=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.Star=void 0;const e=_t(),t=rr(),i=Pt(),a=wt();let u=class extends t.Shape{_sceneFunc(c){var h=this.innerRadius(),m=this.outerRadius(),f=this.numPoints();c.beginPath(),c.moveTo(0,0-m);for(var y=1;y<f*2;y++){var g=y%2===0?m:h,x=g*Math.sin(y*Math.PI/f),S=-1*g*Math.cos(y*Math.PI/f);c.lineTo(x,S)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return fd.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(u),e.Factory.addGetterSetter(u,"numPoints",5,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"outerRadius",0,(0,i.getNumberValidator)()),fd}var wl={},z2;function g4(){if(z2)return wl;z2=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Text=wl.stringToArray=void 0;const e=Sn(),t=_t(),i=rr(),a=Pt(),u=wt();function d(ae){return Array.from(ae)}wl.stringToArray=d;var c="auto",h="center",m="inherit",f="justify",y="Change.konva",g="2d",x="-",S="left",w="text",P="Text",k="top",b="bottom",R="middle",C="normal",I="px ",L=" ",B="right",W="rtl",F="word",q="char",G="none",X="…",ne=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],z=ne.length;function V(ae){return ae.split(",").map(se=>{se=se.trim();const _e=se.indexOf(" ")>=0,Se=se.indexOf('"')>=0||se.indexOf("'")>=0;return _e&&!Se&&(se=`"${se}"`),se}).join(", ")}var $;function Z(){return $||($=e.Util.createCanvasElement().getContext(g),$)}function Q(ae){ae.fillText(this._partialText,this._partialTextX,this._partialTextY)}function re(ae){ae.setAttr("miterLimit",2),ae.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ie(ae){return ae=ae||{},!ae.fillLinearGradientColorStops&&!ae.fillRadialGradientColorStops&&!ae.fillPatternImage&&(ae.fill=ae.fill||"black"),ae}class K extends i.Shape{constructor(se){super(ie(se)),this._partialTextX=0,this._partialTextY=0;for(var _e=0;_e<z;_e++)this.on(ne[_e]+y,this._setTextData);this._setTextData()}_sceneFunc(se){var _e=this.textArr,Se=_e.length;if(this.text()){var be=this.padding(),Te=this.fontSize(),ee=this.lineHeight()*Te,he=this.verticalAlign(),Ce=this.direction(),Ge=0,je=this.align(),Qe=this.getWidth(),$e=this.letterSpacing(),qt=this.fill(),yt=this.textDecoration(),wn=yt.indexOf("underline")!==-1,Gt=yt.indexOf("line-through")!==-1,an;Ce=Ce===m?se.direction:Ce;var Jt=0,Jt=ee/2,kt=0,xt=0;for(Ce===W&&se.setAttr("direction",Ce),se.setAttr("font",this._getContextFont()),se.setAttr("textBaseline",R),se.setAttr("textAlign",S),he===R?Ge=(this.getHeight()-Se*ee-be*2)/2:he===b&&(Ge=this.getHeight()-Se*ee-be*2),se.translate(be,Ge+be),an=0;an<Se;an++){var kt=0,xt=0,ir=_e[an],zn=ir.text,_n=ir.width,rn=ir.lastInParagraph,dn,Ar,gr;if(se.save(),je===B?kt+=Qe-_n-be*2:je===h&&(kt+=(Qe-_n-be*2)/2),wn){se.save(),se.beginPath(),se.moveTo(kt,Jt+xt+Math.round(Te/2)),dn=zn.split(" ").length-1,Ar=dn===0,gr=je===f&&!rn?Qe-be*2:_n,se.lineTo(kt+Math.round(gr),Jt+xt+Math.round(Te/2)),se.lineWidth=Te/15;const yr=this._getLinearGradient();se.strokeStyle=yr||qt,se.stroke(),se.restore()}if(Gt){se.save(),se.beginPath(),se.moveTo(kt,Jt+xt),dn=zn.split(" ").length-1,Ar=dn===0,gr=je===f&&rn&&!Ar?Qe-be*2:_n,se.lineTo(kt+Math.round(gr),Jt+xt),se.lineWidth=Te/15;const yr=this._getLinearGradient();se.strokeStyle=yr||qt,se.stroke(),se.restore()}if(Ce!==W&&($e!==0||je===f)){dn=zn.split(" ").length-1;for(var Qr=d(zn),An=0;An<Qr.length;An++){var vr=Qr[An];vr===" "&&!rn&&je===f&&(kt+=(Qe-be*2-_n)/dn),this._partialTextX=kt,this._partialTextY=Jt+xt,this._partialText=vr,se.fillStrokeShape(this),kt+=this.measureSize(vr).width+$e}}else $e!==0&&se.setAttr("letterSpacing",`${$e}px`),this._partialTextX=kt,this._partialTextY=Jt+xt,this._partialText=zn,se.fillStrokeShape(this);se.restore(),Se>1&&(Jt+=ee)}}}_hitFunc(se){var _e=this.getWidth(),Se=this.getHeight();se.beginPath(),se.rect(0,0,_e,Se),se.closePath(),se.fillStrokeShape(this)}setText(se){var _e=e.Util._isString(se)?se:se==null?"":se+"";return this._setAttr(w,_e),this}getWidth(){var se=this.attrs.width===c||this.attrs.width===void 0;return se?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var se=this.attrs.height===c||this.attrs.height===void 0;return se?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(se){var _e=Z(),Se=this.fontSize(),be;return _e.save(),_e.font=this._getContextFont(),be=_e.measureText(se),_e.restore(),{width:be.width,height:Se}}_getContextFont(){return this.fontStyle()+L+this.fontVariant()+L+(this.fontSize()+I)+V(this.fontFamily())}_addTextLine(se){this.align()===f&&(se=se.trim());var Se=this._getTextWidth(se);return this.textArr.push({text:se,width:Se,lastInParagraph:!1})}_getTextWidth(se){var _e=this.letterSpacing(),Se=se.length;return Z().measureText(se).width+(Se?_e*(Se-1):0)}_setTextData(){var se=this.text().split(`
`),_e=+this.fontSize(),Se=0,be=this.lineHeight()*_e,Te=this.attrs.width,ee=this.attrs.height,he=Te!==c&&Te!==void 0,Ce=ee!==c&&ee!==void 0,Ge=this.padding(),je=Te-Ge*2,Qe=ee-Ge*2,$e=0,qt=this.wrap(),yt=qt!==G,wn=qt!==q&&yt,Gt=this.ellipsis();this.textArr=[],Z().font=this._getContextFont();for(var an=Gt?this._getTextWidth(X):0,Jt=0,kt=se.length;Jt<kt;++Jt){var xt=se[Jt],ir=this._getTextWidth(xt);if(he&&ir>je)for(;xt.length>0;){for(var zn=0,_n=xt.length,rn="",dn=0;zn<_n;){var Ar=zn+_n>>>1,gr=xt.slice(0,Ar+1),Qr=this._getTextWidth(gr)+an;Qr<=je?(zn=Ar+1,rn=gr,dn=Qr):_n=Ar}if(rn){if(wn){var An,vr=xt[rn.length],Io=vr===L||vr===x;Io&&dn<=je?An=rn.length:An=Math.max(rn.lastIndexOf(L),rn.lastIndexOf(x))+1,An>0&&(zn=An,rn=rn.slice(0,zn),dn=this._getTextWidth(rn))}rn=rn.trimRight(),this._addTextLine(rn),Se=Math.max(Se,dn),$e+=be;var Lo=this._shouldHandleEllipsis($e);if(Lo){this._tryToAddEllipsisToLastLine();break}if(xt=xt.slice(zn),xt=xt.trimLeft(),xt.length>0&&(ir=this._getTextWidth(xt),ir<=je)){this._addTextLine(xt),$e+=be,Se=Math.max(Se,ir);break}}else break}else this._addTextLine(xt),$e+=be,Se=Math.max(Se,ir),this._shouldHandleEllipsis($e)&&Jt<kt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Ce&&$e+be>Qe)break}this.textHeight=_e,this.textWidth=Se}_shouldHandleEllipsis(se){var _e=+this.fontSize(),Se=this.lineHeight()*_e,be=this.attrs.height,Te=be!==c&&be!==void 0,ee=this.padding(),he=be-ee*2,Ce=this.wrap(),Ge=Ce!==G;return!Ge||Te&&se+Se>he}_tryToAddEllipsisToLastLine(){var se=this.attrs.width,_e=se!==c&&se!==void 0,Se=this.padding(),be=se-Se*2,Te=this.ellipsis(),ee=this.textArr[this.textArr.length-1];if(!(!ee||!Te)){if(_e){var he=this._getTextWidth(ee.text+X)<be;he||(ee.text=ee.text.slice(0,ee.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ee.text+X)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const se=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,_e=this.hasShadow();return se&&_e?!0:super._useBufferCanvas()}}return wl.Text=K,K.prototype._fillFunc=Q,K.prototype._strokeFunc=re,K.prototype.className=P,K.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,u._registerNode)(K),t.Factory.overWriteSetter(K,"width",(0,a.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(K,"height",(0,a.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(K,"direction",m),t.Factory.addGetterSetter(K,"fontFamily","Arial"),t.Factory.addGetterSetter(K,"fontSize",12,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"fontStyle",C),t.Factory.addGetterSetter(K,"fontVariant",C),t.Factory.addGetterSetter(K,"padding",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"align",S),t.Factory.addGetterSetter(K,"verticalAlign",k),t.Factory.addGetterSetter(K,"lineHeight",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"wrap",F),t.Factory.addGetterSetter(K,"ellipsis",!1,(0,a.getBooleanValidator)()),t.Factory.addGetterSetter(K,"letterSpacing",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(K,"text","",(0,a.getStringValidator)()),t.Factory.addGetterSetter(K,"textDecoration",""),wl}var pd={},V2;function O7(){if(V2)return pd;V2=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.TextPath=void 0;const e=Sn(),t=_t(),i=rr(),a=ag(),u=g4(),d=Pt(),c=wt();var h="",m="normal";function f(x){x.fillText(this.partialText,0,0)}function y(x){x.strokeText(this.partialText,0,0)}let g=class extends i.Shape{constructor(S){super(S),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return a.Path.getPathLength(this.dataArray)}_getPointAtLength(S){if(!this.attrs.data)return null;const w=this.pathLength;return S-1>w?null:a.Path.getPointAtLengthOfDataArray(S,this.dataArray)}_readDataAttribute(){this.dataArray=a.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(S){S.setAttr("font",this._getContextFont()),S.setAttr("textBaseline",this.textBaseline()),S.setAttr("textAlign","left"),S.save();var w=this.textDecoration(),P=this.fill(),k=this.fontSize(),b=this.glyphInfo;w==="underline"&&S.beginPath();for(var R=0;R<b.length;R++){S.save();var C=b[R].p0;S.translate(C.x,C.y),S.rotate(b[R].rotation),this.partialText=b[R].text,S.fillStrokeShape(this),w==="underline"&&(R===0&&S.moveTo(0,k/2+1),S.lineTo(k,k/2+1)),S.restore()}w==="underline"&&(S.strokeStyle=P,S.lineWidth=k/20,S.stroke()),S.restore()}_hitFunc(S){S.beginPath();var w=this.glyphInfo;if(w.length>=1){var P=w[0].p0;S.moveTo(P.x,P.y)}for(var k=0;k<w.length;k++){var b=w[k].p1;S.lineTo(b.x,b.y)}S.setAttr("lineWidth",this.fontSize()),S.setAttr("strokeStyle",this.colorKey),S.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(S){return u.Text.prototype.setText.call(this,S)}_getContextFont(){return u.Text.prototype._getContextFont.call(this)}_getTextSize(S){var w=this.dummyCanvas,P=w.getContext("2d");P.save(),P.font=this._getContextFont();var k=P.measureText(S);return P.restore(),{width:k.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:S,height:w}=this._getTextSize(this.attrs.text);if(this.textWidth=S,this.textHeight=w,this.glyphInfo=[],!this.attrs.data)return null;const P=this.letterSpacing(),k=this.align(),b=this.kerningFunc(),R=Math.max(this.textWidth+((this.attrs.text||"").length-1)*P,0);let C=0;k==="center"&&(C=Math.max(0,this.pathLength/2-R/2)),k==="right"&&(C=Math.max(0,this.pathLength-R));const I=(0,u.stringToArray)(this.text());let L=C;for(var B=0;B<I.length;B++){const W=this._getPointAtLength(L);if(!W)return;let F=this._getTextSize(I[B]).width+P;if(I[B]===" "&&k==="justify"){const V=this.text().split(" ").length-1;F+=(this.pathLength-R)/V}const q=this._getPointAtLength(L+F);if(!q)return;const G=a.Path.getLineLength(W.x,W.y,q.x,q.y);let X=0;if(b)try{X=b(I[B-1],I[B])*this.fontSize()}catch{X=0}W.x+=X,q.x+=X,this.textWidth+=X;const ne=a.Path.getPointOnLine(X+G/2,W.x,W.y,q.x,q.y),z=Math.atan2(q.y-W.y,q.x-W.x);this.glyphInfo.push({transposeX:ne.x,transposeY:ne.y,text:I[B],rotation:z,p0:W,p1:q}),L+=F}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var S=[];this.glyphInfo.forEach(function(B){S.push(B.p0.x),S.push(B.p0.y),S.push(B.p1.x),S.push(B.p1.y)});for(var w=S[0]||0,P=S[0]||0,k=S[1]||0,b=S[1]||0,R,C,I=0;I<S.length/2;I++)R=S[I*2],C=S[I*2+1],w=Math.min(w,R),P=Math.max(P,R),k=Math.min(k,C),b=Math.max(b,C);var L=this.fontSize();return{x:w-L/2,y:k-L/2,width:P-w+L,height:b-k+L}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return pd.TextPath=g,g.prototype._fillFunc=f,g.prototype._strokeFunc=y,g.prototype._fillFuncHit=f,g.prototype._strokeFuncHit=y,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(g),t.Factory.addGetterSetter(g,"data"),t.Factory.addGetterSetter(g,"fontFamily","Arial"),t.Factory.addGetterSetter(g,"fontSize",12,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(g,"fontStyle",m),t.Factory.addGetterSetter(g,"align","left"),t.Factory.addGetterSetter(g,"letterSpacing",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(g,"textBaseline","middle"),t.Factory.addGetterSetter(g,"fontVariant",m),t.Factory.addGetterSetter(g,"text",h),t.Factory.addGetterSetter(g,"textDecoration",null),t.Factory.addGetterSetter(g,"kerningFunc",null),pd}var md={},U2;function j7(){if(U2)return md;U2=1,Object.defineProperty(md,"__esModule",{value:!0}),md.Transformer=void 0;const e=Sn(),t=_t(),i=Nn(),a=rr(),u=m4(),d=sg(),c=wt(),h=Pt(),m=wt();var f="tr-konva",y=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(W=>W+`.${f}`).join(" "),g="nodesRect",x=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],S={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const w="ontouchstart"in c.Konva._global;function P(W,F,q){if(W==="rotater")return q;F+=e.Util.degToRad(S[W]||0);var G=(e.Util.radToDeg(F)%360+360)%360;return e.Util._inRange(G,315+22.5,360)||e.Util._inRange(G,0,22.5)?"ns-resize":e.Util._inRange(G,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(G,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(G,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(G,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(G,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(G,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(G,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+G),"pointer")}var k=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function b(W){return{x:W.x+W.width/2*Math.cos(W.rotation)+W.height/2*Math.sin(-W.rotation),y:W.y+W.height/2*Math.cos(W.rotation)+W.width/2*Math.sin(W.rotation)}}function R(W,F,q){const G=q.x+(W.x-q.x)*Math.cos(F)-(W.y-q.y)*Math.sin(F),X=q.y+(W.x-q.x)*Math.sin(F)+(W.y-q.y)*Math.cos(F);return{...W,rotation:W.rotation+F,x:G,y:X}}function C(W,F){const q=b(W);return R(W,F,q)}function I(W,F,q){let G=F;for(let X=0;X<W.length;X++){const ne=c.Konva.getAngle(W[X]),z=Math.abs(ne-F)%(Math.PI*2);Math.min(z,Math.PI*2-z)<q&&(G=ne)}return G}let L=class extends d.Group{constructor(F){super(F),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(y,this.update),this.getNode()&&this.update()}attachTo(F){return this.setNode(F),this}setNode(F){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([F])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(F=[]){this._nodes&&this._nodes.length&&this.detach();const q=F.filter(X=>X.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=F=q,F.length===1&&this.useSingleNodeRotation()?this.rotation(F[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(X=>{const ne=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},z=X._attrsAffectingSize.map(V=>V+"Change."+this._getEventNamespace()).join(" ");X.on(z,ne),X.on(x.map(V=>V+`.${this._getEventNamespace()}`).join(" "),ne),X.on(`absoluteTransformChange.${this._getEventNamespace()}`,ne),this._proxyDrag(X)}),this._resetTransformCache();var G=!!this.findOne(".top-left");return G&&this.update(),this}_proxyDrag(F){let q;F.on(`dragstart.${this._getEventNamespace()}`,G=>{q=F.getAbsolutePosition(),!this.isDragging()&&F!==this.findOne(".back")&&this.startDrag(G,!1)}),F.on(`dragmove.${this._getEventNamespace()}`,G=>{if(!q)return;const X=F.getAbsolutePosition(),ne=X.x-q.x,z=X.y-q.y;this.nodes().forEach(V=>{if(V===F||V.isDragging())return;const $=V.getAbsolutePosition();V.setAbsolutePosition({x:$.x+ne,y:$.y+z}),V.startDrag(G)}),q=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(F=>{F.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g,this.__getNodeRect)}__getNodeShape(F,q=this.rotation(),G){var X=F.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ne=F.getAbsoluteScale(G),z=F.getAbsolutePosition(G),V=X.x*ne.x-F.offsetX()*ne.x,$=X.y*ne.y-F.offsetY()*ne.y;const Z=(c.Konva.getAngle(F.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),Q={x:z.x+V*Math.cos(Z)+$*Math.sin(-Z),y:z.y+$*Math.cos(Z)+V*Math.sin(Z),width:X.width*ne.x,height:X.height*ne.y,rotation:Z};return R(Q,-c.Konva.getAngle(q),{x:0,y:0})}__getNodeRect(){var F=this.getNode();if(!F)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const q=[];this.nodes().map(Z=>{const Q=Z.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var re=[{x:Q.x,y:Q.y},{x:Q.x+Q.width,y:Q.y},{x:Q.x+Q.width,y:Q.y+Q.height},{x:Q.x,y:Q.y+Q.height}],ie=Z.getAbsoluteTransform();re.forEach(function(K){var ae=ie.point(K);q.push(ae)})});const G=new e.Transform;G.rotate(-c.Konva.getAngle(this.rotation()));var X=1/0,ne=1/0,z=-1/0,V=-1/0;q.forEach(function(Z){var Q=G.point(Z);X===void 0&&(X=z=Q.x,ne=V=Q.y),X=Math.min(X,Q.x),ne=Math.min(ne,Q.y),z=Math.max(z,Q.x),V=Math.max(V,Q.y)}),G.invert();const $=G.point({x:X,y:ne});return{x:$.x,y:$.y,width:z-X,height:V-ne,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),k.forEach(F=>{this._createAnchor(F)}),this._createAnchor("rotater")}_createAnchor(F){var q=new u.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:F+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:w?10:"auto"}),G=this;q.on("mousedown touchstart",function(X){G._handleMouseDown(X)}),q.on("dragstart",X=>{q.stopDrag(),X.cancelBubble=!0}),q.on("dragend",X=>{X.cancelBubble=!0}),q.on("mouseenter",()=>{var X=c.Konva.getAngle(this.rotation()),ne=this.rotateAnchorCursor(),z=P(F,X,ne);q.getStage().content&&(q.getStage().content.style.cursor=z),this._cursorChange=!0}),q.on("mouseout",()=>{q.getStage().content&&(q.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(q)}_createBack(){var F=new a.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(q,G){var X=G.getParent(),ne=X.padding();q.beginPath(),q.rect(-ne,-ne,G.width()+ne*2,G.height()+ne*2),q.moveTo(G.width()/2,-ne),X.rotateEnabled()&&q.lineTo(G.width()/2,-X.rotateAnchorOffset()*e.Util._sign(G.height())-ne),q.fillStrokeShape(G)},hitFunc:(q,G)=>{if(this.shouldOverdrawWholeArea()){var X=this.padding();q.beginPath(),q.rect(-X,-X,G.width()+X*2,G.height()+X*2),q.fillStrokeShape(G)}}});this.add(F),this._proxyDrag(F),F.on("dragstart",q=>{q.cancelBubble=!0}),F.on("dragmove",q=>{q.cancelBubble=!0}),F.on("dragend",q=>{q.cancelBubble=!0}),this.on("dragmove",q=>{this.update()})}_handleMouseDown(F){this._movingAnchorName=F.target.name().split(" ")[0];var q=this._getNodeRect(),G=q.width,X=q.height,ne=Math.sqrt(Math.pow(G,2)+Math.pow(X,2));this.sin=Math.abs(X/ne),this.cos=Math.abs(G/ne),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var z=F.target.getAbsolutePosition(),V=F.target.getStage().getPointerPosition();this._anchorDragOffset={x:V.x-z.x,y:V.y-z.y},this._fire("transformstart",{evt:F.evt,target:this.getNode()}),this._nodes.forEach($=>{$._fire("transformstart",{evt:F.evt,target:$})})}_handleMouseMove(F){var q,G,X,ne=this.findOne("."+this._movingAnchorName),z=ne.getStage();z.setPointersPositions(F);const V=z.getPointerPosition();let $={x:V.x-this._anchorDragOffset.x,y:V.y-this._anchorDragOffset.y};const Z=ne.getAbsolutePosition();this.anchorDragBoundFunc()&&($=this.anchorDragBoundFunc()(Z,$,F)),ne.setAbsolutePosition($);const Q=ne.getAbsolutePosition();if(!(Z.x===Q.x&&Z.y===Q.y)){if(this._movingAnchorName==="rotater"){var re=this._getNodeRect();q=ne.x()-re.width/2,G=-ne.y()+re.height/2;let wn=Math.atan2(-G,q)+Math.PI/2;re.height<0&&(wn-=Math.PI);var ie=c.Konva.getAngle(this.rotation());const Gt=ie+wn,an=c.Konva.getAngle(this.rotationSnapTolerance()),kt=I(this.rotationSnaps(),Gt,an)-re.rotation,xt=C(re,kt);this._fitNodesInto(xt,F);return}var K=this.shiftBehavior(),ae;K==="inverted"?ae=this.keepRatio()&&!F.shiftKey:K==="none"?ae=this.keepRatio():ae=this.keepRatio()||F.shiftKey;var Te=this.centeredScaling()||F.altKey;if(this._movingAnchorName==="top-left"){if(ae){var se=Te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};X=Math.sqrt(Math.pow(se.x-ne.x(),2)+Math.pow(se.y-ne.y(),2));var _e=this.findOne(".top-left").x()>se.x?-1:1,Se=this.findOne(".top-left").y()>se.y?-1:1;q=X*this.cos*_e,G=X*this.sin*Se,this.findOne(".top-left").x(se.x-q),this.findOne(".top-left").y(se.y-G)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(ne.y());else if(this._movingAnchorName==="top-right"){if(ae){var se=Te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};X=Math.sqrt(Math.pow(ne.x()-se.x,2)+Math.pow(se.y-ne.y(),2));var _e=this.findOne(".top-right").x()<se.x?-1:1,Se=this.findOne(".top-right").y()>se.y?-1:1;q=X*this.cos*_e,G=X*this.sin*Se,this.findOne(".top-right").x(se.x+q),this.findOne(".top-right").y(se.y-G)}var be=ne.position();this.findOne(".top-left").y(be.y),this.findOne(".bottom-right").x(be.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(ne.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(ne.x());else if(this._movingAnchorName==="bottom-left"){if(ae){var se=Te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};X=Math.sqrt(Math.pow(se.x-ne.x(),2)+Math.pow(ne.y()-se.y,2));var _e=se.x<ne.x()?-1:1,Se=ne.y()<se.y?-1:1;q=X*this.cos*_e,G=X*this.sin*Se,ne.x(se.x-q),ne.y(se.y+G)}be=ne.position(),this.findOne(".top-left").x(be.x),this.findOne(".bottom-right").y(be.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(ne.y());else if(this._movingAnchorName==="bottom-right"){if(ae){var se=Te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};X=Math.sqrt(Math.pow(ne.x()-se.x,2)+Math.pow(ne.y()-se.y,2));var _e=this.findOne(".bottom-right").x()<se.x?-1:1,Se=this.findOne(".bottom-right").y()<se.y?-1:1;q=X*this.cos*_e,G=X*this.sin*Se,this.findOne(".bottom-right").x(se.x+q),this.findOne(".bottom-right").y(se.y+G)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Te=this.centeredScaling()||F.altKey;if(Te){var ee=this.findOne(".top-left"),he=this.findOne(".bottom-right"),Ce=ee.x(),Ge=ee.y(),je=this.getWidth()-he.x(),Qe=this.getHeight()-he.y();he.move({x:-Ce,y:-Ge}),ee.move({x:je,y:Qe})}var $e=this.findOne(".top-left").getAbsolutePosition();q=$e.x,G=$e.y;var qt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),yt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:q,y:G,width:qt,height:yt,rotation:c.Konva.getAngle(this.rotation())},F)}}_handleMouseUp(F){this._removeEvents(F)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(F){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var q=this.getNode();this._fire("transformend",{evt:F,target:q}),q&&this._nodes.forEach(G=>{G._fire("transformend",{evt:F,target:G})}),this._movingAnchorName=null}}_fitNodesInto(F,q){var G=this._getNodeRect();const X=1;if(e.Util._inRange(F.width,-this.padding()*2-X,X)){this.update();return}if(e.Util._inRange(F.height,-this.padding()*2-X,X)){this.update();return}var ne=new e.Transform;if(ne.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&F.width<0&&this._movingAnchorName.indexOf("left")>=0){const ie=ne.point({x:-this.padding()*2,y:0});F.x+=ie.x,F.y+=ie.y,F.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ie.x,this._anchorDragOffset.y-=ie.y}else if(this._movingAnchorName&&F.width<0&&this._movingAnchorName.indexOf("right")>=0){const ie=ne.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ie.x,this._anchorDragOffset.y-=ie.y,F.width+=this.padding()*2}if(this._movingAnchorName&&F.height<0&&this._movingAnchorName.indexOf("top")>=0){const ie=ne.point({x:0,y:-this.padding()*2});F.x+=ie.x,F.y+=ie.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ie.x,this._anchorDragOffset.y-=ie.y,F.height+=this.padding()*2}else if(this._movingAnchorName&&F.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ie=ne.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ie.x,this._anchorDragOffset.y-=ie.y,F.height+=this.padding()*2}if(this.boundBoxFunc()){const ie=this.boundBoxFunc()(G,F);ie?F=ie:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const z=1e7,V=new e.Transform;V.translate(G.x,G.y),V.rotate(G.rotation),V.scale(G.width/z,G.height/z);const $=new e.Transform,Z=F.width/z,Q=F.height/z;this.flipEnabled()===!1?($.translate(F.x,F.y),$.rotate(F.rotation),$.translate(F.width<0?F.width:0,F.height<0?F.height:0),$.scale(Math.abs(Z),Math.abs(Q))):($.translate(F.x,F.y),$.rotate(F.rotation),$.scale(Z,Q));const re=$.multiply(V.invert());this._nodes.forEach(ie=>{var K;const ae=ie.getParent().getAbsoluteTransform(),se=ie.getTransform().copy();se.translate(ie.offsetX(),ie.offsetY());const _e=new e.Transform;_e.multiply(ae.copy().invert()).multiply(re).multiply(ae).multiply(se);const Se=_e.decompose();ie.setAttrs(Se),this._fire("transform",{evt:q,target:ie}),ie._fire("transform",{evt:q,target:ie}),(K=ie.getLayer())===null||K===void 0||K.batchDraw()}),this.rotation(e.Util._getRotation(F.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(F,q){this.findOne(F).setAttrs(q)}update(){var F,q=this._getNodeRect();this.rotation(e.Util._getRotation(q.rotation));var G=q.width,X=q.height,ne=this.enabledAnchors(),z=this.resizeEnabled(),V=this.padding(),$=this.anchorSize();const Z=this.find("._anchor");Z.forEach(re=>{re.setAttrs({width:$,height:$,offsetX:$/2,offsetY:$/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:$/2+V,offsetY:$/2+V,visible:z&&ne.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:G/2,y:0,offsetY:$/2+V,visible:z&&ne.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:G,y:0,offsetX:$/2-V,offsetY:$/2+V,visible:z&&ne.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:X/2,offsetX:$/2+V,visible:z&&ne.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:G,y:X/2,offsetX:$/2-V,visible:z&&ne.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:X,offsetX:$/2+V,offsetY:$/2-V,visible:z&&ne.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:G/2,y:X,offsetY:$/2-V,visible:z&&ne.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:G,y:X,offsetX:$/2-V,offsetY:$/2-V,visible:z&&ne.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:G/2,y:-this.rotateAnchorOffset()*e.Util._sign(X)-V,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:G,height:X,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const Q=this.anchorStyleFunc();Q&&Z.forEach(re=>{Q(re)}),(F=this.getLayer())===null||F===void 0||F.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var F=this.findOne("."+this._movingAnchorName);F&&F.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),d.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(F){var q=i.Node.prototype.clone.call(this,F);return q}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};md.Transformer=L;function B(W){return W instanceof Array||e.Util.warn("enabledAnchors value should be an array"),W instanceof Array&&W.forEach(function(F){k.indexOf(F)===-1&&e.Util.warn("Unknown anchor name: "+F+". Available names are: "+k.join(", "))}),W||[]}return L.prototype.className="Transformer",(0,m._registerNode)(L),t.Factory.addGetterSetter(L,"enabledAnchors",k,B),t.Factory.addGetterSetter(L,"flipEnabled",!0,(0,h.getBooleanValidator)()),t.Factory.addGetterSetter(L,"resizeEnabled",!0),t.Factory.addGetterSetter(L,"anchorSize",10,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"rotateEnabled",!0),t.Factory.addGetterSetter(L,"rotationSnaps",[]),t.Factory.addGetterSetter(L,"rotateAnchorOffset",50,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(L,"rotationSnapTolerance",5,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"borderEnabled",!0),t.Factory.addGetterSetter(L,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(L,"anchorStrokeWidth",1,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"anchorFill","white"),t.Factory.addGetterSetter(L,"anchorCornerRadius",0,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(L,"borderStrokeWidth",1,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"borderDash"),t.Factory.addGetterSetter(L,"keepRatio",!0),t.Factory.addGetterSetter(L,"shiftBehavior","default"),t.Factory.addGetterSetter(L,"centeredScaling",!1),t.Factory.addGetterSetter(L,"ignoreStroke",!1),t.Factory.addGetterSetter(L,"padding",0,(0,h.getNumberValidator)()),t.Factory.addGetterSetter(L,"node"),t.Factory.addGetterSetter(L,"nodes"),t.Factory.addGetterSetter(L,"boundBoxFunc"),t.Factory.addGetterSetter(L,"anchorDragBoundFunc"),t.Factory.addGetterSetter(L,"anchorStyleFunc"),t.Factory.addGetterSetter(L,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(L,"useSingleNodeRotation",!0),t.Factory.backCompat(L,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),md}var gd={},B2;function D7(){if(B2)return gd;B2=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.Wedge=void 0;const e=_t(),t=rr(),i=wt(),a=Pt(),u=wt();let d=class extends t.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),h.lineTo(0,0),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius(h/2)}setHeight(h){this.radius(h/2)}};return gd.Wedge=d,d.prototype.className="Wedge",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,u._registerNode)(d),e.Factory.addGetterSetter(d,"radius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"angle",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"clockwise",!1),e.Factory.backCompat(d,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),gd}var vd={},G2;function F7(){if(G2)return vd;G2=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.Blur=void 0;const e=_t(),t=Nn(),i=Pt();function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(m,f){var y=m.data,g=m.width,x=m.height,S,w,P,k,b,R,C,I,L,B,W,F,q,G,X,ne,z,V,$,Z,Q,re,ie,K,ae=f+f+1,se=g-1,_e=x-1,Se=f+1,be=Se*(Se+1)/2,Te=new a,ee=null,he=Te,Ce=null,Ge=null,je=u[f],Qe=d[f];for(P=1;P<ae;P++)he=he.next=new a,P===Se&&(ee=he);for(he.next=Te,C=R=0,w=0;w<x;w++){for(ne=z=V=$=I=L=B=W=0,F=Se*(Z=y[R]),q=Se*(Q=y[R+1]),G=Se*(re=y[R+2]),X=Se*(ie=y[R+3]),I+=be*Z,L+=be*Q,B+=be*re,W+=be*ie,he=Te,P=0;P<Se;P++)he.r=Z,he.g=Q,he.b=re,he.a=ie,he=he.next;for(P=1;P<Se;P++)k=R+((se<P?se:P)<<2),I+=(he.r=Z=y[k])*(K=Se-P),L+=(he.g=Q=y[k+1])*K,B+=(he.b=re=y[k+2])*K,W+=(he.a=ie=y[k+3])*K,ne+=Z,z+=Q,V+=re,$+=ie,he=he.next;for(Ce=Te,Ge=ee,S=0;S<g;S++)y[R+3]=ie=W*je>>Qe,ie!==0?(ie=255/ie,y[R]=(I*je>>Qe)*ie,y[R+1]=(L*je>>Qe)*ie,y[R+2]=(B*je>>Qe)*ie):y[R]=y[R+1]=y[R+2]=0,I-=F,L-=q,B-=G,W-=X,F-=Ce.r,q-=Ce.g,G-=Ce.b,X-=Ce.a,k=C+((k=S+f+1)<se?k:se)<<2,ne+=Ce.r=y[k],z+=Ce.g=y[k+1],V+=Ce.b=y[k+2],$+=Ce.a=y[k+3],I+=ne,L+=z,B+=V,W+=$,Ce=Ce.next,F+=Z=Ge.r,q+=Q=Ge.g,G+=re=Ge.b,X+=ie=Ge.a,ne-=Z,z-=Q,V-=re,$-=ie,Ge=Ge.next,R+=4;C+=g}for(S=0;S<g;S++){for(z=V=$=ne=L=B=W=I=0,R=S<<2,F=Se*(Z=y[R]),q=Se*(Q=y[R+1]),G=Se*(re=y[R+2]),X=Se*(ie=y[R+3]),I+=be*Z,L+=be*Q,B+=be*re,W+=be*ie,he=Te,P=0;P<Se;P++)he.r=Z,he.g=Q,he.b=re,he.a=ie,he=he.next;for(b=g,P=1;P<=f;P++)R=b+S<<2,I+=(he.r=Z=y[R])*(K=Se-P),L+=(he.g=Q=y[R+1])*K,B+=(he.b=re=y[R+2])*K,W+=(he.a=ie=y[R+3])*K,ne+=Z,z+=Q,V+=re,$+=ie,he=he.next,P<_e&&(b+=g);for(R=S,Ce=Te,Ge=ee,w=0;w<x;w++)k=R<<2,y[k+3]=ie=W*je>>Qe,ie>0?(ie=255/ie,y[k]=(I*je>>Qe)*ie,y[k+1]=(L*je>>Qe)*ie,y[k+2]=(B*je>>Qe)*ie):y[k]=y[k+1]=y[k+2]=0,I-=F,L-=q,B-=G,W-=X,F-=Ce.r,q-=Ce.g,G-=Ce.b,X-=Ce.a,k=S+((k=w+Se)<_e?k:_e)*g<<2,I+=ne+=Ce.r=y[k],L+=z+=Ce.g=y[k+1],B+=V+=Ce.b=y[k+2],W+=$+=Ce.a=y[k+3],Ce=Ce.next,F+=Z=Ge.r,q+=Q=Ge.g,G+=re=Ge.b,X+=ie=Ge.a,ne-=Z,z-=Q,V-=re,$-=ie,Ge=Ge.next,R+=g}}const h=function(f){var y=Math.round(this.blurRadius());y>0&&c(f,y)};return vd.Blur=h,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),vd}var yd={},$2;function z7(){if($2)return yd;$2=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.Brighten=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=this.brightness()*255,c=u.data,h=c.length,m;for(m=0;m<h;m+=4)c[m]+=d,c[m+1]+=d,c[m+2]+=d};return yd.Brighten=a,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),yd}var xd={},W2;function V7(){if(W2)return xd;W2=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.Contrast=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=Math.pow((this.contrast()+100)/100,2),c=u.data,h=c.length,m=150,f=150,y=150,g;for(g=0;g<h;g+=4)m=c[g],f=c[g+1],y=c[g+2],m/=255,m-=.5,m*=d,m+=.5,m*=255,f/=255,f-=.5,f*=d,f+=.5,f*=255,y/=255,y-=.5,y*=d,y+=.5,y*=255,m=m<0?0:m>255?255:m,f=f<0?0:f>255?255:f,y=y<0?0:y>255?255:y,c[g]=m,c[g+1]=f,c[g+2]=y};return xd.Contrast=a,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),xd}var Sd={},H2;function U7(){if(H2)return Sd;H2=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Emboss=void 0;const e=_t(),t=Nn(),i=Sn(),a=Pt(),u=function(d){var c=this.embossStrength()*10,h=this.embossWhiteLevel()*255,m=this.embossDirection(),f=this.embossBlend(),y=0,g=0,x=d.data,S=d.width,w=d.height,P=S*4,k=w;switch(m){case"top-left":y=-1,g=-1;break;case"top":y=-1,g=0;break;case"top-right":y=-1,g=1;break;case"right":y=0,g=1;break;case"bottom-right":y=1,g=1;break;case"bottom":y=1,g=0;break;case"bottom-left":y=1,g=-1;break;case"left":y=0,g=-1;break;default:i.Util.error("Unknown emboss direction: "+m)}do{var b=(k-1)*P,R=y;k+R<1&&(R=0),k+R>w&&(R=0);var C=(k-1+R)*S*4,I=S;do{var L=b+(I-1)*4,B=g;I+B<1&&(B=0),I+B>S&&(B=0);var W=C+(I-1+B)*4,F=x[L]-x[W],q=x[L+1]-x[W+1],G=x[L+2]-x[W+2],X=F,ne=X>0?X:-X,z=q>0?q:-q,V=G>0?G:-G;if(z>ne&&(X=q),V>ne&&(X=G),X*=c,f){var $=x[L]+X,Z=x[L+1]+X,Q=x[L+2]+X;x[L]=$>255?255:$<0?0:$,x[L+1]=Z>255?255:Z<0?0:Z,x[L+2]=Q>255?255:Q<0?0:Q}else{var re=h-X;re<0?re=0:re>255&&(re=255),x[L]=x[L+1]=x[L+2]=re}}while(--I)}while(--k)};return Sd.Emboss=u,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",null,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,null,e.Factory.afterSetFilter),Sd}var wd={},q2;function B7(){if(q2)return wd;q2=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.Enhance=void 0;const e=_t(),t=Nn(),i=Pt();function a(d,c,h,m,f){var y=h-c,g=f-m,x;return y===0?m+g/2:g===0?m:(x=(d-c)/y,x=g*x+m,x)}const u=function(d){var c=d.data,h=c.length,m=c[0],f=m,y,g=c[1],x=g,S,w=c[2],P=w,k,b,R=this.enhance();if(R!==0){for(b=0;b<h;b+=4)y=c[b+0],y<m?m=y:y>f&&(f=y),S=c[b+1],S<g?g=S:S>x&&(x=S),k=c[b+2],k<w?w=k:k>P&&(P=k);f===m&&(f=255,m=0),x===g&&(x=255,g=0),P===w&&(P=255,w=0);var C,I,L,B,W,F,q,G,X;for(R>0?(I=f+R*(255-f),L=m-R*(m-0),W=x+R*(255-x),F=g-R*(g-0),G=P+R*(255-P),X=w-R*(w-0)):(C=(f+m)*.5,I=f+R*(f-C),L=m+R*(m-C),B=(x+g)*.5,W=x+R*(x-B),F=g+R*(g-B),q=(P+w)*.5,G=P+R*(P-q),X=w+R*(w-q)),b=0;b<h;b+=4)c[b+0]=a(c[b+0],m,f,L,I),c[b+1]=a(c[b+1],g,x,F,W),c[b+2]=a(c[b+2],w,P,X,G)}};return wd.Enhance=u,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),wd}var _d={},K2;function G7(){if(K2)return _d;K2=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.Grayscale=void 0;const e=function(t){var i=t.data,a=i.length,u,d;for(u=0;u<a;u+=4)d=.34*i[u]+.5*i[u+1]+.16*i[u+2],i[u]=d,i[u+1]=d,i[u+2]=d};return _d.Grayscale=e,_d}var Cd={},Y2;function $7(){if(Y2)return Cd;Y2=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.HSL=void 0;const e=_t(),t=Nn(),i=Pt();e.Factory.addGetterSetter(t.Node,"hue",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter);const a=function(u){var d=u.data,c=d.length,h=1,m=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,y=this.luminance()*127,g,x=h*m*Math.cos(f*Math.PI/180),S=h*m*Math.sin(f*Math.PI/180),w=.299*h+.701*x+.167*S,P=.587*h-.587*x+.33*S,k=.114*h-.114*x-.497*S,b=.299*h-.299*x-.328*S,R=.587*h+.413*x+.035*S,C=.114*h-.114*x+.293*S,I=.299*h-.3*x+1.25*S,L=.587*h-.586*x-1.05*S,B=.114*h+.886*x-.2*S,W,F,q,G;for(g=0;g<c;g+=4)W=d[g+0],F=d[g+1],q=d[g+2],G=d[g+3],d[g+0]=w*W+P*F+k*q+y,d[g+1]=b*W+R*F+C*q+y,d[g+2]=I*W+L*F+B*q+y,d[g+3]=G};return Cd.HSL=a,Cd}var Ed={},X2;function W7(){if(X2)return Ed;X2=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.HSV=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=u.data,c=d.length,h=Math.pow(2,this.value()),m=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,y,g=h*m*Math.cos(f*Math.PI/180),x=h*m*Math.sin(f*Math.PI/180),S=.299*h+.701*g+.167*x,w=.587*h-.587*g+.33*x,P=.114*h-.114*g-.497*x,k=.299*h-.299*g-.328*x,b=.587*h+.413*g+.035*x,R=.114*h-.114*g+.293*x,C=.299*h-.3*g+1.25*x,I=.587*h-.586*g-1.05*x,L=.114*h+.886*g-.2*x,B,W,F,q;for(y=0;y<c;y+=4)B=d[y+0],W=d[y+1],F=d[y+2],q=d[y+3],d[y+0]=S*B+w*W+P*F,d[y+1]=k*B+b*W+R*F,d[y+2]=C*B+I*W+L*F,d[y+3]=q};return Ed.HSV=a,e.Factory.addGetterSetter(t.Node,"hue",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Ed}var Pd={},Q2;function H7(){if(Q2)return Pd;Q2=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.Invert=void 0;const e=function(t){var i=t.data,a=i.length,u;for(u=0;u<a;u+=4)i[u]=255-i[u],i[u+1]=255-i[u+1],i[u+2]=255-i[u+2]};return Pd.Invert=e,Pd}var kd={},Z2;function q7(){if(Z2)return kd;Z2=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.Kaleidoscope=void 0;const e=_t(),t=Nn(),i=Sn(),a=Pt();var u=function(h,m,f){var y=h.data,g=m.data,x=h.width,S=h.height,w=f.polarCenterX||x/2,P=f.polarCenterY||S/2,k,b,R,C=0,I=0,L=0,B=0,W,F=Math.sqrt(w*w+P*P);b=x-w,R=S-P,W=Math.sqrt(b*b+R*R),F=W>F?W:F;var q=S,G=x,X,ne,z=360/G*Math.PI/180,V,$;for(ne=0;ne<G;ne+=1)for(V=Math.sin(ne*z),$=Math.cos(ne*z),X=0;X<q;X+=1)b=Math.floor(w+F*X/q*$),R=Math.floor(P+F*X/q*V),k=(R*x+b)*4,C=y[k+0],I=y[k+1],L=y[k+2],B=y[k+3],k=(ne+X*x)*4,g[k+0]=C,g[k+1]=I,g[k+2]=L,g[k+3]=B},d=function(h,m,f){var y=h.data,g=m.data,x=h.width,S=h.height,w=f.polarCenterX||x/2,P=f.polarCenterY||S/2,k,b,R,C,I,L=0,B=0,W=0,F=0,q,G=Math.sqrt(w*w+P*P);b=x-w,R=S-P,q=Math.sqrt(b*b+R*R),G=q>G?q:G;var X=S,ne=x,z,V,$=0,Z,Q;for(b=0;b<x;b+=1)for(R=0;R<S;R+=1)C=b-w,I=R-P,z=Math.sqrt(C*C+I*I)*X/G,V=(Math.atan2(I,C)*180/Math.PI+360+$)%360,V=V*ne/360,Z=Math.floor(V),Q=Math.floor(z),k=(Q*x+Z)*4,L=y[k+0],B=y[k+1],W=y[k+2],F=y[k+3],k=(R*x+b)*4,g[k+0]=L,g[k+1]=B,g[k+2]=W,g[k+3]=F};const c=function(h){var m=h.width,f=h.height,y,g,x,S,w,P,k,b,R,C,I=Math.round(this.kaleidoscopePower()),L=Math.round(this.kaleidoscopeAngle()),B=Math.floor(m*(L%360)/360);if(!(I<1)){var W=i.Util.createCanvasElement();W.width=m,W.height=f;var F=W.getContext("2d").getImageData(0,0,m,f);i.Util.releaseCanvas(W),u(h,F,{polarCenterX:m/2,polarCenterY:f/2});for(var q=m/Math.pow(2,I);q<=8;)q=q*2,I-=1;q=Math.ceil(q);var G=q,X=0,ne=G,z=1;for(B+q>m&&(X=G,ne=0,z=-1),g=0;g<f;g+=1)for(y=X;y!==ne;y+=z)x=Math.round(y+B)%m,R=(m*g+x)*4,w=F.data[R+0],P=F.data[R+1],k=F.data[R+2],b=F.data[R+3],C=(m*g+y)*4,F.data[C+0]=w,F.data[C+1]=P,F.data[C+2]=k,F.data[C+3]=b;for(g=0;g<f;g+=1)for(G=Math.floor(q),S=0;S<I;S+=1){for(y=0;y<G+1;y+=1)R=(m*g+y)*4,w=F.data[R+0],P=F.data[R+1],k=F.data[R+2],b=F.data[R+3],C=(m*g+G*2-y-1)*4,F.data[C+0]=w,F.data[C+1]=P,F.data[C+2]=k,F.data[C+3]=b;G*=2}d(F,h,{})}};return kd.Kaleidoscope=c,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),kd}var Td={},J2;function K7(){if(J2)return Td;J2=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.Mask=void 0;const e=_t(),t=Nn(),i=Pt();function a(x,S,w){var P=(w*x.width+S)*4,k=[];return k.push(x.data[P++],x.data[P++],x.data[P++],x.data[P++]),k}function u(x,S){return Math.sqrt(Math.pow(x[0]-S[0],2)+Math.pow(x[1]-S[1],2)+Math.pow(x[2]-S[2],2))}function d(x){for(var S=[0,0,0],w=0;w<x.length;w++)S[0]+=x[w][0],S[1]+=x[w][1],S[2]+=x[w][2];return S[0]/=x.length,S[1]/=x.length,S[2]/=x.length,S}function c(x,S){var w=a(x,0,0),P=a(x,x.width-1,0),k=a(x,0,x.height-1),b=a(x,x.width-1,x.height-1),R=S||10;if(u(w,P)<R&&u(P,b)<R&&u(b,k)<R&&u(k,w)<R){for(var C=d([P,w,b,k]),I=[],L=0;L<x.width*x.height;L++){var B=u(C,[x.data[L*4],x.data[L*4+1],x.data[L*4+2]]);I[L]=B<R?0:255}return I}}function h(x,S){for(var w=0;w<x.width*x.height;w++)x.data[4*w+3]=S[w]}function m(x,S,w){for(var P=[1,1,1,1,0,1,1,1,1],k=Math.round(Math.sqrt(P.length)),b=Math.floor(k/2),R=[],C=0;C<w;C++)for(var I=0;I<S;I++){for(var L=C*S+I,B=0,W=0;W<k;W++)for(var F=0;F<k;F++){var q=C+W-b,G=I+F-b;if(q>=0&&q<w&&G>=0&&G<S){var X=q*S+G,ne=P[W*k+F];B+=x[X]*ne}}R[L]=B===255*8?255:0}return R}function f(x,S,w){for(var P=[1,1,1,1,1,1,1,1,1],k=Math.round(Math.sqrt(P.length)),b=Math.floor(k/2),R=[],C=0;C<w;C++)for(var I=0;I<S;I++){for(var L=C*S+I,B=0,W=0;W<k;W++)for(var F=0;F<k;F++){var q=C+W-b,G=I+F-b;if(q>=0&&q<w&&G>=0&&G<S){var X=q*S+G,ne=P[W*k+F];B+=x[X]*ne}}R[L]=B>=255*4?255:0}return R}function y(x,S,w){for(var P=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],k=Math.round(Math.sqrt(P.length)),b=Math.floor(k/2),R=[],C=0;C<w;C++)for(var I=0;I<S;I++){for(var L=C*S+I,B=0,W=0;W<k;W++)for(var F=0;F<k;F++){var q=C+W-b,G=I+F-b;if(q>=0&&q<w&&G>=0&&G<S){var X=q*S+G,ne=P[W*k+F];B+=x[X]*ne}}R[L]=B}return R}const g=function(x){var S=this.threshold(),w=c(x,S);return w&&(w=m(w,x.width,x.height),w=f(w,x.width,x.height),w=y(w,x.width,x.height),h(x,w)),x};return Td.Mask=g,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Td}var Rd={},ey;function Y7(){if(ey)return Rd;ey=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Noise=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=this.noise()*255,c=u.data,h=c.length,m=d/2,f;for(f=0;f<h;f+=4)c[f+0]+=m-2*m*Math.random(),c[f+1]+=m-2*m*Math.random(),c[f+2]+=m-2*m*Math.random()};return Rd.Noise=a,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Rd}var Nd={},ty;function X7(){if(ty)return Nd;ty=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.Pixelate=void 0;const e=_t(),t=Sn(),i=Nn(),a=Pt(),u=function(d){var c=Math.ceil(this.pixelSize()),h=d.width,m=d.height,f,y,g,x,S,w,P,k=Math.ceil(h/c),b=Math.ceil(m/c),R,C,I,L,B,W,F,q=d.data;if(c<=0){t.Util.error("pixelSize value can not be <= 0");return}for(B=0;B<k;B+=1)for(W=0;W<b;W+=1){for(x=0,S=0,w=0,P=0,R=B*c,C=R+c,I=W*c,L=I+c,F=0,f=R;f<C;f+=1)if(!(f>=h))for(y=I;y<L;y+=1)y>=m||(g=(h*y+f)*4,x+=q[g+0],S+=q[g+1],w+=q[g+2],P+=q[g+3],F+=1);for(x=x/F,S=S/F,w=w/F,P=P/F,f=R;f<C;f+=1)if(!(f>=h))for(y=I;y<L;y+=1)y>=m||(g=(h*y+f)*4,q[g+0]=x,q[g+1]=S,q[g+2]=w,q[g+3]=P)}};return Nd.Pixelate=u,e.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,a.getNumberValidator)(),e.Factory.afterSetFilter),Nd}var Ad={},ny;function Q7(){if(ny)return Ad;ny=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.Posterize=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=Math.round(this.levels()*254)+1,c=u.data,h=c.length,m=255/d,f;for(f=0;f<h;f+=1)c[f]=Math.floor(c[f]/m)*m};return Ad.Posterize=a,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Ad}var bd={},ry;function Z7(){if(ry)return bd;ry=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.RGB=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=u.data,c=d.length,h=this.red(),m=this.green(),f=this.blue(),y,g;for(y=0;y<c;y+=4)g=(.34*d[y]+.5*d[y+1]+.16*d[y+2])/255,d[y]=g*h,d[y+1]=g*m,d[y+2]=g*f,d[y+3]=d[y+3]};return bd.RGB=a,e.Factory.addGetterSetter(t.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"blue",0,i.RGBComponent,e.Factory.afterSetFilter),bd}var Md={},iy;function J7(){if(iy)return Md;iy=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.RGBA=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=u.data,c=d.length,h=this.red(),m=this.green(),f=this.blue(),y=this.alpha(),g,x;for(g=0;g<c;g+=4)x=1-y,d[g]=h*y+d[g]*x,d[g+1]=m*y+d[g+1]*x,d[g+2]=f*y+d[g+2]*x};return Md.RGBA=a,e.Factory.addGetterSetter(t.Node,"red",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"green",0,function(u){return this._filterUpToDate=!1,u>255?255:u<0?0:Math.round(u)}),e.Factory.addGetterSetter(t.Node,"blue",0,i.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(u){return this._filterUpToDate=!1,u>1?1:u<0?0:u}),Md}var Id={},sy;function eC(){if(sy)return Id;sy=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.Sepia=void 0;const e=function(t){var i=t.data,a=i.length,u,d,c,h;for(u=0;u<a;u+=4)d=i[u+0],c=i[u+1],h=i[u+2],i[u+0]=Math.min(255,d*.393+c*.769+h*.189),i[u+1]=Math.min(255,d*.349+c*.686+h*.168),i[u+2]=Math.min(255,d*.272+c*.534+h*.131)};return Id.Sepia=e,Id}var Ld={},oy;function tC(){if(oy)return Ld;oy=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.Solarize=void 0;const e=function(t){var i=t.data,a=t.width,u=t.height,d=a*4,c=u;do{var h=(c-1)*d,m=a;do{var f=h+(m-1)*4,y=i[f],g=i[f+1],x=i[f+2];y>127&&(y=255-y),g>127&&(g=255-g),x>127&&(x=255-x),i[f]=y,i[f+1]=g,i[f+2]=x}while(--m)}while(--c)};return Ld.Solarize=e,Ld}var Od={},ay;function nC(){if(ay)return Od;ay=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Threshold=void 0;const e=_t(),t=Nn(),i=Pt(),a=function(u){var d=this.threshold()*255,c=u.data,h=c.length,m;for(m=0;m<h;m+=1)c[m]=c[m]<d?0:255};return Od.Threshold=a,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Od}var ly;function rC(){if(ly)return Yc;ly=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.Konva=void 0;const e=lm(),t=E7(),i=k7(),a=T7(),u=R7(),d=N7(),c=A7(),h=f4(),m=ag(),f=m4(),y=b7(),g=M7(),x=I7(),S=L7(),w=g4(),P=O7(),k=j7(),b=D7(),R=F7(),C=z7(),I=V7(),L=U7(),B=B7(),W=G7(),F=$7(),q=W7(),G=H7(),X=q7(),ne=K7(),z=Y7(),V=X7(),$=Q7(),Z=Z7(),Q=J7(),re=eC(),ie=tC(),K=nC();return Yc.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:i.Arrow,Circle:a.Circle,Ellipse:u.Ellipse,Image:d.Image,Label:c.Label,Tag:c.Tag,Line:h.Line,Path:m.Path,Rect:f.Rect,RegularPolygon:y.RegularPolygon,Ring:g.Ring,Sprite:x.Sprite,Star:S.Star,Text:w.Text,TextPath:P.TextPath,Transformer:k.Transformer,Wedge:b.Wedge,Filters:{Blur:R.Blur,Brighten:C.Brighten,Contrast:I.Contrast,Emboss:L.Emboss,Enhance:B.Enhance,Grayscale:W.Grayscale,HSL:F.HSL,HSV:q.HSV,Invert:G.Invert,Kaleidoscope:X.Kaleidoscope,Mask:ne.Mask,Noise:z.Noise,Pixelate:V.Pixelate,Posterize:$.Posterize,RGB:Z.RGB,RGBA:Q.RGBA,Sepia:re.Sepia,Solarize:ie.Solarize,Threshold:K.Threshold}}),Yc}var iC=zf.exports,uy;function sC(){if(uy)return zf.exports;uy=1,Object.defineProperty(iC,"__esModule",{value:!0});const e=rC();return zf.exports=e.Konva,zf.exports}sC();var Lf={exports:{}},cy;function oC(){return cy||(cy=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var i=lm();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return i.Konva}});const a=lm();e.exports=a.Konva}(Lf,Lf.exports)),Lf.exports}var aC=oC();const lh=yh(aC);var Np={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap,dy;function lC(){return dy||(dy=1,Ap=function(t){var i={},a=Jf(),u=ym(),d=Object.assign;function c(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)o+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),f=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),L=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}function W(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case f:return"Portal";case x:return"Profiler";case g:return"StrictMode";case k:return"Suspense";case b:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case w:return(s.displayName||"Context")+".Consumer";case S:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return o=s.displayName||null,o!==null?o:W(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return W(s(o))}catch{}}return null}function F(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(o);case 8:return o===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function q(s){var o=s,p=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(p=o.return),s=o.return;while(s)}return o.tag===3?p:null}function G(s){if(q(s)!==s)throw Error(c(188))}function X(s){var o=s.alternate;if(!o){if(o=q(s),o===null)throw Error(c(188));return o!==s?null:s}for(var p=s,_=o;;){var N=p.return;if(N===null)break;var j=N.alternate;if(j===null){if(_=N.return,_!==null){p=_;continue}break}if(N.child===j.child){for(j=N.child;j;){if(j===p)return G(N),s;if(j===_)return G(N),o;j=j.sibling}throw Error(c(188))}if(p.return!==_.return)p=N,_=j;else{for(var Y=!1,le=N.child;le;){if(le===p){Y=!0,p=N,_=j;break}if(le===_){Y=!0,_=N,p=j;break}le=le.sibling}if(!Y){for(le=j.child;le;){if(le===p){Y=!0,p=j,_=N;break}if(le===_){Y=!0,_=j,p=N;break}le=le.sibling}if(!Y)throw Error(c(189))}}if(p.alternate!==_)throw Error(c(190))}if(p.tag!==3)throw Error(c(188));return p.stateNode.current===p?s:o}function ne(s){return s=X(s),s!==null?z(s):null}function z(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=z(s);if(o!==null)return o;s=s.sibling}return null}function V(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){if(s.tag!==4){var o=V(s);if(o!==null)return o}s=s.sibling}return null}var $=Array.isArray,Z=t.getPublicInstance,Q=t.getRootHostContext,re=t.getChildHostContext,ie=t.prepareForCommit,K=t.resetAfterCommit,ae=t.createInstance,se=t.appendInitialChild,_e=t.finalizeInitialChildren,Se=t.prepareUpdate,be=t.shouldSetTextContent,Te=t.createTextInstance,ee=t.scheduleTimeout,he=t.cancelTimeout,Ce=t.noTimeout,Ge=t.isPrimaryRenderer,je=t.supportsMutation,Qe=t.supportsPersistence,$e=t.supportsHydration,qt=t.getInstanceFromNode,yt=t.preparePortalMount,wn=t.getCurrentEventPriority,Gt=t.detachDeletedInstance,an=t.supportsMicrotasks,Jt=t.scheduleMicrotask,kt=t.supportsTestSelectors,xt=t.findFiberRoot,ir=t.getBoundingRect,zn=t.getTextContent,_n=t.isHiddenSubtree,rn=t.matchAccessibilityRole,dn=t.setFocusIfFocusable,Ar=t.setupIntersectionObserver,gr=t.appendChild,Qr=t.appendChildToContainer,An=t.commitTextUpdate,vr=t.commitMount,Io=t.commitUpdate,Lo=t.insertBefore,yr=t.insertInContainerBefore,Hu=t.removeChild,Ia=t.removeChildFromContainer,$s=t.resetTextContent,Oo=t.hideInstance,Ws=t.hideTextInstance,Hs=t.unhideInstance,gs=t.unhideTextInstance,vs=t.clearContainer,jo=t.cloneInstance,La=t.createContainerChildSet,Do=t.appendChildToContainerChildSet,bl=t.finalizeContainerChildren,Fo=t.replaceContainerChildren,Vn=t.cloneHiddenInstance,Oa=t.cloneHiddenTextInstance,br=t.canHydrateInstance,qs=t.canHydrateTextInstance,Hi=t.canHydrateSuspenseInstance,Ml=t.isSuspenseInstancePending,O=t.isSuspenseInstanceFallback,T=t.getSuspenseInstanceFallbackErrorDetails,D=t.registerSuspenseInstanceRetry,H=t.getNextHydratableSibling,ce=t.getFirstHydratableChild,we=t.getFirstHydratableChildWithinContainer,qe=t.getFirstHydratableChildWithinSuspenseInstance,De=t.hydrateInstance,vt=t.hydrateTextInstance,pt=t.hydrateSuspenseInstance,Ke=t.getNextHydratableInstanceAfterSuspenseInstance,mt=t.commitHydratedContainer,We=t.commitHydratedSuspenseInstance,ct=t.clearSuspenseBoundary,tt=t.clearSuspenseBoundaryFromContainer,ot=t.shouldDeleteUnhydratedTailInstances,Ae=t.didNotMatchHydratedContainerTextInstance,Ye=t.didNotMatchHydratedTextInstance,bn;function Lt(s){if(bn===void 0)try{throw Error()}catch(p){var o=p.stack.trim().match(/\n( *(at )?)/);bn=o&&o[1]||""}return`
`+bn+s}var ut=!1;function dt(s,o){if(!s||ut)return"";ut=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Re){var _=Re}Reflect.construct(s,[],o)}else{try{o.call()}catch(Re){_=Re}s.call(o.prototype)}else{try{throw Error()}catch(Re){_=Re}s()}}catch(Re){if(Re&&_&&typeof Re.stack=="string"){for(var N=Re.stack.split(`
`),j=_.stack.split(`
`),Y=N.length-1,le=j.length-1;1<=Y&&0<=le&&N[Y]!==j[le];)le--;for(;1<=Y&&0<=le;Y--,le--)if(N[Y]!==j[le]){if(Y!==1||le!==1)do if(Y--,le--,0>le||N[Y]!==j[le]){var ye=`
`+N[Y].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=Y&&0<=le);break}}}finally{ut=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?Lt(s):""}var Ni=Object.prototype.hasOwnProperty,Mr=[],ln=-1;function Ct(s){return{current:s}}function rt(s){0>ln||(s.current=Mr[ln],Mr[ln]=null,ln--)}function ht(s,o){ln++,Mr[ln]=s.current,s.current=o}var Mn={},hn=Ct(Mn),en=Ct(!1),sr=Mn;function qi(s,o){var p=s.type.contextTypes;if(!p)return Mn;var _=s.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===o)return _.__reactInternalMemoizedMaskedChildContext;var N={},j;for(j in p)N[j]=o[j];return _&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=N),N}function In(s){return s=s.childContextTypes,s!=null}function Ks(){rt(en),rt(hn)}function Th(s,o,p){if(hn.current!==Mn)throw Error(c(168));ht(hn,o),ht(en,p)}function Rh(s,o,p){var _=s.stateNode;if(o=o.childContextTypes,typeof _.getChildContext!="function")return p;_=_.getChildContext();for(var N in _)if(!(N in o))throw Error(c(108,F(s)||"Unknown",N));return d({},p,_)}function zo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Mn,sr=hn.current,ht(hn,s),ht(en,en.current),!0}function qu(s,o,p){var _=s.stateNode;if(!_)throw Error(c(169));p?(s=Rh(s,o,sr),_.__reactInternalMemoizedMergedChildContext=s,rt(en),rt(hn),ht(hn,s)):rt(en),ht(en,p)}var Ir=Math.clz32?Math.clz32:Ku,ja=Math.log,S0=Math.LN2;function Ku(s){return s>>>=0,s===0?32:31-(ja(s)/S0|0)|0}var At=64,Da=4194304;function Vo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Uo(s,o){var p=s.pendingLanes;if(p===0)return 0;var _=0,N=s.suspendedLanes,j=s.pingedLanes,Y=p&268435455;if(Y!==0){var le=Y&~N;le!==0?_=Vo(le):(j&=Y,j!==0&&(_=Vo(j)))}else Y=p&~N,Y!==0?_=Vo(Y):j!==0&&(_=Vo(j));if(_===0)return 0;if(o!==0&&o!==_&&(o&N)===0&&(N=_&-_,j=o&-o,N>=j||N===16&&(j&4194240)!==0))return o;if((_&4)!==0&&(_|=p&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=_;0<o;)p=31-Ir(o),N=1<<p,_|=s[p],o&=~N;return _}function Nh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ah(s,o){for(var p=s.suspendedLanes,_=s.pingedLanes,N=s.expirationTimes,j=s.pendingLanes;0<j;){var Y=31-Ir(j),le=1<<Y,ye=N[Y];ye===-1?((le&p)===0||(le&_)!==0)&&(N[Y]=Nh(le,o)):ye<=o&&(s.expiredLanes|=le),j&=~le}}function Il(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ll(){var s=At;return At<<=1,(At&4194240)===0&&(At=64),s}function Bo(s){for(var o=[],p=0;31>p;p++)o.push(s);return o}function Zr(s,o,p){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Ir(o),s[o]=p}function ys(s,o){var p=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var _=s.eventTimes;for(s=s.expirationTimes;0<p;){var N=31-Ir(p),j=1<<N;o[N]=0,_[N]=-1,s[N]=-1,p&=~j}}function Ai(s,o){var p=s.entangledLanes|=o;for(s=s.entanglements;p;){var _=31-Ir(p),N=1<<_;N&o|s[_]&o&&(s[_]|=o),p&=~N}}var St=0;function Go(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bi=u.unstable_scheduleCallback,bh=u.unstable_cancelCallback,Mh=u.unstable_shouldYield,Fa=u.unstable_requestPaint,Ln=u.unstable_now,Ol=u.unstable_ImmediatePriority,jl=u.unstable_UserBlockingPriority,Dl=u.unstable_NormalPriority,w0=u.unstable_IdlePriority,xs=null,xr=null;function $o(s){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(xs,s,void 0,(s.current.flags&128)===128)}catch{}}function Fl(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var hi=typeof Object.is=="function"?Object.is:Fl,Ki=null,Wo=!1,Ho=!1;function zl(s){Ki===null?Ki=[s]:Ki.push(s)}function Ih(s){Wo=!0,zl(s)}function Un(){if(!Ho&&Ki!==null){Ho=!0;var s=0,o=St;try{var p=Ki;for(St=1;s<p.length;s++){var _=p[s];do _=_(!0);while(_!==null)}Ki=null,Wo=!1}catch(N){throw Ki!==null&&(Ki=Ki.slice(s+1)),bi(Ol,Un),N}finally{St=o,Ho=!1}}return null}var Ss=[],Yi=0,za=null,Ys=0,or=[],Lr=0,Cn=null,Sr=1,fi="";function pi(s,o){Ss[Yi++]=Ys,Ss[Yi++]=za,za=s,Ys=o}function Lh(s,o,p){or[Lr++]=Sr,or[Lr++]=fi,or[Lr++]=Cn,Cn=s;var _=Sr;s=fi;var N=32-Ir(_)-1;_&=~(1<<N),p+=1;var j=32-Ir(o)+N;if(30<j){var Y=N-N%5;j=(_&(1<<Y)-1).toString(32),_>>=Y,N-=Y,Sr=1<<32-Ir(o)+N|p<<N|_,fi=j+s}else Sr=1<<j|p<<N|_,fi=s}function Va(s){s.return!==null&&(pi(s,1),Lh(s,1,0))}function Ua(s){for(;s===za;)za=Ss[--Yi],Ss[Yi]=null,Ys=Ss[--Yi],Ss[Yi]=null;for(;s===Cn;)Cn=or[--Lr],or[Lr]=null,fi=or[--Lr],or[Lr]=null,Sr=or[--Lr],or[Lr]=null}var Bn=null,ar=null,$t=!1,Ba=!1,mi=null;function Oh(s,o){var p=qr(5,null,null,0);p.elementType="DELETED",p.stateNode=o,p.return=s,o=s.deletions,o===null?(s.deletions=[p],s.flags|=16):o.push(p)}function Vl(s,o){switch(s.tag){case 5:return o=br(o,s.type,s.pendingProps),o!==null?(s.stateNode=o,Bn=s,ar=ce(o),!0):!1;case 6:return o=qs(o,s.pendingProps),o!==null?(s.stateNode=o,Bn=s,ar=null,!0):!1;case 13:if(o=Hi(o),o!==null){var p=Cn!==null?{id:Sr,overflow:fi}:null;return s.memoizedState={dehydrated:o,treeContext:p,retryLane:1073741824},p=qr(18,null,null,0),p.stateNode=o,p.return=s,s.child=p,Bn=s,ar=null,!0}return!1;default:return!1}}function Yu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xu(s){if($t){var o=ar;if(o){var p=o;if(!Vl(s,o)){if(Yu(s))throw Error(c(418));o=H(p);var _=Bn;o&&Vl(s,o)?Oh(_,p):(s.flags=s.flags&-4097|2,$t=!1,Bn=s)}}else{if(Yu(s))throw Error(c(418));s.flags=s.flags&-4097|2,$t=!1,Bn=s}}}function jh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function Ul(s){if(!$e||s!==Bn)return!1;if(!$t)return jh(s),$t=!0,!1;if(s.tag!==3&&(s.tag!==5||ot(s.type)&&!be(s.type,s.memoizedProps))){var o=ar;if(o){if(Yu(s))throw Dh(),Error(c(418));for(;o;)Oh(s,o),o=H(o)}}if(jh(s),s.tag===13){if(!$e)throw Error(c(316));if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));ar=Ke(s)}else ar=Bn?H(s.stateNode):null;return!0}function Dh(){for(var s=ar;s;)s=H(s)}function Xs(){$e&&(ar=Bn=null,Ba=$t=!1)}function Qu(s){mi===null?mi=[s]:mi.push(s)}var _0=h.ReactCurrentBatchConfig;function Bl(s,o){if(hi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var p=Object.keys(s),_=Object.keys(o);if(p.length!==_.length)return!1;for(_=0;_<p.length;_++){var N=p[_];if(!Ni.call(o,N)||!hi(s[N],o[N]))return!1}return!0}function C0(s){switch(s.tag){case 5:return Lt(s.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 2:case 15:return s=dt(s.type,!1),s;case 11:return s=dt(s.type.render,!1),s;case 1:return s=dt(s.type,!0),s;default:return""}}function Qs(s,o,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(c(309));var _=p.stateNode}if(!_)throw Error(c(147,s));var N=_,j=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(Y){var le=N.refs;Y===null?delete le[j]:le[j]=Y},o._stringRef=j,o)}if(typeof s!="string")throw Error(c(284));if(!p._owner)throw Error(c(290,s))}return s}function Gl(s,o){throw s=Object.prototype.toString.call(o),Error(c(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Fh(s){var o=s._init;return o(s._payload)}function zh(s){function o(ge,de){if(s){var xe=ge.deletions;xe===null?(ge.deletions=[de],ge.flags|=16):xe.push(de)}}function p(ge,de){if(!s)return null;for(;de!==null;)o(ge,de),de=de.sibling;return null}function _(ge,de){for(ge=new Map;de!==null;)de.key!==null?ge.set(de.key,de):ge.set(de.index,de),de=de.sibling;return ge}function N(ge,de){return ge=rs(ge,de),ge.index=0,ge.sibling=null,ge}function j(ge,de,xe){return ge.index=xe,s?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<de?(ge.flags|=2,de):xe):(ge.flags|=2,de)):(ge.flags|=1048576,de)}function Y(ge){return s&&ge.alternate===null&&(ge.flags|=2),ge}function le(ge,de,xe,Oe){return de===null||de.tag!==6?(de=xu(xe,ge.mode,Oe),de.return=ge,de):(de=N(de,xe),de.return=ge,de)}function ye(ge,de,xe,Oe){var Xe=xe.type;return Xe===y?ze(ge,de,xe.props.children,Oe,xe.key):de!==null&&(de.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===C&&Fh(Xe)===de.type)?(Oe=N(de,xe.props),Oe.ref=Qs(ge,de,xe),Oe.return=ge,Oe):(Oe=yu(xe.type,xe.key,xe.props,null,ge.mode,Oe),Oe.ref=Qs(ge,de,xe),Oe.return=ge,Oe)}function Re(ge,de,xe,Oe){return de===null||de.tag!==4||de.stateNode.containerInfo!==xe.containerInfo||de.stateNode.implementation!==xe.implementation?(de=Su(xe,ge.mode,Oe),de.return=ge,de):(de=N(de,xe.children||[]),de.return=ge,de)}function ze(ge,de,xe,Oe,Xe){return de===null||de.tag!==7?(de=So(xe,ge.mode,Oe,Xe),de.return=ge,de):(de=N(de,xe),de.return=ge,de)}function st(ge,de,xe){if(typeof de=="string"&&de!==""||typeof de=="number")return de=xu(""+de,ge.mode,xe),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case m:return xe=yu(de.type,de.key,de.props,null,ge.mode,xe),xe.ref=Qs(ge,null,de),xe.return=ge,xe;case f:return de=Su(de,ge.mode,xe),de.return=ge,de;case C:var Oe=de._init;return st(ge,Oe(de._payload),xe)}if($(de)||B(de))return de=So(de,ge.mode,xe,null),de.return=ge,de;Gl(ge,de)}return null}function Le(ge,de,xe,Oe){var Xe=de!==null?de.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Xe!==null?null:le(ge,de,""+xe,Oe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case m:return xe.key===Xe?ye(ge,de,xe,Oe):null;case f:return xe.key===Xe?Re(ge,de,xe,Oe):null;case C:return Xe=xe._init,Le(ge,de,Xe(xe._payload),Oe)}if($(xe)||B(xe))return Xe!==null?null:ze(ge,de,xe,Oe,null);Gl(ge,xe)}return null}function zt(ge,de,xe,Oe,Xe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ge=ge.get(xe)||null,le(de,ge,""+Oe,Xe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case m:return ge=ge.get(Oe.key===null?xe:Oe.key)||null,ye(de,ge,Oe,Xe);case f:return ge=ge.get(Oe.key===null?xe:Oe.key)||null,Re(de,ge,Oe,Xe);case C:var at=Oe._init;return zt(ge,de,xe,at(Oe._payload),Xe)}if($(Oe)||B(Oe))return ge=ge.get(xe)||null,ze(de,ge,Oe,Xe,null);Gl(de,Oe)}return null}function jt(ge,de,xe,Oe){for(var Xe=null,at=null,lt=de,Tt=de=0,vn=null;lt!==null&&Tt<xe.length;Tt++){lt.index>Tt?(vn=lt,lt=null):vn=lt.sibling;var Rt=Le(ge,lt,xe[Tt],Oe);if(Rt===null){lt===null&&(lt=vn);break}s&&lt&&Rt.alternate===null&&o(ge,lt),de=j(Rt,de,Tt),at===null?Xe=Rt:at.sibling=Rt,at=Rt,lt=vn}if(Tt===xe.length)return p(ge,lt),$t&&pi(ge,Tt),Xe;if(lt===null){for(;Tt<xe.length;Tt++)lt=st(ge,xe[Tt],Oe),lt!==null&&(de=j(lt,de,Tt),at===null?Xe=lt:at.sibling=lt,at=lt);return $t&&pi(ge,Tt),Xe}for(lt=_(ge,lt);Tt<xe.length;Tt++)vn=zt(lt,ge,Tt,xe[Tt],Oe),vn!==null&&(s&&vn.alternate!==null&&lt.delete(vn.key===null?Tt:vn.key),de=j(vn,de,Tt),at===null?Xe=vn:at.sibling=vn,at=vn);return s&&lt.forEach(function(_i){return o(ge,_i)}),$t&&pi(ge,Tt),Xe}function Jn(ge,de,xe,Oe){var Xe=B(xe);if(typeof Xe!="function")throw Error(c(150));if(xe=Xe.call(xe),xe==null)throw Error(c(151));for(var at=Xe=null,lt=de,Tt=de=0,vn=null,Rt=xe.next();lt!==null&&!Rt.done;Tt++,Rt=xe.next()){lt.index>Tt?(vn=lt,lt=null):vn=lt.sibling;var _i=Le(ge,lt,Rt.value,Oe);if(_i===null){lt===null&&(lt=vn);break}s&&lt&&_i.alternate===null&&o(ge,lt),de=j(_i,de,Tt),at===null?Xe=_i:at.sibling=_i,at=_i,lt=vn}if(Rt.done)return p(ge,lt),$t&&pi(ge,Tt),Xe;if(lt===null){for(;!Rt.done;Tt++,Rt=xe.next())Rt=st(ge,Rt.value,Oe),Rt!==null&&(de=j(Rt,de,Tt),at===null?Xe=Rt:at.sibling=Rt,at=Rt);return $t&&pi(ge,Tt),Xe}for(lt=_(ge,lt);!Rt.done;Tt++,Rt=xe.next())Rt=zt(lt,ge,Tt,Rt.value,Oe),Rt!==null&&(s&&Rt.alternate!==null&&lt.delete(Rt.key===null?Tt:Rt.key),de=j(Rt,de,Tt),at===null?Xe=Rt:at.sibling=Rt,at=Rt);return s&&lt.forEach(function(is){return o(ge,is)}),$t&&pi(ge,Tt),Xe}function zi(ge,de,xe,Oe){if(typeof xe=="object"&&xe!==null&&xe.type===y&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case m:e:{for(var Xe=xe.key,at=de;at!==null;){if(at.key===Xe){if(Xe=xe.type,Xe===y){if(at.tag===7){p(ge,at.sibling),de=N(at,xe.props.children),de.return=ge,ge=de;break e}}else if(at.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===C&&Fh(Xe)===at.type){p(ge,at.sibling),de=N(at,xe.props),de.ref=Qs(ge,at,xe),de.return=ge,ge=de;break e}p(ge,at);break}else o(ge,at);at=at.sibling}xe.type===y?(de=So(xe.props.children,ge.mode,Oe,xe.key),de.return=ge,ge=de):(Oe=yu(xe.type,xe.key,xe.props,null,ge.mode,Oe),Oe.ref=Qs(ge,de,xe),Oe.return=ge,ge=Oe)}return Y(ge);case f:e:{for(at=xe.key;de!==null;){if(de.key===at)if(de.tag===4&&de.stateNode.containerInfo===xe.containerInfo&&de.stateNode.implementation===xe.implementation){p(ge,de.sibling),de=N(de,xe.children||[]),de.return=ge,ge=de;break e}else{p(ge,de);break}else o(ge,de);de=de.sibling}de=Su(xe,ge.mode,Oe),de.return=ge,ge=de}return Y(ge);case C:return at=xe._init,zi(ge,de,at(xe._payload),Oe)}if($(xe))return jt(ge,de,xe,Oe);if(B(xe))return Jn(ge,de,xe,Oe);Gl(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,de!==null&&de.tag===6?(p(ge,de.sibling),de=N(de,xe),de.return=ge,ge=de):(p(ge,de),de=xu(xe,ge.mode,Oe),de.return=ge,ge=de),Y(ge)):p(ge,de)}return zi}var Zs=zh(!0),Vh=zh(!1),$l=Ct(null),Wl=null,qo=null,Zu=null;function Ju(){Zu=qo=Wl=null}function Uh(s,o,p){Ge?(ht($l,o._currentValue),o._currentValue=p):(ht($l,o._currentValue2),o._currentValue2=p)}function Ga(s){var o=$l.current;rt($l),Ge?s._currentValue=o:s._currentValue2=o}function Js(s,o,p){for(;s!==null;){var _=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,_!==null&&(_.childLanes|=o)):_!==null&&(_.childLanes&o)!==o&&(_.childLanes|=o),s===p)break;s=s.return}}function Ko(s,o){Wl=s,Zu=qo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Pn=!0),s.firstContext=null)}function Or(s){var o=Ge?s._currentValue:s._currentValue2;if(Zu!==s)if(s={context:s,memoizedValue:o,next:null},qo===null){if(Wl===null)throw Error(c(308));qo=s,Wl.dependencies={lanes:0,firstContext:s}}else qo=qo.next=s;return o}var ws=null;function Hl(s){ws===null?ws=[s]:ws.push(s)}function ec(s,o,p,_){var N=o.interleaved;return N===null?(p.next=p,Hl(o)):(p.next=N.next,N.next=p),o.interleaved=p,gi(s,_)}function gi(s,o){s.lanes|=o;var p=s.alternate;for(p!==null&&(p.lanes|=o),p=s,s=s.return;s!==null;)s.childLanes|=o,p=s.alternate,p!==null&&(p.childLanes|=o),p=s,s=s.return;return p.tag===3?p.stateNode:null}var jr=!1;function tc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Qi(s,o,p){var _=s.updateQueue;if(_===null)return null;if(_=_.shared,(gt&2)!==0){var N=_.pending;return N===null?o.next=o:(o.next=N.next,N.next=o),_.pending=o,gi(s,p)}return N=_.interleaved,N===null?(o.next=o,Hl(_)):(o.next=N.next,N.next=o),_.interleaved=o,gi(s,p)}function $a(s,o,p){if(o=o.updateQueue,o!==null&&(o=o.shared,(p&4194240)!==0)){var _=o.lanes;_&=s.pendingLanes,p|=_,o.lanes=p,Ai(s,p)}}function Yo(s,o){var p=s.updateQueue,_=s.alternate;if(_!==null&&(_=_.updateQueue,p===_)){var N=null,j=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};j===null?N=j=Y:j=j.next=Y,p=p.next}while(p!==null);j===null?N=j=o:j=j.next=o}else N=j=o;p={baseState:_.baseState,firstBaseUpdate:N,lastBaseUpdate:j,shared:_.shared,effects:_.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=o:s.next=o,p.lastBaseUpdate=o}function _s(s,o,p,_){var N=s.updateQueue;jr=!1;var j=N.firstBaseUpdate,Y=N.lastBaseUpdate,le=N.shared.pending;if(le!==null){N.shared.pending=null;var ye=le,Re=ye.next;ye.next=null,Y===null?j=Re:Y.next=Re,Y=ye;var ze=s.alternate;ze!==null&&(ze=ze.updateQueue,le=ze.lastBaseUpdate,le!==Y&&(le===null?ze.firstBaseUpdate=Re:le.next=Re,ze.lastBaseUpdate=ye))}if(j!==null){var st=N.baseState;Y=0,ze=Re=ye=null,le=j;do{var Le=le.lane,zt=le.eventTime;if((_&Le)===Le){ze!==null&&(ze=ze.next={eventTime:zt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var jt=s,Jn=le;switch(Le=o,zt=p,Jn.tag){case 1:if(jt=Jn.payload,typeof jt=="function"){st=jt.call(zt,st,Le);break e}st=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Jn.payload,Le=typeof jt=="function"?jt.call(zt,st,Le):jt,Le==null)break e;st=d({},st,Le);break e;case 2:jr=!0}}le.callback!==null&&le.lane!==0&&(s.flags|=64,Le=N.effects,Le===null?N.effects=[le]:Le.push(le))}else zt={eventTime:zt,lane:Le,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ze===null?(Re=ze=zt,ye=st):ze=ze.next=zt,Y|=Le;if(le=le.next,le===null){if(le=N.shared.pending,le===null)break;Le=le,le=Le.next,Le.next=null,N.lastBaseUpdate=Le,N.shared.pending=null}}while(!0);if(ze===null&&(ye=st),N.baseState=ye,N.firstBaseUpdate=Re,N.lastBaseUpdate=ze,o=N.shared.interleaved,o!==null){N=o;do Y|=N.lane,N=N.next;while(N!==o)}else j===null&&(N.shared.lanes=0);yi|=Y,s.lanes=Y,s.memoizedState=st}}function Gh(s,o,p){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var _=s[o],N=_.callback;if(N!==null){if(_.callback=null,_=p,typeof N!="function")throw Error(c(191,N));N.call(_)}}}var Cs={},Jr=Ct(Cs),Xo=Ct(Cs),Es=Ct(Cs);function ei(s){if(s===Cs)throw Error(c(174));return s}function ql(s,o){ht(Es,o),ht(Xo,s),ht(Jr,Cs),s=Q(o),rt(Jr),ht(Jr,s)}function eo(){rt(Jr),rt(Xo),rt(Es)}function nc(s){var o=ei(Es.current),p=ei(Jr.current);o=re(p,s.type,o),p!==o&&(ht(Xo,s),ht(Jr,o))}function rc(s){Xo.current===s&&(rt(Jr),rt(Xo))}var tn=Ct(0);function Kl(s){for(var o=s;o!==null;){if(o.tag===13){var p=o.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Ml(p)||O(p)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ic=[];function sc(){for(var s=0;s<ic.length;s++){var o=ic[s];Ge?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}ic.length=0}var wr=h.ReactCurrentDispatcher,to=h.ReactCurrentBatchConfig,Ps=0,Kt=null,fn=null,En=null,Qo=!1,Wa=!1,Ha=0,Zo=0;function On(){throw Error(c(321))}function no(s,o){if(o===null)return!1;for(var p=0;p<o.length&&p<s.length;p++)if(!hi(s[p],o[p]))return!1;return!0}function qa(s,o,p,_,N,j){if(Ps=j,Kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,wr.current=s===null||s.memoizedState===null?gc:vc,s=p(_,N),Wa){j=0;do{if(Wa=!1,Ha=0,25<=j)throw Error(c(301));j+=1,En=fn=null,o.updateQueue=null,wr.current=yc,s=p(_,N)}while(Wa)}if(wr.current=ao,o=fn!==null&&fn.next!==null,Ps=0,En=fn=Kt=null,Qo=!1,o)throw Error(c(300));return s}function Yl(){var s=Ha!==0;return Ha=0,s}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Kt.memoizedState=En=s:En=En.next=s,En}function Gn(){if(fn===null){var s=Kt.alternate;s=s!==null?s.memoizedState:null}else s=fn.next;var o=En===null?Kt.memoizedState:En.next;if(o!==null)En=o,fn=s;else{if(s===null)throw Error(c(310));fn=s,s={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},En===null?Kt.memoizedState=En=s:En=En.next=s}return En}function ro(s,o){return typeof o=="function"?o(s):o}function Xl(s){var o=Gn(),p=o.queue;if(p===null)throw Error(c(311));p.lastRenderedReducer=s;var _=fn,N=_.baseQueue,j=p.pending;if(j!==null){if(N!==null){var Y=N.next;N.next=j.next,j.next=Y}_.baseQueue=N=j,p.pending=null}if(N!==null){j=N.next,_=_.baseState;var le=Y=null,ye=null,Re=j;do{var ze=Re.lane;if((Ps&ze)===ze)ye!==null&&(ye=ye.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),_=Re.hasEagerState?Re.eagerState:s(_,Re.action);else{var st={lane:ze,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};ye===null?(le=ye=st,Y=_):ye=ye.next=st,Kt.lanes|=ze,yi|=ze}Re=Re.next}while(Re!==null&&Re!==j);ye===null?Y=_:ye.next=le,hi(_,o.memoizedState)||(Pn=!0),o.memoizedState=_,o.baseState=Y,o.baseQueue=ye,p.lastRenderedState=_}if(s=p.interleaved,s!==null){N=s;do j=N.lane,Kt.lanes|=j,yi|=j,N=N.next;while(N!==s)}else N===null&&(p.lanes=0);return[o.memoizedState,p.dispatch]}function Jo(s){var o=Gn(),p=o.queue;if(p===null)throw Error(c(311));p.lastRenderedReducer=s;var _=p.dispatch,N=p.pending,j=o.memoizedState;if(N!==null){p.pending=null;var Y=N=N.next;do j=s(j,Y.action),Y=Y.next;while(Y!==N);hi(j,o.memoizedState)||(Pn=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),p.lastRenderedState=j}return[j,_]}function oc(){}function ac(s,o){var p=Kt,_=Gn(),N=o(),j=!hi(_.memoizedState,N);if(j&&(_.memoizedState=N,Pn=!0),_=_.queue,Jl(dc.bind(null,p,_,s),[s]),_.getSnapshot!==o||j||En!==null&&En.memoizedState.tag&1){if(p.flags|=2048,io(9,uc.bind(null,p,_,N,o),void 0,null),pn===null)throw Error(c(349));(Ps&30)!==0||lc(p,o,N)}return N}function lc(s,o,p){s.flags|=16384,s={getSnapshot:o,value:p},o=Kt.updateQueue,o===null?(o={lastEffect:null,stores:null},Kt.updateQueue=o,o.stores=[s]):(p=o.stores,p===null?o.stores=[s]:p.push(s))}function uc(s,o,p,_){o.value=p,o.getSnapshot=_,hc(o)&&Zi(s)}function dc(s,o,p){return p(function(){hc(o)&&Zi(s)})}function hc(s){var o=s.getSnapshot;s=s.value;try{var p=o();return!hi(s,p)}catch{return!0}}function Zi(s){var o=gi(s,1);o!==null&&Zn(o,s,1,-1)}function Ql(s){var o=Dr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:s},o.queue=s,s=s.dispatch=E0.bind(null,Kt,s),[o.memoizedState,s]}function io(s,o,p,_){return s={tag:s,create:o,destroy:p,deps:_,next:null},o=Kt.updateQueue,o===null?(o={lastEffect:null,stores:null},Kt.updateQueue=o,o.lastEffect=s.next=s):(p=o.lastEffect,p===null?o.lastEffect=s.next=s:(_=p.next,p.next=s,s.next=_,o.lastEffect=s)),s}function $h(){return Gn().memoizedState}function Zl(s,o,p,_){var N=Dr();Kt.flags|=s,N.memoizedState=io(1|o,p,void 0,_===void 0?null:_)}function ks(s,o,p,_){var N=Gn();_=_===void 0?null:_;var j=void 0;if(fn!==null){var Y=fn.memoizedState;if(j=Y.destroy,_!==null&&no(_,Y.deps)){N.memoizedState=io(o,p,j,_);return}}Kt.flags|=s,N.memoizedState=io(1|o,p,j,_)}function Wh(s,o){return Zl(8390656,8,s,o)}function Jl(s,o){return ks(2048,8,s,o)}function fc(s,o){return ks(4,2,s,o)}function Vt(s,o){return ks(4,4,s,o)}function eu(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Ka(s,o,p){return p=p!=null?p.concat([s]):null,ks(4,4,eu.bind(null,o,s),p)}function so(){}function pc(s,o){var p=Gn();o=o===void 0?null:o;var _=p.memoizedState;return _!==null&&o!==null&&no(o,_[1])?_[0]:(p.memoizedState=[s,o],s)}function tu(s,o){var p=Gn();o=o===void 0?null:o;var _=p.memoizedState;return _!==null&&o!==null&&no(o,_[1])?_[0]:(s=s(),p.memoizedState=[s,o],s)}function ea(s,o,p){return(Ps&21)===0?(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=p):(hi(p,o)||(p=Ll(),Kt.lanes|=p,yi|=p,s.baseState=!0),o)}function nu(s,o){var p=St;St=p!==0&&4>p?p:4,s(!0);var _=to.transition;to.transition={};try{s(!1),o()}finally{St=p,to.transition=_}}function oo(){return Gn().memoizedState}function Hh(s,o,p){var _=oi(s);if(p={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null},qh(s))mc(o,p);else if(p=ec(s,o,p,_),p!==null){var N=kn();Zn(p,s,_,N),Ya(p,o,_)}}function E0(s,o,p){var _=oi(s),N={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null};if(qh(s))mc(o,N);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var Y=o.lastRenderedState,le=j(Y,p);if(N.hasEagerState=!0,N.eagerState=le,hi(le,Y)){var ye=o.interleaved;ye===null?(N.next=N,Hl(o)):(N.next=ye.next,ye.next=N),o.interleaved=N;return}}catch{}finally{}p=ec(s,o,N,_),p!==null&&(N=kn(),Zn(p,s,_,N),Ya(p,o,_))}}function qh(s){var o=s.alternate;return s===Kt||o!==null&&o===Kt}function mc(s,o){Wa=Qo=!0;var p=s.pending;p===null?o.next=o:(o.next=p.next,p.next=o),s.pending=o}function Ya(s,o,p){if((p&4194240)!==0){var _=o.lanes;_&=s.pendingLanes,p|=_,o.lanes=p,Ai(s,p)}}var ao={readContext:Or,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},gc={readContext:Or,useCallback:function(s,o){return Dr().memoizedState=[s,o===void 0?null:o],s},useContext:Or,useEffect:Wh,useImperativeHandle:function(s,o,p){return p=p!=null?p.concat([s]):null,Zl(4194308,4,eu.bind(null,o,s),p)},useLayoutEffect:function(s,o){return Zl(4194308,4,s,o)},useInsertionEffect:function(s,o){return Zl(4,2,s,o)},useMemo:function(s,o){var p=Dr();return o=o===void 0?null:o,s=s(),p.memoizedState=[s,o],s},useReducer:function(s,o,p){var _=Dr();return o=p!==void 0?p(o):o,_.memoizedState=_.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},_.queue=s,s=s.dispatch=Hh.bind(null,Kt,s),[_.memoizedState,s]},useRef:function(s){var o=Dr();return s={current:s},o.memoizedState=s},useState:Ql,useDebugValue:so,useDeferredValue:function(s){return Dr().memoizedState=s},useTransition:function(){var s=Ql(!1),o=s[0];return s=nu.bind(null,s[1]),Dr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,p){var _=Kt,N=Dr();if($t){if(p===void 0)throw Error(c(407));p=p()}else{if(p=o(),pn===null)throw Error(c(349));(Ps&30)!==0||lc(_,o,p)}N.memoizedState=p;var j={value:p,getSnapshot:o};return N.queue=j,Wh(dc.bind(null,_,j,s),[s]),_.flags|=2048,io(9,uc.bind(null,_,j,p,o),void 0,null),p},useId:function(){var s=Dr(),o=pn.identifierPrefix;if($t){var p=fi,_=Sr;p=(_&~(1<<32-Ir(_)-1)).toString(32)+p,o=":"+o+"R"+p,p=Ha++,0<p&&(o+="H"+p.toString(32)),o+=":"}else p=Zo++,o=":"+o+"r"+p.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},vc={readContext:Or,useCallback:pc,useContext:Or,useEffect:Jl,useImperativeHandle:Ka,useInsertionEffect:fc,useLayoutEffect:Vt,useMemo:tu,useReducer:Xl,useRef:$h,useState:function(){return Xl(ro)},useDebugValue:so,useDeferredValue:function(s){var o=Gn();return ea(o,fn.memoizedState,s)},useTransition:function(){var s=Xl(ro)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:oc,useSyncExternalStore:ac,useId:oo,unstable_isNewReconciler:!1},yc={readContext:Or,useCallback:pc,useContext:Or,useEffect:Jl,useImperativeHandle:Ka,useInsertionEffect:fc,useLayoutEffect:Vt,useMemo:tu,useReducer:Jo,useRef:$h,useState:function(){return Jo(ro)},useDebugValue:so,useDeferredValue:function(s){var o=Gn();return fn===null?o.memoizedState=s:ea(o,fn.memoizedState,s)},useTransition:function(){var s=Jo(ro)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:oc,useSyncExternalStore:ac,useId:oo,unstable_isNewReconciler:!1};function Fr(s,o){if(s&&s.defaultProps){o=d({},o),s=s.defaultProps;for(var p in s)o[p]===void 0&&(o[p]=s[p]);return o}return o}function xc(s,o,p,_){o=s.memoizedState,p=p(_,o),p=p==null?o:d({},o,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Xa={isMounted:function(s){return(s=s._reactInternals)?q(s)===s:!1},enqueueSetState:function(s,o,p){s=s._reactInternals;var _=kn(),N=oi(s),j=Xi(_,N);j.payload=o,p!=null&&(j.callback=p),o=Qi(s,j,N),o!==null&&(Zn(o,s,N,_),$a(o,s,N))},enqueueReplaceState:function(s,o,p){s=s._reactInternals;var _=kn(),N=oi(s),j=Xi(_,N);j.tag=1,j.payload=o,p!=null&&(j.callback=p),o=Qi(s,j,N),o!==null&&(Zn(o,s,N,_),$a(o,s,N))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var p=kn(),_=oi(s),N=Xi(p,_);N.tag=2,o!=null&&(N.callback=o),o=Qi(s,N,_),o!==null&&(Zn(o,s,_,p),$a(o,s,_))}};function Kh(s,o,p,_,N,j,Y){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(_,j,Y):o.prototype&&o.prototype.isPureReactComponent?!Bl(p,_)||!Bl(N,j):!0}function Yh(s,o,p){var _=!1,N=Mn,j=o.contextType;return typeof j=="object"&&j!==null?j=Or(j):(N=In(o)?sr:hn.current,_=o.contextTypes,j=(_=_!=null)?qi(s,N):Mn),o=new o(p,j),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xa,s.stateNode=o,o._reactInternals=s,_&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=j),o}function ru(s,o,p,_){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(p,_),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(p,_),o.state!==s&&Xa.enqueueReplaceState(o,o.state,null)}function Mi(s,o,p,_){var N=s.stateNode;N.props=p,N.state=s.memoizedState,N.refs={},tc(s);var j=o.contextType;typeof j=="object"&&j!==null?N.context=Or(j):(j=In(o)?sr:hn.current,N.context=qi(s,j)),N.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(xc(s,o,j,p),N.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(o=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),o!==N.state&&Xa.enqueueReplaceState(N,N.state,null),_s(s,p,N,_),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function lo(s,o){try{var p="",_=o;do p+=C0(_),_=_.return;while(_);var N=p}catch(j){N=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:o,stack:N,digest:null}}function Ts(s,o,p){return{value:s,source:null,stack:p??null,digest:o??null}}function ti(s,o){try{console.error(o.value)}catch(p){setTimeout(function(){throw p})}}var Qa=typeof WeakMap=="function"?WeakMap:Map;function Ii(s,o,p){p=Xi(-1,p),p.tag=3,p.payload={element:null};var _=o.value;return p.callback=function(){Bt||(Bt=!0,ca=_),ti(s,o)},p}function iu(s,o,p){p=Xi(-1,p),p.tag=3;var _=s.type.getDerivedStateFromError;if(typeof _=="function"){var N=o.value;p.payload=function(){return _(N)},p.callback=function(){ti(s,o)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(p.callback=function(){ti(s,o),typeof _!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var Y=o.stack;this.componentDidCatch(o.value,{componentStack:Y!==null?Y:""})}),p}function Xh(s,o,p){var _=s.pingCache;if(_===null){_=s.pingCache=new Qa;var N=new Set;_.set(o,N)}else N=_.get(o),N===void 0&&(N=new Set,_.set(o,N));N.has(p)||(N.add(p),s=Mc.bind(null,s,o,p),o.then(s,s))}function Qh(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Rs(s,o,p,_,N){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(o=Xi(-1,1),o.tag=2,Qi(p,o,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var Za=h.ReactCurrentOwner,Pn=!1;function jn(s,o,p,_){o.child=s===null?Vh(o,null,p,_):Zs(o,s.child,p,_)}function su(s,o,p,_,N){p=p.render;var j=o.ref;return Ko(o,N),_=qa(s,o,p,_,j,N),p=Yl(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~N,es(s,o,N)):($t&&p&&Va(o),o.flags|=1,jn(s,o,_,N),o.child)}function uo(s,o,p,_,N){if(s===null){var j=p.type;return typeof j=="function"&&!vu(j)&&j.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(o.tag=15,o.type=j,Ji(s,o,j,_,N)):(s=yu(p.type,null,_,o,o.mode,N),s.ref=o.ref,s.return=o,o.child=s)}if(j=s.child,(s.lanes&N)===0){var Y=j.memoizedProps;if(p=p.compare,p=p!==null?p:Bl,p(Y,_)&&s.ref===o.ref)return es(s,o,N)}return o.flags|=1,s=rs(j,_),s.ref=o.ref,s.return=o,o.child=s}function Ji(s,o,p,_,N){if(s!==null){var j=s.memoizedProps;if(Bl(j,_)&&s.ref===o.ref)if(Pn=!1,o.pendingProps=_=j,(s.lanes&N)!==0)(s.flags&131072)!==0&&(Pn=!0);else return o.lanes=s.lanes,es(s,o,N)}return Li(s,o,p,_,N)}function Ut(s,o,p){var _=o.pendingProps,N=_.children,j=s!==null?s.memoizedState:null;if(_.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(yo,Cr),Cr|=p;else{if((p&1073741824)===0)return s=j!==null?j.baseLanes|p:p,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ht(yo,Cr),Cr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=j!==null?j.baseLanes:p,ht(yo,Cr),Cr|=_}else j!==null?(_=j.baseLanes|p,o.memoizedState=null):_=p,ht(yo,Cr),Cr|=_;return jn(s,o,N,p),o.child}function Dt(s,o){var p=o.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(o.flags|=512,o.flags|=2097152)}function Li(s,o,p,_,N){var j=In(p)?sr:hn.current;return j=qi(o,j),Ko(o,N),p=qa(s,o,p,_,j,N),_=Yl(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~N,es(s,o,N)):($t&&_&&Va(o),o.flags|=1,jn(s,o,p,N),o.child)}function $n(s,o,p,_,N){if(In(p)){var j=!0;zo(o)}else j=!1;if(Ko(o,N),o.stateNode===null)Ja(s,o),Yh(o,p,_),Mi(o,p,_,N),_=!0;else if(s===null){var Y=o.stateNode,le=o.memoizedProps;Y.props=le;var ye=Y.context,Re=p.contextType;typeof Re=="object"&&Re!==null?Re=Or(Re):(Re=In(p)?sr:hn.current,Re=qi(o,Re));var ze=p.getDerivedStateFromProps,st=typeof ze=="function"||typeof Y.getSnapshotBeforeUpdate=="function";st||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==_||ye!==Re)&&ru(o,Y,_,Re),jr=!1;var Le=o.memoizedState;Y.state=Le,_s(o,_,Y,N),ye=o.memoizedState,le!==_||Le!==ye||en.current||jr?(typeof ze=="function"&&(xc(o,p,ze,_),ye=o.memoizedState),(le=jr||Kh(o,p,le,_,Le,ye,Re))?(st||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=_,o.memoizedState=ye),Y.props=_,Y.state=ye,Y.context=Re,_=le):(typeof Y.componentDidMount=="function"&&(o.flags|=4194308),_=!1)}else{Y=o.stateNode,Bh(s,o),le=o.memoizedProps,Re=o.type===o.elementType?le:Fr(o.type,le),Y.props=Re,st=o.pendingProps,Le=Y.context,ye=p.contextType,typeof ye=="object"&&ye!==null?ye=Or(ye):(ye=In(p)?sr:hn.current,ye=qi(o,ye));var zt=p.getDerivedStateFromProps;(ze=typeof zt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==st||Le!==ye)&&ru(o,Y,_,ye),jr=!1,Le=o.memoizedState,Y.state=Le,_s(o,_,Y,N);var jt=o.memoizedState;le!==st||Le!==jt||en.current||jr?(typeof zt=="function"&&(xc(o,p,zt,_),jt=o.memoizedState),(Re=jr||Kh(o,p,Re,_,Le,jt,ye)||!1)?(ze||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(_,jt,ye),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(_,jt,ye)),typeof Y.componentDidUpdate=="function"&&(o.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof Y.componentDidUpdate!="function"||le===s.memoizedProps&&Le===s.memoizedState||(o.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===s.memoizedProps&&Le===s.memoizedState||(o.flags|=1024),o.memoizedProps=_,o.memoizedState=jt),Y.props=_,Y.state=jt,Y.context=ye,_=Re):(typeof Y.componentDidUpdate!="function"||le===s.memoizedProps&&Le===s.memoizedState||(o.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===s.memoizedProps&&Le===s.memoizedState||(o.flags|=1024),_=!1)}return Xn(s,o,p,_,j,N)}function Xn(s,o,p,_,N,j){Dt(s,o);var Y=(o.flags&128)!==0;if(!_&&!Y)return N&&qu(o,p,!1),es(s,o,j);_=o.stateNode,Za.current=o;var le=Y&&typeof p.getDerivedStateFromError!="function"?null:_.render();return o.flags|=1,s!==null&&Y?(o.child=Zs(o,s.child,null,j),o.child=Zs(o,null,le,j)):jn(s,o,le,j),o.memoizedState=_.state,N&&qu(o,p,!0),o.child}function Ns(s){var o=s.stateNode;o.pendingContext?Th(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Th(s,o.context,!1),ql(s,o.containerInfo)}function co(s,o,p,_,N){return Xs(),Qu(N),o.flags|=256,jn(s,o,p,_),o.child}var Qn={dehydrated:null,treeContext:null,retryLane:0};function ta(s){return{baseLanes:s,cachePool:null,transitions:null}}function Sc(s,o,p){var _=o.pendingProps,N=tn.current,j=!1,Y=(o.flags&128)!==0,le;if((le=Y)||(le=s!==null&&s.memoizedState===null?!1:(N&2)!==0),le?(j=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),ht(tn,N&1),s===null)return Xu(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:O(s)?o.lanes=8:o.lanes=1073741824,null):(Y=_.children,s=_.fallback,j?(_=o.mode,j=o.child,Y={mode:"hidden",children:Y},(_&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=Y):j=ul(Y,_,0,null),s=So(s,_,p,null),j.return=o,s.return=o,j.sibling=s,o.child=j,o.child.memoizedState=ta(p),o.memoizedState=Qn,s):ou(o,Y));if(N=s.memoizedState,N!==null&&(le=N.dehydrated,le!==null))return Zh(s,o,Y,_,le,N,p);if(j){j=_.fallback,Y=o.mode,N=s.child,le=N.sibling;var ye={mode:"hidden",children:_.children};return(Y&1)===0&&o.child!==N?(_=o.child,_.childLanes=0,_.pendingProps=ye,o.deletions=null):(_=rs(N,ye),_.subtreeFlags=N.subtreeFlags&14680064),le!==null?j=rs(le,j):(j=So(j,Y,p,null),j.flags|=2),j.return=o,_.return=o,_.sibling=j,o.child=_,_=j,j=o.child,Y=s.child.memoizedState,Y=Y===null?ta(p):{baseLanes:Y.baseLanes|p,cachePool:null,transitions:Y.transitions},j.memoizedState=Y,j.childLanes=s.childLanes&~p,o.memoizedState=Qn,_}return j=s.child,s=j.sibling,_=rs(j,{mode:"visible",children:_.children}),(o.mode&1)===0&&(_.lanes=p),_.return=o,_.sibling=null,s!==null&&(p=o.deletions,p===null?(o.deletions=[s],o.flags|=16):p.push(s)),o.child=_,o.memoizedState=null,_}function ou(s,o){return o=ul({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ho(s,o,p,_){return _!==null&&Qu(_),Zs(o,s.child,null,p),s=ou(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Zh(s,o,p,_,N,j,Y){if(p)return o.flags&256?(o.flags&=-257,_=Ts(Error(c(422))),ho(s,o,Y,_)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(j=_.fallback,N=o.mode,_=ul({mode:"visible",children:_.children},N,0,null),j=So(j,N,Y,null),j.flags|=2,_.return=o,j.return=o,_.sibling=j,o.child=_,(o.mode&1)!==0&&Zs(o,s.child,null,Y),o.child.memoizedState=ta(Y),o.memoizedState=Qn,j);if((o.mode&1)===0)return ho(s,o,Y,null);if(O(N))return _=T(N).digest,j=Error(c(419)),_=Ts(j,_,void 0),ho(s,o,Y,_);if(p=(Y&s.childLanes)!==0,Pn||p){if(_=pn,_!==null){switch(Y&-Y){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(_.suspendedLanes|Y))!==0?0:N,N!==0&&N!==j.retryLane&&(j.retryLane=N,gi(s,N),Zn(_,s,N,-1))}return mu(),_=Ts(Error(c(421))),ho(s,o,Y,_)}return Ml(N)?(o.flags|=128,o.child=s.child,o=sf.bind(null,s),D(N,o),null):(s=j.treeContext,$e&&(ar=qe(N),Bn=o,$t=!0,mi=null,Ba=!1,s!==null&&(or[Lr++]=Sr,or[Lr++]=fi,or[Lr++]=Cn,Sr=s.id,fi=s.overflow,Cn=o)),o=ou(o,_.children),o.flags|=4096,o)}function Oi(s,o,p){s.lanes|=o;var _=s.alternate;_!==null&&(_.lanes|=o),Js(s.return,o,p)}function na(s,o,p,_,N){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:_,tail:p,tailMode:N}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=_,j.tail=p,j.tailMode=N)}function au(s,o,p){var _=o.pendingProps,N=_.revealOrder,j=_.tail;if(jn(s,o,_.children,p),_=tn.current,(_&2)!==0)_=_&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Oi(s,p,o);else if(s.tag===19)Oi(s,p,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}_&=1}if(ht(tn,_),(o.mode&1)===0)o.memoizedState=null;else switch(N){case"forwards":for(p=o.child,N=null;p!==null;)s=p.alternate,s!==null&&Kl(s)===null&&(N=p),p=p.sibling;p=N,p===null?(N=o.child,o.child=null):(N=p.sibling,p.sibling=null),na(o,!1,N,p,j);break;case"backwards":for(p=null,N=o.child,o.child=null;N!==null;){if(s=N.alternate,s!==null&&Kl(s)===null){o.child=N;break}s=N.sibling,N.sibling=p,p=N,N=s}na(o,!0,p,null,j);break;case"together":na(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ja(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function es(s,o,p){if(s!==null&&(o.dependencies=s.dependencies),yi|=o.lanes,(p&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(c(153));if(o.child!==null){for(s=o.child,p=rs(s,s.pendingProps),o.child=p,p.return=o;s.sibling!==null;)s=s.sibling,p=p.sibling=rs(s,s.pendingProps),p.return=o;p.sibling=null}return o.child}function As(s,o,p){switch(o.tag){case 3:Ns(o),Xs();break;case 5:nc(o);break;case 1:In(o.type)&&zo(o);break;case 4:ql(o,o.stateNode.containerInfo);break;case 10:Uh(o,o.type._context,o.memoizedProps.value);break;case 13:var _=o.memoizedState;if(_!==null)return _.dehydrated!==null?(ht(tn,tn.current&1),o.flags|=128,null):(p&o.child.childLanes)!==0?Sc(s,o,p):(ht(tn,tn.current&1),s=es(s,o,p),s!==null?s.sibling:null);ht(tn,tn.current&1);break;case 19:if(_=(p&o.childLanes)!==0,(s.flags&128)!==0){if(_)return au(s,o,p);o.flags|=128}var N=o.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ht(tn,tn.current),_)break;return null;case 22:case 23:return o.lanes=0,Ut(s,o,p)}return es(s,o,p)}function lr(s){s.flags|=4}function fo(s,o){if(s!==null&&s.child===o.child)return!0;if((o.flags&16)!==0)return!1;for(s=o.child;s!==null;){if((s.flags&12854)!==0||(s.subtreeFlags&12854)!==0)return!1;s=s.sibling}return!0}var bs,Ms,ur,cr;if(je)bs=function(s,o){for(var p=o.child;p!==null;){if(p.tag===5||p.tag===6)se(s,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break;for(;p.sibling===null;){if(p.return===null||p.return===o)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ms=function(){},ur=function(s,o,p,_,N){if(s=s.memoizedProps,s!==_){var j=o.stateNode,Y=ei(Jr.current);p=Se(j,p,s,_,N,Y),(o.updateQueue=p)&&lr(o)}},cr=function(s,o,p,_){p!==_&&lr(o)};else if(Qe){bs=function(s,o,p,_){for(var N=o.child;N!==null;){if(N.tag===5){var j=N.stateNode;p&&_&&(j=Vn(j,N.type,N.memoizedProps,N)),se(s,j)}else if(N.tag===6)j=N.stateNode,p&&_&&(j=Oa(j,N.memoizedProps,N)),se(s,j);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)j=N.child,j!==null&&(j.return=N),bs(s,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===o)break;for(;N.sibling===null;){if(N.return===null||N.return===o)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var Is=function(s,o,p,_){for(var N=o.child;N!==null;){if(N.tag===5){var j=N.stateNode;p&&_&&(j=Vn(j,N.type,N.memoizedProps,N)),Do(s,j)}else if(N.tag===6)j=N.stateNode,p&&_&&(j=Oa(j,N.memoizedProps,N)),Do(s,j);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)j=N.child,j!==null&&(j.return=N),Is(s,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===o)break;for(;N.sibling===null;){if(N.return===null||N.return===o)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};Ms=function(s,o){var p=o.stateNode;if(!fo(s,o)){s=p.containerInfo;var _=La(s);Is(_,o,!1,!1),p.pendingChildren=_,lr(o),bl(s,_)}},ur=function(s,o,p,_,N){var j=s.stateNode,Y=s.memoizedProps;if((s=fo(s,o))&&Y===_)o.stateNode=j;else{var le=o.stateNode,ye=ei(Jr.current),Re=null;Y!==_&&(Re=Se(le,p,Y,_,N,ye)),s&&Re===null?o.stateNode=j:(j=jo(j,Re,p,Y,_,o,s,le),_e(j,p,_,N,ye)&&lr(o),o.stateNode=j,s?lr(o):bs(j,o,!1,!1))}},cr=function(s,o,p,_){p!==_?(s=ei(Es.current),p=ei(Jr.current),o.stateNode=Te(_,s,p,o),lr(o)):o.stateNode=s.stateNode}}else Ms=function(){},ur=function(){},cr=function(){};function zr(s,o){if(!$t)switch(s.tailMode){case"hidden":o=s.tail;for(var p=null;o!==null;)o.alternate!==null&&(p=o),o=o.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:_.sibling=null}}function Yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,p=0,_=0;if(o)for(var N=s.child;N!==null;)p|=N.lanes|N.childLanes,_|=N.subtreeFlags&14680064,_|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)p|=N.lanes|N.childLanes,_|=N.subtreeFlags,_|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=_,s.childLanes=p,o}function po(s,o,p){var _=o.pendingProps;switch(Ua(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return In(o.type)&&Ks(),Yt(o),null;case 3:return p=o.stateNode,eo(),rt(en),rt(hn),sc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Ul(o)?lr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mi!==null&&(sl(mi),mi=null))),Ms(s,o),Yt(o),null;case 5:rc(o),p=ei(Es.current);var N=o.type;if(s!==null&&o.stateNode!=null)ur(s,o,N,_,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!_){if(o.stateNode===null)throw Error(c(166));return Yt(o),null}if(s=ei(Jr.current),Ul(o)){if(!$e)throw Error(c(175));s=De(o.stateNode,o.type,o.memoizedProps,p,s,o,!Ba),o.updateQueue=s,s!==null&&lr(o)}else{var j=ae(N,_,p,s,o);bs(j,o,!1,!1),o.stateNode=j,_e(j,N,_,p,s)&&lr(o)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Yt(o),null;case 6:if(s&&o.stateNode!=null)cr(s,o,s.memoizedProps,_);else{if(typeof _!="string"&&o.stateNode===null)throw Error(c(166));if(s=ei(Es.current),p=ei(Jr.current),Ul(o)){if(!$e)throw Error(c(176));if(s=o.stateNode,p=o.memoizedProps,(_=vt(s,p,o,!Ba))&&(N=Bn,N!==null))switch(N.tag){case 3:Ae(N.stateNode.containerInfo,s,p,(N.mode&1)!==0);break;case 5:Ye(N.type,N.memoizedProps,N.stateNode,s,p,(N.mode&1)!==0)}_&&lr(o)}else o.stateNode=Te(_,s,p,o)}return Yt(o),null;case 13:if(rt(tn),_=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&ar!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Dh(),Xs(),o.flags|=98560,N=!1;else if(N=Ul(o),_!==null&&_.dehydrated!==null){if(s===null){if(!N)throw Error(c(318));if(!$e)throw Error(c(344));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(c(317));pt(N,o)}else Xs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),N=!1}else mi!==null&&(sl(mi),mi=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=p,o):(p=_!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(tn.current&1)!==0?Qt===0&&(Qt=3):mu())),o.updateQueue!==null&&(o.flags|=4),Yt(o),null);case 4:return eo(),Ms(s,o),s===null&&yt(o.stateNode.containerInfo),Yt(o),null;case 10:return Ga(o.type._context),Yt(o),null;case 17:return In(o.type)&&Ks(),Yt(o),null;case 19:if(rt(tn),N=o.memoizedState,N===null)return Yt(o),null;if(_=(o.flags&128)!==0,j=N.rendering,j===null)if(_)zr(N,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(j=Kl(s),j!==null){for(o.flags|=128,zr(N,!1),s=j.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),o.subtreeFlags=0,s=p,p=o.child;p!==null;)_=p,N=s,_.flags&=14680066,j=_.alternate,j===null?(_.childLanes=0,_.lanes=N,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=j.childLanes,_.lanes=j.lanes,_.child=j.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=j.memoizedProps,_.memoizedState=j.memoizedState,_.updateQueue=j.updateQueue,_.type=j.type,N=j.dependencies,_.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),p=p.sibling;return ht(tn,tn.current&1|2),o.child}s=s.sibling}N.tail!==null&&Ln()>js&&(o.flags|=128,_=!0,zr(N,!1),o.lanes=4194304)}else{if(!_)if(s=Kl(j),s!==null){if(o.flags|=128,_=!0,s=s.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),zr(N,!0),N.tail===null&&N.tailMode==="hidden"&&!j.alternate&&!$t)return Yt(o),null}else 2*Ln()-N.renderingStartTime>js&&p!==1073741824&&(o.flags|=128,_=!0,zr(N,!1),o.lanes=4194304);N.isBackwards?(j.sibling=o.child,o.child=j):(s=N.last,s!==null?s.sibling=j:o.child=j,N.last=j)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=Ln(),o.sibling=null,s=tn.current,ht(tn,_?s&1|2:s&1),o):(Yt(o),null);case 22:case 23:return ol(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Cr&1073741824)!==0&&(Yt(o),je&&o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),null;case 24:return null;case 25:return null}throw Error(c(156,o.tag))}function Jh(s,o){switch(Ua(o),o.tag){case 1:return In(o.type)&&Ks(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return eo(),rt(en),rt(hn),sc(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return rc(o),null;case 13:if(rt(tn),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(c(340));Xs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(tn),null;case 4:return eo(),null;case 10:return Ga(o.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var ra=!1,Dn=!1,Vr=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ot(s,o){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(_){Ht(s,o,_)}else p.current=null}function Ur(s,o,p){try{p()}catch(_){Ht(s,o,_)}}var wc=!1;function ef(s,o){for(ie(s.containerInfo),Ie=o;Ie!==null;)if(s=Ie,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Ie=o;else for(;Ie!==null;){s=Ie;try{var p=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,N=p.memoizedState,j=s.stateNode,Y=j.getSnapshotBeforeUpdate(s.elementType===s.type?_:Fr(s.type,_),N);j.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:je&&vs(s.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(le){Ht(s,s.return,le)}if(o=s.sibling,o!==null){o.return=s.return,Ie=o;break}Ie=s.return}return p=wc,wc=!1,p}function mo(s,o,p){var _=o.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var N=_=_.next;do{if((N.tag&s)===s){var j=N.destroy;N.destroy=void 0,j!==void 0&&Ur(o,p,j)}N=N.next}while(N!==_)}}function ia(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var p=o=o.next;do{if((p.tag&s)===s){var _=p.create;p.destroy=_()}p=p.next}while(p!==o)}}function lu(s){var o=s.ref;if(o!==null){var p=s.stateNode;switch(s.tag){case 5:s=Z(p);break;default:s=p}typeof o=="function"?o(s):o.current=s}}function el(s){var o=s.alternate;o!==null&&(s.alternate=null,el(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Gt(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _c(s){return s.tag===5||s.tag===3||s.tag===4}function go(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_c(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tl(s,o,p){var _=s.tag;if(_===5||_===6)s=s.stateNode,o?yr(p,s,o):Qr(p,s);else if(_!==4&&(s=s.child,s!==null))for(tl(s,o,p),s=s.sibling;s!==null;)tl(s,o,p),s=s.sibling}function Cc(s,o,p){var _=s.tag;if(_===5||_===6)s=s.stateNode,o?Lo(p,s,o):gr(p,s);else if(_!==4&&(s=s.child,s!==null))for(Cc(s,o,p),s=s.sibling;s!==null;)Cc(s,o,p),s=s.sibling}var Ft=null,_r=!1;function Br(s,o,p){for(p=p.child;p!==null;)Ls(s,o,p),p=p.sibling}function Ls(s,o,p){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(xs,p)}catch{}switch(p.tag){case 5:Dn||Ot(p,o);case 6:if(je){var _=Ft,N=_r;Ft=null,Br(s,o,p),Ft=_,_r=N,Ft!==null&&(_r?Ia(Ft,p.stateNode):Hu(Ft,p.stateNode))}else Br(s,o,p);break;case 18:je&&Ft!==null&&(_r?tt(Ft,p.stateNode):ct(Ft,p.stateNode));break;case 4:je?(_=Ft,N=_r,Ft=p.stateNode.containerInfo,_r=!0,Br(s,o,p),Ft=_,_r=N):(Qe&&(_=p.stateNode.containerInfo,N=La(_),Fo(_,N)),Br(s,o,p));break;case 0:case 11:case 14:case 15:if(!Dn&&(_=p.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){N=_=_.next;do{var j=N,Y=j.destroy;j=j.tag,Y!==void 0&&((j&2)!==0||(j&4)!==0)&&Ur(p,o,Y),N=N.next}while(N!==_)}Br(s,o,p);break;case 1:if(!Dn&&(Ot(p,o),_=p.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=p.memoizedProps,_.state=p.memoizedState,_.componentWillUnmount()}catch(le){Ht(p,o,le)}Br(s,o,p);break;case 21:Br(s,o,p);break;case 22:p.mode&1?(Dn=(_=Dn)||p.memoizedState!==null,Br(s,o,p),Dn=_):Br(s,o,p);break;default:Br(s,o,p)}}function uu(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new Vr),o.forEach(function(_){var N=of.bind(null,s,_);p.has(_)||(p.add(_),_.then(N,N))})}}function Gr(s,o){var p=o.deletions;if(p!==null)for(var _=0;_<p.length;_++){var N=p[_];try{var j=s,Y=o;if(je){var le=Y;e:for(;le!==null;){switch(le.tag){case 5:Ft=le.stateNode,_r=!1;break e;case 3:Ft=le.stateNode.containerInfo,_r=!0;break e;case 4:Ft=le.stateNode.containerInfo,_r=!0;break e}le=le.return}if(Ft===null)throw Error(c(160));Ls(j,Y,N),Ft=null,_r=!1}else Ls(j,Y,N);var ye=N.alternate;ye!==null&&(ye.return=null),N.return=null}catch(Re){Ht(N,o,Re)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)cu(o,s),o=o.sibling}function cu(s,o){var p=s.alternate,_=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gr(o,s),ni(s),_&4){try{mo(3,s,s.return),ia(3,s)}catch(Le){Ht(s,s.return,Le)}try{mo(5,s,s.return)}catch(Le){Ht(s,s.return,Le)}}break;case 1:Gr(o,s),ni(s),_&512&&p!==null&&Ot(p,p.return);break;case 5:if(Gr(o,s),ni(s),_&512&&p!==null&&Ot(p,p.return),je){if(s.flags&32){var N=s.stateNode;try{$s(N)}catch(Le){Ht(s,s.return,Le)}}if(_&4&&(N=s.stateNode,N!=null)){var j=s.memoizedProps;if(p=p!==null?p.memoizedProps:j,_=s.type,o=s.updateQueue,s.updateQueue=null,o!==null)try{Io(N,o,_,p,j,s)}catch(Le){Ht(s,s.return,Le)}}}break;case 6:if(Gr(o,s),ni(s),_&4&&je){if(s.stateNode===null)throw Error(c(162));N=s.stateNode,j=s.memoizedProps,p=p!==null?p.memoizedProps:j;try{An(N,p,j)}catch(Le){Ht(s,s.return,Le)}}break;case 3:if(Gr(o,s),ni(s),_&4){if(je&&$e&&p!==null&&p.memoizedState.isDehydrated)try{mt(o.containerInfo)}catch(Le){Ht(s,s.return,Le)}if(Qe){N=o.containerInfo,j=o.pendingChildren;try{Fo(N,j)}catch(Le){Ht(s,s.return,Le)}}}break;case 4:if(Gr(o,s),ni(s),_&4&&Qe){j=s.stateNode,N=j.containerInfo,j=j.pendingChildren;try{Fo(N,j)}catch(Le){Ht(s,s.return,Le)}}break;case 13:Gr(o,s),ni(s),N=s.child,N.flags&8192&&(j=N.memoizedState!==null,N.stateNode.isHidden=j,!j||N.alternate!==null&&N.alternate.memoizedState!==null||(rl=Ln())),_&4&&uu(s);break;case 22:var Y=p!==null&&p.memoizedState!==null;if(s.mode&1?(Dn=(p=Dn)||Y,Gr(o,s),Dn=p):Gr(o,s),ni(s),_&8192){if(p=s.memoizedState!==null,(s.stateNode.isHidden=p)&&!Y&&(s.mode&1)!==0)for(Ie=s,_=s.child;_!==null;){for(o=Ie=_;Ie!==null;){Y=Ie;var le=Y.child;switch(Y.tag){case 0:case 11:case 14:case 15:mo(4,Y,Y.return);break;case 1:Ot(Y,Y.return);var ye=Y.stateNode;if(typeof ye.componentWillUnmount=="function"){var Re=Y,ze=Y.return;try{var st=Re;ye.props=st.memoizedProps,ye.state=st.memoizedState,ye.componentWillUnmount()}catch(Le){Ht(Re,ze,Le)}}break;case 5:Ot(Y,Y.return);break;case 22:if(Y.memoizedState!==null){du(o);continue}}le!==null?(le.return=Y,Ie=le):du(o)}_=_.sibling}if(je){e:if(_=null,je)for(o=s;;){if(o.tag===5){if(_===null){_=o;try{N=o.stateNode,p?Oo(N):Hs(o.stateNode,o.memoizedProps)}catch(Le){Ht(s,s.return,Le)}}}else if(o.tag===6){if(_===null)try{j=o.stateNode,p?Ws(j):gs(j,o.memoizedProps)}catch(Le){Ht(s,s.return,Le)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;_===o&&(_=null),o=o.return}_===o&&(_=null),o.sibling.return=o.return,o=o.sibling}}}break;case 19:Gr(o,s),ni(s),_&4&&uu(s);break;case 21:break;default:Gr(o,s),ni(s)}}function ni(s){var o=s.flags;if(o&2){try{if(je){e:{for(var p=s.return;p!==null;){if(_c(p)){var _=p;break e}p=p.return}throw Error(c(160))}switch(_.tag){case 5:var N=_.stateNode;_.flags&32&&($s(N),_.flags&=-33);var j=go(s);Cc(s,j,N);break;case 3:case 4:var Y=_.stateNode.containerInfo,le=go(s);tl(s,le,Y);break;default:throw Error(c(161))}}}catch(ye){Ht(s,s.return,ye)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function sa(s,o,p){Ie=s,$r(s)}function $r(s,o,p){for(var _=(s.mode&1)!==0;Ie!==null;){var N=Ie,j=N.child;if(N.tag===22&&_){var Y=N.memoizedState!==null||ra;if(!Y){var le=N.alternate,ye=le!==null&&le.memoizedState!==null||Dn;le=ra;var Re=Dn;if(ra=Y,(Dn=ye)&&!Re)for(Ie=N;Ie!==null;)Y=Ie,ye=Y.child,Y.tag===22&&Y.memoizedState!==null?Ec(N):ye!==null?(ye.return=Y,Ie=ye):Ec(N);for(;j!==null;)Ie=j,$r(j),j=j.sibling;Ie=N,ra=le,Dn=Re}Os(s)}else(N.subtreeFlags&8772)!==0&&j!==null?(j.return=N,Ie=j):Os(s)}}function Os(s){for(;Ie!==null;){var o=Ie;if((o.flags&8772)!==0){var p=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dn||ia(5,o);break;case 1:var _=o.stateNode;if(o.flags&4&&!Dn)if(p===null)_.componentDidMount();else{var N=o.elementType===o.type?p.memoizedProps:Fr(o.type,p.memoizedProps);_.componentDidUpdate(N,p.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&Gh(o,j,_);break;case 3:var Y=o.updateQueue;if(Y!==null){if(p=null,o.child!==null)switch(o.child.tag){case 5:p=Z(o.child.stateNode);break;case 1:p=o.child.stateNode}Gh(o,Y,p)}break;case 5:var le=o.stateNode;p===null&&o.flags&4&&vr(le,o.type,o.memoizedProps,o);break;case 6:break;case 4:break;case 12:break;case 13:if($e&&o.memoizedState===null){var ye=o.alternate;if(ye!==null){var Re=ye.memoizedState;if(Re!==null){var ze=Re.dehydrated;ze!==null&&We(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Dn||o.flags&512&&lu(o)}catch(st){Ht(o,o.return,st)}}if(o===s){Ie=null;break}if(p=o.sibling,p!==null){p.return=o.return,Ie=p;break}Ie=o.return}}function du(s){for(;Ie!==null;){var o=Ie;if(o===s){Ie=null;break}var p=o.sibling;if(p!==null){p.return=o.return,Ie=p;break}Ie=o.return}}function Ec(s){for(;Ie!==null;){var o=Ie;try{switch(o.tag){case 0:case 11:case 15:var p=o.return;try{ia(4,o)}catch(ye){Ht(o,p,ye)}break;case 1:var _=o.stateNode;if(typeof _.componentDidMount=="function"){var N=o.return;try{_.componentDidMount()}catch(ye){Ht(o,N,ye)}}var j=o.return;try{lu(o)}catch(ye){Ht(o,j,ye)}break;case 5:var Y=o.return;try{lu(o)}catch(ye){Ht(o,Y,ye)}}}catch(ye){Ht(o,o.return,ye)}if(o===s){Ie=null;break}var le=o.sibling;if(le!==null){le.return=o.return,Ie=le;break}Ie=o.return}}var ri=0,vi=1,oa=2,nl=3,ii=4;if(typeof Symbol=="function"&&Symbol.for){var si=Symbol.for;ri=si("selector.component"),vi=si("selector.has_pseudo_class"),oa=si("selector.role"),nl=si("selector.test_id"),ii=si("selector.text")}function aa(s){var o=qt(s);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw Error(c(364));return o}if(s=xt(s),s===null)throw Error(c(362));return s.stateNode.current}function hu(s,o){switch(o.$$typeof){case ri:if(s.type===o.value)return!0;break;case vi:e:{o=o.value,s=[s,0];for(var p=0;p<s.length;){var _=s[p++],N=s[p++],j=o[N];if(_.tag!==5||!_n(_)){for(;j!=null&&hu(_,j);)N++,j=o[N];if(N===o.length){o=!0;break e}else for(_=_.child;_!==null;)s.push(_,N),_=_.sibling}}o=!1}return o;case oa:if(s.tag===5&&rn(s.stateNode,o.value))return!0;break;case ii:if((s.tag===5||s.tag===6)&&(s=zn(s),s!==null&&0<=s.indexOf(o.value)))return!0;break;case nl:if(s.tag===5&&(s=s.memoizedProps["data-testname"],typeof s=="string"&&s.toLowerCase()===o.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function la(s){switch(s.$$typeof){case ri:return"<"+(W(s.value)||"Unknown")+">";case vi:return":has("+(la(s)||"")+")";case oa:return'[role="'+s.value+'"]';case ii:return'"'+s.value+'"';case nl:return'[data-testname="'+s.value+'"]';default:throw Error(c(365))}}function Pc(s,o){var p=[];s=[s,0];for(var _=0;_<s.length;){var N=s[_++],j=s[_++],Y=o[j];if(N.tag!==5||!_n(N)){for(;Y!=null&&hu(N,Y);)j++,Y=o[j];if(j===o.length)p.push(N);else for(N=N.child;N!==null;)s.push(N,j),N=N.sibling}}return p}function fu(s,o){if(!kt)throw Error(c(363));s=aa(s),s=Pc(s,o),o=[],s=Array.from(s);for(var p=0;p<s.length;){var _=s[p++];if(_.tag===5)_n(_)||o.push(_.stateNode);else for(_=_.child;_!==null;)s.push(_),_=_.sibling}return o}var kc=Math.ceil,vo=h.ReactCurrentDispatcher,pu=h.ReactCurrentOwner,sn=h.ReactCurrentBatchConfig,gt=0,pn=null,Xt=null,mn=0,Cr=0,yo=Ct(0),Qt=0,ua=null,yi=0,Wr=0,xo=0,ts=null,gn=null,rl=0,js=1/0,ji=null;function Ds(){js=Ln()+500}var Bt=!1,ca=null,Di=null,da=!1,xi=null,ha=0,Si=0,Wt=null,on=-1,un=0;function kn(){return(gt&6)!==0?Ln():on!==-1?on:on=Ln()}function oi(s){return(s.mode&1)===0?1:(gt&2)!==0&&mn!==0?mn&-mn:_0.transition!==null?(un===0&&(un=Ll()),un):(s=St,s!==0?s:wn())}function Zn(s,o,p,_){if(50<Si)throw Si=0,Wt=null,Error(c(185));Zr(s,p,_),((gt&2)===0||s!==pn)&&(s===pn&&((gt&2)===0&&(Wr|=p),Qt===4&&Hn(s,mn)),Er(s,_),p===1&&gt===0&&(o.mode&1)===0&&(Ds(),Wo&&Un()))}function Er(s,o){var p=s.callbackNode;Ah(s,o);var _=Uo(s,s===pn?mn:0);if(_===0)p!==null&&bh(p),s.callbackNode=null,s.callbackPriority=0;else if(o=_&-_,s.callbackPriority!==o){if(p!=null&&bh(p),o===1)s.tag===0?Ih(Hr.bind(null,s)):zl(Hr.bind(null,s)),an?Jt(function(){(gt&6)===0&&Un()}):bi(Ol,Un),p=null;else{switch(Go(_)){case 1:p=Ol;break;case 4:p=jl;break;case 16:p=Dl;break;case 536870912:p=w0;break;default:p=Dl}p=gu(p,Wn.bind(null,s))}s.callbackPriority=o,s.callbackNode=p}}function Wn(s,o){if(on=-1,un=0,(gt&6)!==0)throw Error(c(327));var p=s.callbackNode;if(Fi()&&s.callbackNode!==p)return null;var _=Uo(s,s===pn?mn:0);if(_===0)return null;if((_&30)!==0||(_&s.expiredLanes)!==0||o)o=al(s,_);else{o=_;var N=gt;gt|=2;var j=Nc();(pn!==s||mn!==o)&&(ji=null,Ds(),ns(s,o));do try{nf();break}catch(le){Rc(s,le)}while(!0);Ju(),vo.current=j,gt=N,Xt!==null?o=0:(pn=null,mn=0,o=Qt)}if(o!==0){if(o===2&&(N=Il(s),N!==0&&(_=N,o=il(s,N))),o===1)throw p=ua,ns(s,0),Hn(s,_),Er(s,Ln()),p;if(o===6)Hn(s,_);else{if(N=s.current.alternate,(_&30)===0&&!Tc(N)&&(o=al(s,_),o===2&&(j=Il(s),j!==0&&(_=j,o=il(s,j))),o===1))throw p=ua,ns(s,0),Hn(s,_),Er(s,Ln()),p;switch(s.finishedWork=N,s.finishedLanes=_,o){case 0:case 1:throw Error(c(345));case 2:wi(s,gn,ji);break;case 3:if(Hn(s,_),(_&130023424)===_&&(o=rl+500-Ln(),10<o)){if(Uo(s,0)!==0)break;if(N=s.suspendedLanes,(N&_)!==_){kn(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=ee(wi.bind(null,s,gn,ji),o);break}wi(s,gn,ji);break;case 4:if(Hn(s,_),(_&4194240)===_)break;for(o=s.eventTimes,N=-1;0<_;){var Y=31-Ir(_);j=1<<Y,Y=o[Y],Y>N&&(N=Y),_&=~j}if(_=N,_=Ln()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*kc(_/1960))-_,10<_){s.timeoutHandle=ee(wi.bind(null,s,gn,ji),_);break}wi(s,gn,ji);break;case 5:wi(s,gn,ji);break;default:throw Error(c(329))}}}return Er(s,Ln()),s.callbackNode===p?Wn.bind(null,s):null}function il(s,o){var p=ts;return s.current.memoizedState.isDehydrated&&(ns(s,o).flags|=256),s=al(s,o),s!==2&&(o=gn,gn=p,o!==null&&sl(o)),s}function sl(s){gn===null?gn=s:gn.push.apply(gn,s)}function Tc(s){for(var o=s;;){if(o.flags&16384){var p=o.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var _=0;_<p.length;_++){var N=p[_],j=N.getSnapshot;N=N.value;try{if(!hi(j(),N))return!1}catch{return!1}}}if(p=o.child,o.subtreeFlags&16384&&p!==null)p.return=o,o=p;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hn(s,o){for(o&=~xo,o&=~Wr,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var p=31-Ir(o),_=1<<p;s[p]=-1,o&=~_}}function Hr(s){if((gt&6)!==0)throw Error(c(327));Fi();var o=Uo(s,0);if((o&1)===0)return Er(s,Ln()),null;var p=al(s,o);if(s.tag!==0&&p===2){var _=Il(s);_!==0&&(o=_,p=il(s,_))}if(p===1)throw p=ua,ns(s,0),Hn(s,o),Er(s,Ln()),p;if(p===6)throw Error(c(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,wi(s,gn,ji),Er(s,Ln()),null}function fa(s){xi!==null&&xi.tag===0&&(gt&6)===0&&Fi();var o=gt;gt|=1;var p=sn.transition,_=St;try{if(sn.transition=null,St=1,s)return s()}finally{St=_,sn.transition=p,gt=o,(gt&6)===0&&Un()}}function ol(){Cr=yo.current,rt(yo)}function ns(s,o){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==Ce&&(s.timeoutHandle=Ce,he(p)),Xt!==null)for(p=Xt.return;p!==null;){var _=p;switch(Ua(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Ks();break;case 3:eo(),rt(en),rt(hn),sc();break;case 5:rc(_);break;case 4:eo();break;case 13:rt(tn);break;case 19:rt(tn);break;case 10:Ga(_.type._context);break;case 22:case 23:ol()}p=p.return}if(pn=s,Xt=s=rs(s.current,null),mn=Cr=o,Qt=0,ua=null,xo=Wr=yi=0,gn=ts=null,ws!==null){for(o=0;o<ws.length;o++)if(p=ws[o],_=p.interleaved,_!==null){p.interleaved=null;var N=_.next,j=p.pending;if(j!==null){var Y=j.next;j.next=N,_.next=Y}p.pending=_}ws=null}return s}function Rc(s,o){do{var p=Xt;try{if(Ju(),wr.current=ao,Qo){for(var _=Kt.memoizedState;_!==null;){var N=_.queue;N!==null&&(N.pending=null),_=_.next}Qo=!1}if(Ps=0,En=fn=Kt=null,Wa=!1,Ha=0,pu.current=null,p===null||p.return===null){Qt=1,ua=o,Xt=null;break}e:{var j=s,Y=p.return,le=p,ye=o;if(o=mn,le.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Re=ye,ze=le,st=ze.tag;if((ze.mode&1)===0&&(st===0||st===11||st===15)){var Le=ze.alternate;Le?(ze.updateQueue=Le.updateQueue,ze.memoizedState=Le.memoizedState,ze.lanes=Le.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var zt=Qh(Y);if(zt!==null){zt.flags&=-257,Rs(zt,Y,le,j,o),zt.mode&1&&Xh(j,Re,o),o=zt,ye=Re;var jt=o.updateQueue;if(jt===null){var Jn=new Set;Jn.add(ye),o.updateQueue=Jn}else jt.add(ye);break e}else{if((o&1)===0){Xh(j,Re,o),mu();break e}ye=Error(c(426))}}else if($t&&le.mode&1){var zi=Qh(Y);if(zi!==null){(zi.flags&65536)===0&&(zi.flags|=256),Rs(zi,Y,le,j,o),Qu(lo(ye,le));break e}}j=ye=lo(ye,le),Qt!==4&&(Qt=2),ts===null?ts=[j]:ts.push(j),j=Y;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var ge=Ii(j,ye,o);Yo(j,ge);break e;case 1:le=ye;var de=j.type,xe=j.stateNode;if((j.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Di===null||!Di.has(xe)))){j.flags|=65536,o&=-o,j.lanes|=o;var Oe=iu(j,le,o);Yo(j,Oe);break e}}j=j.return}while(j!==null)}bc(p)}catch(Xe){o=Xe,Xt===p&&p!==null&&(Xt=p=p.return);continue}break}while(!0)}function Nc(){var s=vo.current;return vo.current=ao,s===null?ao:s}function mu(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),pn===null||(yi&268435455)===0&&(Wr&268435455)===0||Hn(pn,mn)}function al(s,o){var p=gt;gt|=2;var _=Nc();(pn!==s||mn!==o)&&(ji=null,ns(s,o));do try{tf();break}catch(N){Rc(s,N)}while(!0);if(Ju(),gt=p,vo.current=_,Xt!==null)throw Error(c(261));return pn=null,mn=0,Qt}function tf(){for(;Xt!==null;)Ac(Xt)}function nf(){for(;Xt!==null&&!Mh();)Ac(Xt)}function Ac(s){var o=Lc(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,o===null?bc(s):Xt=o,pu.current=null}function bc(s){var o=s;do{var p=o.alternate;if(s=o.return,(o.flags&32768)===0){if(p=po(p,o,Cr),p!==null){Xt=p;return}}else{if(p=Jh(p,o),p!==null){p.flags&=32767,Xt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Qt=6,Xt=null;return}}if(o=o.sibling,o!==null){Xt=o;return}Xt=o=s}while(o!==null);Qt===0&&(Qt=5)}function wi(s,o,p){var _=St,N=sn.transition;try{sn.transition=null,St=1,rf(s,o,p,_)}finally{sn.transition=N,St=_}return null}function rf(s,o,p,_){do Fi();while(xi!==null);if((gt&6)!==0)throw Error(c(327));p=s.finishedWork;var N=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(c(177));s.callbackNode=null,s.callbackPriority=0;var j=p.lanes|p.childLanes;if(ys(s,j),s===pn&&(Xt=pn=null,mn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||da||(da=!0,gu(Dl,function(){return Fi(),null})),j=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||j){j=sn.transition,sn.transition=null;var Y=St;St=1;var le=gt;gt|=4,pu.current=null,ef(s,p),cu(p,s),K(s.containerInfo),s.current=p,sa(p),Fa(),gt=le,St=Y,sn.transition=j}else s.current=p;if(da&&(da=!1,xi=s,ha=N),j=s.pendingLanes,j===0&&(Di=null),$o(p.stateNode),Er(s,Ln()),o!==null)for(_=s.onRecoverableError,p=0;p<o.length;p++)N=o[p],_(N.value,{componentStack:N.stack,digest:N.digest});if(Bt)throw Bt=!1,s=ca,ca=null,s;return(ha&1)!==0&&s.tag!==0&&Fi(),j=s.pendingLanes,(j&1)!==0?s===Wt?Si++:(Si=0,Wt=s):Si=0,Un(),null}function Fi(){if(xi!==null){var s=Go(ha),o=sn.transition,p=St;try{if(sn.transition=null,St=16>s?16:s,xi===null)var _=!1;else{if(s=xi,xi=null,ha=0,(gt&6)!==0)throw Error(c(331));var N=gt;for(gt|=4,Ie=s.current;Ie!==null;){var j=Ie,Y=j.child;if((Ie.flags&16)!==0){var le=j.deletions;if(le!==null){for(var ye=0;ye<le.length;ye++){var Re=le[ye];for(Ie=Re;Ie!==null;){var ze=Ie;switch(ze.tag){case 0:case 11:case 15:mo(8,ze,j)}var st=ze.child;if(st!==null)st.return=ze,Ie=st;else for(;Ie!==null;){ze=Ie;var Le=ze.sibling,zt=ze.return;if(el(ze),ze===Re){Ie=null;break}if(Le!==null){Le.return=zt,Ie=Le;break}Ie=zt}}}var jt=j.alternate;if(jt!==null){var Jn=jt.child;if(Jn!==null){jt.child=null;do{var zi=Jn.sibling;Jn.sibling=null,Jn=zi}while(Jn!==null)}}Ie=j}}if((j.subtreeFlags&2064)!==0&&Y!==null)Y.return=j,Ie=Y;else e:for(;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:mo(9,j,j.return)}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ie=ge;break e}Ie=j.return}}var de=s.current;for(Ie=de;Ie!==null;){Y=Ie;var xe=Y.child;if((Y.subtreeFlags&2064)!==0&&xe!==null)xe.return=Y,Ie=xe;else e:for(Y=de;Ie!==null;){if(le=Ie,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:ia(9,le)}}catch(Xe){Ht(le,le.return,Xe)}if(le===Y){Ie=null;break e}var Oe=le.sibling;if(Oe!==null){Oe.return=le.return,Ie=Oe;break e}Ie=le.return}}if(gt=N,Un(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(xs,s)}catch{}_=!0}return _}finally{St=p,sn.transition=o}}return!1}function ll(s,o,p){o=lo(p,o),o=Ii(s,o,1),s=Qi(s,o,1),o=kn(),s!==null&&(Zr(s,1,o),Er(s,o))}function Ht(s,o,p){if(s.tag===3)ll(s,s,p);else for(;o!==null;){if(o.tag===3){ll(o,s,p);break}else if(o.tag===1){var _=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Di===null||!Di.has(_))){s=lo(p,s),s=iu(o,s,1),o=Qi(o,s,1),s=kn(),o!==null&&(Zr(o,1,s),Er(o,s));break}}o=o.return}}function Mc(s,o,p){var _=s.pingCache;_!==null&&_.delete(o),o=kn(),s.pingedLanes|=s.suspendedLanes&p,pn===s&&(mn&p)===p&&(Qt===4||Qt===3&&(mn&130023424)===mn&&500>Ln()-rl?ns(s,0):xo|=p),Er(s,o)}function Ic(s,o){o===0&&((s.mode&1)===0?o=1:(o=Da,Da<<=1,(Da&130023424)===0&&(Da=4194304)));var p=kn();s=gi(s,o),s!==null&&(Zr(s,o,p),Er(s,p))}function sf(s){var o=s.memoizedState,p=0;o!==null&&(p=o.retryLane),Ic(s,p)}function of(s,o){var p=0;switch(s.tag){case 13:var _=s.stateNode,N=s.memoizedState;N!==null&&(p=N.retryLane);break;case 19:_=s.stateNode;break;default:throw Error(c(314))}_!==null&&_.delete(o),Ic(s,p)}var Lc;Lc=function(s,o,p){if(s!==null)if(s.memoizedProps!==o.pendingProps||en.current)Pn=!0;else{if((s.lanes&p)===0&&(o.flags&128)===0)return Pn=!1,As(s,o,p);Pn=(s.flags&131072)!==0}else Pn=!1,$t&&(o.flags&1048576)!==0&&Lh(o,Ys,o.index);switch(o.lanes=0,o.tag){case 2:var _=o.type;Ja(s,o),s=o.pendingProps;var N=qi(o,hn.current);Ko(o,p),N=qa(null,o,_,s,N,p);var j=Yl();return o.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,In(_)?(j=!0,zo(o)):j=!1,o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,tc(o),N.updater=Xa,o.stateNode=N,N._reactInternals=o,Mi(o,_,s,p),o=Xn(null,o,_,!0,j,p)):(o.tag=0,$t&&j&&Va(o),jn(null,o,N,p),o=o.child),o;case 16:_=o.elementType;e:{switch(Ja(s,o),s=o.pendingProps,N=_._init,_=N(_._payload),o.type=_,N=o.tag=P0(_),s=Fr(_,s),N){case 0:o=Li(null,o,_,s,p);break e;case 1:o=$n(null,o,_,s,p);break e;case 11:o=su(null,o,_,s,p);break e;case 14:o=uo(null,o,_,Fr(_.type,s),p);break e}throw Error(c(306,_,""))}return o;case 0:return _=o.type,N=o.pendingProps,N=o.elementType===_?N:Fr(_,N),Li(s,o,_,N,p);case 1:return _=o.type,N=o.pendingProps,N=o.elementType===_?N:Fr(_,N),$n(s,o,_,N,p);case 3:e:{if(Ns(o),s===null)throw Error(c(387));_=o.pendingProps,j=o.memoizedState,N=j.element,Bh(s,o),_s(o,_,null,p);var Y=o.memoizedState;if(_=Y.element,$e&&j.isDehydrated)if(j={element:_,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){N=lo(Error(c(423)),o),o=co(s,o,_,p,N);break e}else if(_!==N){N=lo(Error(c(424)),o),o=co(s,o,_,p,N);break e}else for($e&&(ar=we(o.stateNode.containerInfo),Bn=o,$t=!0,mi=null,Ba=!1),p=Vh(o,null,_,p),o.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Xs(),_===N){o=es(s,o,p);break e}jn(s,o,_,p)}o=o.child}return o;case 5:return nc(o),s===null&&Xu(o),_=o.type,N=o.pendingProps,j=s!==null?s.memoizedProps:null,Y=N.children,be(_,N)?Y=null:j!==null&&be(_,j)&&(o.flags|=32),Dt(s,o),jn(s,o,Y,p),o.child;case 6:return s===null&&Xu(o),null;case 13:return Sc(s,o,p);case 4:return ql(o,o.stateNode.containerInfo),_=o.pendingProps,s===null?o.child=Zs(o,null,_,p):jn(s,o,_,p),o.child;case 11:return _=o.type,N=o.pendingProps,N=o.elementType===_?N:Fr(_,N),su(s,o,_,N,p);case 7:return jn(s,o,o.pendingProps,p),o.child;case 8:return jn(s,o,o.pendingProps.children,p),o.child;case 12:return jn(s,o,o.pendingProps.children,p),o.child;case 10:e:{if(_=o.type._context,N=o.pendingProps,j=o.memoizedProps,Y=N.value,Uh(o,_,Y),j!==null)if(hi(j.value,Y)){if(j.children===N.children&&!en.current){o=es(s,o,p);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var le=j.dependencies;if(le!==null){Y=j.child;for(var ye=le.firstContext;ye!==null;){if(ye.context===_){if(j.tag===1){ye=Xi(-1,p&-p),ye.tag=2;var Re=j.updateQueue;if(Re!==null){Re=Re.shared;var ze=Re.pending;ze===null?ye.next=ye:(ye.next=ze.next,ze.next=ye),Re.pending=ye}}j.lanes|=p,ye=j.alternate,ye!==null&&(ye.lanes|=p),Js(j.return,p,o),le.lanes|=p;break}ye=ye.next}}else if(j.tag===10)Y=j.type===o.type?null:j.child;else if(j.tag===18){if(Y=j.return,Y===null)throw Error(c(341));Y.lanes|=p,le=Y.alternate,le!==null&&(le.lanes|=p),Js(Y,p,o),Y=j.sibling}else Y=j.child;if(Y!==null)Y.return=j;else for(Y=j;Y!==null;){if(Y===o){Y=null;break}if(j=Y.sibling,j!==null){j.return=Y.return,Y=j;break}Y=Y.return}j=Y}jn(s,o,N.children,p),o=o.child}return o;case 9:return N=o.type,_=o.pendingProps.children,Ko(o,p),N=Or(N),_=_(N),o.flags|=1,jn(s,o,_,p),o.child;case 14:return _=o.type,N=Fr(_,o.pendingProps),N=Fr(_.type,N),uo(s,o,_,N,p);case 15:return Ji(s,o,o.type,o.pendingProps,p);case 17:return _=o.type,N=o.pendingProps,N=o.elementType===_?N:Fr(_,N),Ja(s,o),o.tag=1,In(_)?(s=!0,zo(o)):s=!1,Ko(o,p),Yh(o,_,N),Mi(o,_,N,p),Xn(null,o,_,!0,s,p);case 19:return au(s,o,p);case 22:return Ut(s,o,p)}throw Error(c(156,o.tag))};function gu(s,o){return bi(s,o)}function af(s,o,p,_){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(s,o,p,_){return new af(s,o,p,_)}function vu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function P0(s){if(typeof s=="function")return vu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===R)return 14}return 2}function rs(s,o){var p=s.alternate;return p===null?(p=qr(s.tag,o,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=o,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,o=s.dependencies,p.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function yu(s,o,p,_,N,j){var Y=2;if(_=s,typeof s=="function")vu(s)&&(Y=1);else if(typeof s=="string")Y=5;else e:switch(s){case y:return So(p.children,N,j,o);case g:Y=8,N|=8;break;case x:return s=qr(12,p,o,N|2),s.elementType=x,s.lanes=j,s;case k:return s=qr(13,p,o,N),s.elementType=k,s.lanes=j,s;case b:return s=qr(19,p,o,N),s.elementType=b,s.lanes=j,s;case I:return ul(p,N,j,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:Y=10;break e;case w:Y=9;break e;case P:Y=11;break e;case R:Y=14;break e;case C:Y=16,_=null;break e}throw Error(c(130,s==null?s:typeof s,""))}return o=qr(Y,p,o,N),o.elementType=s,o.type=_,o.lanes=j,o}function So(s,o,p,_){return s=qr(7,s,_,o),s.lanes=p,s}function ul(s,o,p,_){return s=qr(22,s,_,o),s.elementType=I,s.lanes=p,s.stateNode={isHidden:!1},s}function xu(s,o,p){return s=qr(6,s,null,o),s.lanes=p,s}function Su(s,o,p){return o=qr(4,s.children!==null?s.children:[],s.key,o),o.lanes=p,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function wu(s,o,p,_,N){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=_,this.onRecoverableError=N,$e&&(this.mutableSourceEagerHydrationData=null)}function lf(s,o,p,_,N,j,Y,le,ye){return s=new wu(s,o,p,le,ye),o===1?(o=1,j===!0&&(o|=8)):o=0,j=qr(3,null,null,o),s.current=j,j.stateNode=s,j.memoizedState={element:_,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(j),s}function uf(s){if(!s)return Mn;s=s._reactInternals;e:{if(q(s)!==s||s.tag!==1)throw Error(c(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(In(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(c(171))}if(s.tag===1){var p=s.type;if(In(p))return Rh(s,p,o)}return o}function cf(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(c(188)):(s=Object.keys(s).join(","),Error(c(268,s)));return s=ne(o),s===null?null:s.stateNode}function wo(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<o?p:o}}function pa(s,o){wo(s,o),(s=s.alternate)&&wo(s,o)}function Oc(s){return s=ne(s),s===null?null:s.stateNode}function k0(){return null}return i.attemptContinuousHydration=function(s){if(s.tag===13){var o=gi(s,134217728);if(o!==null){var p=kn();Zn(o,s,134217728,p)}pa(s,134217728)}},i.attemptDiscreteHydration=function(s){if(s.tag===13){var o=gi(s,1);if(o!==null){var p=kn();Zn(o,s,1,p)}pa(s,1)}},i.attemptHydrationAtCurrentPriority=function(s){if(s.tag===13){var o=oi(s),p=gi(s,o);if(p!==null){var _=kn();Zn(p,s,o,_)}pa(s,o)}},i.attemptSynchronousHydration=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var p=Vo(o.pendingLanes);p!==0&&(Ai(o,p|1),Er(o,Ln()),(gt&6)===0&&(Ds(),Un()))}break;case 13:fa(function(){var _=gi(s,1);if(_!==null){var N=kn();Zn(_,s,1,N)}}),pa(s,1)}},i.batchedUpdates=function(s,o){var p=gt;gt|=1;try{return s(o)}finally{gt=p,gt===0&&(Ds(),Wo&&Un())}},i.createComponentSelector=function(s){return{$$typeof:ri,value:s}},i.createContainer=function(s,o,p,_,N,j,Y){return lf(s,o,!1,null,p,_,N,j,Y)},i.createHasPseudoClassSelector=function(s){return{$$typeof:vi,value:s}},i.createHydrationContainer=function(s,o,p,_,N,j,Y,le,ye){return s=lf(p,_,!0,s,N,j,Y,le,ye),s.context=uf(null),p=s.current,_=kn(),N=oi(p),j=Xi(_,N),j.callback=o??null,Qi(p,j,N),s.current.lanes=N,Zr(s,N,_),Er(s,_),s},i.createPortal=function(s,o,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:s,containerInfo:o,implementation:p}},i.createRoleSelector=function(s){return{$$typeof:oa,value:s}},i.createTestNameSelector=function(s){return{$$typeof:nl,value:s}},i.createTextSelector=function(s){return{$$typeof:ii,value:s}},i.deferredUpdates=function(s){var o=St,p=sn.transition;try{return sn.transition=null,St=16,s()}finally{St=o,sn.transition=p}},i.discreteUpdates=function(s,o,p,_,N){var j=St,Y=sn.transition;try{return sn.transition=null,St=1,s(o,p,_,N)}finally{St=j,sn.transition=Y,gt===0&&Ds()}},i.findAllNodes=fu,i.findBoundingRects=function(s,o){if(!kt)throw Error(c(363));o=fu(s,o),s=[];for(var p=0;p<o.length;p++)s.push(ir(o[p]));for(o=s.length-1;0<o;o--){p=s[o];for(var _=p.x,N=_+p.width,j=p.y,Y=j+p.height,le=o-1;0<=le;le--)if(o!==le){var ye=s[le],Re=ye.x,ze=Re+ye.width,st=ye.y,Le=st+ye.height;if(_>=Re&&j>=st&&N<=ze&&Y<=Le){s.splice(o,1);break}else if(_!==Re||p.width!==ye.width||Le<j||st>Y){if(!(j!==st||p.height!==ye.height||ze<_||Re>N)){Re>_&&(ye.width+=Re-_,ye.x=_),ze<N&&(ye.width=N-Re),s.splice(o,1);break}}else{st>j&&(ye.height+=st-j,ye.y=j),Le<Y&&(ye.height=Y-st),s.splice(o,1);break}}}return s},i.findHostInstance=cf,i.findHostInstanceWithNoPortals=function(s){return s=X(s),s=s!==null?V(s):null,s===null?null:s.stateNode},i.findHostInstanceWithWarning=function(s){return cf(s)},i.flushControlled=function(s){var o=gt;gt|=1;var p=sn.transition,_=St;try{sn.transition=null,St=1,s()}finally{St=_,sn.transition=p,gt=o,gt===0&&(Ds(),Un())}},i.flushPassiveEffects=Fi,i.flushSync=fa,i.focusWithin=function(s,o){if(!kt)throw Error(c(363));for(s=aa(s),o=Pc(s,o),o=Array.from(o),s=0;s<o.length;){var p=o[s++];if(!_n(p)){if(p.tag===5&&dn(p.stateNode))return!0;for(p=p.child;p!==null;)o.push(p),p=p.sibling}}return!1},i.getCurrentUpdatePriority=function(){return St},i.getFindAllNodesFailureDescription=function(s,o){if(!kt)throw Error(c(363));var p=0,_=[];s=[aa(s),0];for(var N=0;N<s.length;){var j=s[N++],Y=s[N++],le=o[Y];if((j.tag!==5||!_n(j))&&(hu(j,le)&&(_.push(la(le)),Y++,Y>p&&(p=Y)),Y<o.length))for(j=j.child;j!==null;)s.push(j,Y),j=j.sibling}if(p<o.length){for(s=[];p<o.length;p++)s.push(la(o[p]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+s.join(" > ")}return null},i.getPublicRootInstance=function(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return Z(s.child.stateNode);default:return s.child.stateNode}},i.injectIntoDevTools=function(s){if(s={bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:Oc,findFiberByHostInstance:s.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")s=!1;else{var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)s=!0;else{try{xs=o.inject(s),xr=o}catch{}s=!!o.checkDCE}}return s},i.isAlreadyRendering=function(){return!1},i.observeVisibleRects=function(s,o,p,_){if(!kt)throw Error(c(363));s=fu(s,o);var N=Ar(s,p,_).disconnect;return{disconnect:function(){N()}}},i.registerMutableSourceForHydration=function(s,o){var p=o._getVersion;p=p(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,p]:s.mutableSourceEagerHydrationData.push(o,p)},i.runWithPriority=function(s,o){var p=St;try{return St=s,o()}finally{St=p}},i.shouldError=function(){return null},i.shouldSuspend=function(){return!1},i.updateContainer=function(s,o,p,_){var N=o.current,j=kn(),Y=oi(N);return p=uf(p),o.context===null?o.context=p:o.pendingContext=p,o=Xi(j,Y),o.payload={element:s},_=_===void 0?null:_,_!==null&&(o.callback=_),s=Qi(N,o,Y),s!==null&&(Zn(s,N,Y,j),$a(s,N,Y)),Y},i}),Ap}var hy;function uC(){return hy||(hy=1,Np.exports=lC()),Np.exports}var cC=uC();const dC=yh(cC);var bp={exports:{}},_a={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function hC(){return fy||(fy=1,_a.ConcurrentRoot=1,_a.ContinuousEventPriority=4,_a.DefaultEventPriority=16,_a.DiscreteEventPriority=1,_a.IdleEventPriority=536870912,_a.LegacyRoot=0),_a}var py;function fC(){return py||(py=1,bp.exports=hC()),bp.exports}var v4=fC(),pC=wt();const my={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let gy=!1,vy=!1;const lg=".react-konva-event",mC=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,gC=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,vC={};function c0(e,t,i=vC){if(!gy&&"zIndex"in t&&(console.warn(gC),gy=!0),!vy&&t.draggable){var a=t.x!==void 0||t.y!==void 0,u=t.onDragEnd||t.onDragMove;a&&!u&&(console.warn(mC),vy=!0)}for(var d in i)if(!my[d]){var c=d.slice(0,2)==="on",h=i[d]!==t[d];if(c&&h){var m=d.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),e.off(m,i[d])}var f=!t.hasOwnProperty(d);f&&e.setAttr(d,void 0)}var y=t._useStrictMode,g={},x=!1;const S={};for(var d in t)if(!my[d]){var c=d.slice(0,2)==="on",w=i[d]!==t[d];if(c&&w){var m=d.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),t[d]&&(S[m]=t[d])}!c&&(t[d]!==i[d]||y&&t[d]!==e.getAttr(d))&&(x=!0,g[d]=t[d])}x&&(e.setAttrs(g),Ma(e));for(var m in S)e.on(m+lg,S[m])}function Ma(e){if(!pC.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var Mp=ym();const y4={},yC={};lh.Node.prototype._applyProps=c0;function xC(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Ma(e)}function SC(e,t,i){let a=lh[e];a||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=lh.Group);const u={},d={};for(var c in t){var h=c.slice(0,2)==="on";h?d[c]=t[c]:u[c]=t[c]}const m=new a(u);return c0(m,d),m}function wC(e,t,i){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function _C(e,t,i){return!1}function CC(e){return e}function EC(){return null}function PC(){return null}function kC(e,t,i,a){return yC}function TC(){}function RC(e){}function NC(e,t){return!1}function AC(){return y4}function bC(){return y4}const MC=setTimeout,IC=clearTimeout,LC=-1;function OC(e,t){return!1}const jC=!1,DC=!0,FC=!0;function zC(e,t){t.parent===e?t.moveToTop():e.add(t),Ma(e)}function VC(e,t){t.parent===e?t.moveToTop():e.add(t),Ma(e)}function x4(e,t,i){t._remove(),e.add(t),t.setZIndex(i.getZIndex()),Ma(e)}function UC(e,t,i){x4(e,t,i)}function BC(e,t){t.destroy(),t.off(lg),Ma(e)}function GC(e,t){t.destroy(),t.off(lg),Ma(e)}function $C(e,t,i){console.error(`Text components are not yet supported in ReactKonva. You text is: "${i}"`)}function WC(e,t,i){}function HC(e,t,i,a,u){c0(e,u,a)}function qC(e){e.hide(),Ma(e)}function KC(e){}function YC(e,t){(t.visible==null||t.visible)&&e.show()}function XC(e,t){}function QC(e){}function ZC(){}const JC=()=>v4.DefaultEventPriority,eE=Object.freeze(Object.defineProperty({__proto__:null,appendChild:zC,appendChildToContainer:VC,appendInitialChild:xC,cancelTimeout:IC,clearContainer:QC,commitMount:WC,commitTextUpdate:$C,commitUpdate:HC,createInstance:SC,createTextInstance:wC,detachDeletedInstance:ZC,finalizeInitialChildren:_C,getChildHostContext:bC,getCurrentEventPriority:JC,getPublicInstance:CC,getRootHostContext:AC,hideInstance:qC,hideTextInstance:KC,idlePriority:Mp.unstable_IdlePriority,insertBefore:x4,insertInContainerBefore:UC,isPrimaryRenderer:jC,noTimeout:LC,now:Mp.unstable_now,prepareForCommit:EC,preparePortalMount:PC,prepareUpdate:kC,removeChild:BC,removeChildFromContainer:GC,resetAfterCommit:TC,resetTextContent:RC,run:Mp.unstable_runWithPriority,scheduleTimeout:MC,shouldDeprioritizeSubtree:NC,shouldSetTextContent:OC,supportsMutation:FC,unhideInstance:YC,unhideTextInstance:XC,warnsIfNotActing:DC},Symbol.toStringTag,{value:"Module"}));var tE=Object.defineProperty,nE=Object.defineProperties,rE=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,iE=Object.prototype.hasOwnProperty,sE=Object.prototype.propertyIsEnumerable,xy=(e,t,i)=>t in e?tE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Sy=(e,t)=>{for(var i in t||(t={}))iE.call(t,i)&&xy(e,i,t[i]);if(yy)for(var i of yy(t))sE.call(t,i)&&xy(e,i,t[i]);return e},oE=(e,t)=>nE(e,rE(t)),wy,_y;typeof window<"u"&&((wy=window.document)!=null&&wy.createElement||((_y=window.navigator)==null?void 0:_y.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function S4(e,t,i){if(!e)return;if(i(e)===!0)return e;let a=e.child;for(;a;){const u=S4(a,t,i);if(u)return u;a=a.sibling}}function w4(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const Cy=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=Cy;return}return Cy.apply(this,arguments)};const ug=w4(te.createContext(null));class _4 extends te.Component{render(){return te.createElement(ug.Provider,{value:this._reactInternals},this.props.children)}}function aE(){const e=te.useContext(ug);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=te.useId();return te.useMemo(()=>{for(const a of[e,e==null?void 0:e.alternate]){if(!a)continue;const u=S4(a,!1,d=>{let c=d.memoizedState;for(;c;){if(c.memoizedState===t)return!0;c=c.next}});if(u)return u}},[e,t])}function lE(){const e=aE(),[t]=te.useState(()=>new Map);t.clear();let i=e;for(;i;){if(i.type&&typeof i.type=="object"){const u=i.type._context===void 0&&i.type.Provider===i.type?i.type:i.type._context;u&&u!==ug&&!t.has(u)&&t.set(u,te.useContext(w4(u)))}i=i.return}return t}function uE(){const e=lE();return te.useMemo(()=>Array.from(e.keys()).reduce((t,i)=>a=>te.createElement(t,null,te.createElement(i.Provider,oE(Sy({},a),{value:e.get(i)}))),t=>te.createElement(_4,Sy({},t))),[e])}function cE(e){const t=nr.useRef({});return nr.useLayoutEffect(()=>{t.current=e}),nr.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const dE=e=>{const t=nr.useRef(),i=nr.useRef(),a=nr.useRef(),u=cE(e),d=uE(),c=h=>{const{forwardedRef:m}=e;m&&(typeof m=="function"?m(h):m.current=h)};return nr.useLayoutEffect(()=>(i.current=new lh.Stage({width:e.width,height:e.height,container:t.current}),c(i.current),a.current=Gd.createContainer(i.current,v4.LegacyRoot,!1,null),Gd.updateContainer(nr.createElement(d,{},e.children),a.current),()=>{lh.isBrowser&&(c(null),Gd.updateContainer(null,a.current,null),i.current.destroy())}),[]),nr.useLayoutEffect(()=>{c(i.current),c0(i.current,e,u),Gd.updateContainer(nr.createElement(d,{},e.children),a.current,null)}),nr.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},C4="Layer",Mo="Group",Ri="Rect",Kn="Circle",It="Line",Ch="Text",Iu="RegularPolygon",Gd=dC(eE);Gd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:nr.version,rendererPackageName:"react-konva"});const E4=nr.forwardRef((e,t)=>nr.createElement(_4,{},nr.createElement(dE,{...e,forwardedRef:t})));function P4({arenaWidth:e,arenaHeight:t}){const u=[];for(let d=0;d<=Math.ceil(t/80);d++)u.push(A.jsx(It,{points:[0,d*80,e,d*80],stroke:"rgba(255, 255, 255, 0.06)",strokeWidth:d%5===0?1:.5,dash:d%5===0?[]:[5,10]},"grid-h-"+d));for(let d=0;d<=Math.ceil(e/80);d++)u.push(A.jsx(It,{points:[d*80,0,d*80,t],stroke:"rgba(255, 255, 255, 0.06)",strokeWidth:d%5===0?1:.5,dash:d%5===0?[]:[5,10]},"grid-v-"+d));for(let d=0;d<Math.ceil(t/80)+1;d++)for(let c=0;c<Math.ceil(e/80)+1;c++)if((c+d)%3===0){const h=c*80,m=d*80,f=[];for(let y=0;y<6;y++){const g=Math.PI/3*y-Math.PI/6;f.push(h+40*Math.cos(g),m+40*Math.sin(g))}u.push(A.jsx(It,{points:f,closed:!0,stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:.5,dash:[5,5]},`hex-${c}-${d}`))}return u.push(A.jsx(It,{points:[0,0,e,t],stroke:"rgba(255, 255, 255, 0.08)",strokeWidth:1,dash:[10,15]},"diagonal-1")),u.push(A.jsx(It,{points:[e,0,0,t],stroke:"rgba(255, 255, 255, 0.08)",strokeWidth:1,dash:[10,15]},"diagonal-2")),A.jsx(A.Fragment,{children:u})}P4.propTypes={arenaWidth:me.number.isRequired,arenaHeight:me.number.isRequired};const To=5;function k4({bullet:e}){return A.jsxs(Mo,{children:[A.jsx(It,{points:[e.x-Math.cos(e.direction*Math.PI/180)*To*6,e.y+Math.sin(e.direction*Math.PI/180)*To*6,e.x,e.y],stroke:"rgba(255, 165, 0, 0.6)",strokeWidth:To,lineCap:"round"}),A.jsx(Kn,{x:e.x,y:e.y,radius:To*3,fill:"rgba(255, 165, 0, 0.1)"}),A.jsx(Kn,{x:e.x,y:e.y,radius:To*2,fill:"rgba(255, 165, 0, 0.3)"}),A.jsx(Kn,{x:e.x,y:e.y,radius:To,fill:"#FFA500"}),A.jsx(Kn,{x:e.x-To/3,y:e.y-To/3,radius:To/3,fill:"rgba(255, 255, 255, 0.8)"})]})}k4.propTypes={bullet:me.shape({x:me.number.isRequired,y:me.number.isRequired,direction:me.number.isRequired}).isRequired};function T4({explosion:e}){return A.jsxs(Mo,{children:[A.jsx(Kn,{x:e.x,y:e.y,radius:e.radius*1.2,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:e.radius*1.2,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0)",.7,"rgba(255, 165, 0, 0.1)",1,"rgba(255, 0, 0, 0)"]}),A.jsx(Kn,{x:e.x,y:e.y,radius:e.radius,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:e.radius,fillRadialGradientColorStops:[0,"rgba(255, 255, 255, 0.9)",.2,"rgba(255, 255, 0, 0.8)",.5,"rgba(255, 165, 0, 0.6)",.8,"rgba(255, 0, 0, 0.4)",1,"rgba(0, 0, 0, 0)"]})]})}T4.propTypes={explosion:me.shape({x:me.number.isRequired,y:me.number.isRequired,radius:me.number.isRequired}).isRequired};function Pi(e,t){let i=parseInt(e.substring(1,3),16),a=parseInt(e.substring(3,5),16),u=parseInt(e.substring(5,7),16);return i=parseInt(i*(100+t)/100),a=parseInt(a*(100+t)/100),u=parseInt(u*(100+t)/100),i=i<255?i:255,a=a<255?a:255,u=u<255?u:255,i=Math.max(0,i).toString(16).padStart(2,"0"),a=Math.max(0,a).toString(16).padStart(2,"0"),u=Math.max(0,u).toString(16).padStart(2,"0"),`#${i}${a}${u}`}function $u({hp:e,x:t,y:i,size:a,color:u}){return A.jsxs(A.Fragment,{children:[A.jsx(Ri,{x:t-25,y:i-a-15,width:50,height:8,fill:"rgba(0,0,0,0.6)",cornerRadius:4,shadowColor:"black",shadowBlur:2,shadowOffset:{x:0,y:1},shadowOpacity:.5}),A.jsx(Ri,{x:t-23,y:i-a-14,width:e/3*46,height:6,fill:u,cornerRadius:3})]})}$u.propTypes={hp:me.number.isRequired,x:me.number.isRequired,y:me.number.isRequired,size:me.number.isRequired,color:me.string.isRequired};const fr=38;function R4({x:e,y:t,rotation:i,hp:a,username:u,isDead:d,color:c="#3498db"}){if(d)return null;const h=fr*.8,m=6,f=5;let y="#4CAF50";a===2&&(y="#FFC107"),a===1&&(y="#F44336");const g=i*Math.PI/180,x=Math.cos(g),S=-Math.sin(g),w=-Math.sin(g),P=-Math.cos(g),k=e+f*w,b=t+f*P,R=e-f*w,C=t-f*P,I=k+x*h,L=b+S*h,B=R+x*h,W=C+S*h;return A.jsxs(Mo,{children:[A.jsx(Iu,{x:e+5,y:t+5,sides:6,radius:fr/2,rotation:0,fill:"rgba(0,0,0,0.5)",opacity:.6}),A.jsx(Ri,{x:e-fr/2-5,y:t-fr/3,width:fr+10,height:fr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Ri,{x:e-fr/2-5,y:t+fr/12,width:fr+10,height:fr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Iu,{x:e,y:t,sides:6,radius:fr/2,rotation:0,fillRadialGradientStartPoint:{x:-38/4,y:-38/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:fr,fillRadialGradientColorStops:[0,Pi(y,30),1,Pi(y,-30)],stroke:"#333",strokeWidth:3}),A.jsx(Iu,{x:e,y:t,sides:6,radius:fr/2-5,fill:Pi(y,-40),stroke:"#222",strokeWidth:1}),A.jsx(Kn,{x:e,y:t,radius:fr/3,fill:"#444",stroke:"#333",strokeWidth:2}),A.jsx(Kn,{x:e,y:t,radius:fr/5,fill:"#555",stroke:"#333",strokeWidth:1}),A.jsx(It,{points:[k+3,b+3,I+3,L+3],stroke:"rgba(0,0,0,0.6)",strokeWidth:m+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[R+3,C+3,B+3,W+3],stroke:"rgba(0,0,0,0.6)",strokeWidth:m+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[k,b,I,L],stroke:"#333",strokeWidth:m,lineCap:"round"}),A.jsx(It,{points:[R,C,B,W],stroke:"#333",strokeWidth:m,lineCap:"round"}),A.jsx(Ch,{x:e-50,y:t+fr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),A.jsx($u,{hp:a,x:e,y:t,size:fr,color:y})]})}R4.propTypes={x:me.number.isRequired,y:me.number.isRequired,rotation:me.number.isRequired,hp:me.number.isRequired,username:me.string.isRequired,isDead:me.bool.isRequired,color:me.string};const pr=38;function N4({x:e,y:t,rotation:i,hp:a,username:u,isDead:d,color:c="#f1c40f"}){if(d)return null;const h=pr*1.2,m=8;let f="#4CAF50";return a===2&&(f="#FFC107"),a===1&&(f="#F44336"),A.jsxs(Mo,{children:[A.jsx(Kn,{x:e+5,y:t+5,radius:pr/2+3,fill:"rgba(0,0,0,0.5)",opacity:.6}),A.jsx(Ri,{x:e-pr/2-5,y:t-pr/3,width:pr+10,height:pr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Ri,{x:e-pr/2-5,y:t+pr/12,width:pr+10,height:pr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Iu,{x:e,y:t,sides:8,radius:pr/2,fillRadialGradientStartPoint:{x:-38/4,y:-38/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:pr,fillRadialGradientColorStops:[0,Pi(f,30),1,Pi(f,-30)],stroke:"#333",strokeWidth:3,rotation:45}),A.jsx(Iu,{x:e,y:t,sides:8,radius:pr/2-8,fill:Pi(f,-40),stroke:"#222",strokeWidth:1,rotation:45}),A.jsx(It,{points:[e+3,t+3,e+3+Math.cos(i*Math.PI/180)*h,t+3-Math.sin(i*Math.PI/180)*h],stroke:"rgba(0,0,0,0.6)",strokeWidth:m+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[e,t,e+Math.cos(i*Math.PI/180)*h,t-Math.sin(i*Math.PI/180)*h],stroke:"#333",strokeWidth:m,lineCap:"round"}),A.jsx(It,{points:[e,t,e+Math.cos(i*Math.PI/180)*(h/3),t-Math.sin(i*Math.PI/180)*(h/3)],stroke:"#222",strokeWidth:m+4,lineCap:"round"}),A.jsx(Kn,{x:e,y:t,radius:pr/3,fill:Pi(f,-20),stroke:"#333",strokeWidth:2}),A.jsx(Kn,{x:e,y:t,radius:pr/5,fill:"#444",stroke:"#222",strokeWidth:1}),A.jsx(Ch,{x:e-50,y:t+pr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),A.jsx($u,{hp:a,x:e,y:t,size:pr,color:f})]})}N4.propTypes={x:me.number.isRequired,y:me.number.isRequired,rotation:me.number.isRequired,hp:me.number.isRequired,username:me.string.isRequired,isDead:me.bool.isRequired,color:me.string};const _l=30;function A4({x:e,y:t,rotation:i,hp:a,username:u,isDead:d,color:c="#2ecc71"}){if(d)return null;const h=_l;let m="#4CAF50";return a===2&&(m="#FFC107"),a===1&&(m="#F44336"),A.jsxs(Mo,{children:[A.jsx(Kn,{x:e+4,y:t+4,radius:_l/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),A.jsx(Kn,{x:e,y:t,radius:_l/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:_l,fillRadialGradientColorStops:[0,Pi(m,40),1,Pi(m,-20)],stroke:"#000",strokeWidth:2}),A.jsx(It,{points:[e+2,t+2,e+2+Math.cos(i*Math.PI/180)*h,t+2-Math.sin(i*Math.PI/180)*h],stroke:"rgba(0,0,0,0.5)",strokeWidth:6,lineCap:"round",opacity:.5}),A.jsx(It,{points:[e,t,e+Math.cos(i*Math.PI/180)*h,t-Math.sin(i*Math.PI/180)*h],stroke:"#333",strokeWidth:5,lineCap:"round"}),A.jsx(Kn,{x:e,y:t,radius:_l/4,fill:"#333",stroke:"#000",strokeWidth:1}),A.jsx(Ch,{x:e-50,y:t+_l+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),A.jsx($u,{hp:a,x:e,y:t,size:_l,color:m})]})}A4.propTypes={x:me.number.isRequired,y:me.number.isRequired,rotation:me.number.isRequired,hp:me.number.isRequired,username:me.string.isRequired,isDead:me.bool.isRequired,color:me.string};const Tr=30;function b4({x:e,y:t,rotation:i,hp:a,username:u,isDead:d,color:c="#e74c3c"}){if(d)return null;const h=Tr*.8,m=Tr*.6,f=4,y=4,g=i*Math.PI/180,x=Math.cos(g),S=-Math.sin(g),w=-Math.sin(g),P=-Math.cos(g),k=e,b=t,R=e+x*h,C=t+S*h,I=e+y*w,L=t+y*P,B=I+x*m,W=L+S*m,F=e-y*w,q=t-y*P,G=F+x*m,X=q+S*m;let ne="#4CAF50";return a===2&&(ne="#FFC107"),a===1&&(ne="#F44336"),A.jsxs(Mo,{children:[A.jsx(Kn,{x:e+4,y:t+4,radius:Tr/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),A.jsx(Ri,{x:e-Tr/2-5,y:t-Tr/3,width:Tr+10,height:Tr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Ri,{x:e-Tr/2-5,y:t+Tr/12,width:Tr+10,height:Tr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Kn,{x:e,y:t,radius:Tr/2,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Tr,fillRadialGradientColorStops:[0,Pi(ne,40),1,Pi(ne,-20)],stroke:"#000",strokeWidth:2}),A.jsx(It,{points:[k+2,b+2,R+2,C+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[I+2,L+2,B+2,W+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[F+2,q+2,G+2,X+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:f+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[k,b,R,C],stroke:"#333",strokeWidth:f,lineCap:"round"}),A.jsx(It,{points:[I,L,B,W],stroke:"#333",strokeWidth:f,lineCap:"round"}),A.jsx(It,{points:[F,q,G,X],stroke:"#333",strokeWidth:f,lineCap:"round"}),A.jsx(Kn,{x:e,y:t,radius:Tr/4,fill:"#333",stroke:"#000",strokeWidth:1}),A.jsx(Ch,{x:e-50,y:t+Tr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:100,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),A.jsx($u,{hp:a,x:e,y:t,size:Tr,color:ne})]})}b4.propTypes={x:me.number.isRequired,y:me.number.isRequired,rotation:me.number.isRequired,hp:me.number.isRequired,username:me.string.isRequired,isDead:me.bool.isRequired,color:me.string};const Yr=30;function M4({x:e,y:t,rotation:i,hp:a,username:u,isDead:d,color:c="#9b59b6"}){if(d)return null;const h=Yr,m=5,f=[.25,.5,.75],y=6,g=10,x="#00BFFF";let S="#4CAF50";a===2&&(S="#FFC107"),a===1&&(S="#F44336");const w=i*Math.PI/180,P=Math.cos(w),k=-Math.sin(w),b=-Math.sin(w),R=-Math.cos(w),C=e,I=t,L=e+P*h,B=t+k*h,W=[-1,-4,1,-2,-1,0,1,2,-1,4],F=W.map((X,ne)=>ne%2===0?e+g+X:t+X),G=W.map((X,ne)=>ne%2===0?-X:X).map((X,ne)=>ne%2===0?e-g+X:t+X);return A.jsxs(Mo,{children:[A.jsx(Kn,{x:e+4,y:t+4,radius:Yr/2+2,fill:"rgba(0,0,0,0.4)",opacity:.5}),A.jsx(Ri,{x:e-Yr/2-5,y:t-Yr/3,width:Yr+10,height:Yr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Ri,{x:e-Yr/2-5,y:t+Yr/12,width:Yr+10,height:Yr/4,fill:"#333",cornerRadius:3,stroke:"#222",strokeWidth:1}),A.jsx(Iu,{x:e,y:t,sides:6,radius:Yr/2,rotation:0,fillRadialGradientStartPoint:{x:-30/4,y:-30/4},fillRadialGradientStartRadius:1,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:Yr,fillRadialGradientColorStops:[0,Pi(S,40),1,Pi(S,-20)],stroke:"#000",strokeWidth:2}),A.jsx(It,{points:F,stroke:x,strokeWidth:2}),A.jsx(It,{points:G,stroke:x,strokeWidth:2}),A.jsx(It,{points:[C+2,I+2,L+2,B+2],stroke:"rgba(0,0,0,0.5)",strokeWidth:m+2,lineCap:"round",opacity:.5}),A.jsx(It,{points:[C,I,L,B],stroke:"#333",strokeWidth:m,lineCap:"round"}),f.map(X=>{const ne=C+X*(L-C),z=I+X*(B-I);return A.jsx(It,{points:[ne-y/2*b,z-y/2*R,ne+y/2*b,z+y/2*R],stroke:x,strokeWidth:2,lineCap:"round"},X)}),A.jsx(Kn,{x:e,y:t,radius:Yr/4,fill:"#333",stroke:"#000",strokeWidth:1}),A.jsx(Ch,{x:e-50,y:t+Yr+5,text:u,fontSize:14,fontStyle:"bold",fill:c,align:"center",width:110,shadowColor:"black",shadowBlur:4,shadowOffset:{x:0,y:0},shadowOpacity:1}),A.jsx($u,{hp:a,x:e,y:t,size:Yr,color:S})]})}M4.propTypes={x:me.number.isRequired,y:me.number.isRequired,rotation:me.number.isRequired,hp:me.number.isRequired,username:me.string.isRequired,isDead:me.bool.isRequired,color:me.string};const I4={"ST-N01":A4,"GD-N02":R4,"SH-N03":b4,"JG-N04":N4,"TB-N05":M4};function L4({gameState:e}){const{arenaWidth:t,arenaHeight:i,players:a,bullets:u,explosions:d}=e,c=100;return A.jsxs(A.Fragment,{children:[A.jsx(Ri,{x:0,y:0,width:t,height:i,fill:"#0d0d10"}),A.jsx(Ri,{x:0,y:0,width:t,height:i,fillRadialGradientStartPoint:{x:t/2,y:i/2},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:t/2,y:i/2},fillRadialGradientEndRadius:Math.max(t,i)/1.5,fillRadialGradientColorStops:[0,"rgba(50, 50, 70, 0.2)",1,"rgba(10, 10, 15, 0)"]}),A.jsx(P4,{arenaWidth:t,arenaHeight:i}),A.jsx(Ri,{x:0,y:0,width:t,height:i,stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:2}),A.jsxs(Mo,{children:[A.jsx(It,{points:[0,0,c,0,c,2,2,2,2,c,0,c],closed:!0,fill:"rgba(255, 255, 255, 0.2)"}),A.jsx(It,{points:[t,0,t-c,0,t-c,2,t-2,2,t-2,c,t,c],closed:!0,fill:"rgba(255, 255, 255, 0.2)"}),A.jsx(It,{points:[0,i,c,i,c,i-2,2,i-2,2,i-c,0,i-c],closed:!0,fill:"rgba(255, 255, 255, 0.2)"}),A.jsx(It,{points:[t,i,t-c,i,t-c,i-2,t-2,i-2,t-2,i-c,t,i-c],closed:!0,fill:"rgba(255, 255, 255, 0.2)"})]}),A.jsxs(Mo,{children:[A.jsx(It,{points:[t/2,0,t/2,i],stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1,dash:[10,20]}),A.jsx(It,{points:[0,i/2,t,i/2],stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1,dash:[10,20]})]}),d.map((h,m)=>A.jsx(T4,{explosion:h},"explosion-"+m)),u.map((h,m)=>A.jsx(k4,{bullet:h},"bullet-"+m)),Array.from(a.entries()).map(([h,m])=>{const f=I4[m.tank.type];return A.jsx(f,{x:m.x,y:m.y,rotation:m.direction,hp:m.hp,username:m.username,isDead:m.isDead},`tank-${h}`)})]})}L4.propTypes={gameState:me.shape({arenaWidth:me.number.isRequired,arenaHeight:me.number.isRequired,players:me.object.isRequired,bullets:me.arrayOf(me.object).isRequired,explosions:me.arrayOf(me.object).isRequired}).isRequired};function O4({players:e}){const t=Array.from(e.entries()).map(([a,u])=>({id:a,username:u.username||`Player ${a.substr(0,4)}`,score:u.score||0})).sort((a,u)=>u.score-a.score).slice(0,5);return A.jsxs("div",{className:"absolute top-20 right-4 p-4 text-white shadow-lg w-64 border-l-2 border-white bg-[#1a1a20]/80 overflow-hidden",style:{clipPath:"polygon(0% 0%, 100% 0%, 95% 100%, 0% 100%, 5% 50%)"},children:[A.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0.03)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.03)_50%,rgba(255,255,255,0.03)_75%,transparent_75%,transparent)] bg-[length:10px_10px]"}),A.jsx("div",{className:"absolute top-0 right-0 w-[40%] h-1 bg-white/50"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-[40%] h-1 bg-white/50"}),A.jsxs("h3",{className:"text-white font-mono uppercase tracking-wider text-sm mb-3 flex items-center z-10 relative",children:[A.jsx("span",{className:"border border-white/30 px-2 py-0.5 mr-2",children:"R-01"})," ","DATA//RANKING"]}),A.jsxs("div",{className:"space-y-2 z-10 relative",children:[t.map((a,u)=>A.jsxs("div",{className:`flex items-center justify-between py-1.5 
                            ${u!==t.length-1?"border-b border-white/10":""}`,children:[A.jsxs("div",{className:"flex items-center",children:[A.jsxs("div",{className:"w-6 h-6 flex items-center justify-center mr-2 relative",children:[A.jsx("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full",children:A.jsx("polygon",{points:"50,0 100,25 100,75 50,100 0,75 0,25",fill:u===0?"rgba(255, 255, 255, 0.8)":"#1a1a20",stroke:u===0?"white":"rgba(255, 255, 255, 0.3)",strokeWidth:"3"})}),A.jsx("span",{className:`z-10 font-mono font-bold ${u===0?"text-black":"text-white"}`,children:u+1})]}),A.jsx("span",{className:"truncate max-w-[120px] font-mono",title:a.username,children:a.username})]}),A.jsx("span",{className:"font-mono text-white bg-white/10 px-1 border border-white/20",children:a.score})]},a.id)),t.length===0&&A.jsx("div",{className:"text-center text-white/40 py-2 font-mono border border-white/10",children:"--NO DATA AVAILABLE--"})]}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}O4.propTypes={players:me.oneOfType([me.instanceOf(Map),me.object]).isRequired};const hE={BASE_URL:"/tanki.io/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://tanki-io.onrender.com/api",VITE_CLIENT_URL:"https://zestones.github.io/tanki.io/",VITE_WS_URL:"https://tanki-io.onrender.com/"},d0={wsUrl:"https://tanki-io.onrender.com/",clientUrl:"https://zestones.github.io/tanki.io/",apiUrl:"https://tanki-io.onrender.com/api"},fE="production";console.log("Current mode:",fE);console.log("VITE_WS_URL:","https://tanki-io.onrender.com/");console.log("VITE_CLIENT_URL:","https://zestones.github.io/tanki.io/");console.log("All env vars:",hE);function pE(){return A.jsxs("div",{className:"w-full bg-black/60 backdrop-blur-md border-t border-white/20 py-3 px-4 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-5"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 pointer-events-none",children:A.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleY(-1)"},children:[A.jsx("path",{d:"M0 0L64 0L64 12L12 12L12 64L0 64L0 0Z",fill:"rgba(255, 255, 255, 0.1)"}),A.jsx("path",{d:"M0 0L60 0L60 2L2 2L2 60L0 60L0 0Z",fill:"rgba(255, 255, 255, 0.15)"})]})}),A.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 pointer-events-none",children:A.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(-1, -1)"},children:[A.jsx("path",{d:"M0 0L64 0L64 12L12 12L12 64L0 64L0 0Z",fill:"rgba(255, 255, 255, 0.1)"}),A.jsx("path",{d:"M0 0L60 0L60 2L2 2L2 60L0 60L0 0Z",fill:"rgba(255, 255, 255, 0.15)"})]})}),A.jsx("div",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-center relative",children:A.jsxs("div",{className:"flex items-center bg-white/5 border border-white/20 px-4 py-1",style:{clipPath:"polygon(2% 0%, 98% 0%, 100% 100%, 0% 100%)"},children:[A.jsx("div",{className:"border border-white/30 px-2 py-0.5 mr-3",children:A.jsx("span",{className:"text-white/70 font-mono text-xs",children:"INFO"})}),A.jsxs("div",{className:"text-sm text-white/80 font-mono",children:["JOIN BATTLE AT ",A.jsx("span",{className:"text-white font-bold",children:d0.clientUrl})]})]})}),A.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}function j4({playersCount:e,bulletsCount:t,showStats:i,onToggleStats:a}){return A.jsxs("div",{className:"w-full bg-black/60 backdrop-blur-md border-b border-white/20 shadow-lg z-10 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-5"}),A.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 pointer-events-none",children:A.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M64 0L0 0L0 12L52 12L52 64L64 64L64 0Z",fill:"rgba(255, 255, 255, 0.1)",style:{transform:"scale(-1, 1)"}}),A.jsx("path",{d:"M64 0L4 0L4 2L62 2L62 60L64 60L64 0Z",fill:"rgba(255, 255, 255, 0.15)",style:{transform:"scale(-1, 1)"}})]})}),A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex flex-wrap items-center justify-between relative",children:[A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsxs("div",{className:"w-10 h-10 relative mr-3",children:[A.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:A.jsx("polygon",{points:"50,0 95,25 95,75 50,100 5,75 5,25",fill:"#1a1a20",stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:"2"})}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),A.jsx("h1",{className:"text-3xl font-bold text-white font-mono tracking-wider",children:"TANK.IO"})]}),A.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[A.jsxs("div",{className:"px-3 py-1 bg-white/10 backdrop-blur-sm border border-white/20 flex items-center",style:{clipPath:"polygon(0% 0%, 100% 0%, 95% 100%, 0% 100%)"},children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),A.jsxs("span",{className:"text-white/70 font-mono",children:["PLAYERS: ",A.jsx("span",{className:"text-white",children:e})]})]}),A.jsxs("div",{className:"px-3 py-1 bg-white/10 backdrop-blur-sm border border-white/20 flex items-center",style:{clipPath:"polygon(5% 0%, 100% 0%, 100% 100%, 0% 100%)"},children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),A.jsxs("span",{className:"text-white/70 font-mono",children:["BULLETS: ",A.jsx("span",{className:"text-white",children:t})]})]})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center mr-2 bg-white/5 border border-white/10 px-2 py-1",children:[A.jsxs("div",{className:"relative w-4 h-4 mr-2",children:[A.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:A.jsx("polygon",{points:"50,5 95,25 95,75 50,95 5,75 5,25",stroke:"rgba(0, 255, 128, 0.5)",fill:"transparent",strokeWidth:"10",className:"animate-pulse"})}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})})]}),A.jsx("span",{className:"text-white/80 text-sm font-mono",children:"SPECTATOR MODE"})]}),A.jsxs("button",{onClick:a,className:"px-3 py-1 bg-white/10 hover:bg-white/15 text-white border border-white/20 transition-colors duration-200 flex items-center gap-1 backdrop-blur-sm",style:{clipPath:"polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%)"},children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),A.jsx("span",{className:"font-mono",children:i?"HIDE STATS":"SHOW STATS"})]})]})]}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}j4.propTypes={playersCount:me.number.isRequired,bulletsCount:me.number.isRequired,showStats:me.bool.isRequired,onToggleStats:me.func.isRequired};function D4({gameState:e,viewportSize:t}){return A.jsxs("div",{className:"absolute top-20 left-4 bg-black/60 backdrop-blur-sm text-white p-4 rounded-lg text-sm border border-white/10 shadow-lg max-w-xs",children:[A.jsx("h3",{className:"font-bold mb-2 text-indigo-300",children:"Game Stats"}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx("div",{children:"Players:"}),A.jsx("div",{className:"text-right",children:e.players.size}),A.jsx("div",{children:"Bullets:"}),A.jsx("div",{className:"text-right",children:e.bullets.length}),A.jsx("div",{children:"Explosions:"}),A.jsx("div",{className:"text-right",children:e.explosions.length}),A.jsx("div",{children:"Arena Size:"}),A.jsxs("div",{className:"text-right",children:[e.arenaWidth,"×",e.arenaHeight]}),A.jsx("div",{children:"Viewport:"}),A.jsxs("div",{className:"text-right",children:[t.width,"×",t.height]})]})]})}D4.propTypes={gameState:me.shape({players:me.shape({size:me.number}),bullets:me.array,explosions:me.array,arenaWidth:me.number,arenaHeight:me.number}).isRequired,viewportSize:me.shape({width:me.number,height:me.number}).isRequired};function F4({error:e}){return A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center p-6",children:A.jsxs("div",{className:"text-center bg-gray-800/80 backdrop-blur-sm p-8 rounded-xl shadow-2xl max-w-md border border-red-500/30",children:[A.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-red-500",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),A.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"Connection Failed"}),A.jsx("p",{className:"text-red-400 mb-6",children:e}),A.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 font-medium",children:"Retry Connection"})]})})}F4.propTypes={error:me.string.isRequired};function z4(){return A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center",children:A.jsxs("div",{className:"text-center",children:[A.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[A.jsx("div",{className:"absolute inset-0 w-full h-full border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),A.jsx("div",{className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] border-4 border-indigo-300 border-b-transparent rounded-full animate-spin animation-delay-150"})]}),A.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"TANK.IO"}),A.jsx("p",{className:"text-indigo-300 text-lg",children:"Connecting to battlefield..."})]})})}function mE(){const[e,t]=te.useState({players:new Map,bullets:[],explosions:[],arenaWidth:2e3,arenaHeight:1200}),[i,a]=te.useState(!0),[u,d]=te.useState(null),[c,h]=te.useState(!1),m=te.useRef(null),f=te.useRef(null),y=tg(f),g=te.useRef(null);return te.useEffect(()=>{g.current&&y.width&&y.height&&g.current.send("updateArenaSize",{width:y.width,height:y.height})},[y.width,y.height]),te.useEffect(()=>{const x=new u4.Client(d0.wsUrl);a(!0),x.joinOrCreate("game",{isSpectator:!0}).then(S=>{a(!1),g.current=S,y.width&&y.height&&S.send("updateArenaSize",{width:y.width,height:y.height}),S.onStateChange(w=>{t({players:w.players,bullets:Array.from(w.bullets),explosions:Array.from(w.explosions),arenaWidth:w.arenaWidth,arenaHeight:w.arenaHeight})})}).catch(S=>{console.error("Could not join room as spectator:",S),a(!1),d("Failed to connect to game server")})},[]),i?A.jsx(z4,{}):u?A.jsx(F4,{error:u}):A.jsxs("div",{className:"flex flex-col h-screen bg-[#141418] overflow-hidden relative",children:[A.jsx(j4,{playersCount:e.players.size,bulletsCount:e.bullets.length,showStats:c,onToggleStats:()=>h(!c)}),A.jsxs("div",{ref:f,className:"flex-1 w-full overflow-hidden",children:[A.jsx(E4,{ref:m,width:y.width||window.innerWidth,height:y.height||window.innerHeight-100,className:"w-full h-full",children:A.jsx(C4,{children:A.jsx(L4,{gameState:e})})}),A.jsx(O4,{players:e.players}),c&&A.jsx(D4,{gameState:e,viewportSize:y}),A.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(255,255,255,0.02)_50%)] bg-[length:100%_2px] pointer-events-none z-10"}),A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 opacity-10 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[A.jsx("polygon",{points:"50,3 97,25 97,75 50,97 3,75 3,25",stroke:"rgba(255,255,255,0.2)",strokeWidth:"1"}),A.jsx("polygon",{points:"50,15 85,30 85,70 50,85 15,70 15,30",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),A.jsx("polygon",{points:"50,30 70,40 70,60 50,70 30,60 30,40",stroke:"rgba(255,255,255,0.25)",strokeWidth:"1"})]})})]}),A.jsx(pE,{}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-white/30 via-transparent to-white/30"})]})}function um({onMove:e,onStop:t,size:i="w-48 h-48",type:a="movement"}){const[u,d]=te.useState({x:0,y:0}),[c,h]=te.useState(!1),[m,f]=te.useState(0),y=te.useRef(null),g=te.useRef(null),x=te.useRef({degrees:0,isMoving:!1}),S=te.useRef(null),w=16;te.useEffect(()=>(c?g.current=setInterval(()=>{x.current.isMoving&&e(x.current.degrees,x.current.isMoving,a)},w):g.current&&(clearInterval(g.current),g.current=null),()=>{g.current&&(clearInterval(g.current),g.current=null)}),[c,e,a]);const P=(V,$,Z=null)=>{if(!y.current)return;S.current=Z,h(!0);const Q=y.current.getBoundingClientRect(),re=Q.left+Q.width/2,ie=Q.top+Q.height/2;k(V,$,re,ie)},k=(V,$,Z,Q)=>{if(!c||!y.current)return;if(!Z||!Q){const Te=y.current.getBoundingClientRect();Z=Te.left+Te.width/2,Q=Te.top+Te.height/2}let re=V-Z,ie=-($-Q);const K=Math.sqrt(re*re+ie*ie);let se=Math.atan2(ie,re)*180/Math.PI%360;se<0&&(se+=360),f(se);const Se=Math.min(50,K);d({x:Math.cos(Math.atan2($-Q,V-Z))*Se,y:Math.sin(Math.atan2($-Q,V-Z))*Se});const be=K>5;x.current={degrees:se,isMoving:be}},b=()=>{h(!1),d({x:0,y:0}),t(m,a),S.current=null,g.current&&(clearInterval(g.current),g.current=null)},R=V=>{c||(V.preventDefault(),window.addEventListener("mousemove",C),window.addEventListener("mouseup",I),P(V.clientX,V.clientY))},C=V=>{k(V.clientX,V.clientY)},I=()=>{b(),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",I)},L=V=>{if(c)return;const $=y.current.getBoundingClientRect(),Z=Array.from(V.touches).find(Q=>Q.clientX>=$.left&&Q.clientX<=$.right&&Q.clientY>=$.top&&Q.clientY<=$.bottom);Z&&P(Z.clientX,Z.clientY,Z.identifier)},B=V=>{if(!c||S.current===null)return;const $=Array.from(V.touches).findIndex(Q=>Q.identifier===S.current);if($===-1)return;const Z=V.touches[$];k(Z.clientX,Z.clientY)},W=V=>{!Array.from(V.touches).some(Z=>Z.identifier===S.current)&&c&&b()};te.useEffect(()=>{const V=y.current;if(V)return V.addEventListener("touchstart",L,{passive:!0}),window.addEventListener("touchmove",B,{passive:!0}),window.addEventListener("touchend",W,{passive:!0}),window.addEventListener("touchcancel",W,{passive:!0}),()=>{V.removeEventListener("touchstart",L),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",W),window.removeEventListener("touchcancel",W)}},[c]);const F=a==="movement"?"border-indigo-600/30":"border-red-600/30",q=a==="movement"?"bg-indigo-500/20":"bg-red-500/20",G=a==="movement"?"from-indigo-500 to-indigo-700":"from-red-500 to-red-700",X=a==="movement"?"bg-indigo-600":"bg-red-600",ne=a==="movement"?"bg-indigo-400/30":"bg-red-400/30",z=a==="movement"?"border-indigo-500/10":"border-red-500/10";return A.jsxs("div",{ref:y,className:`relative ${i} bg-black/40 backdrop-blur-sm rounded-full border-2 ${F} shadow-lg flex items-center justify-center`,onMouseDown:R,children:[A.jsxs("div",{className:"absolute w-full h-full rounded-full",children:[A.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-1 h-8 ${q} rounded-full`}),A.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-8 ${q} rounded-full`}),A.jsx("div",{className:`absolute top-1/2 left-0 -translate-y-1/2 w-8 h-1 ${q} rounded-full`}),A.jsx("div",{className:`absolute top-1/2 right-0 -translate-y-1/2 w-8 h-1 ${q} rounded-full`}),A.jsx("div",{className:`absolute inset-0 border-[16px] ${z} rounded-full`})]}),A.jsx("div",{className:`absolute w-20 h-20 bg-gradient-to-br ${G} rounded-full shadow-md cursor-grab active:cursor-grabbing transform-gpu will-change-transform`,style:{transform:`translate(${u.x}px, ${u.y}px)`,transition:c?"none":"transform 0.2s ease-out"},children:A.jsx("div",{className:`absolute inset-2 rounded-full ${X} flex items-center justify-center`,children:A.jsx("div",{className:`w-1/2 h-1/2 rounded-full ${ne}`})})})]})}um.propTypes={onMove:me.func.isRequired,onStop:me.func.isRequired,size:me.string,type:me.oneOf(["movement","aiming"])};function V4({username:e,tankType:t,health:i,score:a=0}){const u=Math.max(0,Math.min(100,i/3*100));return A.jsxs("div",{className:"bg-[#1a1a20]/80 border-l-4 border-[#ff8c00] shadow-lg p-3 text-white flex items-center justify-between w-full max-w-md mx-auto relative overflow-hidden",style:{clipPath:"polygon(0% 0%, 100% 0%, 98% 100%, 0% 100%, 2% 50%)"},children:[A.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,140,0,0.05)_25%,transparent_25%,transparent_50%,rgba(255,140,0,0.05)_50%,rgba(255,140,0,0.05)_75%,transparent_75%,transparent)] bg-[length:10px_10px]"}),A.jsx("div",{className:"absolute top-0 right-0 w-[40%] h-1 bg-[#ff8c00]/70"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-[40%] h-1 bg-[#ff8c00]/70"}),A.jsxs("div",{className:"flex items-center z-10",children:[A.jsxs("div",{className:"relative flex items-center justify-center w-12 h-12 mr-3",children:[A.jsx("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full",children:A.jsx("polygon",{points:"50,0 100,25 100,75 50,100 0,75 0,25",fill:"#1a1a20",stroke:"rgba(255,140,0,0.7)",strokeWidth:"3"})}),A.jsx("div",{className:"z-10 bg-[#ff8c00] text-white w-6 h-6 flex items-center justify-center",children:A.jsx("span",{className:"font-bold text-shadow",children:e.charAt(0).toUpperCase()})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{className:"font-medium tracking-wide text-[#ff8c00]",children:e}),A.jsx("div",{className:"ml-2 px-1 text-[10px] bg-[#ff8c00]/20 text-[#ff8c00] border border-[#ff8c00]/40",children:"OPERATOR"})]}),A.jsxs("div",{className:"text-xs text-[#ff8c00]/70 mt-0.5 font-mono",children:[t,"//ACTIVE"]})]})]}),A.jsxs("div",{className:"flex items-center gap-5 z-10",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx("span",{className:"text-sm font-mono text-[#ff8c00] mr-1",children:"HP"}),A.jsx("span",{className:"text-sm font-mono",children:i})]}),A.jsx("div",{className:"w-16 h-2 bg-[#1a1a20] relative border border-[#ff8c00]/30",children:A.jsx("div",{className:"absolute inset-0 flex",children:[...Array(10)].map((c,h)=>A.jsx("div",{className:"h-full flex-1 mx-px",style:{backgroundColor:h*10<u?"#ff8c00":"transparent",opacity:h*10<u?1-h*.07:.1}},h))})})]}),A.jsx("div",{className:"flex flex-col items-end"}),A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx("span",{className:"text-sm font-mono mr-1",children:a}),A.jsx("span",{className:"text-xs font-mono px-1 bg-[#ff8c00]/20 text-[#ff8c00] border border-[#ff8c00]/40",children:"PTS"})]}),A.jsx("div",{className:"text-xs text-[#ff8c00] font-mono border border-[#ff8c00]/30 px-1",style:{clipPath:"polygon(0% 0%, 100% 0%, 90% 100%, 0% 100%)"}})]})]})}V4.propTypes={username:me.string.isRequired,tankType:me.string.isRequired,health:me.number.isRequired,score:me.number};function U4({countdown:e}){return e===null?null:A.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("h2",{className:"text-4xl font-bold text-red-500",children:"Tank Destroyed!"}),A.jsx("div",{className:"text-7xl font-bold text-white",children:e}),A.jsx("p",{className:"text-xl text-gray-300",children:"Respawning in seconds..."})]})})}U4.propTypes={countdown:me.number};function gE(){const e=Sm(),[t,i]=te.useState(null),[a,u]=te.useState(3),[d,c]=te.useState(""),[h,m]=te.useState(""),[f,y]=te.useState(!0),[g,x]=te.useState(null),[S,w]=te.useState(0),P=te.useRef(!1),k=te.useRef({movement:{direction:0,moving:!1},aiming:{direction:0,active:!1}});te.useEffect(()=>{if(P.current)return;const I=sessionStorage.getItem("username"),L=sessionStorage.getItem("tank-type");if(!I||!L){e("/tanki.io");return}c(I),m(L);const B=new u4.Client(d0.wsUrl);return y(!0),P.current=!0,B.joinOrCreate("game",{username:I,tankType:L}).then(W=>{i(W),y(!1),W.onStateChange(F=>{const q=F.players.get(W.sessionId);q&&(u(q.hp),w(q.score))})}).catch(W=>{P.current=!1,console.error("Could not join room:",W),y(!1),e("/tanki.io")}),()=>{t&&t.leave()}},[e]),te.useEffect(()=>{if(t)return t.onMessage("respawnCountdown",I=>{x(I.countdown)}),t.onMessage("playerRespawned",()=>{x(null)}),()=>{t.removeAllListeners("respawnCountdown"),t.removeAllListeners("playerRespawned")}},[t]),te.useEffect(()=>{if(!t)return;const I=setInterval(()=>{const L=k.current;t.send("dualStickInput",{movement:{direction:L.movement.direction,moving:L.movement.moving},aiming:{direction:L.aiming.direction,shooting:L.aiming.active}})},1e3/30);return()=>clearInterval(I)},[t]);const b=(I,L,B)=>{B==="movement"?k.current.movement={direction:I,moving:L}:B==="aiming"&&(k.current.aiming={direction:I,active:L})};return{room:t,health:a,username:d,tankType:h,isConnecting:f,respawnCountdown:g,score:S,handleMove:b,handleStopMoving:(I,L)=>{L==="movement"?k.current.movement={direction:I,moving:!1}:L==="aiming"&&(k.current.aiming={direction:I,active:!1})},handleAim:(I,L)=>{b(I,L,"aiming")}}}function vE(){const e=te.useRef(null),{isConnecting:t,username:i,tankType:a,health:u,score:d,respawnCountdown:c,handleMove:h,handleStopMoving:m,handleAim:f}=gE();return t?A.jsx(z4,{}):A.jsxs("div",{ref:e,className:"relative h-screen w-screen bg-[#1a1a20] overflow-hidden touch-none flex flex-col",children:[A.jsxs("div",{className:"absolute inset-0 bg-[#141418] z-0",children:[A.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MyIgdmlld0JveD0iMCAwIDUwIDQzIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMDMwNDAiIHN0cm9rZS13aWR0aD0iMC44IiBkPSJNMjUsMSBMMSwyMSBMMSw2MSBMMjUsODEgTDQ5LDYxIEw0OSwyMSBMMjUsMSIgLz48L3N2Zz4=')] opacity-10"}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#141418] via-transparent to-[#141418] opacity-70"}),A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,140,0,0.05),transparent_70%)]"})]}),A.jsx("div",{className:"absolute top-4 left-4 w-20 h-20",children:A.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:"rgba(255, 128, 0, 0.2)"}),A.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:"rgba(255, 150, 50, 0.5)"})]})}),A.jsx("div",{className:"absolute top-4 right-4 w-20 h-20",children:A.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleX(-1)"},children:[A.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:"rgba(255, 128, 0, 0.2)"}),A.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:"rgba(255, 150, 50, 0.5)"})]})}),A.jsx("div",{className:"absolute bottom-4 left-4 w-20 h-20",children:A.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scaleY(-1)"},children:[A.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:"rgba(255, 128, 0, 0.2)"}),A.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:"rgba(255, 150, 50, 0.5)"})]})}),A.jsx("div",{className:"absolute bottom-4 right-4 w-20 h-20",children:A.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(-1)"},children:[A.jsx("path",{d:"M0 0L80 0L80 16L16 16L16 80L0 80L0 0Z",fill:"rgba(255, 128, 0, 0.2)"}),A.jsx("path",{d:"M0 0L70 0L70 3L3 3L3 70L0 70L0 0Z",fill:"rgba(255, 150, 50, 0.5)"})]})}),A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 opacity-15 pointer-events-none",children:A.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[A.jsx("polygon",{points:"50,3 97,25 97,75 50,97 3,75 3,25",stroke:"rgba(255,140,0,0.3)",strokeWidth:"1"}),A.jsx("polygon",{points:"50,15 85,30 85,70 50,85 15,70 15,30",stroke:"rgba(255,140,0,0.2)",strokeWidth:"1"}),A.jsx("polygon",{points:"50,30 70,40 70,60 50,70 30,60 30,40",stroke:"rgba(255,140,0,0.4)",strokeWidth:"1"})]})}),c>0&&A.jsx(U4,{countdown:c}),A.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 z-10",children:A.jsx(V4,{username:i,tankType:a,health:u,score:d})}),A.jsx("div",{className:"absolute bottom-10 left-10 z-10",children:A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -inset-4 -z-10",children:A.jsx("svg",{viewBox:"0 0 180 180",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:A.jsx("polygon",{points:"30,15 150,15 170,90 150,165 30,165 10,90",fill:"rgba(0,0,0,0.7)",stroke:"rgba(0,128,255,0.5)",strokeWidth:"2"})})}),A.jsx("div",{className:"absolute -top-8 left-0 text-xs text-blue-400 font-mono tracking-wider",children:"|TACTICAL MOVEMENT|"}),A.jsx("div",{className:"absolute -bottom-6 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-500/30 to-transparent"}),A.jsx(um,{onMove:h,onStop:m,type:"movement"})]})}),A.jsx("div",{className:"absolute bottom-10 right-10 z-10",children:A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -inset-4 -z-10",children:A.jsx("svg",{viewBox:"0 0 180 180",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:A.jsx("polygon",{points:"30,15 150,15 170,90 150,165 30,165 10,90",fill:"rgba(0,0,0,0.7)",stroke:"rgba(255,0,0,0.5)",strokeWidth:"2"})})}),A.jsx("div",{className:"absolute -top-8 right-0 text-xs text-red-600 font-mono tracking-wider",children:"|WEAPON SYSTEMS|"}),A.jsx("div",{className:"absolute -bottom-6 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-red-600/30 to-transparent"}),A.jsx(um,{onMove:f,onStop:m,type:"aiming"})]})}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-[#ff8c00]/50 via-transparent to-[#ff8c00]/50"}),A.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.03)_50%)] bg-[length:100%_2px] pointer-events-none z-10"})]})}const yE=()=>{const{isFullscreen:e,enterFullscreen:t}=a5();return te.useEffect(()=>{if(sessionStorage.getItem("preferFullscreen")==="true"&&!e){const a=setTimeout(()=>{t(document.documentElement)},100);return()=>clearTimeout(a)}},[e,t]),null};function B4({selectedTank:e,tankRotation:t,animateIn:i,onNext:a,onPrev:u,TankComponent:d,spacing:c,layoutSize:h}){const f={xs:{width:200,height:200},sm:{width:240,height:240},md:{width:260,height:260},lg:{width:280,height:280}}[h];return A.jsxs("div",{className:`relative flex items-center justify-center ${c.tankPreview}`,children:[A.jsx("div",{className:`transition-all duration-300 transform ${i?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:A.jsx(E4,{width:f.width,height:f.height,children:A.jsx(C4,{children:A.jsx(d,{x:f.width/2,y:f.height/2,rotation:t,hp:e.stats.health,username:e.name,isDead:!1})})})}),A.jsx("button",{onClick:u,className:"absolute left-0 z-10 p-2 bg-black bg-opacity-20 text-white focus:outline-none",style:{borderRight:`2px solid ${e.color}`},children:A.jsx(U9,{size:20})}),A.jsx("button",{onClick:a,className:"absolute right-0 z-10 p-2 bg-black bg-opacity-20 text-white focus:outline-none",style:{borderLeft:`2px solid ${e.color}`},children:A.jsx(G9,{size:20})}),A.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[A.jsx("div",{className:"absolute top-0 left-0 w-10 h-10 border-t-2 border-l-2 border-gray-700 opacity-70"}),A.jsx("div",{className:"absolute top-0 right-0 w-10 h-10 border-t-2 border-r-2 border-gray-700 opacity-70"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-10 h-10 border-b-2 border-l-2 border-gray-700 opacity-70"}),A.jsx("div",{className:"absolute bottom-0 right-0 w-10 h-10 border-b-2 border-r-2 border-gray-700 opacity-70"})]})]})}B4.propTypes={selectedTank:me.shape({stats:me.shape({health:me.number.isRequired}).isRequired,name:me.string.isRequired,color:me.string.isRequired}).isRequired,tankRotation:me.number.isRequired,animateIn:me.bool.isRequired,onNext:me.func.isRequired,onPrev:me.func.isRequired,TankComponent:me.elementType.isRequired,spacing:me.shape({tankPreview:me.string.isRequired}).isRequired,layoutSize:me.oneOf(["xs","sm","md","lg"]).isRequired};var cg=Ph(),ft=e=>Eh(e,cg),dg=Ph();ft.write=e=>Eh(e,dg);var h0=Ph();ft.onStart=e=>Eh(e,h0);var hg=Ph();ft.onFrame=e=>Eh(e,hg);var fg=Ph();ft.onFinish=e=>Eh(e,fg);var Lu=[];ft.setTimeout=(e,t)=>{const i=ft.now()+t,a=()=>{const d=Lu.findIndex(c=>c.cancel==a);~d&&Lu.splice(d,1),Ta-=~d?1:0},u={time:i,handler:e,cancel:a};return Lu.splice(G4(i),0,u),Ta+=1,$4(),u};var G4=e=>~(~Lu.findIndex(t=>t.time>e)||~Lu.length);ft.cancel=e=>{h0.delete(e),hg.delete(e),fg.delete(e),cg.delete(e),dg.delete(e)};ft.sync=e=>{cm=!0,ft.batchedUpdates(e),cm=!1};ft.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function a(...u){t=u,ft.onStart(i)}return a.handler=e,a.cancel=()=>{h0.delete(i),t=null},a};var pg=typeof window<"u"?window.requestAnimationFrame:()=>{};ft.use=e=>pg=e;ft.now=typeof performance<"u"?()=>performance.now():Date.now;ft.batchedUpdates=e=>e();ft.catch=console.error;ft.frameLoop="always";ft.advance=()=>{ft.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):H4()};var ka=-1,Ta=0,cm=!1;function Eh(e,t){cm?(t.delete(e),e(0)):(t.add(e),$4())}function $4(){ka<0&&(ka=0,ft.frameLoop!=="demand"&&pg(W4))}function xE(){ka=-1}function W4(){~ka&&(pg(W4),ft.batchedUpdates(H4))}function H4(){const e=ka;ka=ft.now();const t=G4(ka);if(t&&(q4(Lu.splice(0,t),i=>i.handler()),Ta-=t),!Ta){xE();return}h0.flush(),cg.flush(e?Math.min(64,ka-e):16.667),hg.flush(),dg.flush(),fg.flush()}function Ph(){let e=new Set,t=e;return{add(i){Ta+=t==e&&!e.has(i)?1:0,e.add(i)},delete(i){return Ta-=t==e&&e.has(i)?1:0,e.delete(i)},flush(i){t.size&&(e=new Set,Ta-=t.size,q4(t,a=>a(i)&&e.add(a)),Ta+=e.size,t=e)}}}function q4(e,t){e.forEach(i=>{try{t(i)}catch(a){ft.catch(a)}})}var SE=Object.defineProperty,wE=(e,t)=>{for(var i in t)SE(e,i,{get:t[i],enumerable:!0})},ms={};wE(ms,{assign:()=>CE,colors:()=>Ra,createStringInterpolator:()=>gg,skipAnimation:()=>Y4,to:()=>K4,willAdvance:()=>vg});function dm(){}var _E=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),Me={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ro(e,t){if(Me.arr(e)){if(!Me.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}var Nt=(e,t)=>e.forEach(t);function Bs(e,t,i){if(Me.arr(e)){for(let a=0;a<e.length;a++)t.call(i,e[a],`${a}`);return}for(const a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a)}var ki=e=>Me.und(e)?[]:Me.arr(e)?e:[e];function Yd(e,t){if(e.size){const i=Array.from(e);e.clear(),Nt(i,t)}}var $d=(e,...t)=>Yd(e,i=>i(...t)),mg=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),gg,K4,Ra=null,Y4=!1,vg=dm,CE=e=>{e.to&&(K4=e.to),e.now&&(ft.now=e.now),e.colors!==void 0&&(Ra=e.colors),e.skipAnimation!=null&&(Y4=e.skipAnimation),e.createStringInterpolator&&(gg=e.createStringInterpolator),e.requestAnimationFrame&&ft.use(e.requestAnimationFrame),e.batchedUpdates&&(ft.batchedUpdates=e.batchedUpdates),e.willAdvance&&(vg=e.willAdvance),e.frameLoop&&(ft.frameLoop=e.frameLoop)},Xd=new Set,Wi=[],Ip=[],Yf=0,f0={get idle(){return!Xd.size&&!Wi.length},start(e){Yf>e.priority?(Xd.add(e),ft.onStart(EE)):(X4(e),ft(hm))},advance:hm,sort(e){if(Yf)ft.onFrame(()=>f0.sort(e));else{const t=Wi.indexOf(e);~t&&(Wi.splice(t,1),Q4(e))}},clear(){Wi=[],Xd.clear()}};function EE(){Xd.forEach(X4),Xd.clear(),ft(hm)}function X4(e){Wi.includes(e)||Q4(e)}function Q4(e){Wi.splice(PE(Wi,t=>t.priority>e.priority),0,e)}function hm(e){const t=Ip;for(let i=0;i<Wi.length;i++){const a=Wi[i];Yf=a.priority,a.idle||(vg(a),a.advance(e),a.idle||t.push(a))}return Yf=0,Ip=Wi,Ip.length=0,Wi=t,Wi.length>0}function PE(e,t){const i=e.findIndex(t);return i<0?e.length:i}var kE={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},fs="[-+]?\\d*\\.?\\d+",Xf=fs+"%";function p0(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var TE=new RegExp("rgb"+p0(fs,fs,fs)),RE=new RegExp("rgba"+p0(fs,fs,fs,fs)),NE=new RegExp("hsl"+p0(fs,Xf,Xf)),AE=new RegExp("hsla"+p0(fs,Xf,Xf,fs)),bE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ME=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,IE=/^#([0-9a-fA-F]{6})$/,LE=/^#([0-9a-fA-F]{8})$/;function OE(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=IE.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ra&&Ra[e]!==void 0?Ra[e]:(t=TE.exec(e))?(ku(t[1])<<24|ku(t[2])<<16|ku(t[3])<<8|255)>>>0:(t=RE.exec(e))?(ku(t[1])<<24|ku(t[2])<<16|ku(t[3])<<8|ky(t[4]))>>>0:(t=bE.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=LE.exec(e))?parseInt(t[1],16)>>>0:(t=ME.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=NE.exec(e))?(Ey(Py(t[1]),Of(t[2]),Of(t[3]))|255)>>>0:(t=AE.exec(e))?(Ey(Py(t[1]),Of(t[2]),Of(t[3]))|ky(t[4]))>>>0:null}function Lp(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Ey(e,t,i){const a=i<.5?i*(1+t):i+t-i*t,u=2*i-a,d=Lp(u,a,e+1/3),c=Lp(u,a,e),h=Lp(u,a,e-1/3);return Math.round(d*255)<<24|Math.round(c*255)<<16|Math.round(h*255)<<8}function ku(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Py(e){return(parseFloat(e)%360+360)%360/360}function ky(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Of(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ty(e){let t=OE(e);if(t===null)return e;t=t||0;const i=(t&4278190080)>>>24,a=(t&16711680)>>>16,u=(t&65280)>>>8,d=(t&255)/255;return`rgba(${i}, ${a}, ${u}, ${d})`}var uh=(e,t,i)=>{if(Me.fun(e))return e;if(Me.arr(e))return uh({range:e,output:t,extrapolate:i});if(Me.str(e.output[0]))return gg(e);const a=e,u=a.output,d=a.range||[0,1],c=a.extrapolateLeft||a.extrapolate||"extend",h=a.extrapolateRight||a.extrapolate||"extend",m=a.easing||(f=>f);return f=>{const y=DE(f,d);return jE(f,d[y],d[y+1],u[y],u[y+1],m,c,h,a.map)}};function jE(e,t,i,a,u,d,c,h,m){let f=m?m(e):e;if(f<t){if(c==="identity")return f;c==="clamp"&&(f=t)}if(f>i){if(h==="identity")return f;h==="clamp"&&(f=i)}return a===u?a:t===i?e<=t?a:u:(t===-1/0?f=-f:i===1/0?f=f-t:f=(f-t)/(i-t),f=d(f),a===-1/0?f=-f:u===1/0?f=f+a:f=f*(u-a)+a,f)}function DE(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}var FE={linear:e=>e},ch=Symbol.for("FluidValue.get"),zu=Symbol.for("FluidValue.observers"),$i=e=>!!(e&&e[ch]),di=e=>e&&e[ch]?e[ch]():e,Ry=e=>e[zu]||null;function zE(e,t){e.eventObserved?e.eventObserved(t):e(t)}function dh(e,t){const i=e[zu];i&&i.forEach(a=>{zE(a,t)})}var Z4=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");VE(this,e)}},VE=(e,t)=>J4(e,ch,t);function Wu(e,t){if(e[ch]){let i=e[zu];i||J4(e,zu,i=new Set),i.has(t)||(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function hh(e,t){const i=e[zu];if(i&&i.has(t)){const a=i.size-1;a?i.delete(t):e[zu]=null,e.observerRemoved&&e.observerRemoved(a,t)}}var J4=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),Vf=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,UE=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ny=new RegExp(`(${Vf.source})(%|[a-z]+)`,"i"),BE=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,m0=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ex=e=>{const[t,i]=GE(e);if(!t||mg())return e;const a=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(a)return a.trim();if(i&&i.startsWith("--")){const u=window.getComputedStyle(document.documentElement).getPropertyValue(i);return u||e}else{if(i&&m0.test(i))return ex(i);if(i)return i}return e},GE=e=>{const t=m0.exec(e);if(!t)return[,];const[,i,a]=t;return[i,a]},Op,$E=(e,t,i,a,u)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(a)}, ${u})`,tx=e=>{Op||(Op=Ra?new RegExp(`(${Object.keys(Ra).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(d=>di(d).replace(m0,ex).replace(UE,Ty).replace(Op,Ty)),i=t.map(d=>d.match(Vf).map(Number)),u=i[0].map((d,c)=>i.map(h=>{if(!(c in h))throw Error('The arity of each "output" value must be equal');return h[c]})).map(d=>uh({...e,output:d}));return d=>{var m;const c=!Ny.test(t[0])&&((m=t.find(f=>Ny.test(f)))==null?void 0:m.replace(Vf,""));let h=0;return t[0].replace(Vf,()=>`${u[h++](d)}${c||""}`).replace(BE,$E)}},yg="react-spring: ",nx=e=>{const t=e;let i=!1;if(typeof t!="function")throw new TypeError(`${yg}once requires a function parameter`);return(...a)=>{i||(t(...a),i=!0)}},WE=nx(console.warn);function HE(){WE(`${yg}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var qE=nx(console.warn);function KE(){qE(`${yg}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function g0(e){return Me.str(e)&&(e[0]=="#"||/\d/.test(e)||!mg()&&m0.test(e)||e in(Ra||{}))}var xg=mg()?te.useEffect:te.useLayoutEffect,YE=()=>{const e=te.useRef(!1);return xg(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function rx(){const e=te.useState()[1],t=YE();return()=>{t.current&&e(Math.random())}}function XE(e,t){const[i]=te.useState(()=>({inputs:t,result:e()})),a=te.useRef(),u=a.current;let d=u;return d?t&&d.inputs&&QE(t,d.inputs)||(d={inputs:t,result:e()}):d=i,te.useEffect(()=>{a.current=d,u==i&&(i.inputs=i.result=void 0)},[d]),d.result}function QE(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var ix=e=>te.useEffect(e,ZE),ZE=[];function Ay(e){const t=te.useRef();return te.useEffect(()=>{t.current=e}),t.current}var fh=Symbol.for("Animated:node"),JE=e=>!!e&&e[fh]===e,zs=e=>e&&e[fh],Sg=(e,t)=>_E(e,fh,t),v0=e=>e&&e[fh]&&e[fh].getPayload(),sx=class{constructor(){Sg(this,this)}getPayload(){return this.payload||[]}},kh=class extends sx{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Me.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new kh(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Me.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Me.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},ph=class extends kh{constructor(e){super(0),this._string=null,this._toString=uh({output:[e,e]})}static create(e){return new ph(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Me.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=uh({output:[this.getValue(),e]})),this._value=0,super.reset()}},Qf={dependencies:null},y0=class extends sx{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Bs(this.source,(i,a)=>{JE(i)?t[a]=i.getValue(e):$i(i)?t[a]=di(i):e||(t[a]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Nt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Bs(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Qf.dependencies&&$i(e)&&Qf.dependencies.add(e);const t=v0(e);t&&Nt(t,i=>this.add(i))}},ox=class extends y0{constructor(e){super(e)}static create(e){return new ox(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,a)=>i.setValue(e[a])).some(Boolean):(super.setValue(e.map(eP)),!0)}};function eP(e){return(g0(e)?ph:kh).create(e)}function fm(e){const t=zs(e);return t?t.constructor:Me.arr(e)?ox:g0(e)?ph:kh}var by=(e,t)=>{const i=!Me.fun(e)||e.prototype&&e.prototype.isReactComponent;return te.forwardRef((a,u)=>{const d=te.useRef(null),c=i&&te.useCallback(w=>{d.current=rP(u,w)},[u]),[h,m]=nP(a,t),f=rx(),y=()=>{const w=d.current;if(i&&!w)return;(w?t.applyAnimatedValues(w,h.getValue(!0)):!1)===!1&&f()},g=new tP(y,m),x=te.useRef();xg(()=>(x.current=g,Nt(m,w=>Wu(w,g)),()=>{x.current&&(Nt(x.current.deps,w=>hh(w,x.current)),ft.cancel(x.current.update))})),te.useEffect(y,[]),ix(()=>()=>{const w=x.current;Nt(w.deps,P=>hh(P,w))});const S=t.getComponentProps(h.getValue());return te.createElement(e,{...S,ref:c})})},tP=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&ft.write(this.update)}};function nP(e,t){const i=new Set;return Qf.dependencies=i,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new y0(e),Qf.dependencies=null,[e,i]}function rP(e,t){return e&&(Me.fun(e)?e(t):e.current=t),t}var My=Symbol.for("AnimatedComponent"),iP=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=u=>new y0(u),getComponentProps:a=u=>u}={})=>{const u={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:a},d=c=>{const h=Iy(c)||"Anonymous";return Me.str(c)?c=d[c]||(d[c]=by(c,u)):c=c[My]||(c[My]=by(c,u)),c.displayName=`Animated(${h})`,c};return Bs(e,(c,h)=>{Me.arr(e)&&(h=Iy(c)),d[h]=d(c)}),{animated:d}},Iy=e=>Me.str(e)?e:e&&Me.str(e.displayName)?e.displayName:Me.fun(e)&&e.name||null;function El(e,...t){return Me.fun(e)?e(...t):e}var Qd=(e,t)=>e===!0||!!(t&&e&&(Me.fun(e)?e(t):ki(e).includes(t))),ax=(e,t)=>Me.obj(e)?t&&e[t]:e,lx=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,sP=e=>e,wg=(e,t=sP)=>{let i=oP;e.default&&e.default!==!0&&(e=e.default,i=Object.keys(e));const a={};for(const u of i){const d=t(e[u],u);Me.und(d)||(a[u]=d)}return a},oP=["config","onProps","onStart","onChange","onPause","onResume","onRest"],aP={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function lP(e){const t={};let i=0;if(Bs(e,(a,u)=>{aP[u]||(t[u]=a,i++)}),i)return t}function ux(e){const t=lP(e);if(t){const i={to:t};return Bs(e,(a,u)=>u in t||(i[u]=a)),i}return{...e}}function mh(e){return e=di(e),Me.arr(e)?e.map(mh):g0(e)?ms.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function uP(e){for(const t in e)return!0;return!1}function pm(e){return Me.fun(e)||Me.arr(e)&&Me.obj(e[0])}function cP(e,t){var i;(i=e.ref)==null||i.delete(e),t==null||t.delete(e)}function dP(e,t){var i;t&&e.ref!==t&&((i=e.ref)==null||i.delete(e),t.add(e),e.ref=t)}var hP={default:{tension:170,friction:26}},mm={...hP.default,mass:1,damping:1,easing:FE.linear,clamp:!1},fP=class{constructor(){this.velocity=0,Object.assign(this,mm)}};function pP(e,t,i){i&&(i={...i},Ly(i,t),t={...i,...t}),Ly(e,t),Object.assign(e,t);for(const c in mm)e[c]==null&&(e[c]=mm[c]);let{frequency:a,damping:u}=e;const{mass:d}=e;return Me.und(a)||(a<.01&&(a=.01),u<0&&(u=0),e.tension=Math.pow(2*Math.PI/a,2)*d,e.friction=4*Math.PI*u*d/a),e}function Ly(e,t){if(!Me.und(t.decay))e.duration=void 0;else{const i=!Me.und(t.tension)||!Me.und(t.friction);(i||!Me.und(t.frequency)||!Me.und(t.damping)||!Me.und(t.mass))&&(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}}var Oy=[],mP=class{constructor(){this.changed=!1,this.values=Oy,this.toValues=null,this.fromValues=Oy,this.config=new fP,this.immediate=!1}};function cx(e,{key:t,props:i,defaultProps:a,state:u,actions:d}){return new Promise((c,h)=>{let m,f,y=Qd(i.cancel??(a==null?void 0:a.cancel),t);if(y)S();else{Me.und(i.pause)||(u.paused=Qd(i.pause,t));let w=a==null?void 0:a.pause;w!==!0&&(w=u.paused||Qd(w,t)),m=El(i.delay||0,t),w?(u.resumeQueue.add(x),d.pause()):(d.resume(),x())}function g(){u.resumeQueue.add(x),u.timeouts.delete(f),f.cancel(),m=f.time-ft.now()}function x(){m>0&&!ms.skipAnimation?(u.delayed=!0,f=ft.setTimeout(S,m),u.pauseQueue.add(g),u.timeouts.add(f)):S()}function S(){u.delayed&&(u.delayed=!1),u.pauseQueue.delete(g),u.timeouts.delete(f),e<=(u.cancelId||0)&&(y=!0);try{d.start({...i,callId:e,cancel:y},c)}catch(w){h(w)}}})}var _g=(e,t)=>t.length==1?t[0]:t.some(i=>i.cancelled)?Ou(e.get()):t.every(i=>i.noop)?dx(e.get()):hs(e.get(),t.every(i=>i.finished)),dx=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),hs=(e,t,i=!1)=>({value:e,finished:t,cancelled:i}),Ou=e=>({value:e,cancelled:!0,finished:!1});function hx(e,t,i,a){const{callId:u,parentId:d,onRest:c}=t,{asyncTo:h,promise:m}=i;return!d&&e===h&&!t.reset?m:i.promise=(async()=>{i.asyncId=u,i.asyncTo=e;const f=wg(t,(k,b)=>b==="onRest"?void 0:k);let y,g;const x=new Promise((k,b)=>(y=k,g=b)),S=k=>{const b=u<=(i.cancelId||0)&&Ou(a)||u!==i.asyncId&&hs(a,!1);if(b)throw k.result=b,g(k),k},w=(k,b)=>{const R=new jy,C=new Dy;return(async()=>{if(ms.skipAnimation)throw gh(i),C.result=hs(a,!1),g(C),C;S(R);const I=Me.obj(k)?{...k}:{...b,to:k};I.parentId=u,Bs(f,(B,W)=>{Me.und(I[W])&&(I[W]=B)});const L=await a.start(I);return S(R),i.paused&&await new Promise(B=>{i.resumeQueue.add(B)}),L})()};let P;if(ms.skipAnimation)return gh(i),hs(a,!1);try{let k;Me.arr(e)?k=(async b=>{for(const R of b)await w(R)})(e):k=Promise.resolve(e(w,a.stop.bind(a))),await Promise.all([k.then(y),x]),P=hs(a.get(),!0,!1)}catch(k){if(k instanceof jy)P=k.result;else if(k instanceof Dy)P=k.result;else throw k}finally{u==i.asyncId&&(i.asyncId=d,i.asyncTo=d?h:void 0,i.promise=d?m:void 0)}return Me.fun(c)&&ft.batchedUpdates(()=>{c(P,a,a.item)}),P})()}function gh(e,t){Yd(e.timeouts,i=>i.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var jy=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Dy=class extends Error{constructor(){super("SkipAnimationSignal")}},gm=e=>e instanceof Cg,gP=1,Cg=class extends Z4{constructor(){super(...arguments),this.id=gP++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=zs(this);return e&&e.getValue()}to(...e){return ms.to(this,e)}interpolate(...e){return HE(),ms.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){dh(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||f0.sort(this),dh(this,{type:"priority",parent:this,priority:e})}},Nl=Symbol.for("SpringPhase"),fx=1,px=2,mx=4,jp=e=>(e[Nl]&fx)>0,Ca=e=>(e[Nl]&px)>0,jd=e=>(e[Nl]&mx)>0,Fy=(e,t)=>t?e[Nl]|=px|fx:e[Nl]&=-3,zy=(e,t)=>t?e[Nl]|=mx:e[Nl]&=-5,vP=class extends Cg{constructor(e,t){if(super(),this.animation=new mP,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Me.und(e)||!Me.und(t)){const i=Me.obj(e)?{...e}:{...t,from:e};Me.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Ca(this)||this._state.asyncTo)||jd(this)}get goal(){return di(this.animation.to)}get velocity(){const e=zs(this);return e instanceof kh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return jp(this)}get isAnimating(){return Ca(this)}get isPaused(){return jd(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const a=this.animation;let{toValues:u}=a;const{config:d}=a,c=v0(a.to);!c&&$i(a.to)&&(u=ki(di(a.to))),a.values.forEach((f,y)=>{if(f.done)return;const g=f.constructor==ph?1:c?c[y].lastPosition:u[y];let x=a.immediate,S=g;if(!x){if(S=f.lastPosition,d.tension<=0){f.done=!0;return}let w=f.elapsedTime+=e;const P=a.fromValues[y],k=f.v0!=null?f.v0:f.v0=Me.arr(d.velocity)?d.velocity[y]:d.velocity;let b;const R=d.precision||(P==g?.005:Math.min(1,Math.abs(g-P)*.001));if(Me.und(d.duration))if(d.decay){const C=d.decay===!0?.998:d.decay,I=Math.exp(-(1-C)*w);S=P+k/(1-C)*(1-I),x=Math.abs(f.lastPosition-S)<=R,b=k*I}else{b=f.lastVelocity==null?k:f.lastVelocity;const C=d.restVelocity||R/10,I=d.clamp?0:d.bounce,L=!Me.und(I),B=P==g?f.v0>0:P<g;let W,F=!1;const q=1,G=Math.ceil(e/q);for(let X=0;X<G&&(W=Math.abs(b)>C,!(!W&&(x=Math.abs(g-S)<=R,x)));++X){L&&(F=S==g||S>g==B,F&&(b=-b*I,S=g));const ne=-d.tension*1e-6*(S-g),z=-d.friction*.001*b,V=(ne+z)/d.mass;b=b+V*q,S=S+b*q}}else{let C=1;d.duration>0&&(this._memoizedDuration!==d.duration&&(this._memoizedDuration=d.duration,f.durationProgress>0&&(f.elapsedTime=d.duration*f.durationProgress,w=f.elapsedTime+=e)),C=(d.progress||0)+w/this._memoizedDuration,C=C>1?1:C<0?0:C,f.durationProgress=C),S=P+d.easing(C)*(g-P),b=(S-f.lastPosition)/e,x=C==1}f.lastVelocity=b,Number.isNaN(S)&&(console.warn("Got NaN while animating:",this),x=!0)}c&&!c[y].done&&(x=!1),x?f.done=!0:t=!1,f.setValue(S,d.round)&&(i=!0)});const h=zs(this),m=h.getValue();if(t){const f=di(a.to);(m!==f||i)&&!d.decay?(h.setValue(f),this._onChange(f)):i&&d.decay&&this._onChange(m),this._stop()}else i&&this._onChange(m)}set(e){return ft.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ca(this)){const{to:e,config:t}=this.animation;ft.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return Me.und(e)?(i=this.queue||[],this.queue=[]):i=[Me.obj(e)?e:{...t,to:e}],Promise.all(i.map(a=>this._update(a))).then(a=>_g(this,a))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),gh(this._state,e&&this._lastCallId),ft.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:a}=e;i=Me.obj(i)?i[t]:i,(i==null||pm(i))&&(i=void 0),a=Me.obj(a)?a[t]:a,a==null&&(a=void 0);const u={to:i,from:a};return jp(this)||(e.reverse&&([i,a]=[a,i]),a=di(a),Me.und(a)?zs(this)||this._set(i):this._set(a)),u}_update({...e},t){const{key:i,defaultProps:a}=this;e.default&&Object.assign(a,wg(e,(c,h)=>/^on/.test(h)?ax(c,i):c)),Uy(this,e,"onProps"),Fd(this,"onProps",e,this);const u=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const d=this._state;return cx(++this._lastCallId,{key:i,props:e,defaultProps:a,state:d,actions:{pause:()=>{jd(this)||(zy(this,!0),$d(d.pauseQueue),Fd(this,"onPause",hs(this,Dd(this,this.animation.to)),this))},resume:()=>{jd(this)&&(zy(this,!1),Ca(this)&&this._resume(),$d(d.resumeQueue),Fd(this,"onResume",hs(this,Dd(this,this.animation.to)),this))},start:this._merge.bind(this,u)}}).then(c=>{if(e.loop&&c.finished&&!(t&&c.noop)){const h=gx(e);if(h)return this._update(h,!0)}return c})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(Ou(this));const a=!Me.und(e.to),u=!Me.und(e.from);if(a||u)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(Ou(this));const{key:d,defaultProps:c,animation:h}=this,{to:m,from:f}=h;let{to:y=m,from:g=f}=e;u&&!a&&(!t.default||Me.und(y))&&(y=g),t.reverse&&([y,g]=[g,y]);const x=!Ro(g,f);x&&(h.from=g),g=di(g);const S=!Ro(y,m);S&&this._focus(y);const w=pm(t.to),{config:P}=h,{decay:k,velocity:b}=P;(a||u)&&(P.velocity=0),t.config&&!w&&pP(P,El(t.config,d),t.config!==c.config?El(c.config,d):void 0);let R=zs(this);if(!R||Me.und(y))return i(hs(this,!0));const C=Me.und(t.reset)?u&&!t.default:!Me.und(g)&&Qd(t.reset,d),I=C?g:this.get(),L=mh(y),B=Me.num(L)||Me.arr(L)||g0(L),W=!w&&(!B||Qd(c.immediate||t.immediate,d));if(S){const X=fm(y);if(X!==R.constructor)if(W)R=this._set(L);else throw Error(`Cannot animate between ${R.constructor.name} and ${X.name}, as the "to" prop suggests`)}const F=R.constructor;let q=$i(y),G=!1;if(!q){const X=C||!jp(this)&&x;(S||X)&&(G=Ro(mh(I),L),q=!G),(!Ro(h.immediate,W)&&!W||!Ro(P.decay,k)||!Ro(P.velocity,b))&&(q=!0)}if(G&&Ca(this)&&(h.changed&&!C?q=!0:q||this._stop(m)),!w&&((q||$i(m))&&(h.values=R.getPayload(),h.toValues=$i(y)?null:F==ph?[1]:ki(L)),h.immediate!=W&&(h.immediate=W,!W&&!C&&this._set(m)),q)){const{onRest:X}=h;Nt(xP,z=>Uy(this,t,z));const ne=hs(this,Dd(this,m));$d(this._pendingCalls,ne),this._pendingCalls.add(i),h.changed&&ft.batchedUpdates(()=>{var z;h.changed=!C,X==null||X(ne,this),C?El(c.onRest,ne):(z=h.onStart)==null||z.call(h,ne,this)})}C&&this._set(I),w?i(hx(t.to,t,this._state,this)):q?this._start():Ca(this)&&!S?this._pendingCalls.add(i):i(dx(I))}_focus(e){const t=this.animation;e!==t.to&&(Ry(this)&&this._detach(),t.to=e,Ry(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;$i(t)&&(Wu(t,this),gm(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;$i(e)&&hh(e,this)}_set(e,t=!0){const i=di(e);if(!Me.und(i)){const a=zs(this);if(!a||!Ro(i,a.getValue())){const u=fm(i);!a||a.constructor!=u?Sg(this,u.create(i)):a.setValue(i),a&&ft.batchedUpdates(()=>{this._onChange(i,t)})}}return zs(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Fd(this,"onStart",hs(this,Dd(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),El(this.animation.onChange,e,this)),El(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;zs(this).reset(di(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ca(this)||(Fy(this,!0),jd(this)||this._resume())}_resume(){ms.skipAnimation?this.finish():f0.start(this)}_stop(e,t){if(Ca(this)){Fy(this,!1);const i=this.animation;Nt(i.values,u=>{u.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),dh(this,{type:"idle",parent:this});const a=t?Ou(this.get()):hs(this.get(),Dd(this,e??i.to));$d(this._pendingCalls,a),i.changed&&(i.changed=!1,Fd(this,"onRest",a,this))}}};function Dd(e,t){const i=mh(t),a=mh(e.get());return Ro(a,i)}function gx(e,t=e.loop,i=e.to){const a=El(t);if(a){const u=a!==!0&&ux(a),d=(u||e).reverse,c=!u||u.reset;return vh({...e,loop:t,default:!1,pause:void 0,to:!d||pm(i)?i:void 0,from:c?e.from:void 0,reset:c,...u})}}function vh(e){const{to:t,from:i}=e=ux(e),a=new Set;return Me.obj(t)&&Vy(t,a),Me.obj(i)&&Vy(i,a),e.keys=a.size?Array.from(a):null,e}function yP(e){const t=vh(e);return Me.und(t.default)&&(t.default=wg(t)),t}function Vy(e,t){Bs(e,(i,a)=>i!=null&&t.add(a))}var xP=["onStart","onRest","onChange","onPause","onResume"];function Uy(e,t,i){e.animation[i]=t[i]!==lx(t,i)?ax(t[i],e.key):void 0}function Fd(e,t,...i){var a,u,d,c;(u=(a=e.animation)[t])==null||u.call(a,...i),(c=(d=e.defaultProps)[t])==null||c.call(d,...i)}var SP=["onStart","onChange","onRest"],wP=1,_P=class{constructor(e,t){this.id=wP++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(const t in e){const i=e[t];Me.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(vh(e)),this}start(e){let{queue:t}=this;return e?t=ki(e).map(vh):this.queue=[],this._flush?this._flush(this,t):(wx(this,t),vm(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const i=this.springs;Nt(ki(t),a=>i[a].stop(!!e))}else gh(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(Me.und(e))this.start({pause:!0});else{const t=this.springs;Nt(ki(e),i=>t[i].pause())}return this}resume(e){if(Me.und(e))this.start({pause:!1});else{const t=this.springs;Nt(ki(e),i=>t[i].resume())}return this}each(e){Bs(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:i}=this._events,a=this._active.size>0,u=this._changed.size>0;(a&&!this._started||u&&!this._started)&&(this._started=!0,Yd(e,([h,m])=>{m.value=this.get(),h(m,this,this._item)}));const d=!a&&this._started,c=u||d&&i.size?this.get():null;u&&t.size&&Yd(t,([h,m])=>{m.value=c,h(m,this,this._item)}),d&&(this._started=!1,Yd(i,([h,m])=>{m.value=c,h(m,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ft.onFrame(this._onFrame)}};function vm(e,t){return Promise.all(t.map(i=>vx(e,i))).then(i=>_g(e,i))}async function vx(e,t,i){const{keys:a,to:u,from:d,loop:c,onRest:h,onResolve:m}=t,f=Me.obj(t.default)&&t.default;c&&(t.loop=!1),u===!1&&(t.to=null),d===!1&&(t.from=null);const y=Me.arr(u)||Me.fun(u)?u:void 0;y?(t.to=void 0,t.onRest=void 0,f&&(f.onRest=void 0)):Nt(SP,P=>{const k=t[P];if(Me.fun(k)){const b=e._events[P];t[P]=({finished:R,cancelled:C})=>{const I=b.get(k);I?(R||(I.finished=!1),C&&(I.cancelled=!0)):b.set(k,{value:null,finished:R||!1,cancelled:C||!1})},f&&(f[P]=t[P])}});const g=e._state;t.pause===!g.paused?(g.paused=t.pause,$d(t.pause?g.pauseQueue:g.resumeQueue)):g.paused&&(t.pause=!0);const x=(a||Object.keys(e.springs)).map(P=>e.springs[P].start(t)),S=t.cancel===!0||lx(t,"cancel")===!0;(y||S&&g.asyncId)&&x.push(cx(++e._lastAsyncId,{props:t,state:g,actions:{pause:dm,resume:dm,start(P,k){S?(gh(g,e._lastAsyncId),k(Ou(e))):(P.onRest=h,k(hx(y,P,g,e)))}}})),g.paused&&await new Promise(P=>{g.resumeQueue.add(P)});const w=_g(e,await Promise.all(x));if(c&&w.finished&&!(i&&w.noop)){const P=gx(t,c,u);if(P)return wx(e,[P]),vx(e,P,!0)}return m&&ft.batchedUpdates(()=>m(w,e,e.item)),w}function By(e,t){const i={...e.springs};return t&&Nt(ki(t),a=>{Me.und(a.keys)&&(a=vh(a)),Me.obj(a.to)||(a={...a,to:void 0}),Sx(i,a,u=>xx(u))}),yx(e,i),i}function yx(e,t){Bs(t,(i,a)=>{e.springs[a]||(e.springs[a]=i,Wu(i,e))})}function xx(e,t){const i=new vP;return i.key=e,t&&Wu(i,t),i}function Sx(e,t,i){t.keys&&Nt(t.keys,a=>{(e[a]||(e[a]=i(a)))._prepareNode(t)})}function wx(e,t){Nt(t,i=>{Sx(e.springs,i,a=>xx(a,e))})}var x0=({children:e,...t})=>{const i=te.useContext(Zf),a=t.pause||!!i.pause,u=t.immediate||!!i.immediate;t=XE(()=>({pause:a,immediate:u}),[a,u]);const{Provider:d}=Zf;return te.createElement(d,{value:t},e)},Zf=CP(x0,{});x0.Provider=Zf.Provider;x0.Consumer=Zf.Consumer;function CP(e,t){return Object.assign(e,te.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var EP=()=>{const e=[],t=function(a){KE();const u=[];return Nt(e,(d,c)=>{if(Me.und(a))u.push(d.start());else{const h=i(a,d,c);h&&u.push(d.start(h))}}),u};t.current=e,t.add=function(a){e.includes(a)||e.push(a)},t.delete=function(a){const u=e.indexOf(a);~u&&e.splice(u,1)},t.pause=function(){return Nt(e,a=>a.pause(...arguments)),this},t.resume=function(){return Nt(e,a=>a.resume(...arguments)),this},t.set=function(a){Nt(e,(u,d)=>{const c=Me.fun(a)?a(d,u):a;c&&u.set(c)})},t.start=function(a){const u=[];return Nt(e,(d,c)=>{if(Me.und(a))u.push(d.start());else{const h=this._getProps(a,d,c);h&&u.push(d.start(h))}}),u},t.stop=function(){return Nt(e,a=>a.stop(...arguments)),this},t.update=function(a){return Nt(e,(u,d)=>u.update(this._getProps(a,u,d))),this};const i=function(a,u,d){return Me.fun(a)?a(d,u):a};return t._getProps=i,t};function PP(e,t,i){const a=Me.fun(t)&&t;a&&!i&&(i=[]);const u=te.useMemo(()=>a||arguments.length==3?EP():void 0,[]),d=te.useRef(0),c=rx(),h=te.useMemo(()=>({ctrls:[],queue:[],flush(b,R){const C=By(b,R);return d.current>0&&!h.queue.length&&!Object.keys(C).some(L=>!b.springs[L])?vm(b,R):new Promise(L=>{yx(b,C),h.queue.push(()=>{L(vm(b,R))}),c()})}}),[]),m=te.useRef([...h.ctrls]),f=[],y=Ay(e)||0;te.useMemo(()=>{Nt(m.current.slice(e,y),b=>{cP(b,u),b.stop(!0)}),m.current.length=e,g(y,e)},[e]),te.useMemo(()=>{g(0,Math.min(y,e))},i);function g(b,R){for(let C=b;C<R;C++){const I=m.current[C]||(m.current[C]=new _P(null,h.flush)),L=a?a(C,I):t[C];L&&(f[C]=yP(L))}}const x=m.current.map((b,R)=>By(b,f[R])),S=te.useContext(x0),w=Ay(S),P=S!==w&&uP(S);xg(()=>{d.current++,h.ctrls=m.current;const{queue:b}=h;b.length&&(h.queue=[],Nt(b,R=>R())),Nt(m.current,(R,C)=>{u==null||u.add(R),P&&R.start({default:S});const I=f[C];I&&(dP(R,I.ref),R.ref?R.queue.push(I):R.start(I))})}),ix(()=>()=>{Nt(h.ctrls,b=>b.stop(!0))});const k=x.map(b=>({...b}));return u?[k,u]:k}function Tu(e,t){const i=Me.fun(e),[[a],u]=PP(1,i?e:[e],i?[]:t);return i||arguments.length==2?[a,u]:a}var kP=class extends Cg{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=uh(...t);const i=this._get(),a=fm(i);Sg(this,a.create(i))}advance(e){const t=this._get(),i=this.get();Ro(t,i)||(zs(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Gy(this._active)&&Dp(this)}_get(){const e=Me.arr(this.source)?this.source.map(di):ki(di(this.source));return this.calc(...e)}_start(){this.idle&&!Gy(this._active)&&(this.idle=!1,Nt(v0(this),e=>{e.done=!1}),ms.skipAnimation?(ft.batchedUpdates(()=>this.advance()),Dp(this)):f0.start(this))}_attach(){let e=1;Nt(ki(this.source),t=>{$i(t)&&Wu(t,this),gm(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Nt(ki(this.source),e=>{$i(e)&&hh(e,this)}),this._active.clear(),Dp(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ki(this.source).reduce((t,i)=>Math.max(t,(gm(i)?i.priority:0)+1),0))}};function TP(e){return e.idle!==!1}function Gy(e){return!e.size||Array.from(e).every(TP)}function Dp(e){e.idle||(e.idle=!0,Nt(v0(e),t=>{t.done=!0}),dh(e,{type:"idle",parent:e}))}ms.assign({createStringInterpolator:tx,to:(e,t)=>new kP(e,t)});var _x=/^--/;function RP(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!_x.test(e)&&!(Zd.hasOwnProperty(e)&&Zd[e])?t+"px":(""+t).trim()}var $y={};function NP(e,t){if(!e.nodeType||!e.setAttribute)return!1;const i=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:a,style:u,children:d,scrollTop:c,scrollLeft:h,viewBox:m,...f}=t,y=Object.values(f),g=Object.keys(f).map(x=>i||e.hasAttribute(x)?x:$y[x]||($y[x]=x.replace(/([A-Z])/g,S=>"-"+S.toLowerCase())));d!==void 0&&(e.textContent=d);for(const x in u)if(u.hasOwnProperty(x)){const S=RP(x,u[x]);_x.test(x)?e.style.setProperty(x,S):e.style[x]=S}g.forEach((x,S)=>{e.setAttribute(x,y[S])}),a!==void 0&&(e.className=a),c!==void 0&&(e.scrollTop=c),h!==void 0&&(e.scrollLeft=h),m!==void 0&&e.setAttribute("viewBox",m)}var Zd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AP=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),bP=["Webkit","Ms","Moz","O"];Zd=Object.keys(Zd).reduce((e,t)=>(bP.forEach(i=>e[AP(i,t)]=e[t]),e),Zd);var MP=/^(matrix|translate|scale|rotate|skew)/,IP=/^(translate)/,LP=/^(rotate|skew)/,Fp=(e,t)=>Me.num(e)&&e!==0?e+t:e,Uf=(e,t)=>Me.arr(e)?e.every(i=>Uf(i,t)):Me.num(e)?e===t:parseFloat(e)===t,OP=class extends y0{constructor({x:e,y:t,z:i,...a}){const u=[],d=[];(e||t||i)&&(u.push([e||0,t||0,i||0]),d.push(c=>[`translate3d(${c.map(h=>Fp(h,"px")).join(",")})`,Uf(c,0)])),Bs(a,(c,h)=>{if(h==="transform")u.push([c||""]),d.push(m=>[m,m===""]);else if(MP.test(h)){if(delete a[h],Me.und(c))return;const m=IP.test(h)?"px":LP.test(h)?"deg":"";u.push(ki(c)),d.push(h==="rotate3d"?([f,y,g,x])=>[`rotate3d(${f},${y},${g},${Fp(x,m)})`,Uf(x,0)]:f=>[`${h}(${f.map(y=>Fp(y,m)).join(",")})`,Uf(f,h.startsWith("scale")?1:0)])}}),u.length&&(a.transform=new jP(u,d)),super(a)}},jP=class extends Z4{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Nt(this.inputs,(i,a)=>{const u=di(i[0]),[d,c]=this.transforms[a](Me.arr(u)?u:i.map(di));e+=" "+d,t=t&&c}),t?"none":e}observerAdded(e){e==1&&Nt(this.inputs,t=>Nt(t,i=>$i(i)&&Wu(i,this)))}observerRemoved(e){e==0&&Nt(this.inputs,t=>Nt(t,i=>$i(i)&&hh(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),dh(this,e)}},DP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ms.assign({batchedUpdates:s6.unstable_batchedUpdates,createStringInterpolator:tx,colors:kE});var FP=iP(DP,{applyAnimatedValues:NP,createAnimatedStyle:e=>new OP(e),getComponentProps:({scrollTop:e,scrollLeft:t,...i})=>i}),Wy=FP.animated;const zp=6;function Cx({selectedTank:e,spacing:t}){const[i,a]=te.useState({health:!1,damage:!1,speed:!1}),u=Tu({from:{height:"0%"},to:{height:`${Math.min(e.stats.health/zp*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),d=Tu({from:{height:"0%"},to:{height:`${Math.min(e.stats.damage/zp*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),c=Tu({from:{height:"0%"},to:{height:`${Math.min(e.stats.speed/zp*100,100)}%`},config:{mass:1,tension:180,friction:24},delay:100}),h=Tu({from:{transform:"translateY(0px)"},to:{transform:"translateY(-3px)"},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!i.health}),m=Tu({from:{transform:"translateY(0px)"},to:{transform:"translateY(-3px)"},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!i.damage}),f=Tu({from:{transform:"translateY(0px)"},to:{transform:"translateY(-3px)"},config:{duration:1e3,friction:10},loop:{reverse:!0},pause:!i.speed});te.useEffect(()=>{const g=setTimeout(()=>{a({health:!0,damage:!0,speed:!0})},200);return()=>clearTimeout(g)},[]);const y=(g,x,S,w,P)=>A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"relative w-12 h-14 mb-1",children:[A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-md transform rotate-45"})}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},children:A.jsx(Wy.div,{style:{...w,width:"100%",position:"absolute",bottom:0,backgroundColor:e.color,opacity:.7},children:A.jsx(Wy.div,{className:"absolute top-0 left-0 w-full",style:{...P,height:"8px",background:`linear-gradient(to bottom, 
                                        ${e.color} 30%, 
                                        rgba(255,255,255,0.3) 50%, 
                                        rgba(255,255,255,0) 100%)`,boxShadow:`0 0 10px ${e.color}`,borderRadius:"50% 50% 0 0 / 100% 100% 0 0"}})})}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:S})]}),A.jsx("span",{className:"text-xs text-gray-400",children:x}),A.jsx("span",{className:"text-xs font-bold text-white",children:g})]});return A.jsxs("div",{className:`flex justify-around px-8 ${t.tankStats} bg-gray-900 bg-opacity-70`,children:[y(e.stats.health,"HP",A.jsx(W3,{size:14}),u,h),y(e.stats.damage,"DMG",A.jsx(H3,{size:14}),d,m),y(e.stats.speed,"SPD",A.jsx(q3,{size:14}),c,f)]})}Cx.propTypes={selectedTank:me.shape({color:me.string.isRequired,stats:me.shape({health:me.number.isRequired,damage:me.number.isRequired,speed:me.number.isRequired}).isRequired}).isRequired,spacing:me.object.isRequired};function Ex({selectedTank:e,animateIn:t}){const[i,a]=te.useState("profile"),[u,d]=te.useState(!1);te.useEffect(()=>{if(t){const x=setTimeout(()=>{d(!1)},300);return()=>clearTimeout(x)}d(!0)},[e,t]);const c=x=>{a(x)},h={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},m={hidden:{opacity:0,x:-30,filter:"blur(5px)",transition:{duration:.2}},visible:{opacity:1,x:0,filter:"blur(0px)",transition:{type:"spring",stiffness:400,damping:40,staggerChildren:.08}},exit:{opacity:0,x:30,filter:"blur(5px)",transition:{duration:.2,ease:"easeInOut"}}},f={hidden:{opacity:0,y:15,skewX:"-5deg"},visible:{opacity:1,y:0,skewX:"0deg",transition:{type:"spring",stiffness:300,damping:20}}},y={x:[0,-2,3,-1,0],opacity:[1,.8,.9,.7,1],transition:{duration:.4,repeat:0,ease:"easeInOut"}},g={y:[0,300],opacity:[.3,0,.3],transition:{duration:1.5,ease:"linear",repeat:1/0,repeatType:"loop"}};return A.jsxs(nt.div,{className:"bg-black bg-opacity-80 h-full overflow-y-auto relative",variants:h,initial:"hidden",animate:"visible",exit:"exit",children:[A.jsx(nt.div,{className:"absolute inset-0 w-full h-2 bg-gradient-to-b from-transparent via-opacity-30 to-transparent pointer-events-none z-10",style:{backgroundColor:e.color,opacity:.2},animate:g}),A.jsx(nt.div,{className:"border-t border-b border-opacity-50",style:{borderColor:e.color},initial:{scaleX:0},animate:{scaleX:1,transition:{duration:.4,ease:"easeOut"}}}),A.jsx("div",{className:"flex border-b border-gray-800",children:["profile","skills","equipment"].map(x=>A.jsxs(nt.div,{className:`px-4 py-2 text-xs font-medium uppercase cursor-pointer relative ${i===x?"":"text-gray-500"}`,onClick:()=>c(x),whileHover:{color:e.color,transition:{duration:.2}},whileTap:{scale:.95},children:[x.charAt(0).toUpperCase()+x.slice(1),i===x&&A.jsx(nt.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5",style:{backgroundColor:e.color},initial:{width:"0%"},animate:{...y,width:"100%",transition:{duration:.3}}})]},`tab-${x}`))}),A.jsxs("div",{className:"p-4 space-y-4 relative",children:[A.jsxs(nt.div,{className:"absolute top-2 right-2 w-16 h-16 pointer-events-none",initial:{opacity:0,rotate:-20},animate:{opacity:.07,rotate:0,transition:{duration:.6,ease:"easeOut"}},children:[A.jsx("div",{className:"absolute w-full h-0.5",style:{backgroundColor:e.color,transform:"rotate(45deg)",transformOrigin:"center"}}),A.jsx("div",{className:"absolute w-full h-0.5",style:{backgroundColor:e.color,transform:"rotate(-45deg)",transformOrigin:"center"}}),A.jsx("div",{className:"absolute w-0.5 h-full left-1/2 ml-[-1px]",style:{backgroundColor:e.color}}),A.jsx("div",{className:"absolute w-full h-0.5 top-1/2 mt-[-1px]",style:{backgroundColor:e.color}})]}),A.jsxs(Bf,{mode:"wait",children:[i==="profile"&&A.jsxs(nt.div,{variants:m,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[A.jsxs(nt.div,{variants:f,className:"transition-all duration-300",style:{opacity:u?0:1},children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(nt.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.1,duration:.3},children:A.jsx($3,{size:12,className:"mr-2",style:{color:e.color}})}),A.jsx(nt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.15,duration:.3},children:"Description"})]}),A.jsx(nt.div,{className:"relative overflow-hidden border-l-2 pl-2",style:{borderColor:`${e.color}40`},initial:{height:0},animate:{height:"auto"},transition:{duration:.4,ease:"easeOut"},children:A.jsx("p",{className:"text-sm text-gray-300",children:e.description})})]}),A.jsxs(nt.div,{variants:f,className:"transition-all duration-300",style:{opacity:u?0:1},children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(nt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:A.jsx(H3,{size:12,className:"mr-2",style:{color:e.color}})}),A.jsx(nt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.25,duration:.3},children:"Combat Attributes"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs(nt.div,{className:"flex justify-between text-xs",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3},children:[A.jsx("span",{className:"text-gray-500",children:"RANGE"}),A.jsx("span",{className:"text-white",children:e.range})]}),A.jsxs(nt.div,{className:"flex justify-between text-xs mt-2",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.35},children:[A.jsx("span",{className:"text-gray-500",children:"SPECIALTY"}),A.jsx("span",{className:"text-white",children:e.stats.specialty})]})]}),A.jsxs("div",{children:[A.jsx(nt.div,{className:"text-xs text-gray-500 mb-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"ABILITIES"}),A.jsx(nt.ul,{className:"text-xs text-white",children:e.abilities.map((x,S)=>A.jsxs(nt.li,{className:"flex items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+S*.05},children:[A.jsx(nt.span,{className:"inline-block w-1 h-1 mr-1",style:{backgroundColor:e.color},initial:{scale:0},animate:{scale:1},transition:{delay:.4+S*.05}}),x]},`ability-${x}`))})]})]})]})]},"profile-tab"),i==="skills"&&A.jsxs(nt.div,{variants:m,initial:"hidden",animate:"visible",exit:"exit",children:[A.jsxs("div",{className:"flex items-center mb-3",children:[A.jsx(nt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:400},children:A.jsx(q3,{size:12,className:"mr-2",style:{color:e.color}})}),A.jsx(nt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:"Tank Skills"})]}),A.jsx("div",{className:"space-y-4",children:e.skills.map((x,S)=>A.jsxs(nt.div,{className:"border-t border-gray-800 pt-3 first:border-0 first:pt-0",variants:f,custom:S,transition:{delay:S*.1},children:[A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsxs(nt.h4,{className:"text-sm font-medium text-white relative pl-2",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.2+S*.1},children:[A.jsx(nt.span,{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-full",style:{backgroundColor:e.color},initial:{scaleY:0},animate:{scaleY:1},transition:{delay:.2+S*.1,duration:.3}}),x.name]}),A.jsx("div",{className:"flex",children:[...Array(5)].map((w,P)=>A.jsx(nt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.3+S*.1+P*.05}},className:"w-2 h-2 ml-1 rounded-sm",style:{backgroundColor:P<x.level?e.color:"rgba(255,255,255,0.2)"}},P))})]}),A.jsx(nt.p,{className:"text-xs text-gray-400",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.4+S*.1},children:x.description})]},"skill-"+S))})]},"skills-tab"),i==="equipment"&&A.jsxs(nt.div,{variants:m,initial:"hidden",animate:"visible",exit:"exit",children:[A.jsxs("div",{className:"flex items-center mb-3",children:[A.jsx(nt.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},transition:{duration:.3},children:A.jsx(W3,{size:12,className:"mr-2",style:{color:e.color}})}),A.jsx(nt.h3,{className:"text-xs uppercase tracking-wider text-gray-400",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.1},children:"Equipped Items"})]}),A.jsx("div",{className:"space-y-4",children:e.equipment.map((x,S)=>A.jsxs(nt.div,{className:"border-t border-gray-800 pt-3 first:border-0 first:pt-0",variants:f,custom:S,transition:{delay:S*.1},children:[A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsx(nt.h4,{className:"text-sm font-medium text-white relative",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.2+S*.1},children:x.name}),A.jsxs(nt.span,{initial:{opacity:0,x:10,skewX:"-10deg"},animate:{opacity:1,x:0,skewX:"0deg"},transition:{delay:.3+S*.1},className:"text-xs px-2 py-1 rounded relative overflow-hidden",style:{backgroundColor:"rgba(0,0,0,0.4)",border:`1px solid ${e.color}40`,color:e.color},children:[A.jsx(nt.span,{className:"absolute inset-0 w-full h-full opacity-20",style:{backgroundColor:e.color},initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,ease:"easeInOut",delay:.5+S*.2,repeat:1/0,repeatDelay:5}}),x.type]})]}),A.jsx(nt.p,{className:"text-xs text-gray-400",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.4+S*.1},children:x.effect})]},"equipment-"+S))})]},"equipment-tab")]})]}),A.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden opacity-5 z-0",children:[...Array(10)].map((x,S)=>A.jsx(nt.div,{className:"absolute h-px w-full bg-white",style:{top:`${S*10}%`},initial:{scaleX:0,transformOrigin:S%2===0?"0% 0%":"100% 0%"},animate:{scaleX:1,transition:{delay:S*.05,duration:.7,ease:"easeOut"}}},"line-"+S))}),A.jsx(Bf,{children:u&&A.jsx(nt.div,{className:"absolute inset-0 pointer-events-none z-20",style:{backgroundColor:e.color},initial:{opacity:0},animate:{opacity:.15,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.3}}})})]})}Ex.propTypes={selectedTank:me.shape({color:me.string.isRequired,description:me.string.isRequired,range:me.string.isRequired,stats:me.shape({specialty:me.string.isRequired}).isRequired,abilities:me.arrayOf(me.string).isRequired,skills:me.arrayOf(me.shape({name:me.string.isRequired,level:me.number.isRequired,description:me.string.isRequired})).isRequired,equipment:me.arrayOf(me.shape({name:me.string.isRequired,type:me.string.isRequired,effect:me.string.isRequired})).isRequired}).isRequired,animateIn:me.bool.isRequired};function zP(){const e=te.useRef(null),{height:t}=tg(e),{layoutSize:i,spacing:a}=Y3(t),u=Sm(),[d,c]=te.useState(0),[h,m]=te.useState(0),[f,y]=te.useState(!1),[g,x]=te.useState([]),[S,w]=te.useState(!0),[P,k]=te.useState(null);if(te.useEffect(()=>{(async()=>{try{const W=await fetch(`${d0.apiUrl}/tanks`);if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const F=await W.json();console.log(F);const q=Object.entries(F).map(([G,X])=>({codeName:G,...X}));x(q),w(!1)}catch(W){console.error("Failed to fetch tanks data:",W),k(W.message),w(!1),x(tankComponents)}})()},[]),te.useEffect(()=>{const B=setInterval(()=>{m(W=>(W+.5)%360)},50);return()=>clearInterval(B)},[]),te.useEffect(()=>{y(!0)},[]),te.useEffect(()=>{y(!1);const B=setTimeout(()=>{y(!0)},100);return()=>clearTimeout(B)},[d]),S)return A.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white items-center justify-center",children:[A.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-t-blue-500 rounded-full"}),A.jsx("p",{className:"mt-4",children:"Loading tanks data..."})]});if(P)return A.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white items-center justify-center",children:[A.jsxs("p",{className:"text-red-500",children:["Error loading tanks: ",P]}),A.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 rounded",children:"Retry"})]});const b=g[d],R=I4[b.codeName],C=()=>c(B=>(B+1)%g.length),I=()=>c(B=>(B-1+g.length)%g.length),L=()=>{sessionStorage.setItem("tank-type",b.codeName),u("/tanki.io/controller")};return A.jsxs("div",{ref:e,className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden",children:[A.jsx(yE,{}),A.jsx(ng,{themeColor:b.color,title:"TANKI SELECTION",version:"SYSTEM v2.5"}),A.jsxs("div",{className:"flex-grow flex flex-col",children:[A.jsxs("div",{className:`px-4 ${a.header} transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,children:[A.jsxs("div",{className:"flex items-baseline",children:[A.jsx("h2",{className:"text-2xl font-bold",children:b.name}),A.jsx("span",{className:"ml-2 text-xs font-mono text-gray-400",children:b.codeName})]}),A.jsxs("div",{className:"flex items-center mt-1",children:[A.jsx("div",{className:"w-2 h-2 mr-2 rounded-sm",style:{backgroundColor:b.color}}),A.jsx("span",{className:"text-xs font-medium",style:{color:b.color},children:b.classification})]})]}),A.jsx(B4,{selectedTank:b,tankRotation:h,animateIn:f,onNext:C,onPrev:I,TankComponent:R,layoutSize:i,spacing:a}),A.jsx("div",{className:"flex justify-center space-x-2 mb-2",children:g.map((B,W)=>A.jsx("div",{className:`h-1 transition-all duration-300 ${d===W?"w-8 bg-blue-400":"w-4 bg-gray-700"}`,style:d===W?{backgroundColor:B.color}:{}},B.codeName))}),A.jsx(Cx,{selectedTank:b,spacing:a}),A.jsx(Ex,{selectedTank:b,animateIn:f})]}),A.jsx("div",{className:`${a.actionButtons} bg-black bg-opacity-80 border-t border-gray-800`,children:A.jsxs("button",{onClick:L,className:"w-full py-3 flex items-center justify-center transition-all duration-300 transform",style:{backgroundColor:b.color,boxShadow:`0 0 20px ${b.color}80`},children:[A.jsx("span",{className:"font-bold tracking-wider mr-2",children:"DEPLOY"}),A.jsx(G3,{size:16})]})})]})}function VP(){return A.jsx(o5,{children:A.jsx(UP,{})})}function UP(){const[e,t]=te.useState("intro"),[i,a]=te.useState(!1),[u,d]=te.useState(!1),{isFullscreen:c,enterFullscreen:h}=a5();te.useEffect(()=>{c?d(!0):a(!0)},[c]);const m=()=>{h(document.documentElement),a(!1),sessionStorage.setItem("preferFullscreen","true"),d(!0)},f=()=>{localStorage.setItem("fullscreenDismissed","true"),a(!1),d(!0)},y=()=>{t("transitioning"),setTimeout(()=>{t("complete")},500)},g="#3498db";return A.jsxs(A.Fragment,{children:[i&&A.jsx(K3,{onEnable:m,onDismiss:f,themeColor:g}),u&&A.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[A.jsx("div",{className:`absolute inset-0 z-20 transition-opacity duration-1000 ${e!=="intro"?"opacity-0 pointer-events-none":"opacity-100"}`,children:A.jsx(U3,{onLoadComplete:y})}),A.jsx("div",{className:`absolute inset-0 z-10 transition-opacity duration-1000 ${e==="intro"?"opacity-0":"opacity-100"}`,children:A.jsx(e8,{children:A.jsxs(Q6,{children:[A.jsx(zd,{path:"/tanki.io/",element:A.jsx(t4,{animateIn:e!=="intro",themeColor:g})}),A.jsx(zd,{path:"/tanki.io/game",element:A.jsx(mE,{})}),A.jsx(zd,{path:"/tanki.io/controller",element:A.jsx(vE,{})}),A.jsx(zd,{path:"/tanki.io/tank-selection",element:A.jsx(zP,{})})]})})})]})]})}i6.createRoot(document.getElementById("root")).render(A.jsx(nr.StrictMode,{children:A.jsx(VP,{})}));
